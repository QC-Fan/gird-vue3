var dL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var bce=dL((ei,ti)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dy(e,t){const s=new Set(e.split(","));return t?n=>s.has(n.toLowerCase()):n=>s.has(n)}const bs={},ja=[],$t=()=>{},hL=()=>!1,jf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),hy=e=>e.startsWith("onUpdate:"),Bs=Object.assign,py=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},pL=Object.prototype.hasOwnProperty,Ot=(e,t)=>pL.call(e,t),ke=Array.isArray,Ya=e=>Yd(e)==="[object Map]",Yf=e=>Yd(e)==="[object Set]",Gl=e=>Yd(e)==="[object Date]",nt=e=>typeof e=="function",rt=e=>typeof e=="string",Ir=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",jc=e=>(yt(e)||nt(e))&&nt(e.then)&&nt(e.catch),pT=Object.prototype.toString,Yd=e=>pT.call(e),up=e=>Yd(e).slice(8,-1),Yp=e=>Yd(e)==="[object Object]",fy=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mc=dy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qf=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},fL=/-(\w)/g,bi=qf(e=>e.replace(fL,(t,s)=>s?s.toUpperCase():"")),gL=/\B([A-Z])/g,Ur=qf(e=>e.replace(gL,"-$1").toLowerCase()),qd=qf(e=>e.charAt(0).toUpperCase()+e.slice(1)),cp=qf(e=>e?`on${qd(e)}`:""),Fr=(e,t)=>!Object.is(e,t),dp=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},qp=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},gv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mL=e=>{const t=rt(e)?Number(e):NaN;return isNaN(t)?e:t};let vS;const fT=()=>vS||(vS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(ke(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=rt(n)?wL(n):je(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(rt(e)||yt(e))return e}const vL=/;(?![^(]*\))/g,CL=/:([^]+)/,yL=/\/\*[^]*?\*\//g;function wL(e){const t={};return e.replace(yL,"").split(vL).forEach(s=>{if(s){const n=s.split(CL);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function O(e){let t="";if(rt(e))t=e;else if(ke(e))for(let s=0;s<e.length;s++){const n=O(e[s]);n&&(t+=n+" ")}else if(yt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function xo(e){if(!e)return null;let{class:t,style:s}=e;return t&&!rt(t)&&(e.class=O(t)),s&&(e.style=je(s)),e}const bL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SL=dy(bL);function gT(e){return!!e||e===""}function EL(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=ru(e[n],t[n]);return s}function ru(e,t){if(e===t)return!0;let s=Gl(e),n=Gl(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ir(e),n=Ir(t),s||n)return e===t;if(s=ke(e),n=ke(t),s||n)return s&&n?EL(e,t):!1;if(s=yt(e),n=yt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const l=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(l&&!a||!l&&a||!ru(e[r],t[r]))return!1}}return String(e)===String(t)}function mT(e,t){return e.findIndex(s=>ru(s,t))}const Me=e=>rt(e)?e:e==null?"":ke(e)||yt(e)&&(e.toString===pT||!nt(e.toString))?JSON.stringify(e,vT,2):String(e),vT=(e,t)=>t&&t.__v_isRef?vT(e,t.value):Ya(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[gm(n,o)+" =>"]=i,s),{})}:Yf(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>gm(s))}:Ir(t)?gm(t):yt(t)&&!ke(t)&&!Yp(t)?String(t):t,gm=(e,t="")=>{var s;return Ir(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;class CT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Yn;try{return Yn=this,t()}finally{Yn=s}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function RL(e){return new CT(e)}function TL(e,t=Yn){t&&t.active&&t.effects.push(e)}function yT(){return Yn}function wT(e){Yn&&Yn.cleanups.push(e)}let El;class gy{constructor(t,s,n,i){this.fn=t,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,TL(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ia();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(DL(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),oa()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ar,s=El;try{return Ar=!0,El=this,this._runnings++,CS(this),this.fn()}finally{yS(this),this._runnings--,El=s,Ar=t}}stop(){var t;this.active&&(CS(this),yS(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function DL(e){return e.value}function CS(e){e._trackId++,e._depsLength=0}function yS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)bT(e.deps[t],e);e.deps.length=e._depsLength}}function bT(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let Ar=!0,mv=0;const ST=[];function ia(){ST.push(Ar),Ar=!1}function oa(){const e=ST.pop();Ar=e===void 0?!0:e}function my(){mv++}function vy(){for(mv--;!mv&&vv.length;)vv.shift()()}function ET(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&bT(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const vv=[];function RT(e,t,s){my();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&vv.push(n.scheduler)))}vy()}const TT=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Xp=new WeakMap,Rl=Symbol(""),Cv=Symbol("");function Bn(e,t,s){if(Ar&&El){let n=Xp.get(e);n||Xp.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=TT(()=>n.delete(s))),ET(El,i)}}function Go(e,t,s,n,i,o){const r=Xp.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(s==="length"&&ke(e)){const a=Number(n);r.forEach((c,h)=>{(h==="length"||!Ir(h)&&h>=a)&&l.push(c)})}else switch(s!==void 0&&l.push(r.get(s)),t){case"add":ke(e)?fy(s)&&l.push(r.get("length")):(l.push(r.get(Rl)),Ya(e)&&l.push(r.get(Cv)));break;case"delete":ke(e)||(l.push(r.get(Rl)),Ya(e)&&l.push(r.get(Cv)));break;case"set":Ya(e)&&l.push(r.get(Rl));break}my();for(const a of l)a&&RT(a,4);vy()}function AL(e,t){var s;return(s=Xp.get(e))==null?void 0:s.get(t)}const PL=dy("__proto__,__v_isRef,__isVue"),DT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ir)),wS=OL();function OL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=zt(this);for(let o=0,r=this.length;o<r;o++)Bn(n,"get",o+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(zt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){ia(),my();const n=zt(this)[t].apply(this,s);return vy(),oa(),n}}),e}function _L(e){const t=zt(this);return Bn(t,"has",e),t.hasOwnProperty(e)}class AT{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?WL:MT:o?_T:OT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=ke(t);if(!i){if(r&&Ot(wS,s))return Reflect.get(wS,s,n);if(s==="hasOwnProperty")return _L}const l=Reflect.get(t,s,n);return(Ir(s)?DT.has(s):PL(s))||(i||Bn(t,"get",s),o)?l:ns(l)?r&&fy(s)?l:l.value:yt(l)?i?Bu(l):Gt(l):l}}class PT extends AT{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const a=lu(o);if(!Qp(n)&&!lu(n)&&(o=zt(o),n=zt(n)),!ke(t)&&ns(o)&&!ns(n))return a?!1:(o.value=n,!0)}const r=ke(t)&&fy(s)?Number(s)<t.length:Ot(t,s),l=Reflect.set(t,s,n,i);return t===zt(i)&&(r?Fr(n,o)&&Go(t,"set",s,n):Go(t,"add",s,n)),l}deleteProperty(t,s){const n=Ot(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&Go(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Ir(s)||!DT.has(s))&&Bn(t,"has",s),n}ownKeys(t){return Bn(t,"iterate",ke(t)?"length":Rl),Reflect.ownKeys(t)}}class ML extends AT{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const IL=new PT,FL=new ML,LL=new PT(!0),Cy=e=>e,Xf=e=>Reflect.getPrototypeOf(e);function Lh(e,t,s=!1,n=!1){e=e.__v_raw;const i=zt(e),o=zt(t);s||(Fr(t,o)&&Bn(i,"get",t),Bn(i,"get",o));const{has:r}=Xf(i),l=n?Cy:s?by:Yc;if(r.call(i,t))return l(e.get(t));if(r.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function Nh(e,t=!1){const s=this.__v_raw,n=zt(s),i=zt(e);return t||(Fr(e,i)&&Bn(n,"has",e),Bn(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function xh(e,t=!1){return e=e.__v_raw,!t&&Bn(zt(e),"iterate",Rl),Reflect.get(e,"size",e)}function bS(e){e=zt(e);const t=zt(this);return Xf(t).has.call(t,e)||(t.add(e),Go(t,"add",e,e)),this}function SS(e,t){t=zt(t);const s=zt(this),{has:n,get:i}=Xf(s);let o=n.call(s,e);o||(e=zt(e),o=n.call(s,e));const r=i.call(s,e);return s.set(e,t),o?Fr(t,r)&&Go(s,"set",e,t):Go(s,"add",e,t),this}function ES(e){const t=zt(this),{has:s,get:n}=Xf(t);let i=s.call(t,e);i||(e=zt(e),i=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Go(t,"delete",e,void 0),o}function RS(){const e=zt(this),t=e.size!==0,s=e.clear();return t&&Go(e,"clear",void 0,void 0),s}function kh(e,t){return function(n,i){const o=this,r=o.__v_raw,l=zt(r),a=t?Cy:e?by:Yc;return!e&&Bn(l,"iterate",Rl),r.forEach((c,h)=>n.call(i,a(c),a(h),o))}}function Gh(e,t,s){return function(...n){const i=this.__v_raw,o=zt(i),r=Ya(o),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,c=i[e](...n),h=s?Cy:t?by:Yc;return!t&&Bn(o,"iterate",a?Cv:Rl),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:l?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function cr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function NL(){const e={get(o){return Lh(this,o)},get size(){return xh(this)},has:Nh,add:bS,set:SS,delete:ES,clear:RS,forEach:kh(!1,!1)},t={get(o){return Lh(this,o,!1,!0)},get size(){return xh(this)},has:Nh,add:bS,set:SS,delete:ES,clear:RS,forEach:kh(!1,!0)},s={get(o){return Lh(this,o,!0)},get size(){return xh(this,!0)},has(o){return Nh.call(this,o,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:kh(!0,!1)},n={get(o){return Lh(this,o,!0,!0)},get size(){return xh(this,!0)},has(o){return Nh.call(this,o,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:kh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Gh(o,!1,!1),s[o]=Gh(o,!0,!1),t[o]=Gh(o,!1,!0),n[o]=Gh(o,!0,!0)}),[e,s,t,n]}const[xL,kL,GL,VL]=NL();function yy(e,t){const s=t?e?VL:GL:e?kL:xL;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ot(s,i)&&i in n?s:n,i,o)}const HL={get:yy(!1,!1)},BL={get:yy(!1,!0)},$L={get:yy(!0,!1)},OT=new WeakMap,_T=new WeakMap,MT=new WeakMap,WL=new WeakMap;function zL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function UL(e){return e.__v_skip||!Object.isExtensible(e)?0:zL(up(e))}function Gt(e){return lu(e)?e:wy(e,!1,IL,HL,OT)}function IT(e){return wy(e,!1,LL,BL,_T)}function Bu(e){return wy(e,!0,FL,$L,MT)}function wy(e,t,s,n,i){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=UL(e);if(r===0)return e;const l=new Proxy(e,r===2?n:s);return i.set(e,l),l}function qa(e){return lu(e)?qa(e.__v_raw):!!(e&&e.__v_isReactive)}function lu(e){return!!(e&&e.__v_isReadonly)}function Qp(e){return!!(e&&e.__v_isShallow)}function FT(e){return qa(e)||lu(e)}function zt(e){const t=e&&e.__v_raw;return t?zt(t):e}function Tl(e){return Object.isExtensible(e)&&qp(e,"__v_skip",!0),e}const Yc=e=>yt(e)?Gt(e):e,by=e=>yt(e)?Bu(e):e;class LT{constructor(t,s,n,i){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new gy(()=>t(this._value),()=>hp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=zt(this);return(!t._cacheable||t.effect.dirty)&&Fr(t._value,t._value=t.effect.run())&&hp(t,4),xT(t),t.effect._dirtyLevel>=2&&hp(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function NT(e,t,s=!1){let n,i;const o=nt(e);return o?(n=e,i=$t):(n=e.get,i=e.set),new LT(n,i,o||!i,s)}function xT(e){var t;Ar&&El&&(e=zt(e),ET(El,(t=e.dep)!=null?t:e.dep=TT(()=>e.dep=void 0,e instanceof LT?e:void 0)))}function hp(e,t=4,s){e=zt(e);const n=e.dep;n&&RT(n,t)}function ns(e){return!!(e&&e.__v_isRef===!0)}function L(e){return kT(e,!1)}function ts(e){return kT(e,!0)}function kT(e,t){return ns(e)?e:new KL(e,t)}class KL{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:zt(t),this._value=s?t:Yc(t)}get value(){return xT(this),this._value}set value(t){const s=this.__v_isShallow||Qp(t)||lu(t);t=s?t:zt(t),Fr(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Yc(t),hp(this,4))}}function u(e){return ns(e)?e.value:e}const jL={get:(e,t,s)=>u(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ns(i)&&!ns(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function GT(e){return qa(e)?e:new Proxy(e,jL)}function Zs(e){const t=ke(e)?new Array(e.length):{};for(const s in e)t[s]=VT(e,s);return t}class YL{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return AL(zt(this._object),this._key)}}class qL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Yt(e,t,s){return ns(e)?e:nt(e)?new qL(e):yt(e)&&arguments.length>1?VT(e,t,s):L(e)}function VT(e,t,s){const n=e[t];return ns(n)?n:new YL(e,t,s)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pr(e,t,s,n){try{return n?e(...n):e()}catch(i){Qf(i,t,s)}}function mi(e,t,s,n){if(nt(e)){const o=Pr(e,t,s,n);return o&&jc(o)&&o.catch(r=>{Qf(r,t,s)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(mi(e[o],t,s,n));return i}function Qf(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,r,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){Pr(a,null,10,[e,r,l]);return}}XL(e,s,i,n)}function XL(e,t,s,n=!0){console.error(e)}let qc=!1,yv=!1;const rn=[];let io=0;const Xa=[];let Cr=null,cl=0;const HT=Promise.resolve();let Sy=null;function Xe(e){const t=Sy||HT;return e?t.then(this?e.bind(this):e):t}function QL(e){let t=io+1,s=rn.length;for(;t<s;){const n=t+s>>>1,i=rn[n],o=Xc(i);o<e||o===e&&i.pre?t=n+1:s=n}return t}function Ey(e){(!rn.length||!rn.includes(e,qc&&e.allowRecurse?io+1:io))&&(e.id==null?rn.push(e):rn.splice(QL(e.id),0,e),BT())}function BT(){!qc&&!yv&&(yv=!0,Sy=HT.then(WT))}function ZL(e){const t=rn.indexOf(e);t>io&&rn.splice(t,1)}function JL(e){ke(e)?Xa.push(...e):(!Cr||!Cr.includes(e,e.allowRecurse?cl+1:cl))&&Xa.push(e),BT()}function TS(e,t,s=qc?io+1:0){for(;s<rn.length;s++){const n=rn[s];if(n&&n.pre){if(e&&n.id!==e.uid)continue;rn.splice(s,1),s--,n()}}}function $T(e){if(Xa.length){const t=[...new Set(Xa)].sort((s,n)=>Xc(s)-Xc(n));if(Xa.length=0,Cr){Cr.push(...t);return}for(Cr=t,cl=0;cl<Cr.length;cl++)Cr[cl]();Cr=null,cl=0}}const Xc=e=>e.id==null?1/0:e.id,eN=(e,t)=>{const s=Xc(e)-Xc(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function WT(e){yv=!1,qc=!0,rn.sort(eN);try{for(io=0;io<rn.length;io++){const t=rn[io];t&&t.active!==!1&&Pr(t,null,14)}}finally{io=0,rn.length=0,$T(),qc=!1,Sy=null,(rn.length||Xa.length)&&WT()}}function tN(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||bs;let i=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:p}=n[h]||bs;p&&(i=s.map(g=>rt(g)?g.trim():g)),d&&(i=s.map(gv))}let l,a=n[l=cp(t)]||n[l=cp(bi(t))];!a&&o&&(a=n[l=cp(Ur(t))]),a&&mi(a,e,6,i);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,mi(c,e,6,i)}}function zT(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},l=!1;if(!nt(e)){const a=c=>{const h=zT(c,t,!0);h&&(l=!0,Bs(r,h))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(yt(e)&&n.set(e,null),null):(ke(o)?o.forEach(a=>r[a]=null):Bs(r,o),yt(e)&&n.set(e,r),r)}function Zf(e,t){return!e||!jf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ot(e,t[0].toLowerCase()+t.slice(1))||Ot(e,Ur(t))||Ot(e,t))}let Ws=null,UT=null;function Zp(e){const t=Ws;return Ws=e,UT=e&&e.type.__scopeId||null,t}function Z(e,t=Ws,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&VS(-1);const o=Zp(t);let r;try{r=e(...i)}finally{Zp(o),n._d&&VS(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function mm(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:a,emit:c,render:h,renderCache:d,data:p,setupState:g,ctx:m,inheritAttrs:f}=e;let C,v;const y=Zp(e);try{if(s.shapeFlag&4){const b=i||n,T=b;C=no(h.call(T,b,d,o,g,p,m)),v=a}else{const b=t;C=no(b.length>1?b(o,{attrs:a,slots:l,emit:c}):b(o,null)),v=t.props?a:sN(a)}}catch(b){xc.length=0,Qf(b,e,1),C=q(wn)}let w=C;if(v&&f!==!1){const b=Object.keys(v),{shapeFlag:T}=w;b.length&&T&7&&(r&&b.some(hy)&&(v=nN(v,r)),w=$o(w,v))}return s.dirs&&(w=$o(w),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&(w.transition=s.transition),C=w,Zp(y),C}const sN=e=>{let t;for(const s in e)(s==="class"||s==="style"||jf(s))&&((t||(t={}))[s]=e[s]);return t},nN=(e,t)=>{const s={};for(const n in e)(!hy(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function iN(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?DS(n,r,c):!!r;if(a&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(r[p]!==n[p]&&!Zf(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?DS(n,r,c):!0:!!r;return!1}function DS(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Zf(s,o))return!0}return!1}function oN({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ry="components",rN="directives";function pt(e,t){return Ty(Ry,e,!0,t)||e}const KT=Symbol.for("v-ndc");function Ct(e){return rt(e)?Ty(Ry,e,!1)||e:e||KT}function Jf(e){return Ty(rN,e)}function Ty(e,t,s=!0,n=!1){const i=Ws||en;if(i){const o=i.type;if(e===Ry){const l=qN(o,!1);if(l&&(l===t||l===bi(t)||l===qd(bi(t))))return o}const r=AS(i[e]||o[e],t)||AS(i.appContext[e],t);return!r&&n?o:r}}function AS(e,t){return e&&(e[t]||e[bi(t)]||e[qd(bi(t))])}const lN=e=>e.__isSuspense;function aN(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):JL(e)}const uN=Symbol.for("v-scx"),cN=()=>Be(uN);function sn(e,t){return Dy(e,null,t)}const Vh={};function ve(e,t,s){return Dy(e,t,s)}function Dy(e,t,{immediate:s,deep:n,flush:i,once:o,onTrack:r,onTrigger:l}=bs){if(t&&o){const E=t;t=(...P)=>{E(...P),T()}}const a=en,c=E=>n===!0?E:fl(E,n===!1?1:void 0);let h,d=!1,p=!1;if(ns(e)?(h=()=>e.value,d=Qp(e)):qa(e)?(h=()=>c(e),d=!0):ke(e)?(p=!0,d=e.some(E=>qa(E)||Qp(E)),h=()=>e.map(E=>{if(ns(E))return E.value;if(qa(E))return c(E);if(nt(E))return Pr(E,a,2)})):nt(e)?t?h=()=>Pr(e,a,2):h=()=>(g&&g(),mi(e,a,3,[m])):h=$t,t&&n){const E=h;h=()=>fl(E())}let g,m=E=>{g=w.onStop=()=>{Pr(E,a,4),g=w.onStop=void 0}},f;if(ig)if(m=$t,t?s&&mi(t,a,3,[h(),p?[]:void 0,m]):h(),i==="sync"){const E=cN();f=E.__watcherHandles||(E.__watcherHandles=[])}else return $t;let C=p?new Array(e.length).fill(Vh):Vh;const v=()=>{if(!(!w.active||!w.dirty))if(t){const E=w.run();(n||d||(p?E.some((P,A)=>Fr(P,C[A])):Fr(E,C)))&&(g&&g(),mi(t,a,3,[E,C===Vh?void 0:p&&C[0]===Vh?[]:C,m]),C=E)}else w.run()};v.allowRecurse=!!t;let y;i==="sync"?y=v:i==="post"?y=()=>Fn(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),y=()=>Ey(v));const w=new gy(h,$t,y),b=yT(),T=()=>{w.stop(),b&&py(b.effects,w)};return t?s?v():C=w.run():i==="post"?Fn(w.run.bind(w),a&&a.suspense):w.run(),f&&f.push(T),T}function dN(e,t,s){const n=this.proxy,i=rt(e)?e.includes(".")?jT(n,e):()=>n[e]:e.bind(n,n);let o;nt(t)?o=t:(o=t.handler,s=t);const r=Xd(this),l=Dy(i,o.bind(n),s);return r(),l}function jT(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function fl(e,t,s=0,n){if(!yt(e)||e.__v_skip)return e;if(t&&t>0){if(s>=t)return e;s++}if(n=n||new Set,n.has(e))return e;if(n.add(e),ns(e))fl(e.value,t,s,n);else if(ke(e))for(let i=0;i<e.length;i++)fl(e[i],t,s,n);else if(Yf(e)||Ya(e))e.forEach(i=>{fl(i,t,s,n)});else if(Yp(e))for(const i in e)fl(e[i],t,s,n);return e}function lt(e,t){if(Ws===null)return e;const s=og(Ws)||Ws.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,l,a=bs]=t[i];o&&(nt(o)&&(o={mounted:o,updated:o}),o.deep&&fl(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function sl(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[n];a&&(ia(),mi(a,s,8,[e.el,l,e,t]),oa())}}const yr=Symbol("_leaveCb"),Hh=Symbol("_enterCb");function YT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return at(()=>{e.isMounted=!0}),Jt(()=>{e.isUnmounting=!0}),e}const li=[Function,Array],qT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},hN={name:"BaseTransition",props:qT,setup(e,{slots:t}){const s=ct(),n=YT();return()=>{const i=t.default&&Ay(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const p of i)if(p.type!==wn){o=p;break}}const r=zt(e),{mode:l}=r;if(n.isLeaving)return vm(o);const a=PS(o);if(!a)return vm(o);const c=Qc(a,r,n,s);Zc(a,c);const h=s.subTree,d=h&&PS(h);if(d&&d.type!==wn&&!dl(a,d)){const p=Qc(d,r,n,s);if(Zc(d,p),l==="out-in")return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},vm(o);l==="in-out"&&a.type!==wn&&(p.delayLeave=(g,m,f)=>{const C=XT(n,d);C[String(d.key)]=d,g[yr]=()=>{m(),g[yr]=void 0,delete c.delayedLeave},c.delayedLeave=f})}return o}}},pN=hN;function XT(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Qc(e,t,s,n){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:f,onAppear:C,onAfterAppear:v,onAppearCancelled:y}=t,w=String(e.key),b=XT(s,e),T=(A,N)=>{A&&mi(A,n,9,N)},E=(A,N)=>{const x=N[1];T(A,N),ke(A)?A.every(F=>F.length<=1)&&x():A.length<=1&&x()},P={mode:o,persisted:r,beforeEnter(A){let N=l;if(!s.isMounted)if(i)N=f||l;else return;A[yr]&&A[yr](!0);const x=b[w];x&&dl(e,x)&&x.el[yr]&&x.el[yr](),T(N,[A])},enter(A){let N=a,x=c,F=h;if(!s.isMounted)if(i)N=C||a,x=v||c,F=y||h;else return;let G=!1;const K=A[Hh]=z=>{G||(G=!0,z?T(F,[A]):T(x,[A]),P.delayedLeave&&P.delayedLeave(),A[Hh]=void 0)};N?E(N,[A,K]):K()},leave(A,N){const x=String(e.key);if(A[Hh]&&A[Hh](!0),s.isUnmounting)return N();T(d,[A]);let F=!1;const G=A[yr]=K=>{F||(F=!0,N(),K?T(m,[A]):T(g,[A]),A[yr]=void 0,b[x]===e&&delete b[x])};b[x]=e,p?E(p,[A,G]):G()},clone(A){return Qc(A,t,s,n)}};return P}function vm(e){if(eg(e))return e=$o(e),e.children=null,e}function PS(e){return eg(e)?e.children?e.children[0]:void 0:e}function Zc(e,t){e.shapeFlag&6&&e.component?Zc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ay(e,t=!1,s){let n=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const l=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===qe?(r.patchFlag&128&&i++,n=n.concat(Ay(r.children,t,l))):(t||r.type!==wn)&&n.push(l!=null?$o(r,{key:l}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function j(e,t){return nt(e)?Bs({name:e.name},t,{setup:e}):e}const Ic=e=>!!e.type.__asyncLoader,eg=e=>e.type.__isKeepAlive;function fN(e,t){ZT(e,"a",t)}function QT(e,t){ZT(e,"da",t)}function ZT(e,t,s=en){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(tg(t,n,s),s){let i=s.parent;for(;i&&i.parent;)eg(i.parent.vnode)&&gN(n,t,s,i),i=i.parent}}function gN(e,t,s,n){const i=tg(t,e,n,!0);Kr(()=>{py(n[t],i)},s)}function tg(e,t,s=en,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;ia();const l=Xd(s),a=mi(t,s,e,r);return l(),oa(),a});return n?i.unshift(o):i.push(o),o}}const qo=e=>(t,s=en)=>(!ig||e==="sp")&&tg(e,(...n)=>t(...n),s),sg=qo("bm"),at=qo("m"),JT=qo("bu"),Xo=qo("u"),Jt=qo("bum"),Kr=qo("um"),mN=qo("sp"),vN=qo("rtg"),CN=qo("rtc");function yN(e,t=en){tg("ec",e,t)}function Dt(e,t,s,n){let i;const o=s&&s[n];if(ke(e)||rt(e)){i=new Array(e.length);for(let r=0,l=e.length;r<l;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if(yt(e))if(e[Symbol.iterator])i=Array.from(e,(r,l)=>t(r,l,void 0,o&&o[l]));else{const r=Object.keys(e);i=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];i[l]=t(e[c],c,l,o&&o[l])}}else i=[];return s&&(s[n]=i),i}function Bo(e,t){for(let s=0;s<t.length;s++){const n=t[s];if(ke(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const o=n.fn(...i);return o&&(o.key=n.key),o}:n.fn)}return e}function ae(e,t,s={},n,i){if(Ws.isCE||Ws.parent&&Ic(Ws.parent)&&Ws.parent.isCE)return t!=="default"&&(s.name=t),q("slot",s,n&&n());let o=e[t];o&&o._c&&(o._d=!1),D();const r=o&&eD(o(s)),l=re(qe,{key:s.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function eD(e){return e.some(t=>us(t)?!(t.type===wn||t.type===qe&&!eD(t.children)):!0)?e:null}function wN(e,t){const s={};for(const n in e)s[t&&/[A-Z]/.test(n)?`on:${n}`:cp(n)]=e[n];return s}const wv=e=>e?pD(e)?og(e)||e.proxy:wv(e.parent):null,Fc=Bs(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wv(e.parent),$root:e=>wv(e.root),$emit:e=>e.emit,$options:e=>Py(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ey(e.update)}),$nextTick:e=>e.n||(e.n=Xe.bind(e.proxy)),$watch:e=>dN.bind(e)}),Cm=(e,t)=>e!==bs&&!e.__isScriptSetup&&Ot(e,t),bN={get({_:e},t){const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const g=r[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(Cm(n,t))return r[t]=1,n[t];if(i!==bs&&Ot(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&Ot(c,t))return r[t]=3,o[t];if(s!==bs&&Ot(s,t))return r[t]=4,s[t];bv&&(r[t]=0)}}const h=Fc[t];let d,p;if(h)return t==="$attrs"&&Bn(e,"get",t),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(s!==bs&&Ot(s,t))return r[t]=4,s[t];if(p=a.config.globalProperties,Ot(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return Cm(i,t)?(i[t]=s,!0):n!==bs&&Ot(n,t)?(n[t]=s,!0):Ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let l;return!!s[r]||e!==bs&&Ot(e,r)||Cm(t,r)||(l=o[0])&&Ot(l,r)||Ot(n,r)||Ot(Fc,r)||Ot(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ot(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ys(){return tD().slots}function ra(){return tD().attrs}function tD(){const e=ct();return e.setupContext||(e.setupContext=gD(e))}function OS(e){return ke(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let bv=!0;function SN(e){const t=Py(e),s=e.proxy,n=e.ctx;bv=!1,t.beforeCreate&&_S(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:c,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:m,activated:f,deactivated:C,beforeDestroy:v,beforeUnmount:y,destroyed:w,unmounted:b,render:T,renderTracked:E,renderTriggered:P,errorCaptured:A,serverPrefetch:N,expose:x,inheritAttrs:F,components:G,directives:K,filters:z}=t;if(c&&EN(c,n,null),r)for(const I in r){const V=r[I];nt(V)&&(n[I]=V.bind(s))}if(i){const I=i.call(s,s);yt(I)&&(e.data=Gt(I))}if(bv=!0,o)for(const I in o){const V=o[I],_=nt(V)?V.bind(s,s):nt(V.get)?V.get.bind(s,s):$t,B=!nt(V)&&nt(V.set)?V.set.bind(s):$t,Y=R({get:_,set:B});Object.defineProperty(n,I,{enumerable:!0,configurable:!0,get:()=>Y.value,set:Q=>Y.value=Q})}if(l)for(const I in l)sD(l[I],n,s,I);if(a){const I=nt(a)?a.call(s):a;Reflect.ownKeys(I).forEach(V=>{Et(V,I[V])})}h&&_S(h,e,"c");function k(I,V){ke(V)?V.forEach(_=>I(_.bind(s))):V&&I(V.bind(s))}if(k(sg,d),k(at,p),k(JT,g),k(Xo,m),k(fN,f),k(QT,C),k(yN,A),k(CN,E),k(vN,P),k(Jt,y),k(Kr,b),k(mN,N),ke(x))if(x.length){const I=e.exposed||(e.exposed={});x.forEach(V=>{Object.defineProperty(I,V,{get:()=>s[V],set:_=>s[V]=_})})}else e.exposed||(e.exposed={});T&&e.render===$t&&(e.render=T),F!=null&&(e.inheritAttrs=F),G&&(e.components=G),K&&(e.directives=K)}function EN(e,t,s=$t){ke(e)&&(e=Sv(e));for(const n in e){const i=e[n];let o;yt(i)?"default"in i?o=Be(i.from||n,i.default,!0):o=Be(i.from||n):o=Be(i),ns(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function _S(e,t,s){mi(ke(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function sD(e,t,s,n){const i=n.includes(".")?jT(s,n):()=>s[n];if(rt(e)){const o=t[e];nt(o)&&ve(i,o)}else if(nt(e))ve(i,e.bind(s));else if(yt(e))if(ke(e))e.forEach(o=>sD(o,t,s,n));else{const o=nt(e.handler)?e.handler.bind(s):t[e.handler];nt(o)&&ve(i,o,e)}}function Py(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let a;return l?a=l:!i.length&&!s&&!n?a=t:(a={},i.length&&i.forEach(c=>Jp(a,c,r,!0)),Jp(a,t,r)),yt(t)&&o.set(t,a),a}function Jp(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&Jp(e,o,s,!0),i&&i.forEach(r=>Jp(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const l=RN[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const RN={data:MS,props:IS,emits:IS,methods:bc,computed:bc,beforeCreate:Cn,created:Cn,beforeMount:Cn,mounted:Cn,beforeUpdate:Cn,updated:Cn,beforeDestroy:Cn,beforeUnmount:Cn,destroyed:Cn,unmounted:Cn,activated:Cn,deactivated:Cn,errorCaptured:Cn,serverPrefetch:Cn,components:bc,directives:bc,watch:DN,provide:MS,inject:TN};function MS(e,t){return t?e?function(){return Bs(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function TN(e,t){return bc(Sv(e),Sv(t))}function Sv(e){if(ke(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Cn(e,t){return e?[...new Set([].concat(e,t))]:t}function bc(e,t){return e?Bs(Object.create(null),e,t):t}function IS(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Bs(Object.create(null),OS(e),OS(t??{})):t}function DN(e,t){if(!e)return t;if(!t)return e;const s=Bs(Object.create(null),e);for(const n in t)s[n]=Cn(e[n],t[n]);return s}function nD(){return{app:null,config:{isNativeTag:hL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AN=0;function PN(e,t){return function(n,i=null){nt(n)||(n=Bs({},n)),i!=null&&!yt(i)&&(i=null);const o=nD(),r=new WeakSet;let l=!1;const a=o.app={_uid:AN++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:QN,get config(){return o.config},set config(c){},use(c,...h){return r.has(c)||(c&&nt(c.install)?(r.add(c),c.install(a,...h)):nt(c)&&(r.add(c),c(a,...h))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,h){return h?(o.components[c]=h,a):o.components[c]},directive(c,h){return h?(o.directives[c]=h,a):o.directives[c]},mount(c,h,d){if(!l){const p=q(n,i);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,c):e(p,c,d),l=!0,a._container=c,c.__vue_app__=a,og(p.component)||p.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,h){return o.provides[c]=h,a},runWithContext(c){const h=Lc;Lc=a;try{return c()}finally{Lc=h}}};return a}}let Lc=null;function Et(e,t){if(en){let s=en.provides;const n=en.parent&&en.parent.provides;n===s&&(s=en.provides=Object.create(n)),s[e]=t}}function Be(e,t,s=!1){const n=en||Ws;if(n||Lc){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Lc._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&nt(t)?t.call(n&&n.proxy):t}}function ON(e,t,s,n=!1){const i={},o={};qp(o,ng,1),e.propsDefaults=Object.create(null),iD(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:IT(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function _N(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,l=zt(i),[a]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Zf(e.emitsOptions,p))continue;const g=t[p];if(a)if(Ot(o,p))g!==o[p]&&(o[p]=g,c=!0);else{const m=bi(p);i[m]=Ev(a,l,m,g,e,!1)}else g!==o[p]&&(o[p]=g,c=!0)}}}else{iD(e,t,i,o)&&(c=!0);let h;for(const d in l)(!t||!Ot(t,d)&&((h=Ur(d))===d||!Ot(t,h)))&&(a?s&&(s[d]!==void 0||s[h]!==void 0)&&(i[d]=Ev(a,l,d,void 0,e,!0)):delete i[d]);if(o!==l)for(const d in o)(!t||!Ot(t,d))&&(delete o[d],c=!0)}c&&Go(e,"set","$attrs")}function iD(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(Mc(a))continue;const c=t[a];let h;i&&Ot(i,h=bi(a))?!o||!o.includes(h)?s[h]=c:(l||(l={}))[h]=c:Zf(e.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,r=!0)}if(o){const a=zt(s),c=l||bs;for(let h=0;h<o.length;h++){const d=o[h];s[d]=Ev(i,a,d,c[d],e,!Ot(c,d))}}return r}function Ev(e,t,s,n,i,o){const r=e[s];if(r!=null){const l=Ot(r,"default");if(l&&n===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&nt(a)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const h=Xd(i);n=c[s]=a.call(null,t),h()}}else n=a}r[0]&&(o&&!l?n=!1:r[1]&&(n===""||n===Ur(s))&&(n=!0))}return n}function oD(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},l=[];let a=!1;if(!nt(e)){const h=d=>{a=!0;const[p,g]=oD(d,t,!0);Bs(r,p),g&&l.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!a)return yt(e)&&n.set(e,ja),ja;if(ke(o))for(let h=0;h<o.length;h++){const d=bi(o[h]);FS(d)&&(r[d]=bs)}else if(o)for(const h in o){const d=bi(h);if(FS(d)){const p=o[h],g=r[d]=ke(p)||nt(p)?{type:p}:Bs({},p);if(g){const m=xS(Boolean,g.type),f=xS(String,g.type);g[0]=m>-1,g[1]=f<0||m<f,(m>-1||Ot(g,"default"))&&l.push(d)}}}const c=[r,l];return yt(e)&&n.set(e,c),c}function FS(e){return e[0]!=="$"&&!Mc(e)}function LS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function NS(e,t){return LS(e)===LS(t)}function xS(e,t){return ke(t)?t.findIndex(s=>NS(s,e)):nt(t)&&NS(t,e)?0:-1}const rD=e=>e[0]==="_"||e==="$stable",Oy=e=>ke(e)?e.map(no):[no(e)],MN=(e,t,s)=>{if(t._n)return t;const n=Z((...i)=>Oy(t(...i)),s);return n._c=!1,n},lD=(e,t,s)=>{const n=e._ctx;for(const i in e){if(rD(i))continue;const o=e[i];if(nt(o))t[i]=MN(i,o,n);else if(o!=null){const r=Oy(o);t[i]=()=>r}}},aD=(e,t)=>{const s=Oy(t);e.slots.default=()=>s},IN=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=zt(t),qp(t,"_",s)):lD(t,e.slots={})}else e.slots={},t&&aD(e,t);qp(e.slots,ng,1)},FN=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=bs;if(n.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:(Bs(i,t),!s&&l===1&&delete i._):(o=!t.$stable,lD(t,i)),r=t}else t&&(aD(e,t),r={default:1});if(o)for(const l in i)!rD(l)&&r[l]==null&&delete i[l]};function Rv(e,t,s,n,i=!1){if(ke(e)){e.forEach((p,g)=>Rv(p,t&&(ke(t)?t[g]:t),s,n,i));return}if(Ic(n)&&!i)return;const o=n.shapeFlag&4?og(n.component)||n.component.proxy:n.el,r=i?null:o,{i:l,r:a}=e,c=t&&t.r,h=l.refs===bs?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(rt(c)?(h[c]=null,Ot(d,c)&&(d[c]=null)):ns(c)&&(c.value=null)),nt(a))Pr(a,l,12,[r,h]);else{const p=rt(a),g=ns(a);if(p||g){const m=()=>{if(e.f){const f=p?Ot(d,a)?d[a]:h[a]:a.value;i?ke(f)&&py(f,o):ke(f)?f.includes(o)||f.push(o):p?(h[a]=[o],Ot(d,a)&&(d[a]=h[a])):(a.value=[o],e.k&&(h[e.k]=a.value))}else p?(h[a]=r,Ot(d,a)&&(d[a]=r)):g&&(a.value=r,e.k&&(h[e.k]=r))};r?(m.id=-1,Fn(m,s)):m()}}}const Fn=aN;function LN(e){return NN(e)}function NN(e,t){const s=fT();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:h,parentNode:d,nextSibling:p,setScopeId:g=$t,insertStaticContent:m}=e,f=(X,ie,Ce,Re=null,he=null,Se=null,Te=void 0,De=null,ye=!!ie.dynamicChildren)=>{if(X===ie)return;X&&!dl(X,ie)&&(Re=ue(X),Q(X,he,Se,!0),X=null),ie.patchFlag===-2&&(ye=!1,ie.dynamicChildren=null);const{type:Ae,ref:Ve,shapeFlag:Ke}=ie;switch(Ae){case Wu:C(X,ie,Ce,Re);break;case wn:v(X,ie,Ce,Re);break;case wm:X==null&&y(ie,Ce,Re,Te);break;case qe:G(X,ie,Ce,Re,he,Se,Te,De,ye);break;default:Ke&1?T(X,ie,Ce,Re,he,Se,Te,De,ye):Ke&6?K(X,ie,Ce,Re,he,Se,Te,De,ye):(Ke&64||Ke&128)&&Ae.process(X,ie,Ce,Re,he,Se,Te,De,ye,pe)}Ve!=null&&he&&Rv(Ve,X&&X.ref,Se,ie||X,!ie)},C=(X,ie,Ce,Re)=>{if(X==null)n(ie.el=l(ie.children),Ce,Re);else{const he=ie.el=X.el;ie.children!==X.children&&c(he,ie.children)}},v=(X,ie,Ce,Re)=>{X==null?n(ie.el=a(ie.children||""),Ce,Re):ie.el=X.el},y=(X,ie,Ce,Re)=>{[X.el,X.anchor]=m(X.children,ie,Ce,Re,X.el,X.anchor)},w=({el:X,anchor:ie},Ce,Re)=>{let he;for(;X&&X!==ie;)he=p(X),n(X,Ce,Re),X=he;n(ie,Ce,Re)},b=({el:X,anchor:ie})=>{let Ce;for(;X&&X!==ie;)Ce=p(X),i(X),X=Ce;i(ie)},T=(X,ie,Ce,Re,he,Se,Te,De,ye)=>{ie.type==="svg"?Te="svg":ie.type==="math"&&(Te="mathml"),X==null?E(ie,Ce,Re,he,Se,Te,De,ye):N(X,ie,he,Se,Te,De,ye)},E=(X,ie,Ce,Re,he,Se,Te,De)=>{let ye,Ae;const{props:Ve,shapeFlag:Ke,transition:ge,dirs:$e}=X;if(ye=X.el=r(X.type,Se,Ve&&Ve.is,Ve),Ke&8?h(ye,X.children):Ke&16&&A(X.children,ye,null,Re,he,ym(X,Se),Te,De),$e&&sl(X,null,Re,"created"),P(ye,X,X.scopeId,Te,Re),Ve){for(const dt in Ve)dt!=="value"&&!Mc(dt)&&o(ye,dt,null,Ve[dt],Se,X.children,Re,he,te);"value"in Ve&&o(ye,"value",null,Ve.value,Se),(Ae=Ve.onVnodeBeforeMount)&&eo(Ae,Re,X)}$e&&sl(X,null,Re,"beforeMount");const et=xN(he,ge);et&&ge.beforeEnter(ye),n(ye,ie,Ce),((Ae=Ve&&Ve.onVnodeMounted)||et||$e)&&Fn(()=>{Ae&&eo(Ae,Re,X),et&&ge.enter(ye),$e&&sl(X,null,Re,"mounted")},he)},P=(X,ie,Ce,Re,he)=>{if(Ce&&g(X,Ce),Re)for(let Se=0;Se<Re.length;Se++)g(X,Re[Se]);if(he){let Se=he.subTree;if(ie===Se){const Te=he.vnode;P(X,Te,Te.scopeId,Te.slotScopeIds,he.parent)}}},A=(X,ie,Ce,Re,he,Se,Te,De,ye=0)=>{for(let Ae=ye;Ae<X.length;Ae++){const Ve=X[Ae]=De?wr(X[Ae]):no(X[Ae]);f(null,Ve,ie,Ce,Re,he,Se,Te,De)}},N=(X,ie,Ce,Re,he,Se,Te)=>{const De=ie.el=X.el;let{patchFlag:ye,dynamicChildren:Ae,dirs:Ve}=ie;ye|=X.patchFlag&16;const Ke=X.props||bs,ge=ie.props||bs;let $e;if(Ce&&nl(Ce,!1),($e=ge.onVnodeBeforeUpdate)&&eo($e,Ce,ie,X),Ve&&sl(ie,X,Ce,"beforeUpdate"),Ce&&nl(Ce,!0),Ae?x(X.dynamicChildren,Ae,De,Ce,Re,ym(ie,he),Se):Te||V(X,ie,De,null,Ce,Re,ym(ie,he),Se,!1),ye>0){if(ye&16)F(De,ie,Ke,ge,Ce,Re,he);else if(ye&2&&Ke.class!==ge.class&&o(De,"class",null,ge.class,he),ye&4&&o(De,"style",Ke.style,ge.style,he),ye&8){const et=ie.dynamicProps;for(let dt=0;dt<et.length;dt++){const wt=et[dt],Je=Ke[wt],me=ge[wt];(me!==Je||wt==="value")&&o(De,wt,Je,me,he,X.children,Ce,Re,te)}}ye&1&&X.children!==ie.children&&h(De,ie.children)}else!Te&&Ae==null&&F(De,ie,Ke,ge,Ce,Re,he);(($e=ge.onVnodeUpdated)||Ve)&&Fn(()=>{$e&&eo($e,Ce,ie,X),Ve&&sl(ie,X,Ce,"updated")},Re)},x=(X,ie,Ce,Re,he,Se,Te)=>{for(let De=0;De<ie.length;De++){const ye=X[De],Ae=ie[De],Ve=ye.el&&(ye.type===qe||!dl(ye,Ae)||ye.shapeFlag&70)?d(ye.el):Ce;f(ye,Ae,Ve,null,Re,he,Se,Te,!0)}},F=(X,ie,Ce,Re,he,Se,Te)=>{if(Ce!==Re){if(Ce!==bs)for(const De in Ce)!Mc(De)&&!(De in Re)&&o(X,De,Ce[De],null,Te,ie.children,he,Se,te);for(const De in Re){if(Mc(De))continue;const ye=Re[De],Ae=Ce[De];ye!==Ae&&De!=="value"&&o(X,De,Ae,ye,Te,ie.children,he,Se,te)}"value"in Re&&o(X,"value",Ce.value,Re.value,Te)}},G=(X,ie,Ce,Re,he,Se,Te,De,ye)=>{const Ae=ie.el=X?X.el:l(""),Ve=ie.anchor=X?X.anchor:l("");let{patchFlag:Ke,dynamicChildren:ge,slotScopeIds:$e}=ie;$e&&(De=De?De.concat($e):$e),X==null?(n(Ae,Ce,Re),n(Ve,Ce,Re),A(ie.children||[],Ce,Ve,he,Se,Te,De,ye)):Ke>0&&Ke&64&&ge&&X.dynamicChildren?(x(X.dynamicChildren,ge,Ce,he,Se,Te,De),(ie.key!=null||he&&ie===he.subTree)&&_y(X,ie,!0)):V(X,ie,Ce,Ve,he,Se,Te,De,ye)},K=(X,ie,Ce,Re,he,Se,Te,De,ye)=>{ie.slotScopeIds=De,X==null?ie.shapeFlag&512?he.ctx.activate(ie,Ce,Re,Te,ye):z(ie,Ce,Re,he,Se,Te,ye):W(X,ie,ye)},z=(X,ie,Ce,Re,he,Se,Te)=>{const De=X.component=UN(X,Re,he);if(eg(X)&&(De.ctx.renderer=pe),KN(De),De.asyncDep){if(he&&he.registerDep(De,k),!X.el){const ye=De.subTree=q(wn);v(null,ye,ie,Ce)}}else k(De,X,ie,Ce,he,Se,Te)},W=(X,ie,Ce)=>{const Re=ie.component=X.component;if(iN(X,ie,Ce))if(Re.asyncDep&&!Re.asyncResolved){I(Re,ie,Ce);return}else Re.next=ie,ZL(Re.update),Re.effect.dirty=!0,Re.update();else ie.el=X.el,Re.vnode=ie},k=(X,ie,Ce,Re,he,Se,Te)=>{const De=()=>{if(X.isMounted){let{next:Ve,bu:Ke,u:ge,parent:$e,vnode:et}=X;{const Ie=uD(X);if(Ie){Ve&&(Ve.el=et.el,I(X,Ve,Te)),Ie.asyncDep.then(()=>{X.isUnmounted||De()});return}}let dt=Ve,wt;nl(X,!1),Ve?(Ve.el=et.el,I(X,Ve,Te)):Ve=et,Ke&&dp(Ke),(wt=Ve.props&&Ve.props.onVnodeBeforeUpdate)&&eo(wt,$e,Ve,et),nl(X,!0);const Je=mm(X),me=X.subTree;X.subTree=Je,f(me,Je,d(me.el),ue(me),X,he,Se),Ve.el=Je.el,dt===null&&oN(X,Je.el),ge&&Fn(ge,he),(wt=Ve.props&&Ve.props.onVnodeUpdated)&&Fn(()=>eo(wt,$e,Ve,et),he)}else{let Ve;const{el:Ke,props:ge}=ie,{bm:$e,m:et,parent:dt}=X,wt=Ic(ie);if(nl(X,!1),$e&&dp($e),!wt&&(Ve=ge&&ge.onVnodeBeforeMount)&&eo(Ve,dt,ie),nl(X,!0),Ke&&Le){const Je=()=>{X.subTree=mm(X),Le(Ke,X.subTree,X,he,null)};wt?ie.type.__asyncLoader().then(()=>!X.isUnmounted&&Je()):Je()}else{const Je=X.subTree=mm(X);f(null,Je,Ce,Re,X,he,Se),ie.el=Je.el}if(et&&Fn(et,he),!wt&&(Ve=ge&&ge.onVnodeMounted)){const Je=ie;Fn(()=>eo(Ve,dt,Je),he)}(ie.shapeFlag&256||dt&&Ic(dt.vnode)&&dt.vnode.shapeFlag&256)&&X.a&&Fn(X.a,he),X.isMounted=!0,ie=Ce=Re=null}},ye=X.effect=new gy(De,$t,()=>Ey(Ae),X.scope),Ae=X.update=()=>{ye.dirty&&ye.run()};Ae.id=X.uid,nl(X,!0),Ae()},I=(X,ie,Ce)=>{ie.component=X;const Re=X.vnode.props;X.vnode=ie,X.next=null,_N(X,ie.props,Re,Ce),FN(X,ie.children,Ce),ia(),TS(X),oa()},V=(X,ie,Ce,Re,he,Se,Te,De,ye=!1)=>{const Ae=X&&X.children,Ve=X?X.shapeFlag:0,Ke=ie.children,{patchFlag:ge,shapeFlag:$e}=ie;if(ge>0){if(ge&128){B(Ae,Ke,Ce,Re,he,Se,Te,De,ye);return}else if(ge&256){_(Ae,Ke,Ce,Re,he,Se,Te,De,ye);return}}$e&8?(Ve&16&&te(Ae,he,Se),Ke!==Ae&&h(Ce,Ke)):Ve&16?$e&16?B(Ae,Ke,Ce,Re,he,Se,Te,De,ye):te(Ae,he,Se,!0):(Ve&8&&h(Ce,""),$e&16&&A(Ke,Ce,Re,he,Se,Te,De,ye))},_=(X,ie,Ce,Re,he,Se,Te,De,ye)=>{X=X||ja,ie=ie||ja;const Ae=X.length,Ve=ie.length,Ke=Math.min(Ae,Ve);let ge;for(ge=0;ge<Ke;ge++){const $e=ie[ge]=ye?wr(ie[ge]):no(ie[ge]);f(X[ge],$e,Ce,null,he,Se,Te,De,ye)}Ae>Ve?te(X,he,Se,!0,!1,Ke):A(ie,Ce,Re,he,Se,Te,De,ye,Ke)},B=(X,ie,Ce,Re,he,Se,Te,De,ye)=>{let Ae=0;const Ve=ie.length;let Ke=X.length-1,ge=Ve-1;for(;Ae<=Ke&&Ae<=ge;){const $e=X[Ae],et=ie[Ae]=ye?wr(ie[Ae]):no(ie[Ae]);if(dl($e,et))f($e,et,Ce,null,he,Se,Te,De,ye);else break;Ae++}for(;Ae<=Ke&&Ae<=ge;){const $e=X[Ke],et=ie[ge]=ye?wr(ie[ge]):no(ie[ge]);if(dl($e,et))f($e,et,Ce,null,he,Se,Te,De,ye);else break;Ke--,ge--}if(Ae>Ke){if(Ae<=ge){const $e=ge+1,et=$e<Ve?ie[$e].el:Re;for(;Ae<=ge;)f(null,ie[Ae]=ye?wr(ie[Ae]):no(ie[Ae]),Ce,et,he,Se,Te,De,ye),Ae++}}else if(Ae>ge)for(;Ae<=Ke;)Q(X[Ae],he,Se,!0),Ae++;else{const $e=Ae,et=Ae,dt=new Map;for(Ae=et;Ae<=ge;Ae++){const oe=ie[Ae]=ye?wr(ie[Ae]):no(ie[Ae]);oe.key!=null&&dt.set(oe.key,Ae)}let wt,Je=0;const me=ge-et+1;let Ie=!1,ne=0;const de=new Array(me);for(Ae=0;Ae<me;Ae++)de[Ae]=0;for(Ae=$e;Ae<=Ke;Ae++){const oe=X[Ae];if(Je>=me){Q(oe,he,Se,!0);continue}let ze;if(oe.key!=null)ze=dt.get(oe.key);else for(wt=et;wt<=ge;wt++)if(de[wt-et]===0&&dl(oe,ie[wt])){ze=wt;break}ze===void 0?Q(oe,he,Se,!0):(de[ze-et]=Ae+1,ze>=ne?ne=ze:Ie=!0,f(oe,ie[ze],Ce,null,he,Se,Te,De,ye),Je++)}const Pe=Ie?kN(de):ja;for(wt=Pe.length-1,Ae=me-1;Ae>=0;Ae--){const oe=et+Ae,ze=ie[oe],ut=oe+1<Ve?ie[oe+1].el:Re;de[Ae]===0?f(null,ze,Ce,ut,he,Se,Te,De,ye):Ie&&(wt<0||Ae!==Pe[wt]?Y(ze,Ce,ut,2):wt--)}}},Y=(X,ie,Ce,Re,he=null)=>{const{el:Se,type:Te,transition:De,children:ye,shapeFlag:Ae}=X;if(Ae&6){Y(X.component.subTree,ie,Ce,Re);return}if(Ae&128){X.suspense.move(ie,Ce,Re);return}if(Ae&64){Te.move(X,ie,Ce,pe);return}if(Te===qe){n(Se,ie,Ce);for(let Ke=0;Ke<ye.length;Ke++)Y(ye[Ke],ie,Ce,Re);n(X.anchor,ie,Ce);return}if(Te===wm){w(X,ie,Ce);return}if(Re!==2&&Ae&1&&De)if(Re===0)De.beforeEnter(Se),n(Se,ie,Ce),Fn(()=>De.enter(Se),he);else{const{leave:Ke,delayLeave:ge,afterLeave:$e}=De,et=()=>n(Se,ie,Ce),dt=()=>{Ke(Se,()=>{et(),$e&&$e()})};ge?ge(Se,et,dt):dt()}else n(Se,ie,Ce)},Q=(X,ie,Ce,Re=!1,he=!1)=>{const{type:Se,props:Te,ref:De,children:ye,dynamicChildren:Ae,shapeFlag:Ve,patchFlag:Ke,dirs:ge}=X;if(De!=null&&Rv(De,null,Ce,X,!0),Ve&256){ie.ctx.deactivate(X);return}const $e=Ve&1&&ge,et=!Ic(X);let dt;if(et&&(dt=Te&&Te.onVnodeBeforeUnmount)&&eo(dt,ie,X),Ve&6)Ee(X.component,Ce,Re);else{if(Ve&128){X.suspense.unmount(Ce,Re);return}$e&&sl(X,null,ie,"beforeUnmount"),Ve&64?X.type.remove(X,ie,Ce,he,pe,Re):Ae&&(Se!==qe||Ke>0&&Ke&64)?te(Ae,ie,Ce,!1,!0):(Se===qe&&Ke&384||!he&&Ve&16)&&te(ye,ie,Ce),Re&&ee(X)}(et&&(dt=Te&&Te.onVnodeUnmounted)||$e)&&Fn(()=>{dt&&eo(dt,ie,X),$e&&sl(X,null,ie,"unmounted")},Ce)},ee=X=>{const{type:ie,el:Ce,anchor:Re,transition:he}=X;if(ie===qe){ce(Ce,Re);return}if(ie===wm){b(X);return}const Se=()=>{i(Ce),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(X.shapeFlag&1&&he&&!he.persisted){const{leave:Te,delayLeave:De}=he,ye=()=>Te(Ce,Se);De?De(X.el,Se,ye):ye()}else Se()},ce=(X,ie)=>{let Ce;for(;X!==ie;)Ce=p(X),i(X),X=Ce;i(ie)},Ee=(X,ie,Ce)=>{const{bum:Re,scope:he,update:Se,subTree:Te,um:De}=X;Re&&dp(Re),he.stop(),Se&&(Se.active=!1,Q(Te,X,ie,Ce)),De&&Fn(De,ie),Fn(()=>{X.isUnmounted=!0},ie),ie&&ie.pendingBranch&&!ie.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===ie.pendingId&&(ie.deps--,ie.deps===0&&ie.resolve())},te=(X,ie,Ce,Re=!1,he=!1,Se=0)=>{for(let Te=Se;Te<X.length;Te++)Q(X[Te],ie,Ce,Re,he)},ue=X=>X.shapeFlag&6?ue(X.component.subTree):X.shapeFlag&128?X.suspense.next():p(X.anchor||X.el);let le=!1;const Fe=(X,ie,Ce)=>{X==null?ie._vnode&&Q(ie._vnode,null,null,!0):f(ie._vnode||null,X,ie,null,null,null,Ce),le||(le=!0,TS(),$T(),le=!1),ie._vnode=X},pe={p:f,um:Q,m:Y,r:ee,mt:z,mc:A,pc:V,pbc:x,n:ue,o:e};let be,Le;return t&&([be,Le]=t(pe)),{render:Fe,hydrate:be,createApp:PN(Fe,be)}}function ym({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function nl({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function xN(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _y(e,t,s=!1){const n=e.children,i=t.children;if(ke(n)&&ke(i))for(let o=0;o<n.length;o++){const r=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=wr(i[o]),l.el=r.el),s||_y(r,l)),l.type===Wu&&(l.el=r.el)}}function kN(e){const t=e.slice(),s=[0];let n,i,o,r,l;const a=e.length;for(n=0;n<a;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)l=o+r>>1,e[s[l]]<c?o=l+1:r=l;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function uD(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:uD(t)}const GN=e=>e.__isTeleport,Nc=e=>e&&(e.disabled||e.disabled===""),kS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,GS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Tv=(e,t)=>{const s=e&&e.to;return rt(s)?t?t(s):null:s},VN={name:"Teleport",__isTeleport:!0,process(e,t,s,n,i,o,r,l,a,c){const{mc:h,pc:d,pbc:p,o:{insert:g,querySelector:m,createText:f,createComment:C}}=c,v=Nc(t.props);let{shapeFlag:y,children:w,dynamicChildren:b}=t;if(e==null){const T=t.el=f(""),E=t.anchor=f("");g(T,s,n),g(E,s,n);const P=t.target=Tv(t.props,m),A=t.targetAnchor=f("");P&&(g(A,P),r==="svg"||kS(P)?r="svg":(r==="mathml"||GS(P))&&(r="mathml"));const N=(x,F)=>{y&16&&h(w,x,F,i,o,r,l,a)};v?N(s,E):P&&N(P,A)}else{t.el=e.el;const T=t.anchor=e.anchor,E=t.target=e.target,P=t.targetAnchor=e.targetAnchor,A=Nc(e.props),N=A?s:E,x=A?T:P;if(r==="svg"||kS(E)?r="svg":(r==="mathml"||GS(E))&&(r="mathml"),b?(p(e.dynamicChildren,b,N,i,o,r,l),_y(e,t,!0)):a||d(e,t,N,x,i,o,r,l,!1),v)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Bh(t,s,T,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const F=t.target=Tv(t.props,m);F&&Bh(t,F,null,c,0)}else A&&Bh(t,E,P,c,1)}cD(t)},remove(e,t,s,n,{um:i,o:{remove:o}},r){const{shapeFlag:l,children:a,anchor:c,targetAnchor:h,target:d,props:p}=e;if(d&&o(h),r&&o(c),l&16){const g=r||!Nc(p);for(let m=0;m<a.length;m++){const f=a[m];i(f,t,s,g,!!f.dynamicChildren)}}},move:Bh,hydrate:HN};function Bh(e,t,s,{o:{insert:n},m:i},o=2){o===0&&n(e.targetAnchor,t,s);const{el:r,anchor:l,shapeFlag:a,children:c,props:h}=e,d=o===2;if(d&&n(r,t,s),(!d||Nc(h))&&a&16)for(let p=0;p<c.length;p++)i(c[p],t,s,2);d&&n(l,t,s)}function HN(e,t,s,n,i,o,{o:{nextSibling:r,parentNode:l,querySelector:a}},c){const h=t.target=Tv(t.props,a);if(h){const d=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Nc(t.props))t.anchor=c(r(e),t,l(e),s,n,i,o),t.targetAnchor=d;else{t.anchor=r(e);let p=d;for(;p;)if(p=r(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&r(t.targetAnchor);break}c(d,t,h,s,n,i,o)}cD(t)}return t.anchor&&r(t.anchor)}const $u=VN;function cD(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s&&s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const qe=Symbol.for("v-fgt"),Wu=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),wm=Symbol.for("v-stc"),xc=[];let ki=null;function D(e=!1){xc.push(ki=e?null:[])}function BN(){xc.pop(),ki=xc[xc.length-1]||null}let Jc=1;function VS(e){Jc+=e}function dD(e){return e.dynamicChildren=Jc>0?ki||ja:null,BN(),Jc>0&&ki&&ki.push(e),e}function $(e,t,s,n,i,o){return dD(U(e,t,s,n,i,o,!0))}function re(e,t,s,n,i){return dD(q(e,t,s,n,i,!0))}function us(e){return e?e.__v_isVNode===!0:!1}function dl(e,t){return e.type===t.type&&e.key===t.key}const ng="__vInternal",hD=({key:e})=>e??null,pp=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?rt(e)||ns(e)||nt(e)?{i:Ws,r:e,k:t,f:!!s}:e:null);function U(e,t=null,s=null,n=0,i=null,o=e===qe?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hD(t),ref:t&&pp(t),scopeId:UT,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ws};return l?(My(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=rt(s)?8:16),Jc>0&&!r&&ki&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&ki.push(a),a}const q=$N;function $N(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===KT)&&(e=wn),us(e)){const l=$o(e,t,!0);return s&&My(l,s),Jc>0&&!o&&ki&&(l.shapeFlag&6?ki[ki.indexOf(e)]=l:ki.push(l)),l.patchFlag|=-2,l}if(XN(e)&&(e=e.__vccOpts),t){t=au(t);let{class:l,style:a}=t;l&&!rt(l)&&(t.class=O(l)),yt(a)&&(FT(a)&&!ke(a)&&(a=Bs({},a)),t.style=je(a))}const r=rt(e)?1:lN(e)?128:GN(e)?64:yt(e)?4:nt(e)?2:0;return U(e,t,s,n,i,r,o,!0)}function au(e){return e?FT(e)||ng in e?Bs({},e):e:null}function $o(e,t,s=!1){const{props:n,ref:i,patchFlag:o,children:r}=e,l=t?bt(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&hD(l),ref:t&&t.ref?s&&i?ke(i)?i.concat(pp(t)):[i,pp(t)]:pp(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==qe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$o(e.ssContent),ssFallback:e.ssFallback&&$o(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function _t(e=" ",t=0){return q(Wu,null,e,t)}function se(e="",t=!1){return t?(D(),re(wn,null,e)):q(wn,null,e)}function no(e){return e==null||typeof e=="boolean"?q(wn):ke(e)?q(qe,null,e.slice()):typeof e=="object"?wr(e):q(Wu,null,String(e))}function wr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$o(e)}function My(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ke(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),My(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(ng in t)?t._ctx=Ws:i===3&&Ws&&(Ws.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:Ws},s=32):(t=String(t),n&64?(s=16,t=[_t(t)]):s=8);e.children=t,e.shapeFlag|=s}function bt(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=O([t.class,n.class]));else if(i==="style")t.style=je([t.style,n.style]);else if(jf(i)){const o=t[i],r=n[i];r&&o!==r&&!(ke(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function eo(e,t,s,n=null){mi(e,t,7,[s,n])}const WN=nD();let zN=0;function UN(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||WN,o={uid:zN++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new CT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oD(n,i),emitsOptions:zT(n,i),emit:null,emitted:null,propsDefaults:bs,inheritAttrs:n.inheritAttrs,ctx:bs,data:bs,props:bs,attrs:bs,slots:bs,refs:bs,setupState:bs,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=tN.bind(null,o),e.ce&&e.ce(o),o}let en=null;const ct=()=>en||Ws;let ef,Dv;{const e=fT(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};ef=t("__VUE_INSTANCE_SETTERS__",s=>en=s),Dv=t("__VUE_SSR_SETTERS__",s=>ig=s)}const Xd=e=>{const t=en;return ef(e),e.scope.on(),()=>{e.scope.off(),ef(t)}},HS=()=>{en&&en.scope.off(),ef(null)};function pD(e){return e.vnode.shapeFlag&4}let ig=!1;function KN(e,t=!1){t&&Dv(t);const{props:s,children:n}=e.vnode,i=pD(e);ON(e,s,i,t),IN(e,n);const o=i?jN(e,t):void 0;return t&&Dv(!1),o}function jN(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Tl(new Proxy(e.ctx,bN));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?gD(e):null,o=Xd(e);ia();const r=Pr(n,e,0,[e.props,i]);if(oa(),o(),jc(r)){if(r.then(HS,HS),t)return r.then(l=>{BS(e,l,t)}).catch(l=>{Qf(l,e,0)});e.asyncDep=r}else BS(e,r,t)}else fD(e,t)}function BS(e,t,s){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=GT(t)),fD(e,s)}let $S;function fD(e,t,s){const n=e.type;if(!e.render){if(!t&&$S&&!n.render){const i=n.template||Py(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:a}=n,c=Bs(Bs({isCustomElement:o,delimiters:l},r),a);n.render=$S(i,c)}}e.render=n.render||$t}{const i=Xd(e);ia();try{SN(e)}finally{oa(),i()}}}function YN(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Bn(e,"get","$attrs"),t[s]}}))}function gD(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return YN(e)},slots:e.slots,emit:e.emit,expose:t}}function og(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(GT(Tl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Fc)return Fc[s](e)},has(t,s){return s in t||s in Fc}}))}function qN(e,t=!0){return nt(e)?e.displayName||e.name:e.name||t&&e.__name}function XN(e){return nt(e)&&"__vccOpts"in e}const R=(e,t)=>NT(e,t,ig);function Qe(e,t,s){const n=arguments.length;return n===2?yt(t)&&!ke(t)?us(t)?q(e,null,[t]):q(e,t):q(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&us(s)&&(s=[s]),q(e,t,s))}const QN="3.4.21",ZN=$t;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const JN="http://www.w3.org/2000/svg",ex="http://www.w3.org/1998/Math/MathML",br=typeof document<"u"?document:null,WS=br&&br.createElement("template"),tx={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?br.createElementNS(JN,e):t==="mathml"?br.createElementNS(ex,e):br.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>br.createTextNode(e),createComment:e=>br.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>br.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{WS.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const l=WS.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},dr="transition",hc="animation",uu=Symbol("_vtc"),Ls=(e,{slots:t})=>Qe(pN,vD(e),t);Ls.displayName="Transition";const mD={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sx=Ls.props=Bs({},qT,mD),il=(e,t=[])=>{ke(e)?e.forEach(s=>s(...t)):e&&e(...t)},zS=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function vD(e){const t={};for(const G in e)G in mD||(t[G]=e[G]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:h=l,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=e,m=nx(i),f=m&&m[0],C=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:w,onLeave:b,onLeaveCancelled:T,onBeforeAppear:E=v,onAppear:P=y,onAppearCancelled:A=w}=t,N=(G,K,z)=>{fr(G,K?h:l),fr(G,K?c:r),z&&z()},x=(G,K)=>{G._isLeaving=!1,fr(G,d),fr(G,g),fr(G,p),K&&K()},F=G=>(K,z)=>{const W=G?P:y,k=()=>N(K,G,z);il(W,[K,k]),US(()=>{fr(K,G?a:o),Fo(K,G?h:l),zS(W)||KS(K,n,f,k)})};return Bs(t,{onBeforeEnter(G){il(v,[G]),Fo(G,o),Fo(G,r)},onBeforeAppear(G){il(E,[G]),Fo(G,a),Fo(G,c)},onEnter:F(!1),onAppear:F(!0),onLeave(G,K){G._isLeaving=!0;const z=()=>x(G,K);Fo(G,d),yD(),Fo(G,p),US(()=>{G._isLeaving&&(fr(G,d),Fo(G,g),zS(b)||KS(G,n,C,z))}),il(b,[G,z])},onEnterCancelled(G){N(G,!1),il(w,[G])},onAppearCancelled(G){N(G,!0),il(A,[G])},onLeaveCancelled(G){x(G),il(T,[G])}})}function nx(e){if(e==null)return null;if(yt(e))return[bm(e.enter),bm(e.leave)];{const t=bm(e);return[t,t]}}function bm(e){return mL(e)}function Fo(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[uu]||(e[uu]=new Set)).add(t)}function fr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[uu];s&&(s.delete(t),s.size||(e[uu]=void 0))}function US(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ix=0;function KS(e,t,s,n){const i=e._endId=++ix,o=()=>{i===e._endId&&n()};if(s)return setTimeout(o,s);const{type:r,timeout:l,propCount:a}=CD(e,t);if(!r)return n();const c=r+"end";let h=0;const d=()=>{e.removeEventListener(c,p),o()},p=g=>{g.target===e&&++h>=a&&d()};setTimeout(()=>{h<a&&d()},l+1),e.addEventListener(c,p)}function CD(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),i=n(`${dr}Delay`),o=n(`${dr}Duration`),r=jS(i,o),l=n(`${hc}Delay`),a=n(`${hc}Duration`),c=jS(l,a);let h=null,d=0,p=0;t===dr?r>0&&(h=dr,d=r,p=o.length):t===hc?c>0&&(h=hc,d=c,p=a.length):(d=Math.max(r,c),h=d>0?r>c?dr:hc:null,p=h?h===dr?o.length:a.length:0);const g=h===dr&&/\b(transform|all)(,|$)/.test(n(`${dr}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:g}}function jS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>YS(s)+YS(e[n])))}function YS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function yD(){return document.body.offsetHeight}function ox(e,t,s){const n=e[uu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const tf=Symbol("_vod"),wD=Symbol("_vsh"),Lt={beforeMount(e,{value:t},{transition:s}){e[tf]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):pc(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),pc(e,!0),n.enter(e)):n.leave(e,()=>{pc(e,!1)}):pc(e,t))},beforeUnmount(e,{value:t}){pc(e,t)}};function pc(e,t){e.style.display=t?e[tf]:"none",e[wD]=!t}const rx=Symbol(""),lx=/(^|;)\s*display\s*:/;function ax(e,t,s){const n=e.style,i=rt(s);let o=!1;if(s&&!i){if(t)if(rt(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&fp(n,l,"")}else for(const r in t)s[r]==null&&fp(n,r,"");for(const r in s)r==="display"&&(o=!0),fp(n,r,s[r])}else if(i){if(t!==s){const r=n[rx];r&&(s+=";"+r),n.cssText=s,o=lx.test(s)}}else t&&e.removeAttribute("style");tf in e&&(e[tf]=o?n.display:"",e[wD]&&(n.display="none"))}const qS=/\s*!important$/;function fp(e,t,s){if(ke(s))s.forEach(n=>fp(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ux(e,t);qS.test(s)?e.setProperty(Ur(n),s.replace(qS,""),"important"):e[n]=s}}const XS=["Webkit","Moz","ms"],Sm={};function ux(e,t){const s=Sm[t];if(s)return s;let n=bi(t);if(n!=="filter"&&n in e)return Sm[t]=n;n=qd(n);for(let i=0;i<XS.length;i++){const o=XS[i]+n;if(o in e)return Sm[t]=o}return t}const QS="http://www.w3.org/1999/xlink";function cx(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(QS,t.slice(6,t.length)):e.setAttributeNS(QS,t,s);else{const o=SL(t);s==null||o&&!gT(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function dx(e,t,s,n,i,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,i,o),e[t]=s??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?e.getAttribute("value")||"":e.value,h=s??"";(c!==h||!("_value"in e))&&(e.value=h),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=gT(s):s==null&&c==="string"?(s="",a=!0):c==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(t)}function Sr(e,t,s,n){e.addEventListener(t,s,n)}function hx(e,t,s,n){e.removeEventListener(t,s,n)}const ZS=Symbol("_vei");function px(e,t,s,n,i=null){const o=e[ZS]||(e[ZS]={}),r=o[t];if(n&&r)r.value=n;else{const[l,a]=fx(t);if(n){const c=o[t]=vx(n,i);Sr(e,l,c,a)}else r&&(hx(e,l,r,a),o[t]=void 0)}}const JS=/(?:Once|Passive|Capture)$/;function fx(e){let t;if(JS.test(e)){t={};let n;for(;n=e.match(JS);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ur(e.slice(2)),t]}let Em=0;const gx=Promise.resolve(),mx=()=>Em||(gx.then(()=>Em=0),Em=Date.now());function vx(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;mi(Cx(n,s.value),t,5,[n])};return s.value=e,s.attached=mx(),s}function Cx(e,t){if(ke(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const eE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yx=(e,t,s,n,i,o,r,l,a)=>{const c=i==="svg";t==="class"?ox(e,n,c):t==="style"?ax(e,s,n):jf(t)?hy(t)||px(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wx(e,t,n,c))?dx(e,t,n,o,r,l,a):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),cx(e,t,n,c))};function wx(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&eE(t)&&nt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eE(t)&&rt(s)?!1:t in e}const bD=new WeakMap,SD=new WeakMap,sf=Symbol("_moveCb"),tE=Symbol("_enterCb"),ED={name:"TransitionGroup",props:Bs({},sx,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=ct(),n=YT();let i,o;return Xo(()=>{if(!i.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Tx(i[0].el,s.vnode.el,r))return;i.forEach(Sx),i.forEach(Ex);const l=i.filter(Rx);yD(),l.forEach(a=>{const c=a.el,h=c.style;Fo(c,r),h.transform=h.webkitTransform=h.transitionDuration="";const d=c[sf]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[sf]=null,fr(c,r))};c.addEventListener("transitionend",d)})}),()=>{const r=zt(e),l=vD(r);let a=r.tag||qe;i=o,o=t.default?Ay(t.default()):[];for(let c=0;c<o.length;c++){const h=o[c];h.key!=null&&Zc(h,Qc(h,l,n,s))}if(i)for(let c=0;c<i.length;c++){const h=i[c];Zc(h,Qc(h,l,n,s)),bD.set(h,h.el.getBoundingClientRect())}return q(a,null,o)}}},bx=e=>delete e.mode;ED.props;const RD=ED;function Sx(e){const t=e.el;t[sf]&&t[sf](),t[tE]&&t[tE]()}function Ex(e){SD.set(e,e.el.getBoundingClientRect())}function Rx(e){const t=bD.get(e),s=SD.get(e),n=t.left-s.left,i=t.top-s.top;if(n||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",e}}function Tx(e,t,s){const n=e.cloneNode(),i=e[uu];i&&i.forEach(l=>{l.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),s.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:r}=CD(n);return o.removeChild(n),r}const cu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?s=>dp(t,s):t};function Dx(e){e.target.composing=!0}function sE(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vo=Symbol("_assign"),Iy={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[Vo]=cu(i);const o=n||i.props&&i.props.type==="number";Sr(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=gv(l)),e[Vo](l)}),s&&Sr(e,"change",()=>{e.value=e.value.trim()}),t||(Sr(e,"compositionstart",Dx),Sr(e,"compositionend",sE),Sr(e,"change",sE))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:i}},o){if(e[Vo]=cu(o),e.composing)return;const r=i||e.type==="number"?gv(e.value):e.value,l=t??"";r!==l&&(document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===l)||(e.value=l))}},nf={deep:!0,created(e,t,s){e[Vo]=cu(s),Sr(e,"change",()=>{const n=e._modelValue,i=DD(e),o=e.checked,r=e[Vo];if(ke(n)){const l=mT(n,i),a=l!==-1;if(o&&!a)r(n.concat(i));else if(!o&&a){const c=[...n];c.splice(l,1),r(c)}}else if(Yf(n)){const l=new Set(n);o?l.add(i):l.delete(i),r(l)}else r(AD(e,o))})},mounted:nE,beforeUpdate(e,t,s){e[Vo]=cu(s),nE(e,t,s)}};function nE(e,{value:t,oldValue:s},n){e._modelValue=t,ke(t)?e.checked=mT(t,n.props.value)>-1:Yf(t)?e.checked=t.has(n.props.value):t!==s&&(e.checked=ru(t,AD(e,!0)))}const TD={created(e,{value:t},s){e.checked=ru(t,s.props.value),e[Vo]=cu(s),Sr(e,"change",()=>{e[Vo](DD(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Vo]=cu(n),t!==s&&(e.checked=ru(t,n.props.value))}};function DD(e){return"_value"in e?e._value:e.value}function AD(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ax=["ctrl","shift","alt","meta"],Px={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ax.some(s=>e[`${s}Key`]&&!t.includes(s))},st=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<t.length;r++){const l=Px[t[r]];if(l&&l(i,t))return}return e(i,...o)})},Ox={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ut=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=i=>{if(!("key"in i))return;const o=Ur(i.key);if(t.some(r=>r===o||Ox[r]===o))return e(i)})},_x=Bs({patchProp:yx},tx);let iE;function PD(){return iE||(iE=LN(_x))}const po=(...e)=>{PD().render(...e)},OD=(...e)=>{const t=PD().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Ix(n);if(!i)return;const o=t._component;!nt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,Mx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Mx(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ix(e){return rt(e)?document.querySelector(e):e}const Fx='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Lx=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,oE=e=>Array.from(e.querySelectorAll(Fx)).filter(t=>Nx(t)&&Lx(t)),Nx=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},gp=function(e,t,...s){let n;t.includes("mouse")||t.includes("click")?n="MouseEvents":t.includes("key")?n="KeyboardEvent":n="HTMLEvents";const i=document.createEvent(n);return i.initEvent(t,...s),e.dispatchEvent(i),e},_D=e=>!e.getAttribute("aria-owns"),MD=(e,t,s)=>{const{parentNode:n}=e;if(!n)return null;const i=n.querySelectorAll(s),o=Array.prototype.indexOf.call(i,e);return i[o+t]||null},mp=e=>{e&&(e.focus(),!_D(e)&&e.click())},ms=(e,t,{checkForDefaultPrevented:s=!0}={})=>i=>{const o=e==null?void 0:e(i);if(s===!1||!o)return t==null?void 0:t(i)},rE=e=>t=>t.pointerType==="mouse"?e(t):void 0;var xx=Object.defineProperty,kx=Object.defineProperties,Gx=Object.getOwnPropertyDescriptors,lE=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,aE=(e,t,s)=>t in e?xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Bx=(e,t)=>{for(var s in t||(t={}))Vx.call(t,s)&&aE(e,s,t[s]);if(lE)for(var s of lE(t))Hx.call(t,s)&&aE(e,s,t[s]);return e},$x=(e,t)=>kx(e,Gx(t));function uE(e,t){var s;const n=ts();return sn(()=>{n.value=e()},$x(Bx({},t),{flush:(s=t==null?void 0:t.flush)!=null?s:"sync"})),Bu(n)}var cE;const At=typeof window<"u",Wx=e=>typeof e<"u",zx=e=>typeof e=="function",Ux=e=>typeof e=="string",du=()=>{},Kx=At&&((cE=window==null?void 0:window.navigator)==null?void 0:cE.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Lr(e){return typeof e=="function"?e():u(e)}function ID(e,t){function s(...n){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(o)})}return s}function jx(e,t={}){let s,n,i=du;const o=l=>{clearTimeout(l),i(),i=du};return l=>{const a=Lr(e),c=Lr(t.maxWait);return s&&o(s),a<=0||c!==void 0&&c<=0?(n&&(o(n),n=null),Promise.resolve(l())):new Promise((h,d)=>{i=t.rejectOnCancel?d:h,c&&!n&&(n=setTimeout(()=>{s&&o(s),n=null,h(l())},c)),s=setTimeout(()=>{n&&o(n),n=null,h(l())},a)})}}function Yx(e,t=!0,s=!0,n=!1){let i=0,o,r=!0,l=du,a;const c=()=>{o&&(clearTimeout(o),o=void 0,l(),l=du)};return d=>{const p=Lr(e),g=Date.now()-i,m=()=>a=d();return c(),p<=0?(i=Date.now(),m()):(g>p&&(s||!r)?(i=Date.now(),m()):t&&(a=new Promise((f,C)=>{l=n?C:f,o=setTimeout(()=>{i=Date.now(),r=!0,f(m()),c()},Math.max(0,p-g))})),!s&&!o&&(o=setTimeout(()=>r=!0,p)),r=!1,a)}}function qx(e){return e}function Qd(e){return yT()?(wT(e),!0):!1}function Xx(e,t=200,s={}){return ID(jx(t,s),e)}function Qx(e,t=200,s={}){const n=L(e.value),i=Xx(()=>{n.value=e.value},t,s);return ve(e,()=>i()),n}function FD(e,t=200,s=!1,n=!0,i=!1){return ID(Yx(t,s,n,i),e)}function Fy(e,t=!0){ct()?at(e):t?e():Xe(e)}function Vl(e,t,s={}){const{immediate:n=!0}=s,i=L(!1);let o=null;function r(){o&&(clearTimeout(o),o=null)}function l(){i.value=!1,r()}function a(...c){r(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...c)},Lr(t))}return n&&(i.value=!0,At&&a()),Qd(l),{isPending:Bu(i),start:a,stop:l}}function Nn(e){var t;const s=Lr(e);return(t=s==null?void 0:s.$el)!=null?t:s}const la=At?window:void 0,Zx=At?window.document:void 0;function ls(...e){let t,s,n,i;if(Ux(e[0])||Array.isArray(e[0])?([s,n,i]=e,t=la):[t,s,n,i]=e,!t)return du;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const o=[],r=()=>{o.forEach(h=>h()),o.length=0},l=(h,d,p,g)=>(h.addEventListener(d,p,g),()=>h.removeEventListener(d,p,g)),a=ve(()=>[Nn(t),Lr(i)],([h,d])=>{r(),h&&o.push(...s.flatMap(p=>n.map(g=>l(h,p,g,d))))},{immediate:!0,flush:"post"}),c=()=>{a(),r()};return Qd(c),c}let dE=!1;function Ly(e,t,s={}){const{window:n=la,ignore:i=[],capture:o=!0,detectIframe:r=!1}=s;if(!n)return;Kx&&!dE&&(dE=!0,Array.from(n.document.body.children).forEach(p=>p.addEventListener("click",du)));let l=!0;const a=p=>i.some(g=>{if(typeof g=="string")return Array.from(n.document.querySelectorAll(g)).some(m=>m===p.target||p.composedPath().includes(m));{const m=Nn(g);return m&&(p.target===m||p.composedPath().includes(m))}}),h=[ls(n,"click",p=>{const g=Nn(e);if(!(!g||g===p.target||p.composedPath().includes(g))){if(p.detail===0&&(l=!a(p)),!l){l=!0;return}t(p)}},{passive:!0,capture:o}),ls(n,"pointerdown",p=>{const g=Nn(e);g&&(l=!p.composedPath().includes(g)&&!a(p))},{passive:!0}),r&&ls(n,"blur",p=>{var g;const m=Nn(e);((g=n.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&t(p)})].filter(Boolean);return()=>h.forEach(p=>p())}function LD(e,t=!1){const s=L(),n=()=>s.value=!!e();return n(),Fy(n,t),s}function Jx(e){return JSON.parse(JSON.stringify(e))}const hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pE="__vueuse_ssr_handlers__";hE[pE]=hE[pE]||{};function ek(e,t,{window:s=la,initialValue:n=""}={}){const i=L(n),o=R(()=>{var r;return Nn(t)||((r=s==null?void 0:s.document)==null?void 0:r.documentElement)});return ve([o,()=>Lr(e)],([r,l])=>{var a;if(r&&s){const c=(a=s.getComputedStyle(r).getPropertyValue(l))==null?void 0:a.trim();i.value=c||n}},{immediate:!0}),ve(i,r=>{var l;(l=o.value)!=null&&l.style&&o.value.style.setProperty(Lr(e),r)}),i}function tk({document:e=Zx}={}){if(!e)return L("visible");const t=L(e.visibilityState);return ls(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var fE=Object.getOwnPropertySymbols,sk=Object.prototype.hasOwnProperty,nk=Object.prototype.propertyIsEnumerable,ik=(e,t)=>{var s={};for(var n in e)sk.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&fE)for(var n of fE(e))t.indexOf(n)<0&&nk.call(e,n)&&(s[n]=e[n]);return s};function fs(e,t,s={}){const n=s,{window:i=la}=n,o=ik(n,["window"]);let r;const l=LD(()=>i&&"ResizeObserver"in i),a=()=>{r&&(r.disconnect(),r=void 0)},c=ve(()=>Nn(e),d=>{a(),l.value&&i&&d&&(r=new ResizeObserver(t),r.observe(d,o))},{immediate:!0,flush:"post"}),h=()=>{a(),c()};return Qd(h),{isSupported:l,stop:h}}function gE(e,t={}){const{reset:s=!0,windowResize:n=!0,windowScroll:i=!0,immediate:o=!0}=t,r=L(0),l=L(0),a=L(0),c=L(0),h=L(0),d=L(0),p=L(0),g=L(0);function m(){const f=Nn(e);if(!f){s&&(r.value=0,l.value=0,a.value=0,c.value=0,h.value=0,d.value=0,p.value=0,g.value=0);return}const C=f.getBoundingClientRect();r.value=C.height,l.value=C.bottom,a.value=C.left,c.value=C.right,h.value=C.top,d.value=C.width,p.value=C.x,g.value=C.y}return fs(e,m),ve(()=>Nn(e),f=>!f&&m()),i&&ls("scroll",m,{capture:!0,passive:!0}),n&&ls("resize",m,{passive:!0}),Fy(()=>{o&&m()}),{height:r,bottom:l,left:a,right:c,top:h,width:d,x:p,y:g,update:m}}var mE=Object.getOwnPropertySymbols,ok=Object.prototype.hasOwnProperty,rk=Object.prototype.propertyIsEnumerable,lk=(e,t)=>{var s={};for(var n in e)ok.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&mE)for(var n of mE(e))t.indexOf(n)<0&&rk.call(e,n)&&(s[n]=e[n]);return s};function ND(e,t,s={}){const n=s,{window:i=la}=n,o=lk(n,["window"]);let r;const l=LD(()=>i&&"MutationObserver"in i),a=()=>{r&&(r.disconnect(),r=void 0)},c=ve(()=>Nn(e),d=>{a(),l.value&&i&&d&&(r=new MutationObserver(t),r.observe(d,o))},{immediate:!0}),h=()=>{a(),c()};return Qd(h),{isSupported:l,stop:h}}var vE;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(vE||(vE={}));var ak=Object.defineProperty,CE=Object.getOwnPropertySymbols,uk=Object.prototype.hasOwnProperty,ck=Object.prototype.propertyIsEnumerable,yE=(e,t,s)=>t in e?ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,dk=(e,t)=>{for(var s in t||(t={}))uk.call(t,s)&&yE(e,s,t[s]);if(CE)for(var s of CE(t))ck.call(t,s)&&yE(e,s,t[s]);return e};const hk={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};dk({linear:qx},hk);function xD(e,t,s,n={}){var i,o,r;const{clone:l=!1,passive:a=!1,eventName:c,deep:h=!1,defaultValue:d}=n,p=ct(),g=s||(p==null?void 0:p.emit)||((i=p==null?void 0:p.$emit)==null?void 0:i.bind(p))||((r=(o=p==null?void 0:p.proxy)==null?void 0:o.$emit)==null?void 0:r.bind(p==null?void 0:p.proxy));let m=c;t||(t="modelValue"),m=c||m||`update:${t.toString()}`;const f=v=>l?zx(l)?l(v):Jx(v):v,C=()=>Wx(e[t])?f(e[t]):d;if(a){const v=C(),y=L(v);return ve(()=>e[t],w=>y.value=f(w)),ve(y,w=>{(w!==e[t]||h)&&g(m,w)},{deep:h}),y}else return R({get(){return C()},set(v){g(m,v)}})}function pk({window:e=la}={}){if(!e)return L(!1);const t=L(e.document.hasFocus());return ls(e,"blur",()=>{t.value=!1}),ls(e,"focus",()=>{t.value=!0}),t}function fk(e={}){const{window:t=la,initialWidth:s=1/0,initialHeight:n=1/0,listenOrientation:i=!0,includeScrollbar:o=!0}=e,r=L(s),l=L(n),a=()=>{t&&(o?(r.value=t.innerWidth,l.value=t.innerHeight):(r.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};return a(),Fy(a),ls("resize",a,{passive:!0}),i&&ls("orientationchange",a,{passive:!0}),{width:r,height:l}}const kD=()=>At&&/firefox/i.test(window.navigator.userAgent),gk=(e,t)=>{if(!At||!e||!t)return!1;const s=e.getBoundingClientRect();let n;return t instanceof Element?n=t.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},s.top<n.bottom&&s.bottom>n.top&&s.right>n.left&&s.left<n.right},wE=e=>{let t=0,s=e;for(;s;)t+=s.offsetTop,s=s.offsetParent;return t},Av=(e,t)=>Math.abs(wE(e)-wE(t)),Ny=e=>{let t,s;return e.type==="touchend"?(s=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(s=e.touches[0].clientY,t=e.touches[0].clientX):(s=e.clientY,t=e.clientX),{clientX:t,clientY:s}};function mk(e,t,s,n){const i=s-t;return e/=n/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}var GD=typeof global=="object"&&global&&global.Object===Object&&global,vk=typeof self=="object"&&self&&self.Object===Object&&self,qi=GD||vk||Function("return this")(),Si=qi.Symbol,VD=Object.prototype,Ck=VD.hasOwnProperty,yk=VD.toString,fc=Si?Si.toStringTag:void 0;function wk(e){var t=Ck.call(e,fc),s=e[fc];try{e[fc]=void 0;var n=!0}catch{}var i=yk.call(e);return n&&(t?e[fc]=s:delete e[fc]),i}var bk=Object.prototype,Sk=bk.toString;function Ek(e){return Sk.call(e)}var Rk="[object Null]",Tk="[object Undefined]",bE=Si?Si.toStringTag:void 0;function aa(e){return e==null?e===void 0?Tk:Rk:bE&&bE in Object(e)?wk(e):Ek(e)}function fo(e){return e!=null&&typeof e=="object"}var Dk="[object Symbol]";function rg(e){return typeof e=="symbol"||fo(e)&&aa(e)==Dk}function xy(e,t){for(var s=-1,n=e==null?0:e.length,i=Array(n);++s<n;)i[s]=t(e[s],s,e);return i}var En=Array.isArray,Ak=1/0,SE=Si?Si.prototype:void 0,EE=SE?SE.toString:void 0;function HD(e){if(typeof e=="string")return e;if(En(e))return xy(e,HD)+"";if(rg(e))return EE?EE.call(e):"";var t=e+"";return t=="0"&&1/e==-Ak?"-0":t}var Pk=/\s/;function Ok(e){for(var t=e.length;t--&&Pk.test(e.charAt(t)););return t}var _k=/^\s+/;function Mk(e){return e&&e.slice(0,Ok(e)+1).replace(_k,"")}function Rn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var RE=NaN,Ik=/^[-+]0x[0-9a-f]+$/i,Fk=/^0b[01]+$/i,Lk=/^0o[0-7]+$/i,Nk=parseInt;function Pv(e){if(typeof e=="number")return e;if(rg(e))return RE;if(Rn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Rn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mk(e);var s=Fk.test(e);return s||Lk.test(e)?Nk(e.slice(2),s?2:8):Ik.test(e)?RE:+e}var TE=1/0,xk=17976931348623157e292;function kk(e){if(!e)return e===0?e:0;if(e=Pv(e),e===TE||e===-TE){var t=e<0?-1:1;return t*xk}return e===e?e:0}function Gk(e){var t=kk(e),s=t%1;return t===t?s?t-s:t:0}function ky(e){return e}var Vk="[object AsyncFunction]",Hk="[object Function]",Bk="[object GeneratorFunction]",$k="[object Proxy]";function Gy(e){if(!Rn(e))return!1;var t=aa(e);return t==Hk||t==Bk||t==Vk||t==$k}var Rm=qi["__core-js_shared__"],DE=function(){var e=/[^.]+$/.exec(Rm&&Rm.keys&&Rm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wk(e){return!!DE&&DE in e}var zk=Function.prototype,Uk=zk.toString;function ua(e){if(e!=null){try{return Uk.call(e)}catch{}try{return e+""}catch{}}return""}var Kk=/[\\^$.*+?()[\]{}|]/g,jk=/^\[object .+?Constructor\]$/,Yk=Function.prototype,qk=Object.prototype,Xk=Yk.toString,Qk=qk.hasOwnProperty,Zk=RegExp("^"+Xk.call(Qk).replace(Kk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jk(e){if(!Rn(e)||Wk(e))return!1;var t=Gy(e)?Zk:jk;return t.test(ua(e))}function e1(e,t){return e==null?void 0:e[t]}function ca(e,t){var s=e1(e,t);return Jk(s)?s:void 0}var Ov=ca(qi,"WeakMap"),AE=Object.create,t1=function(){function e(){}return function(t){if(!Rn(t))return{};if(AE)return AE(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();function s1(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}function n1(){}function BD(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}var i1=800,o1=16,r1=Date.now;function l1(e){var t=0,s=0;return function(){var n=r1(),i=o1-(n-s);if(s=n,i>0){if(++t>=i1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function a1(e){return function(){return e}}var of=function(){try{var e=ca(Object,"defineProperty");return e({},"",{}),e}catch{}}(),u1=of?function(e,t){return of(e,"toString",{configurable:!0,enumerable:!1,value:a1(t),writable:!0})}:ky;const c1=u1;var $D=l1(c1);function d1(e,t){for(var s=-1,n=e==null?0:e.length;++s<n&&t(e[s],s,e)!==!1;);return e}function WD(e,t,s,n){for(var i=e.length,o=s+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function h1(e){return e!==e}function p1(e,t,s){for(var n=s-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function f1(e,t,s){return t===t?p1(e,t,s):WD(e,h1,s)}function g1(e,t){var s=e==null?0:e.length;return!!s&&f1(e,t,0)>-1}var m1=9007199254740991,v1=/^(?:0|[1-9]\d*)$/;function lg(e,t){var s=typeof e;return t=t??m1,!!t&&(s=="number"||s!="symbol"&&v1.test(e))&&e>-1&&e%1==0&&e<t}function Vy(e,t,s){t=="__proto__"&&of?of(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Zd(e,t){return e===t||e!==e&&t!==t}var C1=Object.prototype,y1=C1.hasOwnProperty;function Hy(e,t,s){var n=e[t];(!(y1.call(e,t)&&Zd(n,s))||s===void 0&&!(t in e))&&Vy(e,t,s)}function zu(e,t,s,n){var i=!s;s||(s={});for(var o=-1,r=t.length;++o<r;){var l=t[o],a=n?n(s[l],e[l],l,s,e):void 0;a===void 0&&(a=e[l]),i?Vy(s,l,a):Hy(s,l,a)}return s}var PE=Math.max;function zD(e,t,s){return t=PE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=PE(n.length-t,0),r=Array(o);++i<o;)r[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=s(r),s1(e,this,l)}}function UD(e,t){return $D(zD(e,t,ky),e+"")}var w1=9007199254740991;function By(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=w1}function Uu(e){return e!=null&&By(e.length)&&!Gy(e)}function b1(e,t,s){if(!Rn(s))return!1;var n=typeof t;return(n=="number"?Uu(s)&&lg(t,s.length):n=="string"&&t in s)?Zd(s[t],e):!1}function S1(e){return UD(function(t,s){var n=-1,i=s.length,o=i>1?s[i-1]:void 0,r=i>2?s[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,r&&b1(s[0],s[1],r)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var l=s[n];l&&e(t,l,n,o)}return t})}var E1=Object.prototype;function $y(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||E1;return e===s}function R1(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}var T1="[object Arguments]";function OE(e){return fo(e)&&aa(e)==T1}var KD=Object.prototype,D1=KD.hasOwnProperty,A1=KD.propertyIsEnumerable,ed=OE(function(){return arguments}())?OE:function(e){return fo(e)&&D1.call(e,"callee")&&!A1.call(e,"callee")};function P1(){return!1}var jD=typeof ei=="object"&&ei&&!ei.nodeType&&ei,_E=jD&&typeof ti=="object"&&ti&&!ti.nodeType&&ti,O1=_E&&_E.exports===jD,ME=O1?qi.Buffer:void 0,_1=ME?ME.isBuffer:void 0,td=_1||P1,M1="[object Arguments]",I1="[object Array]",F1="[object Boolean]",L1="[object Date]",N1="[object Error]",x1="[object Function]",k1="[object Map]",G1="[object Number]",V1="[object Object]",H1="[object RegExp]",B1="[object Set]",$1="[object String]",W1="[object WeakMap]",z1="[object ArrayBuffer]",U1="[object DataView]",K1="[object Float32Array]",j1="[object Float64Array]",Y1="[object Int8Array]",q1="[object Int16Array]",X1="[object Int32Array]",Q1="[object Uint8Array]",Z1="[object Uint8ClampedArray]",J1="[object Uint16Array]",eG="[object Uint32Array]",ws={};ws[K1]=ws[j1]=ws[Y1]=ws[q1]=ws[X1]=ws[Q1]=ws[Z1]=ws[J1]=ws[eG]=!0;ws[M1]=ws[I1]=ws[z1]=ws[F1]=ws[U1]=ws[L1]=ws[N1]=ws[x1]=ws[k1]=ws[G1]=ws[V1]=ws[H1]=ws[B1]=ws[$1]=ws[W1]=!1;function tG(e){return fo(e)&&By(e.length)&&!!ws[aa(e)]}function Wy(e){return function(t){return e(t)}}var YD=typeof ei=="object"&&ei&&!ei.nodeType&&ei,kc=YD&&typeof ti=="object"&&ti&&!ti.nodeType&&ti,sG=kc&&kc.exports===YD,Tm=sG&&GD.process,hu=function(){try{var e=kc&&kc.require&&kc.require("util").types;return e||Tm&&Tm.binding&&Tm.binding("util")}catch{}}(),IE=hu&&hu.isTypedArray,zy=IE?Wy(IE):tG,nG=Object.prototype,iG=nG.hasOwnProperty;function qD(e,t){var s=En(e),n=!s&&ed(e),i=!s&&!n&&td(e),o=!s&&!n&&!i&&zy(e),r=s||n||i||o,l=r?R1(e.length,String):[],a=l.length;for(var c in e)(t||iG.call(e,c))&&!(r&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||lg(c,a)))&&l.push(c);return l}function XD(e,t){return function(s){return e(t(s))}}var oG=XD(Object.keys,Object),rG=Object.prototype,lG=rG.hasOwnProperty;function aG(e){if(!$y(e))return oG(e);var t=[];for(var s in Object(e))lG.call(e,s)&&s!="constructor"&&t.push(s);return t}function Jd(e){return Uu(e)?qD(e):aG(e)}function uG(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var cG=Object.prototype,dG=cG.hasOwnProperty;function hG(e){if(!Rn(e))return uG(e);var t=$y(e),s=[];for(var n in e)n=="constructor"&&(t||!dG.call(e,n))||s.push(n);return s}function eh(e){return Uu(e)?qD(e,!0):hG(e)}var pG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fG=/^\w*$/;function Uy(e,t){if(En(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||rg(e)?!0:fG.test(e)||!pG.test(e)||t!=null&&e in Object(t)}var sd=ca(Object,"create");function gG(){this.__data__=sd?sd(null):{},this.size=0}function mG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vG="__lodash_hash_undefined__",CG=Object.prototype,yG=CG.hasOwnProperty;function wG(e){var t=this.__data__;if(sd){var s=t[e];return s===vG?void 0:s}return yG.call(t,e)?t[e]:void 0}var bG=Object.prototype,SG=bG.hasOwnProperty;function EG(e){var t=this.__data__;return sd?t[e]!==void 0:SG.call(t,e)}var RG="__lodash_hash_undefined__";function TG(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=sd&&t===void 0?RG:t,this}function Hl(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Hl.prototype.clear=gG;Hl.prototype.delete=mG;Hl.prototype.get=wG;Hl.prototype.has=EG;Hl.prototype.set=TG;function DG(){this.__data__=[],this.size=0}function ag(e,t){for(var s=e.length;s--;)if(Zd(e[s][0],t))return s;return-1}var AG=Array.prototype,PG=AG.splice;function OG(e){var t=this.__data__,s=ag(t,e);if(s<0)return!1;var n=t.length-1;return s==n?t.pop():PG.call(t,s,1),--this.size,!0}function _G(e){var t=this.__data__,s=ag(t,e);return s<0?void 0:t[s][1]}function MG(e){return ag(this.__data__,e)>-1}function IG(e,t){var s=this.__data__,n=ag(s,e);return n<0?(++this.size,s.push([e,t])):s[n][1]=t,this}function Qo(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Qo.prototype.clear=DG;Qo.prototype.delete=OG;Qo.prototype.get=_G;Qo.prototype.has=MG;Qo.prototype.set=IG;var nd=ca(qi,"Map");function FG(){this.size=0,this.__data__={hash:new Hl,map:new(nd||Qo),string:new Hl}}function LG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ug(e,t){var s=e.__data__;return LG(t)?s[typeof t=="string"?"string":"hash"]:s.map}function NG(e){var t=ug(this,e).delete(e);return this.size-=t?1:0,t}function xG(e){return ug(this,e).get(e)}function kG(e){return ug(this,e).has(e)}function GG(e,t){var s=ug(this,e),n=s.size;return s.set(e,t),this.size+=s.size==n?0:1,this}function Zo(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Zo.prototype.clear=FG;Zo.prototype.delete=NG;Zo.prototype.get=xG;Zo.prototype.has=kG;Zo.prototype.set=GG;var VG="Expected a function";function cg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(VG);var s=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=s.cache;if(o.has(i))return o.get(i);var r=e.apply(this,n);return s.cache=o.set(i,r)||o,r};return s.cache=new(cg.Cache||Zo),s}cg.Cache=Zo;var HG=500;function BG(e){var t=cg(e,function(n){return s.size===HG&&s.clear(),n}),s=t.cache;return t}var $G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WG=/\\(\\)?/g,zG=BG(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($G,function(s,n,i,o){t.push(i?o.replace(WG,"$1"):n||s)}),t});function UG(e){return e==null?"":HD(e)}function Ku(e,t){return En(e)?e:Uy(e,t)?[e]:zG(UG(e))}var KG=1/0;function ju(e){if(typeof e=="string"||rg(e))return e;var t=e+"";return t=="0"&&1/e==-KG?"-0":t}function dg(e,t){t=Ku(t,e);for(var s=0,n=t.length;e!=null&&s<n;)e=e[ju(t[s++])];return s&&s==n?e:void 0}function Ss(e,t,s){var n=e==null?void 0:dg(e,t);return n===void 0?s:n}function Ky(e,t){for(var s=-1,n=t.length,i=e.length;++s<n;)e[i+s]=t[s];return e}var FE=Si?Si.isConcatSpreadable:void 0;function jG(e){return En(e)||ed(e)||!!(FE&&e&&e[FE])}function th(e,t,s,n,i){var o=-1,r=e.length;for(s||(s=jG),i||(i=[]);++o<r;){var l=e[o];t>0&&s(l)?t>1?th(l,t-1,s,n,i):Ky(i,l):n||(i[i.length]=l)}return i}function QD(e){var t=e==null?0:e.length;return t?th(e,1):[]}function ZD(e){return $D(zD(e,void 0,QD),e+"")}var YG=XD(Object.getPrototypeOf,Object);const jy=YG;var qG="[object Object]",XG=Function.prototype,QG=Object.prototype,JD=XG.toString,ZG=QG.hasOwnProperty,JG=JD.call(Object);function eA(e){if(!fo(e)||aa(e)!=qG)return!1;var t=jy(e);if(t===null)return!0;var s=ZG.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&JD.call(s)==JG}function eV(e,t,s){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),s=s>i?i:s,s<0&&(s+=i),i=t>s?0:s-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function Bl(){if(!arguments.length)return[];var e=arguments[0];return En(e)?e:[e]}function tV(){this.__data__=new Qo,this.size=0}function sV(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function nV(e){return this.__data__.get(e)}function iV(e){return this.__data__.has(e)}var oV=200;function rV(e,t){var s=this.__data__;if(s instanceof Qo){var n=s.__data__;if(!nd||n.length<oV-1)return n.push([e,t]),this.size=++s.size,this;s=this.__data__=new Zo(n)}return s.set(e,t),this.size=s.size,this}function $i(e){var t=this.__data__=new Qo(e);this.size=t.size}$i.prototype.clear=tV;$i.prototype.delete=sV;$i.prototype.get=nV;$i.prototype.has=iV;$i.prototype.set=rV;function lV(e,t){return e&&zu(t,Jd(t),e)}function aV(e,t){return e&&zu(t,eh(t),e)}var tA=typeof ei=="object"&&ei&&!ei.nodeType&&ei,LE=tA&&typeof ti=="object"&&ti&&!ti.nodeType&&ti,uV=LE&&LE.exports===tA,NE=uV?qi.Buffer:void 0,xE=NE?NE.allocUnsafe:void 0;function sA(e,t){if(t)return e.slice();var s=e.length,n=xE?xE(s):new e.constructor(s);return e.copy(n),n}function cV(e,t){for(var s=-1,n=e==null?0:e.length,i=0,o=[];++s<n;){var r=e[s];t(r,s,e)&&(o[i++]=r)}return o}function nA(){return[]}var dV=Object.prototype,hV=dV.propertyIsEnumerable,kE=Object.getOwnPropertySymbols,Yy=kE?function(e){return e==null?[]:(e=Object(e),cV(kE(e),function(t){return hV.call(e,t)}))}:nA;function pV(e,t){return zu(e,Yy(e),t)}var fV=Object.getOwnPropertySymbols,iA=fV?function(e){for(var t=[];e;)Ky(t,Yy(e)),e=jy(e);return t}:nA;function gV(e,t){return zu(e,iA(e),t)}function oA(e,t,s){var n=t(e);return En(e)?n:Ky(n,s(e))}function _v(e){return oA(e,Jd,Yy)}function rA(e){return oA(e,eh,iA)}var Mv=ca(qi,"DataView"),Iv=ca(qi,"Promise"),Qa=ca(qi,"Set"),GE="[object Map]",mV="[object Object]",VE="[object Promise]",HE="[object Set]",BE="[object WeakMap]",$E="[object DataView]",vV=ua(Mv),CV=ua(nd),yV=ua(Iv),wV=ua(Qa),bV=ua(Ov),ll=aa;(Mv&&ll(new Mv(new ArrayBuffer(1)))!=$E||nd&&ll(new nd)!=GE||Iv&&ll(Iv.resolve())!=VE||Qa&&ll(new Qa)!=HE||Ov&&ll(new Ov)!=BE)&&(ll=function(e){var t=aa(e),s=t==mV?e.constructor:void 0,n=s?ua(s):"";if(n)switch(n){case vV:return $E;case CV:return GE;case yV:return VE;case wV:return HE;case bV:return BE}return t});const id=ll;var SV=Object.prototype,EV=SV.hasOwnProperty;function RV(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&EV.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var rf=qi.Uint8Array;function qy(e){var t=new e.constructor(e.byteLength);return new rf(t).set(new rf(e)),t}function TV(e,t){var s=t?qy(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var DV=/\w*$/;function AV(e){var t=new e.constructor(e.source,DV.exec(e));return t.lastIndex=e.lastIndex,t}var WE=Si?Si.prototype:void 0,zE=WE?WE.valueOf:void 0;function PV(e){return zE?Object(zE.call(e)):{}}function lA(e,t){var s=t?qy(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var OV="[object Boolean]",_V="[object Date]",MV="[object Map]",IV="[object Number]",FV="[object RegExp]",LV="[object Set]",NV="[object String]",xV="[object Symbol]",kV="[object ArrayBuffer]",GV="[object DataView]",VV="[object Float32Array]",HV="[object Float64Array]",BV="[object Int8Array]",$V="[object Int16Array]",WV="[object Int32Array]",zV="[object Uint8Array]",UV="[object Uint8ClampedArray]",KV="[object Uint16Array]",jV="[object Uint32Array]";function YV(e,t,s){var n=e.constructor;switch(t){case kV:return qy(e);case OV:case _V:return new n(+e);case GV:return TV(e,s);case VV:case HV:case BV:case $V:case WV:case zV:case UV:case KV:case jV:return lA(e,s);case MV:return new n;case IV:case NV:return new n(e);case FV:return AV(e);case LV:return new n;case xV:return PV(e)}}function aA(e){return typeof e.constructor=="function"&&!$y(e)?t1(jy(e)):{}}var qV="[object Map]";function XV(e){return fo(e)&&id(e)==qV}var UE=hu&&hu.isMap,QV=UE?Wy(UE):XV,ZV="[object Set]";function JV(e){return fo(e)&&id(e)==ZV}var KE=hu&&hu.isSet,e2=KE?Wy(KE):JV,t2=1,s2=2,n2=4,uA="[object Arguments]",i2="[object Array]",o2="[object Boolean]",r2="[object Date]",l2="[object Error]",cA="[object Function]",a2="[object GeneratorFunction]",u2="[object Map]",c2="[object Number]",dA="[object Object]",d2="[object RegExp]",h2="[object Set]",p2="[object String]",f2="[object Symbol]",g2="[object WeakMap]",m2="[object ArrayBuffer]",v2="[object DataView]",C2="[object Float32Array]",y2="[object Float64Array]",w2="[object Int8Array]",b2="[object Int16Array]",S2="[object Int32Array]",E2="[object Uint8Array]",R2="[object Uint8ClampedArray]",T2="[object Uint16Array]",D2="[object Uint32Array]",gs={};gs[uA]=gs[i2]=gs[m2]=gs[v2]=gs[o2]=gs[r2]=gs[C2]=gs[y2]=gs[w2]=gs[b2]=gs[S2]=gs[u2]=gs[c2]=gs[dA]=gs[d2]=gs[h2]=gs[p2]=gs[f2]=gs[E2]=gs[R2]=gs[T2]=gs[D2]=!0;gs[l2]=gs[cA]=gs[g2]=!1;function Za(e,t,s,n,i,o){var r,l=t&t2,a=t&s2,c=t&n2;if(s&&(r=i?s(e,n,i,o):s(e)),r!==void 0)return r;if(!Rn(e))return e;var h=En(e);if(h){if(r=RV(e),!l)return BD(e,r)}else{var d=id(e),p=d==cA||d==a2;if(td(e))return sA(e,l);if(d==dA||d==uA||p&&!i){if(r=a||p?{}:aA(e),!l)return a?gV(e,aV(r,e)):pV(e,lV(r,e))}else{if(!gs[d])return i?e:{};r=YV(e,d,l)}}o||(o=new $i);var g=o.get(e);if(g)return g;o.set(e,r),e2(e)?e.forEach(function(C){r.add(Za(C,t,s,C,e,o))}):QV(e)&&e.forEach(function(C,v){r.set(v,Za(C,t,s,v,e,o))});var m=c?a?rA:_v:a?eh:Jd,f=h?void 0:m(e);return d1(f||e,function(C,v){f&&(v=C,C=e[v]),Hy(r,v,Za(C,t,s,v,e,o))}),r}var A2=4;function jE(e){return Za(e,A2)}var P2=1,O2=4;function lf(e){return Za(e,P2|O2)}var _2="__lodash_hash_undefined__";function M2(e){return this.__data__.set(e,_2),this}function I2(e){return this.__data__.has(e)}function od(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Zo;++t<s;)this.add(e[t])}od.prototype.add=od.prototype.push=M2;od.prototype.has=I2;function F2(e,t){for(var s=-1,n=e==null?0:e.length;++s<n;)if(t(e[s],s,e))return!0;return!1}function hA(e,t){return e.has(t)}var L2=1,N2=2;function pA(e,t,s,n,i,o){var r=s&L2,l=e.length,a=t.length;if(l!=a&&!(r&&a>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var d=-1,p=!0,g=s&N2?new od:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var m=e[d],f=t[d];if(n)var C=r?n(f,m,d,t,e,o):n(m,f,d,e,t,o);if(C!==void 0){if(C)continue;p=!1;break}if(g){if(!F2(t,function(v,y){if(!hA(g,y)&&(m===v||i(m,v,s,n,o)))return g.push(y)})){p=!1;break}}else if(!(m===f||i(m,f,s,n,o))){p=!1;break}}return o.delete(e),o.delete(t),p}function x2(e){var t=-1,s=Array(e.size);return e.forEach(function(n,i){s[++t]=[i,n]}),s}function Xy(e){var t=-1,s=Array(e.size);return e.forEach(function(n){s[++t]=n}),s}var k2=1,G2=2,V2="[object Boolean]",H2="[object Date]",B2="[object Error]",$2="[object Map]",W2="[object Number]",z2="[object RegExp]",U2="[object Set]",K2="[object String]",j2="[object Symbol]",Y2="[object ArrayBuffer]",q2="[object DataView]",YE=Si?Si.prototype:void 0,Dm=YE?YE.valueOf:void 0;function X2(e,t,s,n,i,o,r){switch(s){case q2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Y2:return!(e.byteLength!=t.byteLength||!o(new rf(e),new rf(t)));case V2:case H2:case W2:return Zd(+e,+t);case B2:return e.name==t.name&&e.message==t.message;case z2:case K2:return e==t+"";case $2:var l=x2;case U2:var a=n&k2;if(l||(l=Xy),e.size!=t.size&&!a)return!1;var c=r.get(e);if(c)return c==t;n|=G2,r.set(e,t);var h=pA(l(e),l(t),n,i,o,r);return r.delete(e),h;case j2:if(Dm)return Dm.call(e)==Dm.call(t)}return!1}var Q2=1,Z2=Object.prototype,J2=Z2.hasOwnProperty;function eH(e,t,s,n,i,o){var r=s&Q2,l=_v(e),a=l.length,c=_v(t),h=c.length;if(a!=h&&!r)return!1;for(var d=a;d--;){var p=l[d];if(!(r?p in t:J2.call(t,p)))return!1}var g=o.get(e),m=o.get(t);if(g&&m)return g==t&&m==e;var f=!0;o.set(e,t),o.set(t,e);for(var C=r;++d<a;){p=l[d];var v=e[p],y=t[p];if(n)var w=r?n(y,v,p,t,e,o):n(v,y,p,e,t,o);if(!(w===void 0?v===y||i(v,y,s,n,o):w)){f=!1;break}C||(C=p=="constructor")}if(f&&!C){var b=e.constructor,T=t.constructor;b!=T&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof T=="function"&&T instanceof T)&&(f=!1)}return o.delete(e),o.delete(t),f}var tH=1,qE="[object Arguments]",XE="[object Array]",$h="[object Object]",sH=Object.prototype,QE=sH.hasOwnProperty;function nH(e,t,s,n,i,o){var r=En(e),l=En(t),a=r?XE:id(e),c=l?XE:id(t);a=a==qE?$h:a,c=c==qE?$h:c;var h=a==$h,d=c==$h,p=a==c;if(p&&td(e)){if(!td(t))return!1;r=!0,h=!1}if(p&&!h)return o||(o=new $i),r||zy(e)?pA(e,t,s,n,i,o):X2(e,t,a,s,n,i,o);if(!(s&tH)){var g=h&&QE.call(e,"__wrapped__"),m=d&&QE.call(t,"__wrapped__");if(g||m){var f=g?e.value():e,C=m?t.value():t;return o||(o=new $i),i(f,C,s,n,o)}}return p?(o||(o=new $i),eH(e,t,s,n,i,o)):!1}function hg(e,t,s,n,i){return e===t?!0:e==null||t==null||!fo(e)&&!fo(t)?e!==e&&t!==t:nH(e,t,s,n,hg,i)}var iH=1,oH=2;function rH(e,t,s,n){var i=s.length,o=i,r=!n;if(e==null)return!o;for(e=Object(e);i--;){var l=s[i];if(r&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=s[i];var a=l[0],c=e[a],h=l[1];if(r&&l[2]){if(c===void 0&&!(a in e))return!1}else{var d=new $i;if(n)var p=n(c,h,a,e,t,d);if(!(p===void 0?hg(h,c,iH|oH,n,d):p))return!1}}return!0}function fA(e){return e===e&&!Rn(e)}function lH(e){for(var t=Jd(e),s=t.length;s--;){var n=t[s],i=e[n];t[s]=[n,i,fA(i)]}return t}function gA(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==void 0||e in Object(s))}}function aH(e){var t=lH(e);return t.length==1&&t[0][2]?gA(t[0][0],t[0][1]):function(s){return s===e||rH(s,e,t)}}function uH(e,t){return e!=null&&t in Object(e)}function cH(e,t,s){t=Ku(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var r=ju(t[n]);if(!(o=e!=null&&s(e,r)))break;e=e[r]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&By(i)&&lg(r,i)&&(En(e)||ed(e)))}function mA(e,t){return e!=null&&cH(e,t,uH)}var dH=1,hH=2;function pH(e,t){return Uy(e)&&fA(t)?gA(ju(e),t):function(s){var n=Ss(s,e);return n===void 0&&n===t?mA(s,e):hg(t,n,dH|hH)}}function fH(e){return function(t){return t==null?void 0:t[e]}}function gH(e){return function(t){return dg(t,e)}}function mH(e){return Uy(e)?fH(ju(e)):gH(e)}function vA(e){return typeof e=="function"?e:e==null?ky:typeof e=="object"?En(e)?pH(e[0],e[1]):aH(e):mH(e)}function vH(e){return function(t,s,n){for(var i=-1,o=Object(t),r=n(t),l=r.length;l--;){var a=r[e?l:++i];if(s(o[a],a,o)===!1)break}return t}}var CA=vH();function CH(e,t){return e&&CA(e,t,Jd)}function yH(e,t){return function(s,n){if(s==null)return s;if(!Uu(s))return e(s,n);for(var i=s.length,o=t?i:-1,r=Object(s);(t?o--:++o<i)&&n(r[o],o,r)!==!1;);return s}}var wH=yH(CH),Am=function(){return qi.Date.now()},bH="Expected a function",SH=Math.max,EH=Math.min;function $n(e,t,s){var n,i,o,r,l,a,c=0,h=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(bH);t=Pv(t)||0,Rn(s)&&(h=!!s.leading,d="maxWait"in s,o=d?SH(Pv(s.maxWait)||0,t):o,p="trailing"in s?!!s.trailing:p);function g(E){var P=n,A=i;return n=i=void 0,c=E,r=e.apply(A,P),r}function m(E){return c=E,l=setTimeout(v,t),h?g(E):r}function f(E){var P=E-a,A=E-c,N=t-P;return d?EH(N,o-A):N}function C(E){var P=E-a,A=E-c;return a===void 0||P>=t||P<0||d&&A>=o}function v(){var E=Am();if(C(E))return y(E);l=setTimeout(v,f(E))}function y(E){return l=void 0,p&&n?g(E):(n=i=void 0,r)}function w(){l!==void 0&&clearTimeout(l),c=0,n=a=i=l=void 0}function b(){return l===void 0?r:y(Am())}function T(){var E=Am(),P=C(E);if(n=arguments,i=this,a=E,P){if(l===void 0)return m(a);if(d)return clearTimeout(l),l=setTimeout(v,t),g(a)}return l===void 0&&(l=setTimeout(v,t)),r}return T.cancel=w,T.flush=b,T}function Fv(e,t,s){(s!==void 0&&!Zd(e[t],s)||s===void 0&&!(t in e))&&Vy(e,t,s)}function yA(e){return fo(e)&&Uu(e)}function Lv(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function RH(e){return zu(e,eh(e))}function TH(e,t,s,n,i,o,r){var l=Lv(e,s),a=Lv(t,s),c=r.get(a);if(c){Fv(e,s,c);return}var h=o?o(l,a,s+"",e,t,r):void 0,d=h===void 0;if(d){var p=En(a),g=!p&&td(a),m=!p&&!g&&zy(a);h=a,p||g||m?En(l)?h=l:yA(l)?h=BD(l):g?(d=!1,h=sA(a,!0)):m?(d=!1,h=lA(a,!0)):h=[]:eA(a)||ed(a)?(h=l,ed(l)?h=RH(l):(!Rn(l)||Gy(l))&&(h=aA(a))):d=!1}d&&(r.set(a,h),i(h,a,n,o,r),r.delete(a)),Fv(e,s,h)}function wA(e,t,s,n,i){e!==t&&CA(t,function(o,r){if(i||(i=new $i),Rn(o))TH(e,t,r,s,wA,n,i);else{var l=n?n(Lv(e,r),o,r+"",e,t,i):void 0;l===void 0&&(l=o),Fv(e,r,l)}},eh)}function DH(e,t,s){for(var n=-1,i=e==null?0:e.length;++n<i;)if(s(t,e[n]))return!0;return!1}function AH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var PH=Math.max,OH=Math.min;function bA(e,t,s){var n=e==null?0:e.length;if(!n)return-1;var i=n-1;return s!==void 0&&(i=Gk(s),i=s<0?PH(n+i,0):OH(i,n-1)),WD(e,vA(t),i,!0)}function _H(e,t){var s=-1,n=Uu(e)?Array(e.length):[];return wH(e,function(i,o,r){n[++s]=t(i,o,r)}),n}function MH(e,t){var s=En(e)?xy:_H;return s(e,vA(t))}function IH(e,t){return th(MH(e,t),1)}var FH=1/0;function LH(e){var t=e==null?0:e.length;return t?th(e,FH):[]}function af(e){for(var t=-1,s=e==null?0:e.length,n={};++t<s;){var i=e[t];n[i[0]]=i[1]}return n}function NH(e,t){return t.length<2?e:dg(e,eV(t,0,-1))}function un(e,t){return hg(e,t)}function Is(e){return e==null}function SA(e){return e===void 0}var xH=S1(function(e,t,s){wA(e,t,s)});const kH=xH;function GH(e,t){return t=Ku(t,e),e=NH(e,t),e==null||delete e[ju(AH(t))]}function VH(e){return eA(e)?void 0:e}var HH=1,BH=2,$H=4,WH=ZD(function(e,t){var s={};if(e==null)return s;var n=!1;t=xy(t,function(o){return o=Ku(o,e),n||(n=o.length>1),o}),zu(e,rA(e),s),n&&(s=Za(s,HH|BH|$H,VH));for(var i=t.length;i--;)GH(s,t[i]);return s});function EA(e,t,s,n){if(!Rn(e))return e;t=Ku(t,e);for(var i=-1,o=t.length,r=o-1,l=e;l!=null&&++i<o;){var a=ju(t[i]),c=s;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(i!=r){var h=l[a];c=n?n(h,a,l):void 0,c===void 0&&(c=Rn(h)?h:lg(t[i+1])?[]:{})}Hy(l,a,c),l=l[a]}return e}function zH(e,t,s){for(var n=-1,i=t.length,o={};++n<i;){var r=t[n],l=dg(e,r);s(l,r)&&EA(o,Ku(r,e),l)}return o}function UH(e,t){return zH(e,t,function(s,n){return mA(e,n)})}var ko=ZD(function(e,t){return e==null?{}:UH(e,t)});function KH(e,t,s){return e==null?e:EA(e,t,s)}var jH="Expected a function";function Dl(e,t,s){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(jH);return Rn(s)&&(n="leading"in s?!!s.leading:n,i="trailing"in s?!!s.trailing:i),$n(e,t,{leading:n,maxWait:t,trailing:i})}var YH=1/0,qH=Qa&&1/Xy(new Qa([,-0]))[1]==YH?function(e){return new Qa(e)}:n1,XH=200;function QH(e,t,s){var n=-1,i=g1,o=e.length,r=!0,l=[],a=l;if(s)r=!1,i=DH;else if(o>=XH){var c=t?null:qH(e);if(c)return Xy(c);r=!1,i=hA,a=new od}else a=t?[]:l;e:for(;++n<o;){var h=e[n],d=t?t(h):h;if(h=s||h!==0?h:0,r&&d===d){for(var p=a.length;p--;)if(a[p]===d)continue e;t&&a.push(d),l.push(h)}else i(a,d,s)||(a!==l&&a.push(d),l.push(h))}return l}var Pm=UD(function(e){return QH(th(e,1,yA,!0))});const Ps=e=>e===void 0,Os=e=>typeof e=="boolean",tt=e=>typeof e=="number",hi=e=>!e&&e!==0||ke(e)&&e.length===0||yt(e)&&!Object.keys(e).length,Ei=e=>typeof Element>"u"?!1:e instanceof Element,$l=e=>Is(e),ZH=e=>rt(e)?!Number.isNaN(Number(e)):!1,pg=e=>e===window,Nr=e=>At?window.requestAnimationFrame(e):setTimeout(e,16),Wl=e=>At?window.cancelAnimationFrame(e):clearTimeout(e),Qy=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),oo=e=>qd(e),pu=e=>Object.keys(e),JH=e=>Object.entries(e),vp=(e,t,s)=>({get value(){return Ss(e,t,s)},set value(n){KH(e,t,n)}});class eB extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ns(e,t){throw new eB(`[${e}] ${t}`)}const RA=(e="")=>e.split(" ").filter(t=>!!t.trim()),vi=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},pi=(e,t)=>{!e||!t.trim()||e.classList.add(...RA(t))},cn=(e,t)=>{!e||!t.trim()||e.classList.remove(...RA(t))},Er=(e,t)=>{var s;if(!At||!e||!t)return"";let n=bi(t);n==="float"&&(n="cssFloat");try{const i=e.style[n];if(i)return i;const o=(s=document.defaultView)==null?void 0:s.getComputedStyle(e,"");return o?o[n]:""}catch{return e.style[n]}};function Ds(e,t="px"){if(!e)return"";if(tt(e)||ZH(e))return`${e}${t}`;if(rt(e))return e}const tB=(e,t)=>{if(!At)return!1;const s={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],n=Er(e,s);return["scroll","auto","overlay"].some(i=>n.includes(i))},Zy=(e,t)=>{if(!At)return;let s=e;for(;s;){if([window,document,document.documentElement].includes(s))return window;if(tB(s,t))return s;s=s.parentNode}return s};let Wh;const TA=e=>{var t;if(!At)return 0;if(Wh!==void 0)return Wh;const s=document.createElement("div");s.className=`${e}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const n=s.offsetWidth;s.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",s.appendChild(i);const o=i.offsetWidth;return(t=s.parentNode)==null||t.removeChild(s),Wh=n-o,Wh};function DA(e,t){if(!At)return;if(!t){e.scrollTop=0;return}const s=[];let n=t.offsetParent;for(;n!==null&&e!==n&&e.contains(n);)s.push(n),n=n.offsetParent;const i=t.offsetTop+s.reduce((a,c)=>a+c.offsetTop,0),o=i+t.offsetHeight,r=e.scrollTop,l=r+e.clientHeight;i<r?e.scrollTop=i:o>l&&(e.scrollTop=o-e.clientHeight)}function sB(e,t,s,n,i){const o=Date.now();let r;const l=()=>{const c=Date.now()-o,h=mk(c>n?n:c,t,s,n);pg(e)?e.scrollTo(window.pageXOffset,h):e.scrollTop=h,c<n?r=Nr(l):typeof i=="function"&&i()};return l(),()=>{r&&Wl(r)}}const ZE=(e,t)=>pg(t)?e.ownerDocument.documentElement:t,JE=e=>pg(e)?window.scrollY:e.scrollTop,zh=e=>{if(!At||e==="")return null;if(rt(e))try{return document.querySelector(e)}catch{return null}return e};/*! Element Plus Icons Vue v2.3.1 */var nB=j({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Jo=nB,iB=j({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),xr=iB,oB=j({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),bn=oB,rB=j({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Jy=rB,lB=j({name:"Back",__name:"back",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),U("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),aB=lB,uB=j({name:"Calendar",__name:"calendar",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),cB=uB,dB=j({name:"CaretRight",__name:"caret-right",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),AA=dB,hB=j({name:"CaretTop",__name:"caret-top",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),pB=hB,fB=j({name:"Check",__name:"check",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),sh=fB,gB=j({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),mB=gB,vB=j({name:"CircleCheck",__name:"circle-check",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),U("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),ew=vB,CB=j({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),tw=CB,yB=j({name:"CircleClose",__name:"circle-close",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),U("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),jr=yB,wB=j({name:"Clock",__name:"clock",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),U("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),U("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),PA=wB,bB=j({name:"Close",__name:"close",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),zi=bB,SB=j({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),fu=SB,EB=j({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),gu=EB,RB=j({name:"Delete",__name:"delete",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),TB=RB,DB=j({name:"Document",__name:"document",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),AB=DB,PB=j({name:"FullScreen",__name:"full-screen",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),OB=PB,_B=j({name:"Hide",__name:"hide",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),U("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),MB=_B,IB=j({name:"InfoFilled",__name:"info-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),sw=IB,FB=j({name:"Loading",__name:"loading",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Yr=FB,LB=j({name:"Minus",__name:"minus",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),NB=LB,xB=j({name:"MoreFilled",__name:"more-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),e0=xB,kB=j({name:"More",__name:"more",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),GB=kB,VB=j({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),HB=VB,BB=j({name:"Plus",__name:"plus",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),OA=BB,$B=j({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),WB=$B,zB=j({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),UB=zB,KB=j({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),jB=KB,YB=j({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),qB=YB,XB=j({name:"Search",__name:"search",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),QB=XB,ZB=j({name:"SortDown",__name:"sort-down",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),JB=ZB,e$=j({name:"SortUp",__name:"sort-up",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),t$=e$,s$=j({name:"StarFilled",__name:"star-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Uh=s$,n$=j({name:"Star",__name:"star",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),i$=n$,o$=j({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),_A=o$,r$=j({name:"View",__name:"view",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),l$=r$,a$=j({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),fg=a$,u$=j({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),MA=u$,c$=j({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,s)=>(D(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[U("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),d$=c$;const IA="__epPropKey",J=e=>e,h$=e=>yt(e)&&!!e[IA],Xi=(e,t)=>{if(!yt(e)||h$(e))return e;const{values:s,required:n,default:i,type:o,validator:r}=e,a={type:o,required:!!n,validator:s||r?c=>{let h=!1,d=[];if(s&&(d=Array.from(s),Ot(e,"default")&&d.push(i),h||(h=d.includes(c))),r&&(h||(h=r(c))),!h&&d.length>0){const p=[...new Set(d)].map(g=>JSON.stringify(g)).join(", ");ZN(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${p}], got value ${JSON.stringify(c)}.`)}return h}:void 0,[IA]:!0};return Ot(e,"default")&&(a.default=i),a},Oe=e=>af(Object.entries(e).map(([t,s])=>[t,Xi(s,t)])),Kt=J([String,Object,Function]),nw={Close:zi},iw={Close:zi,SuccessFilled:_A,InfoFilled:sw,WarningFilled:fg,CircleCloseFilled:tw},kr={success:_A,warning:fg,error:tw,info:sw},ow={validating:Yr,success:ew,error:jr},ft=(e,t)=>{if(e.install=s=>{for(const n of[e,...Object.values(t??{})])s.component(n.name,n)},t)for(const[s,n]of Object.entries(t))e[s]=n;return e},FA=(e,t)=>(e.install=s=>{e._context=s._context,s.config.globalProperties[t]=e},e),p$=(e,t)=>(e.install=s=>{s.directive(t,e)},e),hs=e=>(e.install=$t,e),gg=(...e)=>t=>{e.forEach(s=>{nt(s)?s(t):s.value=t})},Ye={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},f$=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Om=["sun","mon","tue","wed","thu","fri","sat"],vt="update:modelValue",as="change",Sn="input",t0=Symbol("INSTALLED_KEY"),Ro=["","default","small","large"],LA=e=>["",...Ro].includes(e);var ci=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(ci||{});function Nv(e){return us(e)&&e.type===qe}function g$(e){return us(e)&&e.type===wn}function m$(e){return us(e)&&!Nv(e)&&!g$(e)}const v$=e=>{if(!us(e))return{};const t=e.props||{},s=(us(e.type)?e.type.props:void 0)||{},n={};return Object.keys(s).forEach(i=>{Ot(s[i],"default")&&(n[i]=s[i].default)}),Object.keys(t).forEach(i=>{n[bi(i)]=t[i]}),n},C$=e=>{if(!ke(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Or=e=>{const t=ke(e)?e:[e],s=[];return t.forEach(n=>{var i;ke(n)?s.push(...Or(n)):us(n)&&ke(n.children)?s.push(...Or(n.children)):(s.push(n),us(n)&&((i=n.component)!=null&&i.subTree)&&s.push(...Or(n.component.subTree)))}),s},s0=e=>[...new Set(e)],qn=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],rw=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),ds=e=>e;function y$(e){let t=0;const s=(...n)=>{t&&Wl(t),t=Nr(()=>{e(...n),t=0})};return s.cancel=()=>{Wl(t),t=0},s}const w$=["class","style"],b$=/^on[A-Z]/,lw=(e={})=>{const{excludeListeners:t=!1,excludeKeys:s}=e,n=R(()=>((s==null?void 0:s.value)||[]).concat(w$)),i=ct();return R(i?()=>{var o;return af(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([r])=>!n.value.includes(r)&&!(t&&b$.test(r))))}:()=>({}))},Al=({from:e,replacement:t,scope:s,version:n,ref:i,type:o="API"},r)=>{ve(()=>u(r),l=>{},{immediate:!0})},NA=(e,t,s,n)=>{let i={offsetX:0,offsetY:0};const o=a=>{const c=a.clientX,h=a.clientY,{offsetX:d,offsetY:p}=i,g=e.value.getBoundingClientRect(),m=g.left,f=g.top,C=g.width,v=g.height,y=document.documentElement.clientWidth,w=document.documentElement.clientHeight,b=-m+d,T=-f+p,E=y-m-C+d,P=w-f-v+p,A=x=>{let F=d+x.clientX-c,G=p+x.clientY-h;n!=null&&n.value||(F=Math.min(Math.max(F,b),E),G=Math.min(Math.max(G,T),P)),i={offsetX:F,offsetY:G},e.value&&(e.value.style.transform=`translate(${Ds(F)}, ${Ds(G)})`)},N=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",N)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",N)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};at(()=>{sn(()=>{s.value?r():l()})}),Jt(()=>{l()})};var S$={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const E$=e=>(t,s)=>R$(t,s,u(e)),R$=(e,t,s)=>Ss(s,e,e).replace(/\{(\w+)\}/g,(n,i)=>{var o;return`${(o=t==null?void 0:t[i])!=null?o:`{${i}}`}`}),T$=e=>{const t=R(()=>u(e).name),s=ns(e)?e:L(e);return{lang:t,locale:s,t:E$(e)}},xA=Symbol("localeContextKey"),Ft=e=>{const t=e||Be(xA,L());return T$(R(()=>t.value||S$))},Gc="el",D$="is-",ol=(e,t,s,n,i)=>{let o=`${e}-${t}`;return s&&(o+=`-${s}`),n&&(o+=`__${n}`),i&&(o+=`--${i}`),o},kA=Symbol("namespaceContextKey"),aw=e=>{const t=e||(ct()?Be(kA,L(Gc)):L(Gc));return R(()=>u(t)||Gc)},we=(e,t)=>{const s=aw(t);return{namespace:s,b:(f="")=>ol(s.value,e,f,"",""),e:f=>f?ol(s.value,e,"",f,""):"",m:f=>f?ol(s.value,e,"","",f):"",be:(f,C)=>f&&C?ol(s.value,e,f,C,""):"",em:(f,C)=>f&&C?ol(s.value,e,"",f,C):"",bm:(f,C)=>f&&C?ol(s.value,e,f,"",C):"",bem:(f,C,v)=>f&&C&&v?ol(s.value,e,f,C,v):"",is:(f,...C)=>{const v=C.length>=1?C[0]:!0;return f&&v?`${D$}${f}`:""},cssVar:f=>{const C={};for(const v in f)f[v]&&(C[`--${s.value}-${v}`]=f[v]);return C},cssVarName:f=>`--${s.value}-${f}`,cssVarBlock:f=>{const C={};for(const v in f)f[v]&&(C[`--${s.value}-${e}-${v}`]=f[v]);return C},cssVarBlockName:f=>`--${s.value}-${e}-${f}`}},uw=(e,t={})=>{ns(e)||Ns("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||we("popup"),n=NT(()=>s.bm("parent","hidden"));if(!At||vi(document.body,n.value))return;let i=0,o=!1,r="0";const l=()=>{setTimeout(()=>{cn(document==null?void 0:document.body,n.value),o&&document&&(document.body.style.width=r)},200)};ve(e,a=>{if(!a){l();return}o=!vi(document.body,n.value),o&&(r=document.body.style.width),i=TA(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,h=Er(document.body,"overflowY");i>0&&(c||h==="scroll")&&o&&(document.body.style.width=`calc(100% - ${i}px)`),pi(document.body,n.value)}),wT(()=>l())},A$=Xi({type:J(Boolean),default:null}),P$=Xi({type:J(Function)}),GA=e=>{const t=`update:${e}`,s=`onUpdate:${e}`,n=[t],i={[e]:A$,[s]:P$};return{useModelToggle:({indicator:r,toggleReason:l,shouldHideWhenRouteChanges:a,shouldProceed:c,onShow:h,onHide:d})=>{const p=ct(),{emit:g}=p,m=p.props,f=R(()=>nt(m[s])),C=R(()=>m[e]===null),v=P=>{r.value!==!0&&(r.value=!0,l&&(l.value=P),nt(h)&&h(P))},y=P=>{r.value!==!1&&(r.value=!1,l&&(l.value=P),nt(d)&&d(P))},w=P=>{if(m.disabled===!0||nt(c)&&!c())return;const A=f.value&&At;A&&g(t,!0),(C.value||!A)&&v(P)},b=P=>{if(m.disabled===!0||!At)return;const A=f.value&&At;A&&g(t,!1),(C.value||!A)&&y(P)},T=P=>{Os(P)&&(m.disabled&&P?f.value&&g(t,!1):r.value!==P&&(P?v():y()))},E=()=>{r.value?b():w()};return ve(()=>m[e],T),a&&p.appContext.config.globalProperties.$route!==void 0&&ve(()=>({...p.proxy.$route}),()=>{a.value&&r.value&&b()}),at(()=>{T(m[e])}),{hide:b,show:w,toggle:E,hasUpdateHandler:f}},useModelToggleProps:i,useModelToggleEmits:n}};GA("modelValue");const VA=e=>{const t=ct();return R(()=>{var s,n;return(n=(s=t==null?void 0:t.proxy)==null?void 0:s.$props)==null?void 0:n[e]})};var Vn="top",Ri="bottom",Ti="right",Hn="left",cw="auto",nh=[Vn,Ri,Ti,Hn],mu="start",rd="end",O$="clippingParents",HA="viewport",gc="popper",_$="reference",n0=nh.reduce(function(e,t){return e.concat([t+"-"+mu,t+"-"+rd])},[]),da=[].concat(nh,[cw]).reduce(function(e,t){return e.concat([t,t+"-"+mu,t+"-"+rd])},[]),M$="beforeRead",I$="read",F$="afterRead",L$="beforeMain",N$="main",x$="afterMain",k$="beforeWrite",G$="write",V$="afterWrite",H$=[M$,I$,F$,L$,N$,x$,k$,G$,V$];function go(e){return e?(e.nodeName||"").toLowerCase():null}function Qi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vu(e){var t=Qi(e).Element;return e instanceof t||e instanceof Element}function Ci(e){var t=Qi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dw(e){if(typeof ShadowRoot>"u")return!1;var t=Qi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function B$(e){var t=e.state;Object.keys(t.elements).forEach(function(s){var n=t.styles[s]||{},i=t.attributes[s]||{},o=t.elements[s];!Ci(o)||!go(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(r){var l=i[r];l===!1?o.removeAttribute(r):o.setAttribute(r,l===!0?"":l)}))})}function $$(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},r=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:s[n]),l=r.reduce(function(a,c){return a[c]="",a},{});!Ci(i)||!go(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}var BA={name:"applyStyles",enabled:!0,phase:"write",fn:B$,effect:$$,requires:["computeStyles"]};function uo(e){return e.split("-")[0]}var Pl=Math.max,uf=Math.min,Cu=Math.round;function yu(e,t){t===void 0&&(t=!1);var s=e.getBoundingClientRect(),n=1,i=1;if(Ci(e)&&t){var o=e.offsetHeight,r=e.offsetWidth;r>0&&(n=Cu(s.width)/r||1),o>0&&(i=Cu(s.height)/o||1)}return{width:s.width/n,height:s.height/i,top:s.top/i,right:s.right/n,bottom:s.bottom/i,left:s.left/n,x:s.left/n,y:s.top/i}}function hw(e){var t=yu(e),s=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:n}}function $A(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&dw(s)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Wo(e){return Qi(e).getComputedStyle(e)}function W$(e){return["table","td","th"].indexOf(go(e))>=0}function qr(e){return((vu(e)?e.ownerDocument:e.document)||window.document).documentElement}function mg(e){return go(e)==="html"?e:e.assignedSlot||e.parentNode||(dw(e)?e.host:null)||qr(e)}function i0(e){return!Ci(e)||Wo(e).position==="fixed"?null:e.offsetParent}function z$(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,s=navigator.userAgent.indexOf("Trident")!==-1;if(s&&Ci(e)){var n=Wo(e);if(n.position==="fixed")return null}var i=mg(e);for(dw(i)&&(i=i.host);Ci(i)&&["html","body"].indexOf(go(i))<0;){var o=Wo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ih(e){for(var t=Qi(e),s=i0(e);s&&W$(s)&&Wo(s).position==="static";)s=i0(s);return s&&(go(s)==="html"||go(s)==="body"&&Wo(s).position==="static")?t:s||z$(e)||t}function pw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vc(e,t,s){return Pl(e,uf(t,s))}function U$(e,t,s){var n=Vc(e,t,s);return n>s?s:n}function WA(){return{top:0,right:0,bottom:0,left:0}}function zA(e){return Object.assign({},WA(),e)}function UA(e,t){return t.reduce(function(s,n){return s[n]=e,s},{})}var K$=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,zA(typeof e!="number"?e:UA(e,nh))};function j$(e){var t,s=e.state,n=e.name,i=e.options,o=s.elements.arrow,r=s.modifiersData.popperOffsets,l=uo(s.placement),a=pw(l),c=[Hn,Ti].indexOf(l)>=0,h=c?"height":"width";if(!(!o||!r)){var d=K$(i.padding,s),p=hw(o),g=a==="y"?Vn:Hn,m=a==="y"?Ri:Ti,f=s.rects.reference[h]+s.rects.reference[a]-r[a]-s.rects.popper[h],C=r[a]-s.rects.reference[a],v=ih(o),y=v?a==="y"?v.clientHeight||0:v.clientWidth||0:0,w=f/2-C/2,b=d[g],T=y-p[h]-d[m],E=y/2-p[h]/2+w,P=Vc(b,E,T),A=a;s.modifiersData[n]=(t={},t[A]=P,t.centerOffset=P-E,t)}}function Y$(e){var t=e.state,s=e.options,n=s.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!$A(t.elements.popper,i)||(t.elements.arrow=i))}var q$={name:"arrow",enabled:!0,phase:"main",fn:j$,effect:Y$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wu(e){return e.split("-")[1]}var X$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q$(e){var t=e.x,s=e.y,n=window,i=n.devicePixelRatio||1;return{x:Cu(t*i)/i||0,y:Cu(s*i)/i||0}}function o0(e){var t,s=e.popper,n=e.popperRect,i=e.placement,o=e.variation,r=e.offsets,l=e.position,a=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,d=e.isFixed,p=r.x,g=p===void 0?0:p,m=r.y,f=m===void 0?0:m,C=typeof h=="function"?h({x:g,y:f}):{x:g,y:f};g=C.x,f=C.y;var v=r.hasOwnProperty("x"),y=r.hasOwnProperty("y"),w=Hn,b=Vn,T=window;if(c){var E=ih(s),P="clientHeight",A="clientWidth";if(E===Qi(s)&&(E=qr(s),Wo(E).position!=="static"&&l==="absolute"&&(P="scrollHeight",A="scrollWidth")),E=E,i===Vn||(i===Hn||i===Ti)&&o===rd){b=Ri;var N=d&&E===T&&T.visualViewport?T.visualViewport.height:E[P];f-=N-n.height,f*=a?1:-1}if(i===Hn||(i===Vn||i===Ri)&&o===rd){w=Ti;var x=d&&E===T&&T.visualViewport?T.visualViewport.width:E[A];g-=x-n.width,g*=a?1:-1}}var F=Object.assign({position:l},c&&X$),G=h===!0?Q$({x:g,y:f}):{x:g,y:f};if(g=G.x,f=G.y,a){var K;return Object.assign({},F,(K={},K[b]=y?"0":"",K[w]=v?"0":"",K.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+f+"px)":"translate3d("+g+"px, "+f+"px, 0)",K))}return Object.assign({},F,(t={},t[b]=y?f+"px":"",t[w]=v?g+"px":"",t.transform="",t))}function Z$(e){var t=e.state,s=e.options,n=s.gpuAcceleration,i=n===void 0?!0:n,o=s.adaptive,r=o===void 0?!0:o,l=s.roundOffsets,a=l===void 0?!0:l,c={placement:uo(t.placement),variation:wu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,o0(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,o0(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var KA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z$,data:{}},Kh={passive:!0};function J$(e){var t=e.state,s=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,r=n.resize,l=r===void 0?!0:r,a=Qi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(h){h.addEventListener("scroll",s.update,Kh)}),l&&a.addEventListener("resize",s.update,Kh),function(){o&&c.forEach(function(h){h.removeEventListener("scroll",s.update,Kh)}),l&&a.removeEventListener("resize",s.update,Kh)}}var jA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:J$,data:{}},eW={left:"right",right:"left",bottom:"top",top:"bottom"};function Cp(e){return e.replace(/left|right|bottom|top/g,function(t){return eW[t]})}var tW={start:"end",end:"start"};function r0(e){return e.replace(/start|end/g,function(t){return tW[t]})}function fw(e){var t=Qi(e),s=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:s,scrollTop:n}}function gw(e){return yu(qr(e)).left+fw(e).scrollLeft}function sW(e){var t=Qi(e),s=qr(e),n=t.visualViewport,i=s.clientWidth,o=s.clientHeight,r=0,l=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=n.offsetLeft,l=n.offsetTop)),{width:i,height:o,x:r+gw(e),y:l}}function nW(e){var t,s=qr(e),n=fw(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Pl(s.scrollWidth,s.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Pl(s.scrollHeight,s.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+gw(e),a=-n.scrollTop;return Wo(i||s).direction==="rtl"&&(l+=Pl(s.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:l,y:a}}function mw(e){var t=Wo(e),s=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+i+n)}function YA(e){return["html","body","#document"].indexOf(go(e))>=0?e.ownerDocument.body:Ci(e)&&mw(e)?e:YA(mg(e))}function Hc(e,t){var s;t===void 0&&(t=[]);var n=YA(e),i=n===((s=e.ownerDocument)==null?void 0:s.body),o=Qi(n),r=i?[o].concat(o.visualViewport||[],mw(n)?n:[]):n,l=t.concat(r);return i?l:l.concat(Hc(mg(r)))}function xv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function iW(e){var t=yu(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function l0(e,t){return t===HA?xv(sW(e)):vu(t)?iW(t):xv(nW(qr(e)))}function oW(e){var t=Hc(mg(e)),s=["absolute","fixed"].indexOf(Wo(e).position)>=0,n=s&&Ci(e)?ih(e):e;return vu(n)?t.filter(function(i){return vu(i)&&$A(i,n)&&go(i)!=="body"}):[]}function rW(e,t,s){var n=t==="clippingParents"?oW(e):[].concat(t),i=[].concat(n,[s]),o=i[0],r=i.reduce(function(l,a){var c=l0(e,a);return l.top=Pl(c.top,l.top),l.right=uf(c.right,l.right),l.bottom=uf(c.bottom,l.bottom),l.left=Pl(c.left,l.left),l},l0(e,o));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function qA(e){var t=e.reference,s=e.element,n=e.placement,i=n?uo(n):null,o=n?wu(n):null,r=t.x+t.width/2-s.width/2,l=t.y+t.height/2-s.height/2,a;switch(i){case Vn:a={x:r,y:t.y-s.height};break;case Ri:a={x:r,y:t.y+t.height};break;case Ti:a={x:t.x+t.width,y:l};break;case Hn:a={x:t.x-s.width,y:l};break;default:a={x:t.x,y:t.y}}var c=i?pw(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(o){case mu:a[c]=a[c]-(t[h]/2-s[h]/2);break;case rd:a[c]=a[c]+(t[h]/2-s[h]/2);break}}return a}function ld(e,t){t===void 0&&(t={});var s=t,n=s.placement,i=n===void 0?e.placement:n,o=s.boundary,r=o===void 0?O$:o,l=s.rootBoundary,a=l===void 0?HA:l,c=s.elementContext,h=c===void 0?gc:c,d=s.altBoundary,p=d===void 0?!1:d,g=s.padding,m=g===void 0?0:g,f=zA(typeof m!="number"?m:UA(m,nh)),C=h===gc?_$:gc,v=e.rects.popper,y=e.elements[p?C:h],w=rW(vu(y)?y:y.contextElement||qr(e.elements.popper),r,a),b=yu(e.elements.reference),T=qA({reference:b,element:v,strategy:"absolute",placement:i}),E=xv(Object.assign({},v,T)),P=h===gc?E:b,A={top:w.top-P.top+f.top,bottom:P.bottom-w.bottom+f.bottom,left:w.left-P.left+f.left,right:P.right-w.right+f.right},N=e.modifiersData.offset;if(h===gc&&N){var x=N[i];Object.keys(A).forEach(function(F){var G=[Ti,Ri].indexOf(F)>=0?1:-1,K=[Vn,Ri].indexOf(F)>=0?"y":"x";A[F]+=x[K]*G})}return A}function lW(e,t){t===void 0&&(t={});var s=t,n=s.placement,i=s.boundary,o=s.rootBoundary,r=s.padding,l=s.flipVariations,a=s.allowedAutoPlacements,c=a===void 0?da:a,h=wu(n),d=h?l?n0:n0.filter(function(m){return wu(m)===h}):nh,p=d.filter(function(m){return c.indexOf(m)>=0});p.length===0&&(p=d);var g=p.reduce(function(m,f){return m[f]=ld(e,{placement:f,boundary:i,rootBoundary:o,padding:r})[uo(f)],m},{});return Object.keys(g).sort(function(m,f){return g[m]-g[f]})}function aW(e){if(uo(e)===cw)return[];var t=Cp(e);return[r0(e),t,r0(t)]}function uW(e){var t=e.state,s=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=s.mainAxis,o=i===void 0?!0:i,r=s.altAxis,l=r===void 0?!0:r,a=s.fallbackPlacements,c=s.padding,h=s.boundary,d=s.rootBoundary,p=s.altBoundary,g=s.flipVariations,m=g===void 0?!0:g,f=s.allowedAutoPlacements,C=t.options.placement,v=uo(C),y=v===C,w=a||(y||!m?[Cp(C)]:aW(C)),b=[C].concat(w).reduce(function(ce,Ee){return ce.concat(uo(Ee)===cw?lW(t,{placement:Ee,boundary:h,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:f}):Ee)},[]),T=t.rects.reference,E=t.rects.popper,P=new Map,A=!0,N=b[0],x=0;x<b.length;x++){var F=b[x],G=uo(F),K=wu(F)===mu,z=[Vn,Ri].indexOf(G)>=0,W=z?"width":"height",k=ld(t,{placement:F,boundary:h,rootBoundary:d,altBoundary:p,padding:c}),I=z?K?Ti:Hn:K?Ri:Vn;T[W]>E[W]&&(I=Cp(I));var V=Cp(I),_=[];if(o&&_.push(k[G]<=0),l&&_.push(k[I]<=0,k[V]<=0),_.every(function(ce){return ce})){N=F,A=!1;break}P.set(F,_)}if(A)for(var B=m?3:1,Y=function(ce){var Ee=b.find(function(te){var ue=P.get(te);if(ue)return ue.slice(0,ce).every(function(le){return le})});if(Ee)return N=Ee,"break"},Q=B;Q>0;Q--){var ee=Y(Q);if(ee==="break")break}t.placement!==N&&(t.modifiersData[n]._skip=!0,t.placement=N,t.reset=!0)}}var cW={name:"flip",enabled:!0,phase:"main",fn:uW,requiresIfExists:["offset"],data:{_skip:!1}};function a0(e,t,s){return s===void 0&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function u0(e){return[Vn,Ti,Ri,Hn].some(function(t){return e[t]>=0})}function dW(e){var t=e.state,s=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,r=ld(t,{elementContext:"reference"}),l=ld(t,{altBoundary:!0}),a=a0(r,n),c=a0(l,i,o),h=u0(a),d=u0(c);t.modifiersData[s]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}var hW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dW};function pW(e,t,s){var n=uo(e),i=[Hn,Vn].indexOf(n)>=0?-1:1,o=typeof s=="function"?s(Object.assign({},t,{placement:e})):s,r=o[0],l=o[1];return r=r||0,l=(l||0)*i,[Hn,Ti].indexOf(n)>=0?{x:l,y:r}:{x:r,y:l}}function fW(e){var t=e.state,s=e.options,n=e.name,i=s.offset,o=i===void 0?[0,0]:i,r=da.reduce(function(h,d){return h[d]=pW(d,t.rects,o),h},{}),l=r[t.placement],a=l.x,c=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=r}var gW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fW};function mW(e){var t=e.state,s=e.name;t.modifiersData[s]=qA({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var XA={name:"popperOffsets",enabled:!0,phase:"read",fn:mW,data:{}};function vW(e){return e==="x"?"y":"x"}function CW(e){var t=e.state,s=e.options,n=e.name,i=s.mainAxis,o=i===void 0?!0:i,r=s.altAxis,l=r===void 0?!1:r,a=s.boundary,c=s.rootBoundary,h=s.altBoundary,d=s.padding,p=s.tether,g=p===void 0?!0:p,m=s.tetherOffset,f=m===void 0?0:m,C=ld(t,{boundary:a,rootBoundary:c,padding:d,altBoundary:h}),v=uo(t.placement),y=wu(t.placement),w=!y,b=pw(v),T=vW(b),E=t.modifiersData.popperOffsets,P=t.rects.reference,A=t.rects.popper,N=typeof f=="function"?f(Object.assign({},t.rects,{placement:t.placement})):f,x=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(E){if(o){var K,z=b==="y"?Vn:Hn,W=b==="y"?Ri:Ti,k=b==="y"?"height":"width",I=E[b],V=I+C[z],_=I-C[W],B=g?-A[k]/2:0,Y=y===mu?P[k]:A[k],Q=y===mu?-A[k]:-P[k],ee=t.elements.arrow,ce=g&&ee?hw(ee):{width:0,height:0},Ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:WA(),te=Ee[z],ue=Ee[W],le=Vc(0,P[k],ce[k]),Fe=w?P[k]/2-B-le-te-x.mainAxis:Y-le-te-x.mainAxis,pe=w?-P[k]/2+B+le+ue+x.mainAxis:Q+le+ue+x.mainAxis,be=t.elements.arrow&&ih(t.elements.arrow),Le=be?b==="y"?be.clientTop||0:be.clientLeft||0:0,X=(K=F==null?void 0:F[b])!=null?K:0,ie=I+Fe-X-Le,Ce=I+pe-X,Re=Vc(g?uf(V,ie):V,I,g?Pl(_,Ce):_);E[b]=Re,G[b]=Re-I}if(l){var he,Se=b==="x"?Vn:Hn,Te=b==="x"?Ri:Ti,De=E[T],ye=T==="y"?"height":"width",Ae=De+C[Se],Ve=De-C[Te],Ke=[Vn,Hn].indexOf(v)!==-1,ge=(he=F==null?void 0:F[T])!=null?he:0,$e=Ke?Ae:De-P[ye]-A[ye]-ge+x.altAxis,et=Ke?De+P[ye]+A[ye]-ge-x.altAxis:Ve,dt=g&&Ke?U$($e,De,et):Vc(g?$e:Ae,De,g?et:Ve);E[T]=dt,G[T]=dt-De}t.modifiersData[n]=G}}var yW={name:"preventOverflow",enabled:!0,phase:"main",fn:CW,requiresIfExists:["offset"]};function wW(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function bW(e){return e===Qi(e)||!Ci(e)?fw(e):wW(e)}function SW(e){var t=e.getBoundingClientRect(),s=Cu(t.width)/e.offsetWidth||1,n=Cu(t.height)/e.offsetHeight||1;return s!==1||n!==1}function EW(e,t,s){s===void 0&&(s=!1);var n=Ci(t),i=Ci(t)&&SW(t),o=qr(t),r=yu(e,i),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!s)&&((go(t)!=="body"||mw(o))&&(l=bW(t)),Ci(t)?(a=yu(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):o&&(a.x=gw(o))),{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function RW(e){var t=new Map,s=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){s.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(l){if(!s.has(l)){var a=t.get(l);a&&i(a)}}),n.push(o)}return e.forEach(function(o){s.has(o.name)||i(o)}),n}function TW(e){var t=RW(e);return H$.reduce(function(s,n){return s.concat(t.filter(function(i){return i.phase===n}))},[])}function DW(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}function AW(e){var t=e.reduce(function(s,n){var i=s[n.name];return s[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,s},{});return Object.keys(t).map(function(s){return t[s]})}var c0={placement:"bottom",modifiers:[],strategy:"absolute"};function d0(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function vw(e){e===void 0&&(e={});var t=e,s=t.defaultModifiers,n=s===void 0?[]:s,i=t.defaultOptions,o=i===void 0?c0:i;return function(r,l,a){a===void 0&&(a=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},c0,o),modifiersData:{},elements:{reference:r,popper:l},attributes:{},styles:{}},h=[],d=!1,p={state:c,setOptions:function(f){var C=typeof f=="function"?f(c.options):f;m(),c.options=Object.assign({},o,c.options,C),c.scrollParents={reference:vu(r)?Hc(r):r.contextElement?Hc(r.contextElement):[],popper:Hc(l)};var v=TW(AW([].concat(n,c.options.modifiers)));return c.orderedModifiers=v.filter(function(y){return y.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var f=c.elements,C=f.reference,v=f.popper;if(d0(C,v)){c.rects={reference:EW(C,ih(v),c.options.strategy==="fixed"),popper:hw(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(A){return c.modifiersData[A.name]=Object.assign({},A.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var w=c.orderedModifiers[y],b=w.fn,T=w.options,E=T===void 0?{}:T,P=w.name;typeof b=="function"&&(c=b({state:c,options:E,name:P,instance:p})||c)}}}},update:DW(function(){return new Promise(function(f){p.forceUpdate(),f(c)})}),destroy:function(){m(),d=!0}};if(!d0(r,l))return p;p.setOptions(a).then(function(f){!d&&a.onFirstUpdate&&a.onFirstUpdate(f)});function g(){c.orderedModifiers.forEach(function(f){var C=f.name,v=f.options,y=v===void 0?{}:v,w=f.effect;if(typeof w=="function"){var b=w({state:c,name:C,instance:p,options:y}),T=function(){};h.push(b||T)}})}function m(){h.forEach(function(f){return f()}),h=[]}return p}}vw();var PW=[jA,XA,KA,BA];vw({defaultModifiers:PW});var OW=[jA,XA,KA,BA,gW,cW,yW,q$,hW],_W=vw({defaultModifiers:OW});const MW=(e,t,s={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:a})=>{const c=IW(a);Object.assign(r.value,c)},requires:["computeStyles"]},i=R(()=>{const{onFirstUpdate:a,placement:c,strategy:h,modifiers:d}=u(s);return{onFirstUpdate:a,placement:c||"bottom",strategy:h||"absolute",modifiers:[...d||[],n,{name:"applyStyles",enabled:!1}]}}),o=ts(),r=L({styles:{popper:{position:u(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return ve(i,a=>{const c=u(o);c&&c.setOptions(a)},{deep:!0}),ve([e,t],([a,c])=>{l(),!(!a||!c)&&(o.value=_W(a,c,u(i)))}),Jt(()=>{l()}),{state:R(()=>{var a;return{...((a=u(o))==null?void 0:a.state)||{}}}),styles:R(()=>u(r).styles),attributes:R(()=>u(r).attributes),update:()=>{var a;return(a=u(o))==null?void 0:a.update()},forceUpdate:()=>{var a;return(a=u(o))==null?void 0:a.forceUpdate()},instanceRef:R(()=>u(o))}};function IW(e){const t=Object.keys(e.elements),s=af(t.map(i=>[i,e.styles[i]||{}])),n=af(t.map(i=>[i,e.attributes[i]]));return{styles:s,attributes:n}}const Cw=e=>{if(!e)return{onClick:$t,onMousedown:$t,onMouseup:$t};let t=!1,s=!1;return{onClick:r=>{t&&s&&e(r),t=s=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{s=r.target===r.currentTarget}}},FW=(e,t=0)=>{if(t===0)return e;const s=L(!1);let n=0;const i=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{s.value=e.value},t)};return at(i),ve(()=>e.value,o=>{o?i():s.value=o}),s};function h0(){let e;const t=(n,i)=>{s(),e=window.setTimeout(n,i)},s=()=>window.clearTimeout(e);return Qd(()=>s()),{registerTimeout:t,cancelTimeout:s}}const p0={prefix:Math.floor(Math.random()*1e4),current:0},LW=Symbol("elIdInjection"),yw=()=>ct()?Be(LW,p0):p0,dn=e=>{const t=yw(),s=aw();return R(()=>u(e)||`${s.value}-id-${t.prefix}-${t.current++}`)};let La=[];const f0=e=>{const t=e;t.key===Ye.esc&&La.forEach(s=>s(t))},NW=e=>{at(()=>{La.length===0&&document.addEventListener("keydown",f0),At&&La.push(e)}),Jt(()=>{La=La.filter(t=>t!==e),La.length===0&&At&&document.removeEventListener("keydown",f0)})};let g0;const QA=()=>{const e=aw(),t=yw(),s=R(()=>`${e.value}-popper-container-${t.prefix}`),n=R(()=>`#${s.value}`);return{id:s,selector:n}},xW=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},kW=()=>{const{id:e,selector:t}=QA();return sg(()=>{At&&!g0&&!document.body.querySelector(t.value)&&(g0=xW(e.value))}),{id:e,selector:t}},GW=Oe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),VW=({showAfter:e,hideAfter:t,autoClose:s,open:n,close:i})=>{const{registerTimeout:o}=h0(),{registerTimeout:r,cancelTimeout:l}=h0();return{onOpen:h=>{o(()=>{n(h);const d=u(s);tt(d)&&d>0&&r(()=>{i(h)},d)},u(e))},onClose:h=>{l(),o(()=>{i(h)},u(t))}}},ZA=Symbol("elForwardRef"),HW=e=>{Et(ZA,{setForwardRef:s=>{e.value=s}})},BW=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),m0={current:0},v0=L(0),JA=2e3,C0=Symbol("elZIndexContextKey"),eP=Symbol("zIndexContextKey"),Yu=e=>{const t=ct()?Be(C0,m0):m0,s=e||(ct()?Be(eP,void 0):void 0),n=R(()=>{const r=u(s);return tt(r)?r:JA}),i=R(()=>n.value+v0.value),o=()=>(t.current++,v0.value=t.current,i.value);return!At&&Be(C0),{initialZIndex:n,currentZIndex:i,nextZIndex:o}},bu=Math.min,Ol=Math.max,cf=Math.round,jh=Math.floor,Gr=e=>({x:e,y:e}),$W={left:"right",right:"left",bottom:"top",top:"bottom"},WW={start:"end",end:"start"};function kv(e,t,s){return Ol(e,bu(t,s))}function oh(e,t){return typeof e=="function"?e(t):e}function zl(e){return e.split("-")[0]}function rh(e){return e.split("-")[1]}function tP(e){return e==="x"?"y":"x"}function ww(e){return e==="y"?"height":"width"}function vg(e){return["top","bottom"].includes(zl(e))?"y":"x"}function bw(e){return tP(vg(e))}function zW(e,t,s){s===void 0&&(s=!1);const n=rh(e),i=bw(e),o=ww(i);let r=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=df(r)),[r,df(r)]}function UW(e){const t=df(e);return[Gv(e),t,Gv(t)]}function Gv(e){return e.replace(/start|end/g,t=>WW[t])}function KW(e,t,s){const n=["left","right"],i=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:n:t?n:i;case"left":case"right":return t?o:r;default:return[]}}function jW(e,t,s,n){const i=rh(e);let o=KW(zl(e),s==="start",n);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(Gv)))),o}function df(e){return e.replace(/left|right|bottom|top/g,t=>$W[t])}function YW(e){return{top:0,right:0,bottom:0,left:0,...e}}function sP(e){return typeof e!="number"?YW(e):{top:e,right:e,bottom:e,left:e}}function hf(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function y0(e,t,s){let{reference:n,floating:i}=e;const o=vg(t),r=bw(t),l=ww(r),a=zl(t),c=o==="y",h=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let g;switch(a){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:d};break;case"left":g={x:n.x-i.width,y:d};break;default:g={x:n.x,y:n.y}}switch(rh(t)){case"start":g[r]-=p*(s&&c?-1:1);break;case"end":g[r]+=p*(s&&c?-1:1);break}return g}const qW=async(e,t,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:r}=s,l=o.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:d}=y0(c,n,a),p=n,g={},m=0;for(let f=0;f<l.length;f++){const{name:C,fn:v}=l[f],{x:y,y:w,data:b,reset:T}=await v({x:h,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:g,rects:c,platform:r,elements:{reference:e,floating:t}});h=y??h,d=w??d,g={...g,[C]:{...g[C],...b}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:h,y:d}=y0(c,p,a)),f=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:g}};async function Sw(e,t){var s;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:r,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=oh(t,e),m=sP(g),C=l[p?d==="floating"?"reference":"floating":d],v=hf(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(C)))==null||s?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:a})),y=d==="floating"?{...r.floating,x:n,y:i}:r.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=hf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:a}):y);return{top:(v.top-T.top+m.top)/b.y,bottom:(T.bottom-v.bottom+m.bottom)/b.y,left:(v.left-T.left+m.left)/b.x,right:(T.right-v.right+m.right)/b.x}}const XW=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:i,rects:o,platform:r,elements:l,middlewareData:a}=t,{element:c,padding:h=0}=oh(e,t)||{};if(c==null)return{};const d=sP(h),p={x:s,y:n},g=bw(i),m=ww(g),f=await r.getDimensions(c),C=g==="y",v=C?"top":"left",y=C?"bottom":"right",w=C?"clientHeight":"clientWidth",b=o.reference[m]+o.reference[g]-p[g]-o.floating[m],T=p[g]-o.reference[g],E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c));let P=E?E[w]:0;(!P||!await(r.isElement==null?void 0:r.isElement(E)))&&(P=l.floating[w]||o.floating[m]);const A=b/2-T/2,N=P/2-f[m]/2-1,x=bu(d[v],N),F=bu(d[y],N),G=x,K=P-f[m]-F,z=P/2-f[m]/2+A,W=kv(G,z,K),k=!a.arrow&&rh(i)!=null&&z!==W&&o.reference[m]/2-(z<G?x:F)-f[m]/2<0,I=k?z<G?z-G:z-K:0;return{[g]:p[g]+I,data:{[g]:W,centerOffset:z-W-I,...k&&{alignmentOffset:I}},reset:k}}}),QW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:i,middlewareData:o,rects:r,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...C}=oh(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const v=zl(i),y=zl(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),b=p||(y||!f?[df(l)]:UW(l));!p&&m!=="none"&&b.push(...jW(l,f,m,w));const T=[l,...b],E=await Sw(t,C),P=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&P.push(E[v]),d){const G=zW(i,r,w);P.push(E[G[0]],E[G[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(G=>G<=0)){var N,x;const G=(((N=o.flip)==null?void 0:N.index)||0)+1,K=T[G];if(K)return{data:{index:G,overflows:A},reset:{placement:K}};let z=(x=A.filter(W=>W.overflows[0]<=0).sort((W,k)=>W.overflows[1]-k.overflows[1])[0])==null?void 0:x.placement;if(!z)switch(g){case"bestFit":{var F;const W=(F=A.map(k=>[k.placement,k.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((k,I)=>k[1]-I[1])[0])==null?void 0:F[0];W&&(z=W);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};async function ZW(e,t){const{placement:s,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),r=zl(s),l=rh(s),a=vg(s)==="y",c=["left","top"].includes(r)?-1:1,h=o&&a?-1:1,d=oh(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),a?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const nP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:i,y:o,placement:r,middlewareData:l}=t,a=await ZW(t,e);return r===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:r}}}}},JW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:l={fn:C=>{let{x:v,y}=C;return{x:v,y}}},...a}=oh(e,t),c={x:s,y:n},h=await Sw(t,a),d=vg(zl(i)),p=tP(d);let g=c[p],m=c[d];if(o){const C=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=g+h[C],w=g-h[v];g=kv(y,g,w)}if(r){const C=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=m+h[C],w=m-h[v];m=kv(y,m,w)}const f=l.fn({...t,[p]:g,[d]:m});return{...f,data:{x:f.x-s,y:f.y-n}}}}};function Vr(e){return iP(e)?(e.nodeName||"").toLowerCase():"#document"}function si(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(iP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iP(e){return e instanceof Node||e instanceof si(e).Node}function zo(e){return e instanceof Element||e instanceof si(e).Element}function mo(e){return e instanceof HTMLElement||e instanceof si(e).HTMLElement}function w0(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof si(e).ShadowRoot}function lh(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Di(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(i)}function ez(e){return["table","td","th"].includes(Vr(e))}function Ew(e){const t=Rw(),s=Di(e);return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function tz(e){let t=Su(e);for(;mo(t)&&!Cg(t);){if(Ew(t))return t;t=Su(t)}return null}function Rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cg(e){return["html","body","#document"].includes(Vr(e))}function Di(e){return si(e).getComputedStyle(e)}function yg(e){return zo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Su(e){if(Vr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||w0(e)&&e.host||er(e);return w0(t)?t.host:t}function oP(e){const t=Su(e);return Cg(t)?e.ownerDocument?e.ownerDocument.body:e.body:mo(t)&&lh(t)?t:oP(t)}function ad(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=oP(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),r=si(i);return o?t.concat(r,r.visualViewport||[],lh(i)?i:[],r.frameElement&&s?ad(r.frameElement):[]):t.concat(i,ad(i,[],s))}function rP(e){const t=Di(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=mo(e),o=i?e.offsetWidth:s,r=i?e.offsetHeight:n,l=cf(s)!==o||cf(n)!==r;return l&&(s=o,n=r),{width:s,height:n,$:l}}function Tw(e){return zo(e)?e:e.contextElement}function Ja(e){const t=Tw(e);if(!mo(t))return Gr(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:o}=rP(t);let r=(o?cf(s.width):s.width)/n,l=(o?cf(s.height):s.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const sz=Gr(0);function lP(e){const t=si(e);return!Rw()||!t.visualViewport?sz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nz(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==si(e)?!1:t}function Ul(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),o=Tw(e);let r=Gr(1);t&&(n?zo(n)&&(r=Ja(n)):r=Ja(e));const l=nz(o,s,n)?lP(o):Gr(0);let a=(i.left+l.x)/r.x,c=(i.top+l.y)/r.y,h=i.width/r.x,d=i.height/r.y;if(o){const p=si(o),g=n&&zo(n)?si(n):n;let m=p,f=m.frameElement;for(;f&&n&&g!==m;){const C=Ja(f),v=f.getBoundingClientRect(),y=Di(f),w=v.left+(f.clientLeft+parseFloat(y.paddingLeft))*C.x,b=v.top+(f.clientTop+parseFloat(y.paddingTop))*C.y;a*=C.x,c*=C.y,h*=C.x,d*=C.y,a+=w,c+=b,m=si(f),f=m.frameElement}}return hf({width:h,height:d,x:a,y:c})}const iz=[":popover-open",":modal"];function aP(e){return iz.some(t=>{try{return e.matches(t)}catch{return!1}})}function oz(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const o=i==="fixed",r=er(n),l=t?aP(t.floating):!1;if(n===r||l&&o)return s;let a={scrollLeft:0,scrollTop:0},c=Gr(1);const h=Gr(0),d=mo(n);if((d||!d&&!o)&&((Vr(n)!=="body"||lh(r))&&(a=yg(n)),mo(n))){const p=Ul(n);c=Ja(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-a.scrollLeft*c.x+h.x,y:s.y*c.y-a.scrollTop*c.y+h.y}}function rz(e){return Array.from(e.getClientRects())}function uP(e){return Ul(er(e)).left+yg(e).scrollLeft}function lz(e){const t=er(e),s=yg(e),n=e.ownerDocument.body,i=Ol(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ol(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let r=-s.scrollLeft+uP(e);const l=-s.scrollTop;return Di(n).direction==="rtl"&&(r+=Ol(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:r,y:l}}function az(e,t){const s=si(e),n=er(e),i=s.visualViewport;let o=n.clientWidth,r=n.clientHeight,l=0,a=0;if(i){o=i.width,r=i.height;const c=Rw();(!c||c&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:r,x:l,y:a}}function uz(e,t){const s=Ul(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,o=mo(e)?Ja(e):Gr(1),r=e.clientWidth*o.x,l=e.clientHeight*o.y,a=i*o.x,c=n*o.y;return{width:r,height:l,x:a,y:c}}function b0(e,t,s){let n;if(t==="viewport")n=az(e,s);else if(t==="document")n=lz(er(e));else if(zo(t))n=uz(t,s);else{const i=lP(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return hf(n)}function cP(e,t){const s=Su(e);return s===t||!zo(s)||Cg(s)?!1:Di(s).position==="fixed"||cP(s,t)}function cz(e,t){const s=t.get(e);if(s)return s;let n=ad(e,[],!1).filter(l=>zo(l)&&Vr(l)!=="body"),i=null;const o=Di(e).position==="fixed";let r=o?Su(e):e;for(;zo(r)&&!Cg(r);){const l=Di(r),a=Ew(r);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lh(r)&&!a&&cP(e,r))?n=n.filter(h=>h!==r):i=l,r=Su(r)}return t.set(e,n),n}function dz(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const r=[...s==="clippingAncestors"?cz(t,this._c):[].concat(s),n],l=r[0],a=r.reduce((c,h)=>{const d=b0(t,h,i);return c.top=Ol(d.top,c.top),c.right=bu(d.right,c.right),c.bottom=bu(d.bottom,c.bottom),c.left=Ol(d.left,c.left),c},b0(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function hz(e){const{width:t,height:s}=rP(e);return{width:t,height:s}}function pz(e,t,s){const n=mo(t),i=er(t),o=s==="fixed",r=Ul(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const a=Gr(0);if(n||!n&&!o)if((Vr(t)!=="body"||lh(i))&&(l=yg(t)),n){const d=Ul(t,!0,o,t);a.x=d.x+t.clientLeft,a.y=d.y+t.clientTop}else i&&(a.x=uP(i));const c=r.left+l.scrollLeft-a.x,h=r.top+l.scrollTop-a.y;return{x:c,y:h,width:r.width,height:r.height}}function S0(e,t){return!mo(e)||Di(e).position==="fixed"?null:t?t(e):e.offsetParent}function dP(e,t){const s=si(e);if(!mo(e)||aP(e))return s;let n=S0(e,t);for(;n&&ez(n)&&Di(n).position==="static";)n=S0(n,t);return n&&(Vr(n)==="html"||Vr(n)==="body"&&Di(n).position==="static"&&!Ew(n))?s:n||tz(e)||s}const fz=async function(e){const t=this.getOffsetParent||dP,s=this.getDimensions;return{reference:pz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await s(e.floating)}}};function gz(e){return Di(e).direction==="rtl"}const mz={convertOffsetParentRelativeRectToViewportRelativeRect:oz,getDocumentElement:er,getClippingRect:dz,getOffsetParent:dP,getElementRects:fz,getClientRects:rz,getDimensions:hz,getScale:Ja,isElement:zo,isRTL:gz};function vz(e,t){let s=null,n;const i=er(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:c,top:h,width:d,height:p}=e.getBoundingClientRect();if(l||t(),!d||!p)return;const g=jh(h),m=jh(i.clientWidth-(c+d)),f=jh(i.clientHeight-(h+p)),C=jh(c),y={rootMargin:-g+"px "+-m+"px "+-f+"px "+-C+"px",threshold:Ol(0,bu(1,a))||1};let w=!0;function b(T){const E=T[0].intersectionRatio;if(E!==a){if(!w)return r();E?r(!1,E):n=setTimeout(()=>{r(!1,1e-7)},100)}w=!1}try{s=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch{s=new IntersectionObserver(b,y)}s.observe(e)}return r(!0),o}function Cz(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,c=Tw(e),h=i||o?[...c?ad(c):[],...ad(t)]:[];h.forEach(v=>{i&&v.addEventListener("scroll",s,{passive:!0}),o&&v.addEventListener("resize",s)});const d=c&&l?vz(c,s):null;let p=-1,g=null;r&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),s()}),c&&!a&&g.observe(c),g.observe(t));let m,f=a?Ul(e):null;a&&C();function C(){const v=Ul(e);f&&(v.x!==f.x||v.y!==f.y||v.width!==f.width||v.height!==f.height)&&s(),f=v,m=requestAnimationFrame(C)}return s(),()=>{var v;h.forEach(y=>{i&&y.removeEventListener("scroll",s),o&&y.removeEventListener("resize",s)}),d==null||d(),(v=g)==null||v.disconnect(),g=null,a&&cancelAnimationFrame(m)}}const yz=JW,wz=QW,hP=XW,pP=(e,t,s)=>{const n=new Map,i={platform:mz,...s},o={...i.platform,_c:n};return qW(e,t,{...i,platform:o})};Oe({});const bz=e=>{if(!At)return;if(!e)return e;const t=Nn(e);return t||(ns(e)?t:e)},Sz=({middleware:e,placement:t,strategy:s})=>{const n=L(),i=L(),o=L(),r=L(),l=L({}),a={x:o,y:r,placement:t,strategy:s,middlewareData:l},c=async()=>{if(!At)return;const h=bz(n),d=Nn(i);if(!h||!d)return;const p=await pP(h,d,{placement:u(t),strategy:u(s),middleware:u(e)});pu(a).forEach(g=>{a[g].value=p[g]})};return at(()=>{sn(()=>{c()})}),{...a,update:c,referenceRef:n,contentRef:i}},Ez=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(s){const n=u(e);return n?hP({element:n,padding:t}).fn(s):{}}});function Rz(e){const t=L();function s(){if(e.value==null)return;const{selectionStart:i,selectionEnd:o,value:r}=e.value;if(i==null||o==null)return;const l=r.slice(0,Math.max(0,i)),a=r.slice(Math.max(0,o));t.value={selectionStart:i,selectionEnd:o,value:r,beforeTxt:l,afterTxt:a}}function n(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:o,afterTxt:r,selectionStart:l}=t.value;if(o==null||r==null||l==null)return;let a=i.length;if(i.endsWith(r))a=i.length-r.length;else if(i.startsWith(o))a=o.length;else{const c=o[l-1],h=i.indexOf(c,l-1);h!==-1&&(a=h+1)}e.value.setSelectionRange(a,a)}return[s,n]}const Tz=(e,t,s)=>Or(e.subTree).filter(o=>{var r;return us(o)&&((r=o.type)==null?void 0:r.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>s[o]).filter(o=>!!o),Dw=(e,t)=>{const s={},n=ts([]);return{children:n,addChild:r=>{s[r.uid]=r,n.value=Tz(e,t,s)},removeChild:r=>{delete s[r],n.value=n.value.filter(l=>l.uid!==r)}}},Us=Xi({type:String,values:Ro,required:!1}),fP=Symbol("size"),Dz=()=>{const e=Be(fP,{});return R(()=>u(e.size)||"")};function wg(e,{afterFocus:t,beforeBlur:s,afterBlur:n}={}){const i=ct(),{emit:o}=i,r=ts(),l=L(!1),a=d=>{l.value||(l.value=!0,o("focus",d),t==null||t())},c=d=>{var p;nt(s)&&s(d)||d.relatedTarget&&((p=r.value)!=null&&p.contains(d.relatedTarget))||(l.value=!1,o("blur",d),n==null||n())},h=()=>{var d;(d=e.value)==null||d.focus()};return ve(r,d=>{d&&d.setAttribute("tabindex","-1")}),ls(r,"click",h),{wrapperRef:r,isFocused:l,handleFocus:a,handleBlur:c}}const gP=Symbol(),pf=L();function bg(e,t=void 0){const s=ct()?Be(gP,pf):pf;return e?R(()=>{var n,i;return(i=(n=s.value)==null?void 0:n[e])!=null?i:t}):s}function Sg(e,t){const s=bg(),n=we(e,R(()=>{var l;return((l=s.value)==null?void 0:l.namespace)||Gc})),i=Ft(R(()=>{var l;return(l=s.value)==null?void 0:l.locale})),o=Yu(R(()=>{var l;return((l=s.value)==null?void 0:l.zIndex)||JA})),r=R(()=>{var l;return u(t)||((l=s.value)==null?void 0:l.size)||""});return Aw(R(()=>u(s)||{})),{ns:n,locale:i,zIndex:o,size:r}}const Aw=(e,t,s=!1)=>{var n;const i=!!ct(),o=i?bg():void 0,r=(n=t==null?void 0:t.provide)!=null?n:i?Et:void 0;if(!r)return;const l=R(()=>{const a=u(e);return o!=null&&o.value?Az(o.value,a):a});return r(gP,l),r(xA,R(()=>l.value.locale)),r(kA,R(()=>l.value.namespace)),r(eP,R(()=>l.value.zIndex)),r(fP,{size:R(()=>l.value.size||"")}),(s||!pf.value)&&(pf.value=l.value),l},Az=(e,t)=>{var s;const n=[...new Set([...pu(e),...pu(t)])],i={};for(const o of n)i[o]=(s=t[o])!=null?s:e[o];return i},Pz=Oe({a11y:{type:Boolean,default:!0},locale:{type:J(Object)},size:Us,button:{type:J(Object)},experimentalFeatures:{type:J(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:J(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),Vv={},Oz=j({name:"ElConfigProvider",props:Pz,setup(e,{slots:t}){ve(()=>e.message,n=>{Object.assign(Vv,n??{})},{immediate:!0,deep:!0});const s=Aw(e);return()=>ae(t,"default",{config:s==null?void 0:s.value})}}),_z=ft(Oz),Mz="2.6.3",Iz=(e=[])=>({version:Mz,install:(s,n)=>{s[t0]||(s[t0]=!0,e.forEach(i=>s.use(i)),n&&Aw(n,s,!0))}}),Fz=Oe({zIndex:{type:J([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),Lz={scroll:({scrollTop:e,fixed:t})=>tt(e)&&Os(t),[as]:e=>Os(e)};var _e=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s};const mP="ElAffix",Nz=j({name:mP}),xz=j({...Nz,props:Fz,emits:Lz,setup(e,{expose:t,emit:s}){const n=e,i=we("affix"),o=ts(),r=ts(),l=ts(),{height:a}=fk(),{height:c,width:h,top:d,bottom:p,update:g}=gE(r,{windowScroll:!1}),m=gE(o),f=L(!1),C=L(0),v=L(0),y=R(()=>({height:f.value?`${c.value}px`:"",width:f.value?`${h.value}px`:""})),w=R(()=>{if(!f.value)return{};const E=n.offset?Ds(n.offset):0;return{height:`${c.value}px`,width:`${h.value}px`,top:n.position==="top"?E:"",bottom:n.position==="bottom"?E:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:n.zIndex}}),b=()=>{if(l.value)if(C.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0,n.position==="top")if(n.target){const E=m.bottom.value-n.offset-c.value;f.value=n.offset>d.value&&m.bottom.value>0,v.value=E<0?E:0}else f.value=n.offset>d.value;else if(n.target){const E=a.value-m.top.value-n.offset-c.value;f.value=a.value-n.offset<p.value&&a.value>m.top.value,v.value=E<0?-E:0}else f.value=a.value-n.offset<p.value},T=()=>{g(),s("scroll",{scrollTop:C.value,fixed:f.value})};return ve(f,E=>s("change",E)),at(()=>{var E;n.target?(o.value=(E=document.querySelector(n.target))!=null?E:void 0,o.value||Ns(mP,`Target is not existed: ${n.target}`)):o.value=document.documentElement,l.value=Zy(r.value,!0),g()}),ls(l,"scroll",T),sn(b),t({update:b,updateRoot:g}),(E,P)=>(D(),$("div",{ref_key:"root",ref:r,class:O(u(i).b()),style:je(u(y))},[U("div",{class:O({[u(i).m("fixed")]:f.value}),style:je(u(w))},[ae(E.$slots,"default")],6)],6))}});var kz=_e(xz,[["__file","affix.vue"]]);const Gz=ft(kz),Vz=Oe({size:{type:J([Number,String])},color:{type:String}}),Hz=j({name:"ElIcon",inheritAttrs:!1}),Bz=j({...Hz,props:Vz,setup(e){const t=e,s=we("icon"),n=R(()=>{const{size:i,color:o}=t;return!i&&!o?{}:{fontSize:Ps(i)?void 0:Ds(i),"--color":o}});return(i,o)=>(D(),$("i",bt({class:u(s).b(),style:u(n)},i.$attrs),[ae(i.$slots,"default")],16))}});var $z=_e(Bz,[["__file","icon.vue"]]);const Ue=ft($z),Wz=["light","dark"],zz=Oe({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:pu(kr),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Wz,default:"light"}}),Uz={close:e=>e instanceof MouseEvent},Kz=j({name:"ElAlert"}),jz=j({...Kz,props:zz,emits:Uz,setup(e,{emit:t}){const s=e,{Close:n}=iw,i=Ys(),o=we("alert"),r=L(!0),l=R(()=>kr[s.type]),a=R(()=>[o.e("icon"),{[o.is("big")]:!!s.description||!!i.default}]),c=R(()=>({"with-description":s.description||i.default})),h=d=>{r.value=!1,t("close",d)};return(d,p)=>(D(),re(Ls,{name:u(o).b("fade"),persisted:""},{default:Z(()=>[lt(U("div",{class:O([u(o).b(),u(o).m(d.type),u(o).is("center",d.center),u(o).is(d.effect)]),role:"alert"},[d.showIcon&&u(l)?(D(),re(u(Ue),{key:0,class:O(u(a))},{default:Z(()=>[(D(),re(Ct(u(l))))]),_:1},8,["class"])):se("v-if",!0),U("div",{class:O(u(o).e("content"))},[d.title||d.$slots.title?(D(),$("span",{key:0,class:O([u(o).e("title"),u(c)])},[ae(d.$slots,"title",{},()=>[_t(Me(d.title),1)])],2)):se("v-if",!0),d.$slots.default||d.description?(D(),$("p",{key:1,class:O(u(o).e("description"))},[ae(d.$slots,"default",{},()=>[_t(Me(d.description),1)])],2)):se("v-if",!0),d.closable?(D(),$(qe,{key:2},[d.closeText?(D(),$("div",{key:0,class:O([u(o).e("close-btn"),u(o).is("customed")]),onClick:h},Me(d.closeText),3)):(D(),re(u(Ue),{key:1,class:O(u(o).e("close-btn")),onClick:h},{default:Z(()=>[q(u(n))]),_:1},8,["class"]))],64)):se("v-if",!0)],2)],2),[[Lt,r.value]])]),_:3},8,["name"]))}});var Yz=_e(jz,[["__file","alert.vue"]]);const qz=ft(Yz),ha=Symbol("formContextKey"),vo=Symbol("formItemContextKey"),xs=(e,t={})=>{const s=L(void 0),n=t.prop?s:VA("size"),i=t.global?s:Dz(),o=t.form?{size:void 0}:Be(ha,void 0),r=t.formItem?{size:void 0}:Be(vo,void 0);return R(()=>n.value||u(e)||(r==null?void 0:r.size)||(o==null?void 0:o.size)||i.value||"")},Wn=e=>{const t=VA("disabled"),s=Be(ha,void 0);return R(()=>t.value||u(e)||(s==null?void 0:s.disabled)||!1)},Dn=()=>{const e=Be(ha,void 0),t=Be(vo,void 0);return{form:e,formItem:t}},To=(e,{formItemContext:t,disableIdGeneration:s,disableIdManagement:n})=>{s||(s=L(!1)),n||(n=L(!1));const i=L();let o;const r=R(()=>{var l;return!!(!e.label&&t&&t.inputIds&&((l=t.inputIds)==null?void 0:l.length)<=1)});return at(()=>{o=ve([Yt(e,"id"),s],([l,a])=>{const c=l??(a?void 0:dn().value);c!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(n!=null&&n.value)&&!a&&c&&t.addInputId(c)),i.value=c)},{immediate:!0})}),Kr(()=>{o&&o(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:r,inputId:i}},Xz=Oe({size:{type:String,values:Ro},disabled:Boolean}),Qz=Oe({...Xz,model:Object,rules:{type:J(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Zz={validate:(e,t,s)=>(ke(e)||rt(e))&&Os(t)&&rt(s)};function Jz(){const e=L([]),t=R(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function s(o){const r=e.value.indexOf(o);return r===-1&&t.value,r}function n(o,r){if(o&&r){const l=s(r);e.value.splice(l,1,o)}else o&&e.value.push(o)}function i(o){const r=s(o);r>-1&&e.value.splice(r,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:i}}const Yh=(e,t)=>{const s=Bl(t);return s.length>0?e.filter(n=>n.prop&&s.includes(n.prop)):e},e3="ElForm",t3=j({name:e3}),s3=j({...t3,props:Qz,emits:Zz,setup(e,{expose:t,emit:s}){const n=e,i=[],o=xs(),r=we("form"),l=R(()=>{const{labelPosition:w,inline:b}=n;return[r.b(),r.m(o.value||"default"),{[r.m(`label-${w}`)]:w,[r.m("inline")]:b}]}),a=w=>i.find(b=>b.prop===w),c=w=>{i.push(w)},h=w=>{w.prop&&i.splice(i.indexOf(w),1)},d=(w=[])=>{n.model&&Yh(i,w).forEach(b=>b.resetField())},p=(w=[])=>{Yh(i,w).forEach(b=>b.clearValidate())},g=R(()=>!!n.model),m=w=>{if(i.length===0)return[];const b=Yh(i,w);return b.length?b:[]},f=async w=>v(void 0,w),C=async(w=[])=>{if(!g.value)return!1;const b=m(w);if(b.length===0)return!0;let T={};for(const E of b)try{await E.validate("")}catch(P){T={...T,...P}}return Object.keys(T).length===0?!0:Promise.reject(T)},v=async(w=[],b)=>{const T=!nt(b);try{const E=await C(w);return E===!0&&(b==null||b(E)),E}catch(E){if(E instanceof Error)throw E;const P=E;return n.scrollToError&&y(Object.keys(P)[0]),b==null||b(!1,P),T&&Promise.reject(P)}},y=w=>{var b;const T=Yh(i,w)[0];T&&((b=T.$el)==null||b.scrollIntoView(n.scrollIntoViewOptions))};return ve(()=>n.rules,()=>{n.validateOnRuleChange&&f().catch(w=>void 0)},{deep:!0}),Et(ha,Gt({...Zs(n),emit:s,resetFields:d,clearValidate:p,validateField:v,getField:a,addField:c,removeField:h,...Jz()})),t({validate:f,validateField:v,resetFields:d,clearValidate:p,scrollToField:y}),(w,b)=>(D(),$("form",{class:O(u(l))},[ae(w.$slots,"default")],2))}});var n3=_e(s3,[["__file","form.vue"]]);function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},gl.apply(this,arguments)}function i3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ud(e,t)}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Hv(e)}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ud(e,t)}function o3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(e,t,s){return o3()?yp=Reflect.construct.bind():yp=function(i,o,r){var l=[null];l.push.apply(l,o);var a=Function.bind.apply(i,l),c=new a;return r&&ud(c,r.prototype),c},yp.apply(null,arguments)}function r3(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Bv(e){var t=typeof Map=="function"?new Map:void 0;return Bv=function(n){if(n===null||!r3(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return yp(n,arguments,Hv(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ud(i,n)},Bv(e)}var l3=/%[sdj%]/g,a3=function(){};function $v(e){if(!e||!e.length)return null;var t={};return e.forEach(function(s){var n=s.field;t[n]=t[n]||[],t[n].push(s)}),t}function Zn(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];var i=0,o=s.length;if(typeof e=="function")return e.apply(null,s);if(typeof e=="string"){var r=e.replace(l3,function(l){if(l==="%%")return"%";if(i>=o)return l;switch(l){case"%s":return String(s[i++]);case"%d":return Number(s[i++]);case"%j":try{return JSON.stringify(s[i++])}catch{return"[Circular]"}break;default:return l}});return r}return e}function u3(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ks(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||u3(t)&&typeof e=="string"&&!e)}function c3(e,t,s){var n=[],i=0,o=e.length;function r(l){n.push.apply(n,l||[]),i++,i===o&&s(n)}e.forEach(function(l){t(l,r)})}function E0(e,t,s){var n=0,i=e.length;function o(r){if(r&&r.length){s(r);return}var l=n;n=n+1,l<i?t(e[l],o):s([])}o([])}function d3(e){var t=[];return Object.keys(e).forEach(function(s){t.push.apply(t,e[s]||[])}),t}var R0=function(e){i3(t,e);function t(s,n){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=s,i.fields=n,i}return t}(Bv(Error));function h3(e,t,s,n,i){if(t.first){var o=new Promise(function(p,g){var m=function(v){return n(v),v.length?g(new R0(v,$v(v))):p(i)},f=d3(e);E0(f,s,m)});return o.catch(function(p){return p}),o}var r=t.firstFields===!0?Object.keys(e):t.firstFields||[],l=Object.keys(e),a=l.length,c=0,h=[],d=new Promise(function(p,g){var m=function(C){if(h.push.apply(h,C),c++,c===a)return n(h),h.length?g(new R0(h,$v(h))):p(i)};l.length||(n(h),p(i)),l.forEach(function(f){var C=e[f];r.indexOf(f)!==-1?E0(C,s,m):c3(C,s,m)})});return d.catch(function(p){return p}),d}function p3(e){return!!(e&&e.message!==void 0)}function f3(e,t){for(var s=e,n=0;n<t.length;n++){if(s==null)return s;s=s[t[n]]}return s}function T0(e,t){return function(s){var n;return e.fullFields?n=f3(t,e.fullFields):n=t[s.field||e.fullField],p3(s)?(s.field=s.field||e.fullField,s.fieldValue=n,s):{message:typeof s=="function"?s():s,fieldValue:n,field:s.field||e.fullField}}}function D0(e,t){if(t){for(var s in t)if(t.hasOwnProperty(s)){var n=t[s];typeof n=="object"&&typeof e[s]=="object"?e[s]=gl({},e[s],n):e[s]=n}}return e}var vP=function(t,s,n,i,o,r){t.required&&(!n.hasOwnProperty(t.field)||Ks(s,r||t.type))&&i.push(Zn(o.messages.required,t.fullField))},g3=function(t,s,n,i,o){(/^\s+$/.test(s)||s==="")&&i.push(Zn(o.messages.whitespace,t.fullField))},qh,m3=function(){if(qh)return qh;var e="[a-fA-F\\d:]",t=function(b){return b&&b.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},s="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+s+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+s+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+s+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+s+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+s+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+s+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+s+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+s+"$)|(?:^"+i+"$)"),r=new RegExp("^"+s+"$"),l=new RegExp("^"+i+"$"),a=function(b){return b&&b.exact?o:new RegExp("(?:"+t(b)+s+t(b)+")|(?:"+t(b)+i+t(b)+")","g")};a.v4=function(w){return w&&w.exact?r:new RegExp(""+t(w)+s+t(w),"g")},a.v6=function(w){return w&&w.exact?l:new RegExp(""+t(w)+i+t(w),"g")};var c="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",d=a.v4().source,p=a.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",C="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+h+"(?:localhost|"+d+"|"+p+"|"+g+m+f+")"+C+v;return qh=new RegExp("(?:^"+y+"$)","i"),qh},A0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Sc={integer:function(t){return Sc.number(t)&&parseInt(t,10)===t},float:function(t){return Sc.number(t)&&!Sc.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Sc.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(A0.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(m3())},hex:function(t){return typeof t=="string"&&!!t.match(A0.hex)}},v3=function(t,s,n,i,o){if(t.required&&s===void 0){vP(t,s,n,i,o);return}var r=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=t.type;r.indexOf(l)>-1?Sc[l](s)||i.push(Zn(o.messages.types[l],t.fullField,t.type)):l&&typeof s!==t.type&&i.push(Zn(o.messages.types[l],t.fullField,t.type))},C3=function(t,s,n,i,o){var r=typeof t.len=="number",l=typeof t.min=="number",a=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=s,d=null,p=typeof s=="number",g=typeof s=="string",m=Array.isArray(s);if(p?d="number":g?d="string":m&&(d="array"),!d)return!1;m&&(h=s.length),g&&(h=s.replace(c,"_").length),r?h!==t.len&&i.push(Zn(o.messages[d].len,t.fullField,t.len)):l&&!a&&h<t.min?i.push(Zn(o.messages[d].min,t.fullField,t.min)):a&&!l&&h>t.max?i.push(Zn(o.messages[d].max,t.fullField,t.max)):l&&a&&(h<t.min||h>t.max)&&i.push(Zn(o.messages[d].range,t.fullField,t.min,t.max))},Oa="enum",y3=function(t,s,n,i,o){t[Oa]=Array.isArray(t[Oa])?t[Oa]:[],t[Oa].indexOf(s)===-1&&i.push(Zn(o.messages[Oa],t.fullField,t[Oa].join(", ")))},w3=function(t,s,n,i,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(s)||i.push(Zn(o.messages.pattern.mismatch,t.fullField,s,t.pattern));else if(typeof t.pattern=="string"){var r=new RegExp(t.pattern);r.test(s)||i.push(Zn(o.messages.pattern.mismatch,t.fullField,s,t.pattern))}}},jt={required:vP,whitespace:g3,type:v3,range:C3,enum:y3,pattern:w3},b3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s,"string")&&!t.required)return n();jt.required(t,s,i,r,o,"string"),Ks(s,"string")||(jt.type(t,s,i,r,o),jt.range(t,s,i,r,o),jt.pattern(t,s,i,r,o),t.whitespace===!0&&jt.whitespace(t,s,i,r,o))}n(r)},S3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&jt.type(t,s,i,r,o)}n(r)},E3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(s===""&&(s=void 0),Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&(jt.type(t,s,i,r,o),jt.range(t,s,i,r,o))}n(r)},R3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&jt.type(t,s,i,r,o)}n(r)},T3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),Ks(s)||jt.type(t,s,i,r,o)}n(r)},D3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&(jt.type(t,s,i,r,o),jt.range(t,s,i,r,o))}n(r)},A3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&(jt.type(t,s,i,r,o),jt.range(t,s,i,r,o))}n(r)},P3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(s==null&&!t.required)return n();jt.required(t,s,i,r,o,"array"),s!=null&&(jt.type(t,s,i,r,o),jt.range(t,s,i,r,o))}n(r)},O3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&jt.type(t,s,i,r,o)}n(r)},_3="enum",M3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o),s!==void 0&&jt[_3](t,s,i,r,o)}n(r)},I3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s,"string")&&!t.required)return n();jt.required(t,s,i,r,o),Ks(s,"string")||jt.pattern(t,s,i,r,o)}n(r)},F3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s,"date")&&!t.required)return n();if(jt.required(t,s,i,r,o),!Ks(s,"date")){var a;s instanceof Date?a=s:a=new Date(s),jt.type(t,a,i,r,o),a&&jt.range(t,a.getTime(),i,r,o)}}n(r)},L3=function(t,s,n,i,o){var r=[],l=Array.isArray(s)?"array":typeof s;jt.required(t,s,i,r,o,l),n(r)},_m=function(t,s,n,i,o){var r=t.type,l=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Ks(s,r)&&!t.required)return n();jt.required(t,s,i,l,o,r),Ks(s,r)||jt.type(t,s,i,l,o)}n(l)},N3=function(t,s,n,i,o){var r=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ks(s)&&!t.required)return n();jt.required(t,s,i,r,o)}n(r)},Bc={string:b3,method:S3,number:E3,boolean:R3,regexp:T3,integer:D3,float:A3,array:P3,object:O3,enum:M3,pattern:I3,date:F3,url:_m,hex:_m,email:_m,required:L3,any:N3};function Wv(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var zv=Wv(),ah=function(){function e(s){this.rules=null,this._messages=zv,this.define(s)}var t=e.prototype;return t.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(o){var r=n[o];i.rules[o]=Array.isArray(r)?r:[r]})},t.messages=function(n){return n&&(this._messages=D0(Wv(),n)),this._messages},t.validate=function(n,i,o){var r=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var l=n,a=i,c=o;if(typeof a=="function"&&(c=a,a={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,l),Promise.resolve(l);function h(f){var C=[],v={};function y(b){if(Array.isArray(b)){var T;C=(T=C).concat.apply(T,b)}else C.push(b)}for(var w=0;w<f.length;w++)y(f[w]);C.length?(v=$v(C),c(C,v)):c(null,l)}if(a.messages){var d=this.messages();d===zv&&(d=Wv()),D0(d,a.messages),a.messages=d}else a.messages=this.messages();var p={},g=a.keys||Object.keys(this.rules);g.forEach(function(f){var C=r.rules[f],v=l[f];C.forEach(function(y){var w=y;typeof w.transform=="function"&&(l===n&&(l=gl({},l)),v=l[f]=w.transform(v)),typeof w=="function"?w={validator:w}:w=gl({},w),w.validator=r.getValidationMethod(w),w.validator&&(w.field=f,w.fullField=w.fullField||f,w.type=r.getType(w),p[f]=p[f]||[],p[f].push({rule:w,value:v,source:l,field:f}))})});var m={};return h3(p,a,function(f,C){var v=f.rule,y=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");y=y&&(v.required||!v.required&&f.value),v.field=f.field;function w(E,P){return gl({},P,{fullField:v.fullField+"."+E,fullFields:v.fullFields?[].concat(v.fullFields,[E]):[E]})}function b(E){E===void 0&&(E=[]);var P=Array.isArray(E)?E:[E];!a.suppressWarning&&P.length&&e.warning("async-validator:",P),P.length&&v.message!==void 0&&(P=[].concat(v.message));var A=P.map(T0(v,l));if(a.first&&A.length)return m[v.field]=1,C(A);if(!y)C(A);else{if(v.required&&!f.value)return v.message!==void 0?A=[].concat(v.message).map(T0(v,l)):a.error&&(A=[a.error(v,Zn(a.messages.required,v.field))]),C(A);var N={};v.defaultField&&Object.keys(f.value).map(function(G){N[G]=v.defaultField}),N=gl({},N,f.rule.fields);var x={};Object.keys(N).forEach(function(G){var K=N[G],z=Array.isArray(K)?K:[K];x[G]=z.map(w.bind(null,G))});var F=new e(x);F.messages(a.messages),f.rule.options&&(f.rule.options.messages=a.messages,f.rule.options.error=a.error),F.validate(f.value,f.rule.options||a,function(G){var K=[];A&&A.length&&K.push.apply(K,A),G&&G.length&&K.push.apply(K,G),C(K.length?K:null)})}}var T;if(v.asyncValidator)T=v.asyncValidator(v,f.value,b,f.source,a);else if(v.validator){try{T=v.validator(v,f.value,b,f.source,a)}catch(E){console.error==null||console.error(E),a.suppressValidatorError||setTimeout(function(){throw E},0),b(E.message)}T===!0?b():T===!1?b(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):T instanceof Array?b(T):T instanceof Error&&b(T.message)}T&&T.then&&T.then(function(){return b()},function(E){return b(E)})},function(f){h(f)},l)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Bc.hasOwnProperty(n.type))throw new Error(Zn("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Bc.required:Bc[this.getType(n)]||void 0},e}();ah.register=function(t,s){if(typeof s!="function")throw new Error("Cannot register a validator by type, validator is not a function");Bc[t]=s};ah.warning=a3;ah.messages=zv;ah.validators=Bc;const x3=["","error","validating","success"],k3=Oe({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:J([String,Array])},required:{type:Boolean,default:void 0},rules:{type:J([Object,Array])},error:String,validateStatus:{type:String,values:x3},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Ro}}),P0="ElLabelWrap";var G3=j({name:P0,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const s=Be(ha,void 0),n=Be(vo);n||Ns(P0,"usage: <el-form-item><label-wrap /></el-form-item>");const i=we("form"),o=L(),r=L(0),l=()=>{var h;if((h=o.value)!=null&&h.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},a=(h="update")=>{Xe(()=>{t.default&&e.isAutoWidth&&(h==="update"?r.value=l():h==="remove"&&(s==null||s.deregisterLabelWidth(r.value)))})},c=()=>a("update");return at(()=>{c()}),Jt(()=>{a("remove")}),Xo(()=>c()),ve(r,(h,d)=>{e.updateAll&&(s==null||s.registerLabelWidth(h,d))}),fs(R(()=>{var h,d;return(d=(h=o.value)==null?void 0:h.firstElementChild)!=null?d:null}),c),()=>{var h,d;if(!t)return null;const{isAutoWidth:p}=e;if(p){const g=s==null?void 0:s.autoLabelWidth,m=n==null?void 0:n.hasLabel,f={};if(m&&g&&g!=="auto"){const C=Math.max(0,Number.parseInt(g,10)-r.value),v=s.labelPosition==="left"?"marginRight":"marginLeft";C&&(f[v]=`${C}px`)}return q("div",{ref:o,class:[i.be("item","label-wrap")],style:f},[(h=t.default)==null?void 0:h.call(t)])}else return q(qe,{ref:o},[(d=t.default)==null?void 0:d.call(t)])}}});const V3=["role","aria-labelledby"],H3=j({name:"ElFormItem"}),B3=j({...H3,props:k3,setup(e,{expose:t}){const s=e,n=Ys(),i=Be(ha,void 0),o=Be(vo,void 0),r=xs(void 0,{formItem:!1}),l=we("form-item"),a=dn().value,c=L([]),h=L(""),d=Qx(h,100),p=L(""),g=L();let m,f=!1;const C=R(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const ue=Ds(s.labelWidth||(i==null?void 0:i.labelWidth)||"");return ue?{width:ue}:{}}),v=R(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!s.label&&!s.labelWidth&&N)return{};const ue=Ds(s.labelWidth||(i==null?void 0:i.labelWidth)||"");return!s.label&&!n.label?{marginLeft:ue}:{}}),y=R(()=>[l.b(),l.m(r.value),l.is("error",h.value==="error"),l.is("validating",h.value==="validating"),l.is("success",h.value==="success"),l.is("required",z.value||s.required),l.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[l.m("feedback")]:i==null?void 0:i.statusIcon}]),w=R(()=>Os(s.inlineMessage)?s.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),b=R(()=>[l.e("error"),{[l.em("error","inline")]:w.value}]),T=R(()=>s.prop?rt(s.prop)?s.prop:s.prop.join("."):""),E=R(()=>!!(s.label||n.label)),P=R(()=>s.for||(c.value.length===1?c.value[0]:void 0)),A=R(()=>!P.value&&E.value),N=!!o,x=R(()=>{const ue=i==null?void 0:i.model;if(!(!ue||!s.prop))return vp(ue,s.prop).value}),F=R(()=>{const{required:ue}=s,le=[];s.rules&&le.push(...Bl(s.rules));const Fe=i==null?void 0:i.rules;if(Fe&&s.prop){const pe=vp(Fe,s.prop).value;pe&&le.push(...Bl(pe))}if(ue!==void 0){const pe=le.map((be,Le)=>[be,Le]).filter(([be])=>Object.keys(be).includes("required"));if(pe.length>0)for(const[be,Le]of pe)be.required!==ue&&(le[Le]={...be,required:ue});else le.push({required:ue})}return le}),G=R(()=>F.value.length>0),K=ue=>F.value.filter(Fe=>!Fe.trigger||!ue?!0:Array.isArray(Fe.trigger)?Fe.trigger.includes(ue):Fe.trigger===ue).map(({trigger:Fe,...pe})=>pe),z=R(()=>F.value.some(ue=>ue.required)),W=R(()=>{var ue;return d.value==="error"&&s.showMessage&&((ue=i==null?void 0:i.showMessage)!=null?ue:!0)}),k=R(()=>`${s.label||""}${(i==null?void 0:i.labelSuffix)||""}`),I=ue=>{h.value=ue},V=ue=>{var le,Fe;const{errors:pe,fields:be}=ue;(!pe||!be)&&console.error(ue),I("error"),p.value=pe?(Fe=(le=pe==null?void 0:pe[0])==null?void 0:le.message)!=null?Fe:`${s.prop} is required`:"",i==null||i.emit("validate",s.prop,!1,p.value)},_=()=>{I("success"),i==null||i.emit("validate",s.prop,!0,"")},B=async ue=>{const le=T.value;return new ah({[le]:ue}).validate({[le]:x.value},{firstFields:!0}).then(()=>(_(),!0)).catch(pe=>(V(pe),Promise.reject(pe)))},Y=async(ue,le)=>{if(f||!s.prop)return!1;const Fe=nt(le);if(!G.value)return le==null||le(!1),!1;const pe=K(ue);return pe.length===0?(le==null||le(!0),!0):(I("validating"),B(pe).then(()=>(le==null||le(!0),!0)).catch(be=>{const{fields:Le}=be;return le==null||le(!1,Le),Fe?!1:Promise.reject(Le)}))},Q=()=>{I(""),p.value="",f=!1},ee=async()=>{const ue=i==null?void 0:i.model;if(!ue||!s.prop)return;const le=vp(ue,s.prop);f=!0,le.value=jE(m),await Xe(),Q(),f=!1},ce=ue=>{c.value.includes(ue)||c.value.push(ue)},Ee=ue=>{c.value=c.value.filter(le=>le!==ue)};ve(()=>s.error,ue=>{p.value=ue||"",I(ue?"error":"")},{immediate:!0}),ve(()=>s.validateStatus,ue=>I(ue||""));const te=Gt({...Zs(s),$el:g,size:r,validateState:h,labelId:a,inputIds:c,isGroup:A,hasLabel:E,fieldValue:x,addInputId:ce,removeInputId:Ee,resetField:ee,clearValidate:Q,validate:Y});return Et(vo,te),at(()=>{s.prop&&(i==null||i.addField(te),m=jE(x.value))}),Jt(()=>{i==null||i.removeField(te)}),t({size:r,validateMessage:p,validateState:h,validate:Y,clearValidate:Q,resetField:ee}),(ue,le)=>{var Fe;return D(),$("div",{ref_key:"formItemRef",ref:g,class:O(u(y)),role:u(A)?"group":void 0,"aria-labelledby":u(A)?u(a):void 0},[q(u(G3),{"is-auto-width":u(C).width==="auto","update-all":((Fe=u(i))==null?void 0:Fe.labelWidth)==="auto"},{default:Z(()=>[u(E)?(D(),re(Ct(u(P)?"label":"div"),{key:0,id:u(a),for:u(P),class:O(u(l).e("label")),style:je(u(C))},{default:Z(()=>[ae(ue.$slots,"label",{label:u(k)},()=>[_t(Me(u(k)),1)])]),_:3},8,["id","for","class","style"])):se("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),U("div",{class:O(u(l).e("content")),style:je(u(v))},[ae(ue.$slots,"default"),q(RD,{name:`${u(l).namespace.value}-zoom-in-top`},{default:Z(()=>[u(W)?ae(ue.$slots,"error",{key:0,error:p.value},()=>[U("div",{class:O(u(b))},Me(p.value),3)]):se("v-if",!0)]),_:3},8,["name"])],6)],10,V3)}}});var CP=_e(B3,[["__file","form-item.vue"]]);const $3=ft(n3,{FormItem:CP}),W3=hs(CP);let Fi;const z3=`
  height:0 !important;
  visibility:hidden !important;
  ${kD()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,U3=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function K3(e){const t=window.getComputedStyle(e),s=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:U3.map(r=>`${r}:${t.getPropertyValue(r)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:s}}function O0(e,t=1,s){var n;Fi||(Fi=document.createElement("textarea"),document.body.appendChild(Fi));const{paddingSize:i,borderSize:o,boxSizing:r,contextStyle:l}=K3(e);Fi.setAttribute("style",`${l};${z3}`),Fi.value=e.value||e.placeholder||"";let a=Fi.scrollHeight;const c={};r==="border-box"?a=a+o:r==="content-box"&&(a=a-i),Fi.value="";const h=Fi.scrollHeight-i;if(tt(t)){let d=h*t;r==="border-box"&&(d=d+i+o),a=Math.max(d,a),c.minHeight=`${d}px`}if(tt(s)){let d=h*s;r==="border-box"&&(d=d+i+o),a=Math.min(d,a)}return c.height=`${a}px`,(n=Fi.parentNode)==null||n.removeChild(Fi),Fi=void 0,c}const j3=Oe({id:{type:String,default:void 0},size:Us,disabled:Boolean,modelValue:{type:J([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:J([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Kt},prefixIcon:{type:Kt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:J([Object,Array,String]),default:()=>ds({})},autofocus:{type:Boolean,default:!1}}),Y3={[vt]:e=>rt(e),input:e=>rt(e),change:e=>rt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},q3=["role"],X3=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Q3=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Z3=j({name:"ElInput",inheritAttrs:!1}),J3=j({...Z3,props:j3,emits:Y3,setup(e,{expose:t,emit:s}){const n=e,i=ra(),o=Ys(),r=R(()=>{const ge={};return n.containerRole==="combobox"&&(ge["aria-haspopup"]=i["aria-haspopup"],ge["aria-owns"]=i["aria-owns"],ge["aria-expanded"]=i["aria-expanded"]),ge}),l=R(()=>[n.type==="textarea"?C.b():f.b(),f.m(g.value),f.is("disabled",m.value),f.is("exceed",ce.value),{[f.b("group")]:o.prepend||o.append,[f.bm("group","append")]:o.append,[f.bm("group","prepend")]:o.prepend,[f.m("prefix")]:o.prefix||n.prefixIcon,[f.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[f.bm("suffix","password-clear")]:B.value&&Y.value,[f.b("hidden")]:n.type==="hidden"},i.class]),a=R(()=>[f.e("wrapper"),f.is("focus",x.value)]),c=lw({excludeKeys:R(()=>Object.keys(r.value))}),{form:h,formItem:d}=Dn(),{inputId:p}=To(n,{formItemContext:d}),g=xs(),m=Wn(),f=we("input"),C=we("textarea"),v=ts(),y=ts(),w=L(!1),b=L(!1),T=L(!1),E=L(),P=ts(n.inputStyle),A=R(()=>v.value||y.value),{wrapperRef:N,isFocused:x,handleFocus:F,handleBlur:G}=wg(A,{afterBlur(){var ge;n.validateEvent&&((ge=d==null?void 0:d.validate)==null||ge.call(d,"blur").catch($e=>void 0))}}),K=R(()=>{var ge;return(ge=h==null?void 0:h.statusIcon)!=null?ge:!1}),z=R(()=>(d==null?void 0:d.validateState)||""),W=R(()=>z.value&&ow[z.value]),k=R(()=>T.value?l$:MB),I=R(()=>[i.style]),V=R(()=>[n.inputStyle,P.value,{resize:n.resize}]),_=R(()=>Is(n.modelValue)?"":String(n.modelValue)),B=R(()=>n.clearable&&!m.value&&!n.readonly&&!!_.value&&(x.value||w.value)),Y=R(()=>n.showPassword&&!m.value&&!n.readonly&&!!_.value&&(!!_.value||x.value)),Q=R(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!m.value&&!n.readonly&&!n.showPassword),ee=R(()=>_.value.length),ce=R(()=>!!Q.value&&ee.value>Number(n.maxlength)),Ee=R(()=>!!o.suffix||!!n.suffixIcon||B.value||n.showPassword||Q.value||!!z.value&&K.value),[te,ue]=Rz(v);fs(y,ge=>{if(pe(),!Q.value||n.resize!=="both")return;const $e=ge[0],{width:et}=$e.contentRect;E.value={right:`calc(100% - ${et+15+6}px)`}});const le=()=>{const{type:ge,autosize:$e}=n;if(!(!At||ge!=="textarea"||!y.value))if($e){const et=yt($e)?$e.minRows:void 0,dt=yt($e)?$e.maxRows:void 0,wt=O0(y.value,et,dt);P.value={overflowY:"hidden",...wt},Xe(()=>{y.value.offsetHeight,P.value=wt})}else P.value={minHeight:O0(y.value).minHeight}},pe=(ge=>{let $e=!1;return()=>{var et;if($e||!n.autosize)return;((et=y.value)==null?void 0:et.offsetParent)===null||(ge(),$e=!0)}})(le),be=()=>{const ge=A.value,$e=n.formatter?n.formatter(_.value):_.value;!ge||ge.value===$e||(ge.value=$e)},Le=async ge=>{te();let{value:$e}=ge.target;if(n.formatter&&($e=n.parser?n.parser($e):$e),!b.value){if($e===_.value){be();return}s(vt,$e),s("input",$e),await Xe(),be(),ue()}},X=ge=>{s("change",ge.target.value)},ie=ge=>{s("compositionstart",ge),b.value=!0},Ce=ge=>{var $e;s("compositionupdate",ge);const et=($e=ge.target)==null?void 0:$e.value,dt=et[et.length-1]||"";b.value=!rw(dt)},Re=ge=>{s("compositionend",ge),b.value&&(b.value=!1,Le(ge))},he=()=>{T.value=!T.value,Se()},Se=async()=>{var ge;await Xe(),(ge=A.value)==null||ge.focus()},Te=()=>{var ge;return(ge=A.value)==null?void 0:ge.blur()},De=ge=>{w.value=!1,s("mouseleave",ge)},ye=ge=>{w.value=!0,s("mouseenter",ge)},Ae=ge=>{s("keydown",ge)},Ve=()=>{var ge;(ge=A.value)==null||ge.select()},Ke=()=>{s(vt,""),s("change",""),s("clear"),s("input","")};return ve(()=>n.modelValue,()=>{var ge;Xe(()=>le()),n.validateEvent&&((ge=d==null?void 0:d.validate)==null||ge.call(d,"change").catch($e=>void 0))}),ve(_,()=>be()),ve(()=>n.type,async()=>{await Xe(),be(),le()}),at(()=>{!n.formatter&&n.parser,be(),Xe(le)}),t({input:v,textarea:y,ref:A,textareaStyle:V,autosize:Yt(n,"autosize"),focus:Se,blur:Te,select:Ve,clear:Ke,resizeTextarea:le}),(ge,$e)=>(D(),$("div",bt(u(r),{class:u(l),style:u(I),role:ge.containerRole,onMouseenter:ye,onMouseleave:De}),[se(" input "),ge.type!=="textarea"?(D(),$(qe,{key:0},[se(" prepend slot "),ge.$slots.prepend?(D(),$("div",{key:0,class:O(u(f).be("group","prepend"))},[ae(ge.$slots,"prepend")],2)):se("v-if",!0),U("div",{ref_key:"wrapperRef",ref:N,class:O(u(a))},[se(" prefix slot "),ge.$slots.prefix||ge.prefixIcon?(D(),$("span",{key:0,class:O(u(f).e("prefix"))},[U("span",{class:O(u(f).e("prefix-inner"))},[ae(ge.$slots,"prefix"),ge.prefixIcon?(D(),re(u(Ue),{key:0,class:O(u(f).e("icon"))},{default:Z(()=>[(D(),re(Ct(ge.prefixIcon)))]),_:1},8,["class"])):se("v-if",!0)],2)],2)):se("v-if",!0),U("input",bt({id:u(p),ref_key:"input",ref:v,class:u(f).e("inner")},u(c),{minlength:ge.minlength,maxlength:ge.maxlength,type:ge.showPassword?T.value?"text":"password":ge.type,disabled:u(m),readonly:ge.readonly,autocomplete:ge.autocomplete,tabindex:ge.tabindex,"aria-label":ge.label,placeholder:ge.placeholder,style:ge.inputStyle,form:ge.form,autofocus:ge.autofocus,onCompositionstart:ie,onCompositionupdate:Ce,onCompositionend:Re,onInput:Le,onFocus:$e[0]||($e[0]=(...et)=>u(F)&&u(F)(...et)),onBlur:$e[1]||($e[1]=(...et)=>u(G)&&u(G)(...et)),onChange:X,onKeydown:Ae}),null,16,X3),se(" suffix slot "),u(Ee)?(D(),$("span",{key:1,class:O(u(f).e("suffix"))},[U("span",{class:O(u(f).e("suffix-inner"))},[!u(B)||!u(Y)||!u(Q)?(D(),$(qe,{key:0},[ae(ge.$slots,"suffix"),ge.suffixIcon?(D(),re(u(Ue),{key:0,class:O(u(f).e("icon"))},{default:Z(()=>[(D(),re(Ct(ge.suffixIcon)))]),_:1},8,["class"])):se("v-if",!0)],64)):se("v-if",!0),u(B)?(D(),re(u(Ue),{key:1,class:O([u(f).e("icon"),u(f).e("clear")]),onMousedown:st(u($t),["prevent"]),onClick:Ke},{default:Z(()=>[q(u(jr))]),_:1},8,["class","onMousedown"])):se("v-if",!0),u(Y)?(D(),re(u(Ue),{key:2,class:O([u(f).e("icon"),u(f).e("password")]),onClick:he},{default:Z(()=>[(D(),re(Ct(u(k))))]),_:1},8,["class"])):se("v-if",!0),u(Q)?(D(),$("span",{key:3,class:O(u(f).e("count"))},[U("span",{class:O(u(f).e("count-inner"))},Me(u(ee))+" / "+Me(ge.maxlength),3)],2)):se("v-if",!0),u(z)&&u(W)&&u(K)?(D(),re(u(Ue),{key:4,class:O([u(f).e("icon"),u(f).e("validateIcon"),u(f).is("loading",u(z)==="validating")])},{default:Z(()=>[(D(),re(Ct(u(W))))]),_:1},8,["class"])):se("v-if",!0)],2)],2)):se("v-if",!0)],2),se(" append slot "),ge.$slots.append?(D(),$("div",{key:1,class:O(u(f).be("group","append"))},[ae(ge.$slots,"append")],2)):se("v-if",!0)],64)):(D(),$(qe,{key:1},[se(" textarea "),U("textarea",bt({id:u(p),ref_key:"textarea",ref:y,class:u(C).e("inner")},u(c),{minlength:ge.minlength,maxlength:ge.maxlength,tabindex:ge.tabindex,disabled:u(m),readonly:ge.readonly,autocomplete:ge.autocomplete,style:u(V),"aria-label":ge.label,placeholder:ge.placeholder,form:ge.form,autofocus:ge.autofocus,onCompositionstart:ie,onCompositionupdate:Ce,onCompositionend:Re,onInput:Le,onFocus:$e[2]||($e[2]=(...et)=>u(F)&&u(F)(...et)),onBlur:$e[3]||($e[3]=(...et)=>u(G)&&u(G)(...et)),onChange:X,onKeydown:Ae}),null,16,Q3),u(Q)?(D(),$("span",{key:0,style:je(E.value),class:O(u(f).e("count"))},Me(u(ee))+" / "+Me(ge.maxlength),7)):se("v-if",!0)],64))],16,q3))}});var e4=_e(J3,[["__file","input.vue"]]);const an=ft(e4),_a=4,yP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},t4=({move:e,size:t,bar:s})=>({[s.size]:t,transform:`translate${s.axis}(${e}%)`}),Pw=Symbol("scrollbarContextKey"),s4=Oe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),n4="Thumb",i4=j({__name:"thumb",props:s4,setup(e){const t=e,s=Be(Pw),n=we("scrollbar");s||Ns(n4,"can not inject scrollbar context");const i=L(),o=L(),r=L({}),l=L(!1);let a=!1,c=!1,h=At?document.onselectstart:null;const d=R(()=>yP[t.vertical?"vertical":"horizontal"]),p=R(()=>t4({size:t.size,move:t.move,bar:d.value})),g=R(()=>i.value[d.value.offset]**2/s.wrapElement[d.value.scrollSize]/t.ratio/o.value[d.value.offset]),m=E=>{var P;if(E.stopPropagation(),E.ctrlKey||[1,2].includes(E.button))return;(P=window.getSelection())==null||P.removeAllRanges(),C(E);const A=E.currentTarget;A&&(r.value[d.value.axis]=A[d.value.offset]-(E[d.value.client]-A.getBoundingClientRect()[d.value.direction]))},f=E=>{if(!o.value||!i.value||!s.wrapElement)return;const P=Math.abs(E.target.getBoundingClientRect()[d.value.direction]-E[d.value.client]),A=o.value[d.value.offset]/2,N=(P-A)*100*g.value/i.value[d.value.offset];s.wrapElement[d.value.scroll]=N*s.wrapElement[d.value.scrollSize]/100},C=E=>{E.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),h=document.onselectstart,document.onselectstart=()=>!1},v=E=>{if(!i.value||!o.value||a===!1)return;const P=r.value[d.value.axis];if(!P)return;const A=(i.value.getBoundingClientRect()[d.value.direction]-E[d.value.client])*-1,N=o.value[d.value.offset]-P,x=(A-N)*100*g.value/i.value[d.value.offset];s.wrapElement[d.value.scroll]=x*s.wrapElement[d.value.scrollSize]/100},y=()=>{a=!1,r.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),T(),c&&(l.value=!1)},w=()=>{c=!1,l.value=!!t.size},b=()=>{c=!0,l.value=a};Jt(()=>{T(),document.removeEventListener("mouseup",y)});const T=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return ls(Yt(s,"scrollbarElement"),"mousemove",w),ls(Yt(s,"scrollbarElement"),"mouseleave",b),(E,P)=>(D(),re(Ls,{name:u(n).b("fade"),persisted:""},{default:Z(()=>[lt(U("div",{ref_key:"instance",ref:i,class:O([u(n).e("bar"),u(n).is(u(d).key)]),onMousedown:f},[U("div",{ref_key:"thumb",ref:o,class:O(u(n).e("thumb")),style:je(u(p)),onMousedown:m},null,38)],34),[[Lt,E.always||l.value]])]),_:1},8,["name"]))}});var _0=_e(i4,[["__file","thumb.vue"]]);const o4=Oe({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),r4=j({__name:"bar",props:o4,setup(e,{expose:t}){const s=e,n=Be(Pw),i=L(0),o=L(0),r=L(""),l=L(""),a=L(1),c=L(1);return t({handleScroll:p=>{if(p){const g=p.offsetHeight-_a,m=p.offsetWidth-_a;o.value=p.scrollTop*100/g*a.value,i.value=p.scrollLeft*100/m*c.value}},update:()=>{const p=n==null?void 0:n.wrapElement;if(!p)return;const g=p.offsetHeight-_a,m=p.offsetWidth-_a,f=g**2/p.scrollHeight,C=m**2/p.scrollWidth,v=Math.max(f,s.minSize),y=Math.max(C,s.minSize);a.value=f/(g-f)/(v/(g-v)),c.value=C/(m-C)/(y/(m-y)),l.value=v+_a<g?`${v}px`:"",r.value=y+_a<m?`${y}px`:""}}),(p,g)=>(D(),$(qe,null,[q(_0,{move:i.value,ratio:c.value,size:r.value,always:p.always},null,8,["move","ratio","size","always"]),q(_0,{move:o.value,ratio:a.value,size:l.value,vertical:"",always:p.always},null,8,["move","ratio","size","always"])],64))}});var l4=_e(r4,[["__file","bar.vue"]]);const a4=Oe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:J([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),u4={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(tt)},c4="ElScrollbar",d4=j({name:c4}),h4=j({...d4,props:a4,emits:u4,setup(e,{expose:t,emit:s}){const n=e,i=we("scrollbar");let o,r;const l=L(),a=L(),c=L(),h=L(),d=R(()=>{const w={};return n.height&&(w.height=Ds(n.height)),n.maxHeight&&(w.maxHeight=Ds(n.maxHeight)),[n.wrapStyle,w]}),p=R(()=>[n.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!n.native}]),g=R(()=>[i.e("view"),n.viewClass]),m=()=>{var w;a.value&&((w=h.value)==null||w.handleScroll(a.value),s("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}))};function f(w,b){yt(w)?a.value.scrollTo(w):tt(w)&&tt(b)&&a.value.scrollTo(w,b)}const C=w=>{tt(w)&&(a.value.scrollTop=w)},v=w=>{tt(w)&&(a.value.scrollLeft=w)},y=()=>{var w;(w=h.value)==null||w.update()};return ve(()=>n.noresize,w=>{w?(o==null||o(),r==null||r()):({stop:o}=fs(c,y),r=ls("resize",y))},{immediate:!0}),ve(()=>[n.maxHeight,n.height],()=>{n.native||Xe(()=>{var w;y(),a.value&&((w=h.value)==null||w.handleScroll(a.value))})}),Et(Pw,Gt({scrollbarElement:l,wrapElement:a})),at(()=>{n.native||Xe(()=>{y()})}),Xo(()=>y()),t({wrapRef:a,update:y,scrollTo:f,setScrollTop:C,setScrollLeft:v,handleScroll:m}),(w,b)=>(D(),$("div",{ref_key:"scrollbarRef",ref:l,class:O(u(i).b())},[U("div",{ref_key:"wrapRef",ref:a,class:O(u(p)),style:je(u(d)),onScroll:m},[(D(),re(Ct(w.tag),{id:w.id,ref_key:"resizeRef",ref:c,class:O(u(g)),style:je(w.viewStyle),role:w.role,"aria-label":w.ariaLabel,"aria-orientation":w.ariaOrientation},{default:Z(()=>[ae(w.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),w.native?se("v-if",!0):(D(),re(l4,{key:0,ref_key:"barRef",ref:h,always:w.always,"min-size":w.minSize},null,8,["always","min-size"]))],2))}});var p4=_e(h4,[["__file","scrollbar.vue"]]);const tr=ft(p4),Ow=Symbol("popper"),wP=Symbol("popperContent"),f4=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],bP=Oe({role:{type:String,values:f4,default:"tooltip"}}),g4=j({name:"ElPopper",inheritAttrs:!1}),m4=j({...g4,props:bP,setup(e,{expose:t}){const s=e,n=L(),i=L(),o=L(),r=L(),l=R(()=>s.role),a={triggerRef:n,popperInstanceRef:i,contentRef:o,referenceRef:r,role:l};return t(a),Et(Ow,a),(c,h)=>ae(c.$slots,"default")}});var v4=_e(m4,[["__file","popper.vue"]]);const SP=Oe({arrowOffset:{type:Number,default:5}}),C4=j({name:"ElPopperArrow",inheritAttrs:!1}),y4=j({...C4,props:SP,setup(e,{expose:t}){const s=e,n=we("popper"),{arrowOffset:i,arrowRef:o,arrowStyle:r}=Be(wP,void 0);return ve(()=>s.arrowOffset,l=>{i.value=l}),Jt(()=>{o.value=void 0}),t({arrowRef:o}),(l,a)=>(D(),$("span",{ref_key:"arrowRef",ref:o,class:O(u(n).e("arrow")),style:je(u(r)),"data-popper-arrow":""},null,6))}});var w4=_e(y4,[["__file","arrow.vue"]]);const b4="ElOnlyChild",EP=j({name:b4,setup(e,{slots:t,attrs:s}){var n;const i=Be(ZA),o=BW((n=i==null?void 0:i.setForwardRef)!=null?n:$t);return()=>{var r;const l=(r=t.default)==null?void 0:r.call(t,s);if(!l||l.length>1)return null;const a=RP(l);return a?lt($o(a,s),[[o]]):null}}});function RP(e){if(!e)return null;const t=e;for(const s of t){if(yt(s))switch(s.type){case wn:continue;case Wu:case"svg":return M0(s);case qe:return RP(s.children);default:return s}return M0(s)}return null}function M0(e){const t=we("only-child");return q("span",{class:t.e("content")},[e])}const TP=Oe({virtualRef:{type:J(Object)},virtualTriggering:Boolean,onMouseenter:{type:J(Function)},onMouseleave:{type:J(Function)},onClick:{type:J(Function)},onKeydown:{type:J(Function)},onFocus:{type:J(Function)},onBlur:{type:J(Function)},onContextmenu:{type:J(Function)},id:String,open:Boolean}),S4=j({name:"ElPopperTrigger",inheritAttrs:!1}),E4=j({...S4,props:TP,setup(e,{expose:t}){const s=e,{role:n,triggerRef:i}=Be(Ow,void 0);HW(i);const o=R(()=>l.value?s.id:void 0),r=R(()=>{if(n&&n.value==="tooltip")return s.open&&s.id?s.id:void 0}),l=R(()=>{if(n&&n.value!=="tooltip")return n.value}),a=R(()=>l.value?`${s.open}`:void 0);let c;return at(()=>{ve(()=>s.virtualRef,h=>{h&&(i.value=Nn(h))},{immediate:!0}),ve(i,(h,d)=>{c==null||c(),c=void 0,Ei(h)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(p=>{var g;const m=s[p];m&&(h.addEventListener(p.slice(2).toLowerCase(),m),(g=d==null?void 0:d.removeEventListener)==null||g.call(d,p.slice(2).toLowerCase(),m))}),c=ve([o,r,l,a],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((g,m)=>{Is(p[m])?h.removeAttribute(g):h.setAttribute(g,p[m])})},{immediate:!0})),Ei(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>d.removeAttribute(p))},{immediate:!0})}),Jt(()=>{c==null||c(),c=void 0}),t({triggerRef:i}),(h,d)=>h.virtualTriggering?se("v-if",!0):(D(),re(u(EP),bt({key:0},h.$attrs,{"aria-controls":u(o),"aria-describedby":u(r),"aria-expanded":u(a),"aria-haspopup":u(l)}),{default:Z(()=>[ae(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var R4=_e(E4,[["__file","trigger.vue"]]);const Mm="focus-trap.focus-after-trapped",Im="focus-trap.focus-after-released",T4="focus-trap.focusout-prevented",I0={cancelable:!0,bubbles:!1},D4={cancelable:!0,bubbles:!1},F0="focusAfterTrapped",L0="focusAfterReleased",_w=Symbol("elFocusTrap"),Mw=L(),Eg=L(0),Iw=L(0);let Xh=0;const DP=e=>{const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t},N0=(e,t)=>{for(const s of e)if(!A4(s,t))return s},A4=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},P4=e=>{const t=DP(e),s=N0(t,e),n=N0(t.reverse(),e);return[s,n]},O4=e=>e instanceof HTMLInputElement&&"select"in e,gr=(e,t)=>{if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),Iw.value=window.performance.now(),e!==s&&O4(e)&&t&&e.select()}};function x0(e,t){const s=[...e],n=e.indexOf(t);return n!==-1&&s.splice(n,1),s}const _4=()=>{let e=[];return{push:n=>{const i=e[0];i&&n!==i&&i.pause(),e=x0(e,n),e.unshift(n)},remove:n=>{var i,o;e=x0(e,n),(o=(i=e[0])==null?void 0:i.resume)==null||o.call(i)}}},M4=(e,t=!1)=>{const s=document.activeElement;for(const n of e)if(gr(n,t),document.activeElement!==s)return},k0=_4(),I4=()=>Eg.value>Iw.value,Qh=()=>{Mw.value="pointer",Eg.value=window.performance.now()},G0=()=>{Mw.value="keyboard",Eg.value=window.performance.now()},F4=()=>(at(()=>{Xh===0&&(document.addEventListener("mousedown",Qh),document.addEventListener("touchstart",Qh),document.addEventListener("keydown",G0)),Xh++}),Jt(()=>{Xh--,Xh<=0&&(document.removeEventListener("mousedown",Qh),document.removeEventListener("touchstart",Qh),document.removeEventListener("keydown",G0))}),{focusReason:Mw,lastUserFocusTimestamp:Eg,lastAutomatedFocusTimestamp:Iw}),Zh=e=>new CustomEvent(T4,{...D4,detail:e}),L4=j({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[F0,L0,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const s=L();let n,i;const{focusReason:o}=F4();NW(m=>{e.trapped&&!r.paused&&t("release-requested",m)});const r={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=m=>{if(!e.loop&&!e.trapped||r.paused)return;const{key:f,altKey:C,ctrlKey:v,metaKey:y,currentTarget:w,shiftKey:b}=m,{loop:T}=e,E=f===Ye.tab&&!C&&!v&&!y,P=document.activeElement;if(E&&P){const A=w,[N,x]=P4(A);if(N&&x){if(!b&&P===x){const G=Zh({focusReason:o.value});t("focusout-prevented",G),G.defaultPrevented||(m.preventDefault(),T&&gr(N,!0))}else if(b&&[N,A].includes(P)){const G=Zh({focusReason:o.value});t("focusout-prevented",G),G.defaultPrevented||(m.preventDefault(),T&&gr(x,!0))}}else if(P===A){const G=Zh({focusReason:o.value});t("focusout-prevented",G),G.defaultPrevented||m.preventDefault()}}};Et(_w,{focusTrapRef:s,onKeydown:l}),ve(()=>e.focusTrapEl,m=>{m&&(s.value=m)},{immediate:!0}),ve([s],([m],[f])=>{m&&(m.addEventListener("keydown",l),m.addEventListener("focusin",h),m.addEventListener("focusout",d)),f&&(f.removeEventListener("keydown",l),f.removeEventListener("focusin",h),f.removeEventListener("focusout",d))});const a=m=>{t(F0,m)},c=m=>t(L0,m),h=m=>{const f=u(s);if(!f)return;const C=m.target,v=m.relatedTarget,y=C&&f.contains(C);e.trapped||v&&f.contains(v)||(n=v),y&&t("focusin",m),!r.paused&&e.trapped&&(y?i=C:gr(i,!0))},d=m=>{const f=u(s);if(!(r.paused||!f))if(e.trapped){const C=m.relatedTarget;!Is(C)&&!f.contains(C)&&setTimeout(()=>{if(!r.paused&&e.trapped){const v=Zh({focusReason:o.value});t("focusout-prevented",v),v.defaultPrevented||gr(i,!0)}},0)}else{const C=m.target;C&&f.contains(C)||t("focusout",m)}};async function p(){await Xe();const m=u(s);if(m){k0.push(r);const f=m.contains(document.activeElement)?n:document.activeElement;if(n=f,!m.contains(f)){const v=new Event(Mm,I0);m.addEventListener(Mm,a),m.dispatchEvent(v),v.defaultPrevented||Xe(()=>{let y=e.focusStartEl;rt(y)||(gr(y),document.activeElement!==y&&(y="first")),y==="first"&&M4(DP(m),!0),(document.activeElement===f||y==="container")&&gr(m)})}}}function g(){const m=u(s);if(m){m.removeEventListener(Mm,a);const f=new CustomEvent(Im,{...I0,detail:{focusReason:o.value}});m.addEventListener(Im,c),m.dispatchEvent(f),!f.defaultPrevented&&(o.value=="keyboard"||!I4()||m.contains(document.activeElement))&&gr(n??document.body),m.removeEventListener(Im,c),k0.remove(r)}}return at(()=>{e.trapped&&p(),ve(()=>e.trapped,m=>{m?p():g()})}),Jt(()=>{e.trapped&&g()}),{onKeydown:l}}});function N4(e,t,s,n,i,o){return ae(e.$slots,"default",{handleKeydown:e.onKeydown})}var uh=_e(L4,[["render",N4],["__file","focus-trap.vue"]]);const x4=["fixed","absolute"],k4=Oe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:J(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:da,default:"bottom"},popperOptions:{type:J(Object),default:()=>({})},strategy:{type:String,values:x4,default:"absolute"}}),AP=Oe({...k4,id:String,style:{type:J([String,Array,Object])},className:{type:J([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:J([String,Array,Object])},popperStyle:{type:J([String,Array,Object])},referenceEl:{type:J(Object)},triggerTargetEl:{type:J(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),G4={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},V4=(e,t=[])=>{const{placement:s,strategy:n,popperOptions:i}=e,o={placement:s,strategy:n,...i,modifiers:[...B4(e),...t]};return $4(o,i==null?void 0:i.modifiers),o},H4=e=>{if(At)return Nn(e)};function B4(e){const{offset:t,gpuAcceleration:s,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:s}}]}function $4(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const W4=0,z4=e=>{const{popperInstanceRef:t,contentRef:s,triggerRef:n,role:i}=Be(Ow,void 0),o=L(),r=L(),l=R(()=>({name:"eventListeners",enabled:!!e.visible})),a=R(()=>{var v;const y=u(o),w=(v=u(r))!=null?v:W4;return{name:"arrow",enabled:!SA(y),options:{element:y,padding:w}}}),c=R(()=>({onFirstUpdate:()=>{m()},...V4(e,[u(a),u(l)])})),h=R(()=>H4(e.referenceEl)||u(n)),{attributes:d,state:p,styles:g,update:m,forceUpdate:f,instanceRef:C}=MW(h,s,c);return ve(C,v=>t.value=v),at(()=>{ve(()=>{var v;return(v=u(h))==null?void 0:v.getBoundingClientRect()},()=>{m()})}),{attributes:d,arrowRef:o,contentRef:s,instanceRef:C,state:p,styles:g,role:i,forceUpdate:f,update:m}},U4=(e,{attributes:t,styles:s,role:n})=>{const{nextZIndex:i}=Yu(),o=we("popper"),r=R(()=>u(t).popper),l=L(tt(e.zIndex)?e.zIndex:i()),a=R(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),c=R(()=>[{zIndex:u(l)},u(s).popper,e.popperStyle||{}]),h=R(()=>n.value==="dialog"?"false":void 0),d=R(()=>u(s).arrow||{});return{ariaModal:h,arrowStyle:d,contentAttrs:r,contentClass:a,contentStyle:c,contentZIndex:l,updateZIndex:()=>{l.value=tt(e.zIndex)?e.zIndex:i()}}},K4=(e,t)=>{const s=L(!1),n=L();return{focusStartRef:n,trapped:s,onFocusAfterReleased:c=>{var h;((h=c.detail)==null?void 0:h.focusReason)!=="pointer"&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:c=>{e.visible&&!s.value&&(c.target&&(n.value=c.target),s.value=!0)},onFocusoutPrevented:c=>{e.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),s.value=!1)},onReleaseRequested:()=>{s.value=!1,t("close")}}},j4=j({name:"ElPopperContent"}),Y4=j({...j4,props:AP,emits:G4,setup(e,{expose:t,emit:s}){const n=e,{focusStartRef:i,trapped:o,onFocusAfterReleased:r,onFocusAfterTrapped:l,onFocusInTrap:a,onFocusoutPrevented:c,onReleaseRequested:h}=K4(n,s),{attributes:d,arrowRef:p,contentRef:g,styles:m,instanceRef:f,role:C,update:v}=z4(n),{ariaModal:y,arrowStyle:w,contentAttrs:b,contentClass:T,contentStyle:E,updateZIndex:P}=U4(n,{styles:m,attributes:d,role:C}),A=Be(vo,void 0),N=L();Et(wP,{arrowStyle:w,arrowRef:p,arrowOffset:N}),A&&(A.addInputId||A.removeInputId)&&Et(vo,{...A,addInputId:$t,removeInputId:$t});let x;const F=(K=!0)=>{v(),K&&P()},G=()=>{F(!1),n.visible&&n.focusOnShow?o.value=!0:n.visible===!1&&(o.value=!1)};return at(()=>{ve(()=>n.triggerTargetEl,(K,z)=>{x==null||x(),x=void 0;const W=u(K||g.value),k=u(z||g.value);Ei(W)&&(x=ve([C,()=>n.ariaLabel,y,()=>n.id],I=>{["role","aria-label","aria-modal","id"].forEach((V,_)=>{Is(I[_])?W.removeAttribute(V):W.setAttribute(V,I[_])})},{immediate:!0})),k!==W&&Ei(k)&&["role","aria-label","aria-modal","id"].forEach(I=>{k.removeAttribute(I)})},{immediate:!0}),ve(()=>n.visible,G,{immediate:!0})}),Jt(()=>{x==null||x(),x=void 0}),t({popperContentRef:g,popperInstanceRef:f,updatePopper:F,contentStyle:E}),(K,z)=>(D(),$("div",bt({ref_key:"contentRef",ref:g},u(b),{style:u(E),class:u(T),tabindex:"-1",onMouseenter:z[0]||(z[0]=W=>K.$emit("mouseenter",W)),onMouseleave:z[1]||(z[1]=W=>K.$emit("mouseleave",W))}),[q(u(uh),{trapped:u(o),"trap-on-focus-in":!0,"focus-trap-el":u(g),"focus-start-el":u(i),onFocusAfterTrapped:u(l),onFocusAfterReleased:u(r),onFocusin:u(a),onFocusoutPrevented:u(c),onReleaseRequested:u(h)},{default:Z(()=>[ae(K.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var q4=_e(Y4,[["__file","content.vue"]]);const PP=ft(v4),Rg=Symbol("elTooltip"),qs=Oe({...GW,...AP,appendTo:{type:J([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:J(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),cd=Oe({...TP,disabled:Boolean,trigger:{type:J([String,Array]),default:"hover"},triggerKeys:{type:J(Array),default:()=>[Ye.enter,Ye.space]}}),{useModelToggleProps:X4,useModelToggleEmits:Q4,useModelToggle:Z4}=GA("visible"),J4=Oe({...bP,...X4,...qs,...cd,...SP,showArrow:{type:Boolean,default:!0}}),eU=[...Q4,"before-show","before-hide","show","hide","open","close"],tU=(e,t)=>ke(e)?e.includes(t):e===t,Ma=(e,t,s)=>n=>{tU(u(e),t)&&s(n)},sU=j({name:"ElTooltipTrigger"}),nU=j({...sU,props:cd,setup(e,{expose:t}){const s=e,n=we("tooltip"),{controlled:i,id:o,open:r,onOpen:l,onClose:a,onToggle:c}=Be(Rg,void 0),h=L(null),d=()=>{if(u(i)||s.disabled)return!0},p=Yt(s,"trigger"),g=ms(d,Ma(p,"hover",l)),m=ms(d,Ma(p,"hover",a)),f=ms(d,Ma(p,"click",b=>{b.button===0&&c(b)})),C=ms(d,Ma(p,"focus",l)),v=ms(d,Ma(p,"focus",a)),y=ms(d,Ma(p,"contextmenu",b=>{b.preventDefault(),c(b)})),w=ms(d,b=>{const{code:T}=b;s.triggerKeys.includes(T)&&(b.preventDefault(),c(b))});return t({triggerRef:h}),(b,T)=>(D(),re(u(R4),{id:u(o),"virtual-ref":b.virtualRef,open:u(r),"virtual-triggering":b.virtualTriggering,class:O(u(n).e("trigger")),onBlur:u(v),onClick:u(f),onContextmenu:u(y),onFocus:u(C),onMouseenter:u(g),onMouseleave:u(m),onKeydown:u(w)},{default:Z(()=>[ae(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var iU=_e(nU,[["__file","trigger.vue"]]);const oU=j({name:"ElTooltipContent",inheritAttrs:!1}),rU=j({...oU,props:qs,setup(e,{expose:t}){const s=e,{selector:n}=QA(),i=we("tooltip"),o=L(null),r=L(!1),{controlled:l,id:a,open:c,trigger:h,onClose:d,onOpen:p,onShow:g,onHide:m,onBeforeShow:f,onBeforeHide:C}=Be(Rg,void 0),v=R(()=>s.transition||`${i.namespace.value}-fade-in-linear`),y=R(()=>s.persistent);Jt(()=>{r.value=!0});const w=R(()=>u(y)?!0:u(c)),b=R(()=>s.disabled?!1:u(c)),T=R(()=>s.appendTo||n.value),E=R(()=>{var I;return(I=s.style)!=null?I:{}}),P=R(()=>!u(c)),A=()=>{m()},N=()=>{if(u(l))return!0},x=ms(N,()=>{s.enterable&&u(h)==="hover"&&p()}),F=ms(N,()=>{u(h)==="hover"&&d()}),G=()=>{var I,V;(V=(I=o.value)==null?void 0:I.updatePopper)==null||V.call(I),f==null||f()},K=()=>{C==null||C()},z=()=>{g(),k=Ly(R(()=>{var I;return(I=o.value)==null?void 0:I.popperContentRef}),()=>{if(u(l))return;u(h)!=="hover"&&d()})},W=()=>{s.virtualTriggering||d()};let k;return ve(()=>u(c),I=>{I||k==null||k()},{flush:"post"}),ve(()=>s.content,()=>{var I,V;(V=(I=o.value)==null?void 0:I.updatePopper)==null||V.call(I)}),t({contentRef:o}),(I,V)=>(D(),re($u,{disabled:!I.teleported,to:u(T)},[q(Ls,{name:u(v),onAfterLeave:A,onBeforeEnter:G,onAfterEnter:z,onBeforeLeave:K},{default:Z(()=>[u(w)?lt((D(),re(u(q4),bt({key:0,id:u(a),ref_key:"contentRef",ref:o},I.$attrs,{"aria-label":I.ariaLabel,"aria-hidden":u(P),"boundaries-padding":I.boundariesPadding,"fallback-placements":I.fallbackPlacements,"gpu-acceleration":I.gpuAcceleration,offset:I.offset,placement:I.placement,"popper-options":I.popperOptions,strategy:I.strategy,effect:I.effect,enterable:I.enterable,pure:I.pure,"popper-class":I.popperClass,"popper-style":[I.popperStyle,u(E)],"reference-el":I.referenceEl,"trigger-target-el":I.triggerTargetEl,visible:u(b),"z-index":I.zIndex,onMouseenter:u(x),onMouseleave:u(F),onBlur:W,onClose:u(d)}),{default:Z(()=>[r.value?se("v-if",!0):ae(I.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Lt,u(b)]]):se("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var lU=_e(rU,[["__file","content.vue"]]);const aU=["innerHTML"],uU={key:1},cU=j({name:"ElTooltip"}),dU=j({...cU,props:J4,emits:eU,setup(e,{expose:t,emit:s}){const n=e;kW();const i=dn(),o=L(),r=L(),l=()=>{var v;const y=u(o);y&&((v=y.popperInstanceRef)==null||v.update())},a=L(!1),c=L(),{show:h,hide:d,hasUpdateHandler:p}=Z4({indicator:a,toggleReason:c}),{onOpen:g,onClose:m}=VW({showAfter:Yt(n,"showAfter"),hideAfter:Yt(n,"hideAfter"),autoClose:Yt(n,"autoClose"),open:h,close:d}),f=R(()=>Os(n.visible)&&!p.value);Et(Rg,{controlled:f,id:i,open:Bu(a),trigger:Yt(n,"trigger"),onOpen:v=>{g(v)},onClose:v=>{m(v)},onToggle:v=>{u(a)?m(v):g(v)},onShow:()=>{s("show",c.value)},onHide:()=>{s("hide",c.value)},onBeforeShow:()=>{s("before-show",c.value)},onBeforeHide:()=>{s("before-hide",c.value)},updatePopper:l}),ve(()=>n.disabled,v=>{v&&a.value&&(a.value=!1)});const C=v=>{var y,w;const b=(w=(y=r.value)==null?void 0:y.contentRef)==null?void 0:w.popperContentRef,T=(v==null?void 0:v.relatedTarget)||document.activeElement;return b&&b.contains(T)};return QT(()=>a.value&&d()),t({popperRef:o,contentRef:r,isFocusInsideContent:C,updatePopper:l,onOpen:g,onClose:m,hide:d}),(v,y)=>(D(),re(u(PP),{ref_key:"popperRef",ref:o,role:v.role},{default:Z(()=>[q(iU,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:Z(()=>[v.$slots.default?ae(v.$slots,"default",{key:0}):se("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),q(lU,{ref_key:"contentRef",ref:r,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:Z(()=>[ae(v.$slots,"content",{},()=>[v.rawContent?(D(),$("span",{key:0,innerHTML:v.content},null,8,aU)):(D(),$("span",uU,Me(v.content),1))]),v.showArrow?(D(),re(u(w4),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):se("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var hU=_e(dU,[["__file","tooltip.vue"]]);const hn=ft(hU),pU=Oe({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:J(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:J([Function,Array]),default:$t},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:qs.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),fU={[vt]:e=>rt(e),[Sn]:e=>rt(e),[as]:e=>rt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>yt(e)},gU=["aria-expanded","aria-owns"],mU={key:0},vU=["id","aria-selected","onClick"],OP="ElAutocomplete",CU=j({name:OP,inheritAttrs:!1}),yU=j({...CU,props:pU,emits:fU,setup(e,{expose:t,emit:s}){const n=e,i=lw(),o=ra(),r=Wn(),l=we("autocomplete"),a=L(),c=L(),h=L(),d=L();let p=!1,g=!1;const m=L([]),f=L(-1),C=L(""),v=L(!1),y=L(!1),w=L(!1),b=dn(),T=R(()=>o.style),E=R(()=>(m.value.length>0||w.value)&&v.value),P=R(()=>!n.hideLoading&&w.value),A=R(()=>a.value?Array.from(a.value.$el.querySelectorAll("input")):[]),N=()=>{E.value&&(C.value=`${a.value.$el.offsetWidth}px`)},x=()=>{f.value=-1},G=$n(async te=>{if(y.value)return;const ue=le=>{w.value=!1,!y.value&&(ke(le)?(m.value=le,f.value=n.highlightFirstItem?0:-1):Ns(OP,"autocomplete suggestions must be an array"))};if(w.value=!0,ke(n.fetchSuggestions))ue(n.fetchSuggestions);else{const le=await n.fetchSuggestions(te,ue);ke(le)&&ue(le)}},n.debounce),K=te=>{const ue=!!te;if(s(Sn,te),s(vt,te),y.value=!1,v.value||(v.value=ue),!n.triggerOnFocus&&!te){y.value=!0,m.value=[];return}G(te)},z=te=>{var ue;r.value||(((ue=te.target)==null?void 0:ue.tagName)!=="INPUT"||A.value.includes(document.activeElement))&&(v.value=!0)},W=te=>{s(as,te)},k=te=>{g?g=!1:(v.value=!0,s("focus",te),n.triggerOnFocus&&!p&&G(String(n.modelValue)))},I=te=>{setTimeout(()=>{var ue;if((ue=h.value)!=null&&ue.isFocusInsideContent()){g=!0;return}v.value&&Y(),s("blur",te)})},V=()=>{v.value=!1,s(vt,""),s("clear")},_=async()=>{E.value&&f.value>=0&&f.value<m.value.length?ce(m.value[f.value]):n.selectWhenUnmatched&&(s("select",{value:n.modelValue}),m.value=[],f.value=-1)},B=te=>{E.value&&(te.preventDefault(),te.stopPropagation(),Y())},Y=()=>{v.value=!1},Q=()=>{var te;(te=a.value)==null||te.focus()},ee=()=>{var te;(te=a.value)==null||te.blur()},ce=async te=>{s(Sn,te[n.valueKey]),s(vt,te[n.valueKey]),s("select",te),m.value=[],f.value=-1},Ee=te=>{if(!E.value||w.value)return;if(te<0){f.value=-1;return}te>=m.value.length&&(te=m.value.length-1);const ue=c.value.querySelector(`.${l.be("suggestion","wrap")}`),Fe=ue.querySelectorAll(`.${l.be("suggestion","list")} li`)[te],pe=ue.scrollTop,{offsetTop:be,scrollHeight:Le}=Fe;be+Le>pe+ue.clientHeight&&(ue.scrollTop+=Le),be<pe&&(ue.scrollTop-=Le),f.value=te,a.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${f.value}`)};return Ly(d,()=>{E.value&&Y()}),at(()=>{a.value.ref.setAttribute("role","textbox"),a.value.ref.setAttribute("aria-autocomplete","list"),a.value.ref.setAttribute("aria-controls","id"),a.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${f.value}`),p=a.value.ref.hasAttribute("readonly")}),t({highlightedIndex:f,activated:v,loading:w,inputRef:a,popperRef:h,suggestions:m,handleSelect:ce,handleKeyEnter:_,focus:Q,blur:ee,close:Y,highlight:Ee}),(te,ue)=>(D(),re(u(hn),{ref_key:"popperRef",ref:h,visible:u(E),placement:te.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[u(l).e("popper"),te.popperClass],teleported:te.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${u(l).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:N,onHide:x},{content:Z(()=>[U("div",{ref_key:"regionRef",ref:c,class:O([u(l).b("suggestion"),u(l).is("loading",u(P))]),style:je({[te.fitInputWidth?"width":"minWidth"]:C.value,outline:"none"}),role:"region"},[q(u(tr),{id:u(b),tag:"ul","wrap-class":u(l).be("suggestion","wrap"),"view-class":u(l).be("suggestion","list"),role:"listbox"},{default:Z(()=>[u(P)?(D(),$("li",mU,[ae(te.$slots,"loading",{},()=>[q(u(Ue),{class:O(u(l).is("loading"))},{default:Z(()=>[q(u(Yr))]),_:1},8,["class"])])])):(D(!0),$(qe,{key:1},Dt(m.value,(le,Fe)=>(D(),$("li",{id:`${u(b)}-item-${Fe}`,key:Fe,class:O({highlighted:f.value===Fe}),role:"option","aria-selected":f.value===Fe,onClick:pe=>ce(le)},[ae(te.$slots,"default",{item:le},()=>[_t(Me(le[te.valueKey]),1)])],10,vU))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Z(()=>[U("div",{ref_key:"listboxRef",ref:d,class:O([u(l).b(),te.$attrs.class]),style:je(u(T)),role:"combobox","aria-haspopup":"listbox","aria-expanded":u(E),"aria-owns":u(b)},[q(u(an),bt({ref_key:"inputRef",ref:a},u(i),{clearable:te.clearable,disabled:u(r),name:te.name,"model-value":te.modelValue,onInput:K,onChange:W,onFocus:k,onBlur:I,onClear:V,onKeydown:[ue[0]||(ue[0]=Ut(st(le=>Ee(f.value-1),["prevent"]),["up"])),ue[1]||(ue[1]=Ut(st(le=>Ee(f.value+1),["prevent"]),["down"])),Ut(_,["enter"]),Ut(Y,["tab"]),Ut(B,["esc"])],onMousedown:z}),Bo({_:2},[te.$slots.prepend?{name:"prepend",fn:Z(()=>[ae(te.$slots,"prepend")])}:void 0,te.$slots.append?{name:"append",fn:Z(()=>[ae(te.$slots,"append")])}:void 0,te.$slots.prefix?{name:"prefix",fn:Z(()=>[ae(te.$slots,"prefix")])}:void 0,te.$slots.suffix?{name:"suffix",fn:Z(()=>[ae(te.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,gU)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var wU=_e(yU,[["__file","autocomplete.vue"]]);const bU=ft(wU),SU=Oe({size:{type:[Number,String],values:Ro,default:"",validator:e=>tt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Kt},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:J(String),default:"cover"}}),EU={error:e=>e instanceof Event},RU=["src","alt","srcset"],TU=j({name:"ElAvatar"}),DU=j({...TU,props:SU,emits:EU,setup(e,{emit:t}){const s=e,n=we("avatar"),i=L(!1),o=R(()=>{const{size:c,icon:h,shape:d}=s,p=[n.b()];return rt(c)&&p.push(n.m(c)),h&&p.push(n.m("icon")),d&&p.push(n.m(d)),p}),r=R(()=>{const{size:c}=s;return tt(c)?n.cssVarBlock({size:Ds(c)||""}):void 0}),l=R(()=>({objectFit:s.fit}));ve(()=>s.src,()=>i.value=!1);function a(c){i.value=!0,t("error",c)}return(c,h)=>(D(),$("span",{class:O(u(o)),style:je(u(r))},[(c.src||c.srcSet)&&!i.value?(D(),$("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:je(u(l)),onError:a},null,44,RU)):c.icon?(D(),re(u(Ue),{key:1},{default:Z(()=>[(D(),re(Ct(c.icon)))]),_:1})):ae(c.$slots,"default",{key:2})],6))}});var AU=_e(DU,[["__file","avatar.vue"]]);const PU=ft(AU),OU={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},_U={click:e=>e instanceof MouseEvent},MU=(e,t,s)=>{const n=ts(),i=ts(),o=L(!1),r=()=>{n.value&&(o.value=n.value.scrollTop>=e.visibilityHeight)},l=c=>{var h;(h=n.value)==null||h.scrollTo({top:0,behavior:"smooth"}),t("click",c)},a=FD(r,300,!0);return ls(i,"scroll",a),at(()=>{var c;i.value=document,n.value=document.documentElement,e.target&&(n.value=(c=document.querySelector(e.target))!=null?c:void 0,n.value||Ns(s,`target does not exist: ${e.target}`),i.value=n.value),r()}),{visible:o,handleClick:l}},_P="ElBacktop",IU=j({name:_P}),FU=j({...IU,props:OU,emits:_U,setup(e,{emit:t}){const s=e,n=we("backtop"),{handleClick:i,visible:o}=MU(s,t,_P),r=R(()=>({right:`${s.right}px`,bottom:`${s.bottom}px`}));return(l,a)=>(D(),re(Ls,{name:`${u(n).namespace.value}-fade-in`},{default:Z(()=>[u(o)?(D(),$("div",{key:0,style:je(u(r)),class:O(u(n).b()),onClick:a[0]||(a[0]=st((...c)=>u(i)&&u(i)(...c),["stop"]))},[ae(l.$slots,"default",{},()=>[q(u(Ue),{class:O(u(n).e("icon"))},{default:Z(()=>[q(u(pB))]),_:1},8,["class"])])],6)):se("v-if",!0)]),_:3},8,["name"]))}});var LU=_e(FU,[["__file","backtop.vue"]]);const NU=ft(LU),xU=Oe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String}),kU=["textContent"],GU=j({name:"ElBadge"}),VU=j({...GU,props:xU,setup(e,{expose:t}){const s=e,n=we("badge"),i=R(()=>s.isDot?"":tt(s.value)&&tt(s.max)?s.max<s.value?`${s.max}+`:s.value===0&&!s.showZero?"":`${s.value}`:`${s.value}`);return t({content:i}),(o,r)=>(D(),$("div",{class:O(u(n).b())},[ae(o.$slots,"default"),q(Ls,{name:`${u(n).namespace.value}-zoom-in-center`,persisted:""},{default:Z(()=>[lt(U("sup",{class:O([u(n).e("content"),u(n).em("content",o.type),u(n).is("fixed",!!o.$slots.default),u(n).is("dot",o.isDot)]),style:je({backgroundColor:o.color}),textContent:Me(u(i))},null,14,kU),[[Lt,!o.hidden&&(u(i)||o.isDot)]])]),_:1},8,["name"])],2))}});var HU=_e(VU,[["__file","badge.vue"]]);const MP=ft(HU),IP=Symbol("breadcrumbKey"),BU=Oe({separator:{type:String,default:"/"},separatorIcon:{type:Kt}}),$U=["aria-label"],WU=j({name:"ElBreadcrumb"}),zU=j({...WU,props:BU,setup(e){const t=e,{t:s}=Ft(),n=we("breadcrumb"),i=L();return Et(IP,t),at(()=>{const o=i.value.querySelectorAll(`.${n.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,r)=>(D(),$("div",{ref_key:"breadcrumb",ref:i,class:O(u(n).b()),"aria-label":u(s)("el.breadcrumb.label"),role:"navigation"},[ae(o.$slots,"default")],10,$U))}});var UU=_e(zU,[["__file","breadcrumb.vue"]]);const KU=Oe({to:{type:J([String,Object]),default:""},replace:{type:Boolean,default:!1}}),jU=j({name:"ElBreadcrumbItem"}),YU=j({...jU,props:KU,setup(e){const t=e,s=ct(),n=Be(IP,void 0),i=we("breadcrumb"),o=s.appContext.config.globalProperties.$router,r=L(),l=()=>{!t.to||!o||(t.replace?o.replace(t.to):o.push(t.to))};return(a,c)=>{var h,d;return D(),$("span",{class:O(u(i).e("item"))},[U("span",{ref_key:"link",ref:r,class:O([u(i).e("inner"),u(i).is("link",!!a.to)]),role:"link",onClick:l},[ae(a.$slots,"default")],2),(h=u(n))!=null&&h.separatorIcon?(D(),re(u(Ue),{key:0,class:O(u(i).e("separator"))},{default:Z(()=>[(D(),re(Ct(u(n).separatorIcon)))]),_:1},8,["class"])):(D(),$("span",{key:1,class:O(u(i).e("separator")),role:"presentation"},Me((d=u(n))==null?void 0:d.separator),3))],2)}}});var FP=_e(YU,[["__file","breadcrumb-item.vue"]]);const qU=ft(UU,{BreadcrumbItem:FP}),XU=hs(FP),LP=Symbol("buttonGroupContextKey"),QU=(e,t)=>{Al({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},R(()=>e.type==="text"));const s=Be(LP,void 0),n=bg("button"),{form:i}=Dn(),o=xs(R(()=>s==null?void 0:s.size)),r=Wn(),l=L(),a=Ys(),c=R(()=>e.type||(s==null?void 0:s.type)||""),h=R(()=>{var m,f,C;return(C=(f=e.autoInsertSpace)!=null?f:(m=n.value)==null?void 0:m.autoInsertSpace)!=null?C:!1}),d=R(()=>e.tag==="button"?{ariaDisabled:r.value||e.loading,disabled:r.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),p=R(()=>{var m;const f=(m=a.default)==null?void 0:m.call(a);if(h.value&&(f==null?void 0:f.length)===1){const C=f[0];if((C==null?void 0:C.type)===Wu){const v=C.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(v.trim())}}return!1});return{_disabled:r,_size:o,_type:c,_ref:l,_props:d,shouldAddSpace:p,handleClick:m=>{e.nativeType==="reset"&&(i==null||i.resetFields()),t("click",m)}}},Uv=["default","primary","success","warning","info","danger","text",""],ZU=["button","submit","reset"],Kv=Oe({size:Us,disabled:Boolean,type:{type:String,values:Uv,default:""},icon:{type:Kt},nativeType:{type:String,values:ZU,default:"button"},loading:Boolean,loadingIcon:{type:Kt,default:()=>Yr},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:J([String,Object]),default:"button"}}),JU={click:e=>e instanceof MouseEvent};function nn(e,t){e8(e)&&(e="100%");var s=t8(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),s&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Jh(e){return Math.min(1,Math.max(0,e))}function e8(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function t8(e){return typeof e=="string"&&e.indexOf("%")!==-1}function NP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ep(e){return e<=1?"".concat(Number(e)*100,"%"):e}function ml(e){return e.length===1?"0"+e:String(e)}function s8(e,t,s){return{r:nn(e,255)*255,g:nn(t,255)*255,b:nn(s,255)*255}}function V0(e,t,s){e=nn(e,255),t=nn(t,255),s=nn(s,255);var n=Math.max(e,t,s),i=Math.min(e,t,s),o=0,r=0,l=(n+i)/2;if(n===i)r=0,o=0;else{var a=n-i;switch(r=l>.5?a/(2-n-i):a/(n+i),n){case e:o=(t-s)/a+(t<s?6:0);break;case t:o=(s-e)/a+2;break;case s:o=(e-t)/a+4;break}o/=6}return{h:o,s:r,l}}function Fm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*(6*s):s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function n8(e,t,s){var n,i,o;if(e=nn(e,360),t=nn(t,100),s=nn(s,100),t===0)i=s,o=s,n=s;else{var r=s<.5?s*(1+t):s+t-s*t,l=2*s-r;n=Fm(l,r,e+1/3),i=Fm(l,r,e),o=Fm(l,r,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function H0(e,t,s){e=nn(e,255),t=nn(t,255),s=nn(s,255);var n=Math.max(e,t,s),i=Math.min(e,t,s),o=0,r=n,l=n-i,a=n===0?0:l/n;if(n===i)o=0;else{switch(n){case e:o=(t-s)/l+(t<s?6:0);break;case t:o=(s-e)/l+2;break;case s:o=(e-t)/l+4;break}o/=6}return{h:o,s:a,v:r}}function i8(e,t,s){e=nn(e,360)*6,t=nn(t,100),s=nn(s,100);var n=Math.floor(e),i=e-n,o=s*(1-t),r=s*(1-i*t),l=s*(1-(1-i)*t),a=n%6,c=[s,r,o,o,l,s][a],h=[l,s,s,r,o,o][a],d=[o,o,l,s,s,r][a];return{r:c*255,g:h*255,b:d*255}}function B0(e,t,s,n){var i=[ml(Math.round(e).toString(16)),ml(Math.round(t).toString(16)),ml(Math.round(s).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function o8(e,t,s,n,i){var o=[ml(Math.round(e).toString(16)),ml(Math.round(t).toString(16)),ml(Math.round(s).toString(16)),ml(r8(n))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function r8(e){return Math.round(parseFloat(e)*255).toString(16)}function $0(e){return jn(e)/255}function jn(e){return parseInt(e,16)}function l8(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var jv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function a8(e){var t={r:0,g:0,b:0},s=1,n=null,i=null,o=null,r=!1,l=!1;return typeof e=="string"&&(e=d8(e)),typeof e=="object"&&(Io(e.r)&&Io(e.g)&&Io(e.b)?(t=s8(e.r,e.g,e.b),r=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Io(e.h)&&Io(e.s)&&Io(e.v)?(n=ep(e.s),i=ep(e.v),t=i8(e.h,n,i),r=!0,l="hsv"):Io(e.h)&&Io(e.s)&&Io(e.l)&&(n=ep(e.s),o=ep(e.l),t=n8(e.h,n,o),r=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(s=e.a)),s=NP(s),{ok:r,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:s}}var u8="[-\\+]?\\d+%?",c8="[-\\+]?\\d*\\.\\d+%?",Tr="(?:".concat(c8,")|(?:").concat(u8,")"),Lm="[\\s|\\(]+(".concat(Tr,")[,|\\s]+(").concat(Tr,")[,|\\s]+(").concat(Tr,")\\s*\\)?"),Nm="[\\s|\\(]+(".concat(Tr,")[,|\\s]+(").concat(Tr,")[,|\\s]+(").concat(Tr,")[,|\\s]+(").concat(Tr,")\\s*\\)?"),Li={CSS_UNIT:new RegExp(Tr),rgb:new RegExp("rgb"+Lm),rgba:new RegExp("rgba"+Nm),hsl:new RegExp("hsl"+Lm),hsla:new RegExp("hsla"+Nm),hsv:new RegExp("hsv"+Lm),hsva:new RegExp("hsva"+Nm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function d8(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(jv[e])e=jv[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var s=Li.rgb.exec(e);return s?{r:s[1],g:s[2],b:s[3]}:(s=Li.rgba.exec(e),s?{r:s[1],g:s[2],b:s[3],a:s[4]}:(s=Li.hsl.exec(e),s?{h:s[1],s:s[2],l:s[3]}:(s=Li.hsla.exec(e),s?{h:s[1],s:s[2],l:s[3],a:s[4]}:(s=Li.hsv.exec(e),s?{h:s[1],s:s[2],v:s[3]}:(s=Li.hsva.exec(e),s?{h:s[1],s:s[2],v:s[3],a:s[4]}:(s=Li.hex8.exec(e),s?{r:jn(s[1]),g:jn(s[2]),b:jn(s[3]),a:$0(s[4]),format:t?"name":"hex8"}:(s=Li.hex6.exec(e),s?{r:jn(s[1]),g:jn(s[2]),b:jn(s[3]),format:t?"name":"hex"}:(s=Li.hex4.exec(e),s?{r:jn(s[1]+s[1]),g:jn(s[2]+s[2]),b:jn(s[3]+s[3]),a:$0(s[4]+s[4]),format:t?"name":"hex8"}:(s=Li.hex3.exec(e),s?{r:jn(s[1]+s[1]),g:jn(s[2]+s[2]),b:jn(s[3]+s[3]),format:t?"name":"hex"}:!1)))))))))}function Io(e){return!!Li.CSS_UNIT.exec(String(e))}var xP=function(){function e(t,s){t===void 0&&(t=""),s===void 0&&(s={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=l8(t)),this.originalInput=t;var i=a8(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=s.format)!==null&&n!==void 0?n:i.format,this.gradientType=s.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),s,n,i,o=t.r/255,r=t.g/255,l=t.b/255;return o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),r<=.03928?n=r/12.92:n=Math.pow((r+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),.2126*s+.7152*n+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=NP(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=H0(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=H0(this.r,this.g,this.b),s=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(s,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(s,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=V0(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=V0(this.r,this.g,this.b),s=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(s,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(s,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),B0(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),o8(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),s=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(s,", ").concat(n,")"):"rgba(".concat(t,", ").concat(s,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(s){return"".concat(Math.round(nn(s,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(s){return Math.round(nn(s,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+B0(this.r,this.g,this.b,!1),s=0,n=Object.entries(jv);s<n.length;s++){var i=n[s],o=i[0],r=i[1];if(t===r)return o}return!1},e.prototype.toString=function(t){var s=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,o=!s&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var s=this.toHsl();return s.l+=t/100,s.l=Jh(s.l),new e(s)},e.prototype.brighten=function(t){t===void 0&&(t=10);var s=this.toRgb();return s.r=Math.max(0,Math.min(255,s.r-Math.round(255*-(t/100)))),s.g=Math.max(0,Math.min(255,s.g-Math.round(255*-(t/100)))),s.b=Math.max(0,Math.min(255,s.b-Math.round(255*-(t/100)))),new e(s)},e.prototype.darken=function(t){t===void 0&&(t=10);var s=this.toHsl();return s.l-=t/100,s.l=Jh(s.l),new e(s)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var s=this.toHsl();return s.s-=t/100,s.s=Jh(s.s),new e(s)},e.prototype.saturate=function(t){t===void 0&&(t=10);var s=this.toHsl();return s.s+=t/100,s.s=Jh(s.s),new e(s)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var s=this.toHsl(),n=(s.h+t)%360;return s.h=n<0?360+n:n,new e(s)},e.prototype.mix=function(t,s){s===void 0&&(s=50);var n=this.toRgb(),i=new e(t).toRgb(),o=s/100,r={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return new e(r)},e.prototype.analogous=function(t,s){t===void 0&&(t=6),s===void 0&&(s=30);var n=this.toHsl(),i=360/s,o=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var s=this.toHsv(),n=s.h,i=s.s,o=s.v,r=[],l=1/t;t--;)r.push(new e({h:n,s:i,v:o})),o=(o+l)%1;return r},e.prototype.splitcomplement=function(){var t=this.toHsl(),s=t.h;return[this,new e({h:(s+72)%360,s:t.s,l:t.l}),new e({h:(s+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var s=this.toRgb(),n=new e(t).toRgb(),i=s.a+n.a*(1-s.a);return new e({r:(s.r*s.a+n.r*n.a*(1-s.a))/i,g:(s.g*s.a+n.g*n.a*(1-s.a))/i,b:(s.b*s.a+n.b*n.a*(1-s.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var s=this.toHsl(),n=s.h,i=[this],o=360/t,r=1;r<t;r++)i.push(new e({h:(n+r*o)%360,s:s.s,l:s.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function hr(e,t=20){return e.mix("#141414",t).toString()}function h8(e){const t=Wn(),s=we("button");return R(()=>{let n={};const i=e.color;if(i){const o=new xP(i),r=e.dark?o.tint(20).toString():hr(o,20);if(e.plain)n=s.cssVarBlock({"bg-color":e.dark?hr(o,90):o.tint(90).toString(),"text-color":i,"border-color":e.dark?hr(o,50):o.tint(50).toString(),"hover-text-color":`var(${s.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":r,"active-text-color":`var(${s.cssVarName("color-white")})`,"active-border-color":r}),t.value&&(n[s.cssVarBlockName("disabled-bg-color")]=e.dark?hr(o,90):o.tint(90).toString(),n[s.cssVarBlockName("disabled-text-color")]=e.dark?hr(o,50):o.tint(50).toString(),n[s.cssVarBlockName("disabled-border-color")]=e.dark?hr(o,80):o.tint(80).toString());else{const l=e.dark?hr(o,30):o.tint(30).toString(),a=o.isDark()?`var(${s.cssVarName("color-white")})`:`var(${s.cssVarName("color-black")})`;if(n=s.cssVarBlock({"bg-color":i,"text-color":a,"border-color":i,"hover-bg-color":l,"hover-text-color":a,"hover-border-color":l,"active-bg-color":r,"active-border-color":r}),t.value){const c=e.dark?hr(o,50):o.tint(50).toString();n[s.cssVarBlockName("disabled-bg-color")]=c,n[s.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${s.cssVarName("color-white")})`,n[s.cssVarBlockName("disabled-border-color")]=c}}}return n})}const p8=j({name:"ElButton"}),f8=j({...p8,props:Kv,emits:JU,setup(e,{expose:t,emit:s}){const n=e,i=h8(n),o=we("button"),{_ref:r,_size:l,_type:a,_disabled:c,_props:h,shouldAddSpace:d,handleClick:p}=QU(n,s);return t({ref:r,size:l,type:a,disabled:c,shouldAddSpace:d}),(g,m)=>(D(),re(Ct(g.tag),bt({ref_key:"_ref",ref:r},u(h),{class:[u(o).b(),u(o).m(u(a)),u(o).m(u(l)),u(o).is("disabled",u(c)),u(o).is("loading",g.loading),u(o).is("plain",g.plain),u(o).is("round",g.round),u(o).is("circle",g.circle),u(o).is("text",g.text),u(o).is("link",g.link),u(o).is("has-bg",g.bg)],style:u(i),onClick:u(p)}),{default:Z(()=>[g.loading?(D(),$(qe,{key:0},[g.$slots.loading?ae(g.$slots,"loading",{key:0}):(D(),re(u(Ue),{key:1,class:O(u(o).is("loading"))},{default:Z(()=>[(D(),re(Ct(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(D(),re(u(Ue),{key:1},{default:Z(()=>[g.icon?(D(),re(Ct(g.icon),{key:0})):ae(g.$slots,"icon",{key:1})]),_:3})):se("v-if",!0),g.$slots.default?(D(),$("span",{key:2,class:O({[u(o).em("text","expand")]:u(d)})},[ae(g.$slots,"default")],2)):se("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var g8=_e(f8,[["__file","button.vue"]]);const m8={size:Kv.size,type:Kv.type},v8=j({name:"ElButtonGroup"}),C8=j({...v8,props:m8,setup(e){const t=e;Et(LP,Gt({size:Yt(t,"size"),type:Yt(t,"type")}));const s=we("button");return(n,i)=>(D(),$("div",{class:O(`${u(s).b("group")}`)},[ae(n.$slots,"default")],2))}});var kP=_e(C8,[["__file","button-group.vue"]]);const zs=ft(g8,{ButtonGroup:kP}),GP=hs(kP);var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VP={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){var s=1e3,n=6e4,i=36e5,o="millisecond",r="second",l="minute",a="hour",c="day",h="week",d="month",p="quarter",g="year",m="date",f="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var W=["th","st","nd","rd"],k=z%100;return"["+z+(W[(k-20)%10]||W[k]||W[0])+"]"}},w=function(z,W,k){var I=String(z);return!I||I.length>=W?z:""+Array(W+1-I.length).join(k)+z},b={s:w,z:function(z){var W=-z.utcOffset(),k=Math.abs(W),I=Math.floor(k/60),V=k%60;return(W<=0?"+":"-")+w(I,2,"0")+":"+w(V,2,"0")},m:function z(W,k){if(W.date()<k.date())return-z(k,W);var I=12*(k.year()-W.year())+(k.month()-W.month()),V=W.clone().add(I,d),_=k-V<0,B=W.clone().add(I+(_?-1:1),d);return+(-(I+(k-V)/(_?V-B:B-V))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:d,y:g,w:h,d:c,D:m,h:a,m:l,s:r,ms:o,Q:p}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},T="en",E={};E[T]=y;var P="$isDayjsObject",A=function(z){return z instanceof G||!(!z||!z[P])},N=function z(W,k,I){var V;if(!W)return T;if(typeof W=="string"){var _=W.toLowerCase();E[_]&&(V=_),k&&(E[_]=k,V=_);var B=W.split("-");if(!V&&B.length>1)return z(B[0])}else{var Y=W.name;E[Y]=W,V=Y}return!I&&V&&(T=V),V||!I&&T},x=function(z,W){if(A(z))return z.clone();var k=typeof W=="object"?W:{};return k.date=z,k.args=arguments,new G(k)},F=b;F.l=N,F.i=A,F.w=function(z,W){return x(z,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var G=function(){function z(k){this.$L=N(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[P]=!0}var W=z.prototype;return W.parse=function(k){this.$d=function(I){var V=I.date,_=I.utc;if(V===null)return new Date(NaN);if(F.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var B=V.match(C);if(B){var Y=B[2]-1||0,Q=(B[7]||"0").substring(0,3);return _?new Date(Date.UTC(B[1],Y,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Q)):new Date(B[1],Y,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Q)}}return new Date(V)}(k),this.init()},W.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},W.$utils=function(){return F},W.isValid=function(){return this.$d.toString()!==f},W.isSame=function(k,I){var V=x(k);return this.startOf(I)<=V&&V<=this.endOf(I)},W.isAfter=function(k,I){return x(k)<this.startOf(I)},W.isBefore=function(k,I){return this.endOf(I)<x(k)},W.$g=function(k,I,V){return F.u(k)?this[I]:this.set(V,k)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(k,I){var V=this,_=!!F.u(I)||I,B=F.p(k),Y=function(Fe,pe){var be=F.w(V.$u?Date.UTC(V.$y,pe,Fe):new Date(V.$y,pe,Fe),V);return _?be:be.endOf(c)},Q=function(Fe,pe){return F.w(V.toDate()[Fe].apply(V.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(pe)),V)},ee=this.$W,ce=this.$M,Ee=this.$D,te="set"+(this.$u?"UTC":"");switch(B){case g:return _?Y(1,0):Y(31,11);case d:return _?Y(1,ce):Y(0,ce+1);case h:var ue=this.$locale().weekStart||0,le=(ee<ue?ee+7:ee)-ue;return Y(_?Ee-le:Ee+(6-le),ce);case c:case m:return Q(te+"Hours",0);case a:return Q(te+"Minutes",1);case l:return Q(te+"Seconds",2);case r:return Q(te+"Milliseconds",3);default:return this.clone()}},W.endOf=function(k){return this.startOf(k,!1)},W.$set=function(k,I){var V,_=F.p(k),B="set"+(this.$u?"UTC":""),Y=(V={},V[c]=B+"Date",V[m]=B+"Date",V[d]=B+"Month",V[g]=B+"FullYear",V[a]=B+"Hours",V[l]=B+"Minutes",V[r]=B+"Seconds",V[o]=B+"Milliseconds",V)[_],Q=_===c?this.$D+(I-this.$W):I;if(_===d||_===g){var ee=this.clone().set(m,1);ee.$d[Y](Q),ee.init(),this.$d=ee.set(m,Math.min(this.$D,ee.daysInMonth())).$d}else Y&&this.$d[Y](Q);return this.init(),this},W.set=function(k,I){return this.clone().$set(k,I)},W.get=function(k){return this[F.p(k)]()},W.add=function(k,I){var V,_=this;k=Number(k);var B=F.p(I),Y=function(ce){var Ee=x(_);return F.w(Ee.date(Ee.date()+Math.round(ce*k)),_)};if(B===d)return this.set(d,this.$M+k);if(B===g)return this.set(g,this.$y+k);if(B===c)return Y(1);if(B===h)return Y(7);var Q=(V={},V[l]=n,V[a]=i,V[r]=s,V)[B]||1,ee=this.$d.getTime()+k*Q;return F.w(ee,this)},W.subtract=function(k,I){return this.add(-1*k,I)},W.format=function(k){var I=this,V=this.$locale();if(!this.isValid())return V.invalidDate||f;var _=k||"YYYY-MM-DDTHH:mm:ssZ",B=F.z(this),Y=this.$H,Q=this.$m,ee=this.$M,ce=V.weekdays,Ee=V.months,te=V.meridiem,ue=function(pe,be,Le,X){return pe&&(pe[be]||pe(I,_))||Le[be].slice(0,X)},le=function(pe){return F.s(Y%12||12,pe,"0")},Fe=te||function(pe,be,Le){var X=pe<12?"AM":"PM";return Le?X.toLowerCase():X};return _.replace(v,function(pe,be){return be||function(Le){switch(Le){case"YY":return String(I.$y).slice(-2);case"YYYY":return F.s(I.$y,4,"0");case"M":return ee+1;case"MM":return F.s(ee+1,2,"0");case"MMM":return ue(V.monthsShort,ee,Ee,3);case"MMMM":return ue(Ee,ee);case"D":return I.$D;case"DD":return F.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return ue(V.weekdaysMin,I.$W,ce,2);case"ddd":return ue(V.weekdaysShort,I.$W,ce,3);case"dddd":return ce[I.$W];case"H":return String(Y);case"HH":return F.s(Y,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return Fe(Y,Q,!0);case"A":return Fe(Y,Q,!1);case"m":return String(Q);case"mm":return F.s(Q,2,"0");case"s":return String(I.$s);case"ss":return F.s(I.$s,2,"0");case"SSS":return F.s(I.$ms,3,"0");case"Z":return B}return null}(pe)||B.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(k,I,V){var _,B=this,Y=F.p(I),Q=x(k),ee=(Q.utcOffset()-this.utcOffset())*n,ce=this-Q,Ee=function(){return F.m(B,Q)};switch(Y){case g:_=Ee()/12;break;case d:_=Ee();break;case p:_=Ee()/3;break;case h:_=(ce-ee)/6048e5;break;case c:_=(ce-ee)/864e5;break;case a:_=ce/i;break;case l:_=ce/n;break;case r:_=ce/s;break;default:_=ce}return V?_:F.a(_)},W.daysInMonth=function(){return this.endOf(d).$D},W.$locale=function(){return E[this.$L]},W.locale=function(k,I){if(!k)return this.$L;var V=this.clone(),_=N(k,I,!0);return _&&(V.$L=_),V},W.clone=function(){return F.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},z}(),K=G.prototype;return x.prototype=K,[["$ms",o],["$s",r],["$m",l],["$H",a],["$W",c],["$M",d],["$y",g],["$D",m]].forEach(function(z){K[z[1]]=function(W){return this.$g(W,z[0],z[1])}}),x.extend=function(z,W){return z.$i||(z(W,G,x),z.$i=!0),x},x.locale=N,x.isDayjs=A,x.unix=function(z){return x(1e3*z)},x.en=E[T],x.Ls=E,x.p={},x})})(VP);var y8=VP.exports;const ht=nr(y8);var HP={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,l={},a=function(f){return(f=+f)+(f>68?1900:2e3)},c=function(f){return function(C){this[f]=+C}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(C){if(!C||C==="Z")return 0;var v=C.match(/([+-]|\d\d)/g),y=60*v[1]+(+v[2]||0);return y===0?0:v[0]==="+"?-y:y}(f)}],d=function(f){var C=l[f];return C&&(C.indexOf?C:C.s.concat(C.f))},p=function(f,C){var v,y=l.meridiem;if(y){for(var w=1;w<=24;w+=1)if(f.indexOf(y(w,0,C))>-1){v=w>12;break}}else v=f===(C?"pm":"PM");return v},g={A:[r,function(f){this.afternoon=p(f,!1)}],a:[r,function(f){this.afternoon=p(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[i,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[r,function(f){var C=l.ordinal,v=f.match(/\d+/);if(this.day=v[0],C)for(var y=1;y<=31;y+=1)C(y).replace(/\[|\]/g,"")===f&&(this.day=y)}],M:[o,c("month")],MM:[i,c("month")],MMM:[r,function(f){var C=d("months"),v=(d("monthsShort")||C.map(function(y){return y.slice(0,3)})).indexOf(f)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[r,function(f){var C=d("months").indexOf(f)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(f){this.year=a(f)}],YYYY:[/\d{4}/,c("year")],Z:h,ZZ:h};function m(f){var C,v;C=f,v=l&&l.formats;for(var y=(f=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,x,F){var G=F&&F.toUpperCase();return x||v[F]||s[F]||v[G].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(K,z,W){return z||W.slice(1)})})).match(n),w=y.length,b=0;b<w;b+=1){var T=y[b],E=g[T],P=E&&E[0],A=E&&E[1];y[b]=A?{regex:P,parser:A}:T.replace(/^\[|\]$/g,"")}return function(N){for(var x={},F=0,G=0;F<w;F+=1){var K=y[F];if(typeof K=="string")G+=K.length;else{var z=K.regex,W=K.parser,k=N.slice(G),I=z.exec(k)[0];W.call(x,I),N=N.replace(I,"")}}return function(V){var _=V.afternoon;if(_!==void 0){var B=V.hours;_?B<12&&(V.hours+=12):B===12&&(V.hours=0),delete V.afternoon}}(x),x}}return function(f,C,v){v.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(a=f.parseTwoDigitYear);var y=C.prototype,w=y.parse;y.parse=function(b){var T=b.date,E=b.utc,P=b.args;this.$u=E;var A=P[1];if(typeof A=="string"){var N=P[2]===!0,x=P[3]===!0,F=N||x,G=P[2];x&&(G=P[2]),l=this.$locale(),!N&&G&&(l=v.Ls[G]),this.$d=function(k,I,V){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*k);var _=m(I)(k),B=_.year,Y=_.month,Q=_.day,ee=_.hours,ce=_.minutes,Ee=_.seconds,te=_.milliseconds,ue=_.zone,le=new Date,Fe=Q||(B||Y?1:le.getDate()),pe=B||le.getFullYear(),be=0;B&&!Y||(be=Y>0?Y-1:le.getMonth());var Le=ee||0,X=ce||0,ie=Ee||0,Ce=te||0;return ue?new Date(Date.UTC(pe,be,Fe,Le,X,ie,Ce+60*ue.offset*1e3)):V?new Date(Date.UTC(pe,be,Fe,Le,X,ie,Ce)):new Date(pe,be,Fe,Le,X,ie,Ce)}catch{return new Date("")}}(T,A,E),this.init(),G&&G!==!0&&(this.$L=this.locale(G).$L),F&&T!=this.format(A)&&(this.$d=new Date("")),l={}}else if(A instanceof Array)for(var K=A.length,z=1;z<=K;z+=1){P[1]=A[z-1];var W=v.apply(this,P);if(W.isValid()){this.$d=W.$d,this.$L=W.$L,this.init();break}z===K&&(this.$d=new Date(""))}else w.call(this,b)}}})})(HP);var w8=HP.exports;const Fw=nr(w8),W0=["hours","minutes","seconds"],Yv="HH:mm:ss",Na="YYYY-MM-DD",b8={date:Na,dates:Na,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${Na} ${Yv}`,monthrange:"YYYY-MM",daterange:Na,datetimerange:`${Na} ${Yv}`},xm=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],_r=e=>Array.from(Array.from({length:e}).keys()),BP=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),$P=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),z0=function(e,t){const s=Gl(e),n=Gl(t);return s&&n?e.getTime()===t.getTime():!s&&!n?e===t:!1},U0=function(e,t){const s=ke(e),n=ke(t);return s&&n?e.length!==t.length?!1:e.every((i,o)=>z0(i,t[o])):!s&&!n?z0(e,t):!1},K0=function(e,t,s){const n=hi(t)||t==="x"?ht(e).locale(s):ht(e,t).locale(s);return n.isValid()?n:void 0},j0=function(e,t,s){return hi(t)?e:t==="x"?+e:ht(e).locale(s).format(t)},km=(e,t)=>{var s;const n=[],i=t==null?void 0:t();for(let o=0;o<e;o++)n.push((s=i==null?void 0:i.includes(o))!=null?s:!1);return n},WP=Oe({disabledHours:{type:J(Function)},disabledMinutes:{type:J(Function)},disabledSeconds:{type:J(Function)}}),zP=Oe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Lw=Oe({id:{type:J([Array,String])},name:{type:J([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:J([String,Object]),default:jr},editable:{type:Boolean,default:!0},prefixIcon:{type:J([String,Object]),default:""},size:Us,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:J(Object),default:()=>({})},modelValue:{type:J([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:J([Date,Array])},defaultTime:{type:J([Date,Array])},isRange:Boolean,...WP,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:J([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),S8=["id","name","placeholder","value","disabled","readonly"],E8=["id","name","placeholder","value","disabled","readonly"],R8=j({name:"Picker"}),T8=j({...R8,props:Lw,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:s}){const n=e,i=ra(),{lang:o}=Ft(),r=we("date"),l=we("input"),a=we("range"),{form:c,formItem:h}=Dn(),d=Be("ElPopperOptions",{}),p=L(),g=L(),m=L(!1),f=L(!1),C=L(null);let v=!1,y=!1;const w=R(()=>[r.b("editor"),r.bm("editor",n.type),l.e("wrapper"),r.is("disabled",Q.value),r.is("active",m.value),a.b("editor"),Se?a.bm("editor",Se.value):"",i.class]),b=R(()=>[l.e("icon"),a.e("close-icon"),pe.value?"":a.e("close-icon--hidden")]);ve(m,oe=>{oe?Xe(()=>{oe&&(C.value=n.modelValue)}):(ye.value=null,Xe(()=>{T(n.modelValue)}))});const T=(oe,ze)=>{(ze||!U0(oe,C.value))&&(s("change",oe),n.validateEvent&&(h==null||h.validate("change").catch(ut=>void 0)))},E=oe=>{if(!U0(n.modelValue,oe)){let ze;ke(oe)?ze=oe.map(ut=>j0(ut,n.valueFormat,o.value)):oe&&(ze=j0(oe,n.valueFormat,o.value)),s("update:modelValue",oe&&ze,o.value)}},P=oe=>{s("keydown",oe)},A=R(()=>{if(g.value){const oe=he.value?g.value:g.value.$el;return Array.from(oe.querySelectorAll("input"))}return[]}),N=(oe,ze,ut)=>{const Ht=A.value;Ht.length&&(!ut||ut==="min"?(Ht[0].setSelectionRange(oe,ze),Ht[0].focus()):ut==="max"&&(Ht[1].setSelectionRange(oe,ze),Ht[1].focus()))},x=()=>{V(!0,!0),Xe(()=>{y=!1})},F=(oe="",ze=!1)=>{ze||(y=!0),m.value=ze;let ut;ke(oe)?ut=oe.map(Ht=>Ht.toDate()):ut=oe&&oe.toDate(),ye.value=null,E(ut)},G=()=>{f.value=!0},K=()=>{s("visible-change",!0)},z=oe=>{(oe==null?void 0:oe.key)===Ye.esc&&V(!0,!0)},W=()=>{f.value=!1,m.value=!1,y=!1,s("visible-change",!1)},k=()=>{m.value=!0},I=()=>{m.value=!1},V=(oe=!0,ze=!1)=>{y=ze;const[ut,Ht]=u(A);let Qt=ut;!oe&&he.value&&(Qt=Ht),Qt&&Qt.focus()},_=oe=>{n.readonly||Q.value||m.value||y||(m.value=!0,s("focus",oe))};let B;const Y=oe=>{const ze=async()=>{setTimeout(()=>{var ut;B===ze&&(!((ut=p.value)!=null&&ut.isFocusInsideContent()&&!v)&&A.value.filter(Ht=>Ht.contains(document.activeElement)).length===0&&(Ae(),m.value=!1,s("blur",oe),n.validateEvent&&(h==null||h.validate("blur").catch(Ht=>void 0))),v=!1)},0)};B=ze,ze()},Q=R(()=>n.disabled||(c==null?void 0:c.disabled)),ee=R(()=>{let oe;if(Le.value?Ie.value.getDefaultValue&&(oe=Ie.value.getDefaultValue()):ke(n.modelValue)?oe=n.modelValue.map(ze=>K0(ze,n.valueFormat,o.value)):oe=K0(n.modelValue,n.valueFormat,o.value),Ie.value.getRangeAvailableTime){const ze=Ie.value.getRangeAvailableTime(oe);un(ze,oe)||(oe=ze,E(ke(oe)?oe.map(ut=>ut.toDate()):oe.toDate()))}return ke(oe)&&oe.some(ze=>!ze)&&(oe=[]),oe}),ce=R(()=>{if(!Ie.value.panelReady)return"";const oe=Ke(ee.value);return ke(ye.value)?[ye.value[0]||oe&&oe[0]||"",ye.value[1]||oe&&oe[1]||""]:ye.value!==null?ye.value:!te.value&&Le.value||!m.value&&Le.value?"":oe?ue.value||le.value?oe.join(", "):oe:""}),Ee=R(()=>n.type.includes("time")),te=R(()=>n.type.startsWith("time")),ue=R(()=>n.type==="dates"),le=R(()=>n.type==="years"),Fe=R(()=>n.prefixIcon||(Ee.value?PA:cB)),pe=L(!1),be=oe=>{n.readonly||Q.value||pe.value&&(oe.stopPropagation(),x(),E(null),T(null,!0),pe.value=!1,m.value=!1,Ie.value.handleClear&&Ie.value.handleClear())},Le=R(()=>{const{modelValue:oe}=n;return!oe||ke(oe)&&!oe.filter(Boolean).length}),X=async oe=>{var ze;n.readonly||Q.value||(((ze=oe.target)==null?void 0:ze.tagName)!=="INPUT"||A.value.includes(document.activeElement))&&(m.value=!0)},ie=()=>{n.readonly||Q.value||!Le.value&&n.clearable&&(pe.value=!0)},Ce=()=>{pe.value=!1},Re=oe=>{var ze;n.readonly||Q.value||(((ze=oe.touches[0].target)==null?void 0:ze.tagName)!=="INPUT"||A.value.includes(document.activeElement))&&(m.value=!0)},he=R(()=>n.type.includes("range")),Se=xs(),Te=R(()=>{var oe,ze;return(ze=(oe=u(p))==null?void 0:oe.popperRef)==null?void 0:ze.contentRef}),De=R(()=>{var oe;return u(he)?u(g):(oe=u(g))==null?void 0:oe.$el});Ly(De,oe=>{const ze=u(Te),ut=u(De);ze&&(oe.target===ze||oe.composedPath().includes(ze))||oe.target===ut||oe.composedPath().includes(ut)||(m.value=!1)});const ye=L(null),Ae=()=>{if(ye.value){const oe=Ve(ce.value);oe&&ge(oe)&&(E(ke(oe)?oe.map(ze=>ze.toDate()):oe.toDate()),ye.value=null)}ye.value===""&&(E(null),T(null),ye.value=null)},Ve=oe=>oe?Ie.value.parseUserInput(oe):null,Ke=oe=>oe?Ie.value.formatToString(oe):null,ge=oe=>Ie.value.isValidValue(oe),$e=async oe=>{if(n.readonly||Q.value)return;const{code:ze}=oe;if(P(oe),ze===Ye.esc){m.value===!0&&(m.value=!1,oe.preventDefault(),oe.stopPropagation());return}if(ze===Ye.down&&(Ie.value.handleFocusPicker&&(oe.preventDefault(),oe.stopPropagation()),m.value===!1&&(m.value=!0,await Xe()),Ie.value.handleFocusPicker)){Ie.value.handleFocusPicker();return}if(ze===Ye.tab){v=!0;return}if(ze===Ye.enter||ze===Ye.numpadEnter){(ye.value===null||ye.value===""||ge(Ve(ce.value)))&&(Ae(),m.value=!1),oe.stopPropagation();return}if(ye.value){oe.stopPropagation();return}Ie.value.handleKeydownInput&&Ie.value.handleKeydownInput(oe)},et=oe=>{ye.value=oe,m.value||(m.value=!0)},dt=oe=>{const ze=oe.target;ye.value?ye.value=[ze.value,ye.value[1]]:ye.value=[ze.value,null]},wt=oe=>{const ze=oe.target;ye.value?ye.value=[ye.value[0],ze.value]:ye.value=[null,ze.value]},Je=()=>{var oe;const ze=ye.value,ut=Ve(ze&&ze[0]),Ht=u(ee);if(ut&&ut.isValid()){ye.value=[Ke(ut),((oe=ce.value)==null?void 0:oe[1])||null];const Qt=[ut,Ht&&(Ht[1]||null)];ge(Qt)&&(E(Qt),ye.value=null)}},me=()=>{var oe;const ze=u(ye),ut=Ve(ze&&ze[1]),Ht=u(ee);if(ut&&ut.isValid()){ye.value=[((oe=u(ce))==null?void 0:oe[0])||null,Ke(ut)];const Qt=[Ht&&Ht[0],ut];ge(Qt)&&(E(Qt),ye.value=null)}},Ie=L({}),ne=oe=>{Ie.value[oe[0]]=oe[1],Ie.value.panelReady=!0},de=oe=>{s("calendar-change",oe)},Pe=(oe,ze,ut)=>{s("panel-change",oe,ze,ut)};return Et("EP_PICKER_BASE",{props:n}),t({focus:V,handleFocusInput:_,handleBlurInput:Y,handleOpen:k,handleClose:I,onPick:F}),(oe,ze)=>(D(),re(u(hn),bt({ref_key:"refPopper",ref:p,visible:m.value,effect:"light",pure:"",trigger:"click"},oe.$attrs,{role:"dialog",teleported:"",transition:`${u(r).namespace.value}-zoom-in-top`,"popper-class":[`${u(r).namespace.value}-picker__popper`,oe.popperClass],"popper-options":u(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:G,onShow:K,onHide:W}),{default:Z(()=>[u(he)?(D(),$("div",{key:1,ref_key:"inputRef",ref:g,class:O(u(w)),style:je(oe.$attrs.style),onClick:_,onMouseenter:ie,onMouseleave:Ce,onTouchstart:Re,onKeydown:$e},[u(Fe)?(D(),re(u(Ue),{key:0,class:O([u(l).e("icon"),u(a).e("icon")]),onMousedown:st(X,["prevent"]),onTouchstart:Re},{default:Z(()=>[(D(),re(Ct(u(Fe))))]),_:1},8,["class","onMousedown"])):se("v-if",!0),U("input",{id:oe.id&&oe.id[0],autocomplete:"off",name:oe.name&&oe.name[0],placeholder:oe.startPlaceholder,value:u(ce)&&u(ce)[0],disabled:u(Q),readonly:!oe.editable||oe.readonly,class:O(u(a).b("input")),onMousedown:X,onInput:dt,onChange:Je,onFocus:_,onBlur:Y},null,42,S8),ae(oe.$slots,"range-separator",{},()=>[U("span",{class:O(u(a).b("separator"))},Me(oe.rangeSeparator),3)]),U("input",{id:oe.id&&oe.id[1],autocomplete:"off",name:oe.name&&oe.name[1],placeholder:oe.endPlaceholder,value:u(ce)&&u(ce)[1],disabled:u(Q),readonly:!oe.editable||oe.readonly,class:O(u(a).b("input")),onMousedown:X,onFocus:_,onBlur:Y,onInput:wt,onChange:me},null,42,E8),oe.clearIcon?(D(),re(u(Ue),{key:1,class:O(u(b)),onClick:be},{default:Z(()=>[(D(),re(Ct(oe.clearIcon)))]),_:1},8,["class"])):se("v-if",!0)],38)):(D(),re(u(an),{key:0,id:oe.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":u(ce),name:oe.name,size:u(Se),disabled:u(Q),placeholder:oe.placeholder,class:O([u(r).b("editor"),u(r).bm("editor",oe.type),oe.$attrs.class]),style:je(oe.$attrs.style),readonly:!oe.editable||oe.readonly||u(ue)||u(le)||oe.type==="week",label:oe.label,tabindex:oe.tabindex,"validate-event":!1,onInput:et,onFocus:_,onBlur:Y,onKeydown:$e,onChange:Ae,onMousedown:X,onMouseenter:ie,onMouseleave:Ce,onTouchstart:Re,onClick:ze[0]||(ze[0]=st(()=>{},["stop"]))},{prefix:Z(()=>[u(Fe)?(D(),re(u(Ue),{key:0,class:O(u(l).e("icon")),onMousedown:st(X,["prevent"]),onTouchstart:Re},{default:Z(()=>[(D(),re(Ct(u(Fe))))]),_:1},8,["class","onMousedown"])):se("v-if",!0)]),suffix:Z(()=>[pe.value&&oe.clearIcon?(D(),re(u(Ue),{key:0,class:O(`${u(l).e("icon")} clear-icon`),onClick:st(be,["stop"])},{default:Z(()=>[(D(),re(Ct(oe.clearIcon)))]),_:1},8,["class","onClick"])):se("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Z(()=>[ae(oe.$slots,"default",{visible:m.value,actualVisible:f.value,parsedValue:u(ee),format:oe.format,dateFormat:oe.dateFormat,timeFormat:oe.timeFormat,unlinkPanels:oe.unlinkPanels,type:oe.type,defaultValue:oe.defaultValue,onPick:F,onSelectRange:N,onSetPickerOption:ne,onCalendarChange:de,onPanelChange:Pe,onKeydown:z,onMousedown:ze[1]||(ze[1]=st(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var UP=_e(T8,[["__file","picker.vue"]]);const D8=Oe({...zP,datetimeRole:String,parsedValue:{type:J(Object)}}),KP=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:s})=>{const n=(r,l,a,c)=>{const h={hour:e,minute:t,second:s};let d=r;return["hour","minute","second"].forEach(p=>{if(h[p]){let g;const m=h[p];switch(p){case"minute":{g=m(d.hour(),l,c);break}case"second":{g=m(d.hour(),d.minute(),l,c);break}default:{g=m(l,c);break}}if(g!=null&&g.length&&!g.includes(d[p]())){const f=a?0:g.length-1;d=d[p](g[f])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:n,onSetOption:([r,l])=>{i[r]=l}}},Gm=e=>{const t=(n,i)=>n||i,s=n=>n!==!0;return e.map(t).filter(s)},jP=(e,t,s)=>({getHoursList:(r,l)=>km(24,e&&(()=>e==null?void 0:e(r,l))),getMinutesList:(r,l,a)=>km(60,t&&(()=>t==null?void 0:t(r,l,a))),getSecondsList:(r,l,a,c)=>km(60,s&&(()=>s==null?void 0:s(r,l,a,c)))}),YP=(e,t,s)=>{const{getHoursList:n,getMinutesList:i,getSecondsList:o}=jP(e,t,s);return{getAvailableHours:(c,h)=>Gm(n(c,h)),getAvailableMinutes:(c,h,d)=>Gm(i(c,h,d)),getAvailableSeconds:(c,h,d,p)=>Gm(o(c,h,d,p))}},qP=e=>{const t=L(e.parsedValue);return ve(()=>e.visible,s=>{s||(t.value=e.parsedValue)}),t},mr=new Map;let Y0;At&&(document.addEventListener("mousedown",e=>Y0=e),document.addEventListener("mouseup",e=>{for(const t of mr.values())for(const{documentHandler:s}of t)s(e,Y0)}));function q0(e,t){let s=[];return Array.isArray(t.arg)?s=t.arg:Ei(t.arg)&&s.push(t.arg),function(n,i){const o=t.instance.popperRef,r=n.target,l=i==null?void 0:i.target,a=!t||!t.instance,c=!r||!l,h=e.contains(r)||e.contains(l),d=e===r,p=s.length&&s.some(m=>m==null?void 0:m.contains(r))||s.length&&s.includes(l),g=o&&(o.contains(r)||o.contains(l));a||c||h||d||p||g||t.value(n,i)}}const Uo={beforeMount(e,t){mr.has(e)||mr.set(e,[]),mr.get(e).push({documentHandler:q0(e,t),bindingFn:t.value})},updated(e,t){mr.has(e)||mr.set(e,[]);const s=mr.get(e),n=s.findIndex(o=>o.bindingFn===t.oldValue),i={documentHandler:q0(e,t),bindingFn:t.value};n>=0?s.splice(n,1,i):s.push(i)},unmounted(e){mr.delete(e)}},A8=100,P8=600,ff={beforeMount(e,t){const s=t.value,{interval:n=A8,delay:i=P8}=nt(s)?{}:s;let o,r;const l=()=>nt(s)?s():s.handler(),a=()=>{r&&(clearTimeout(r),r=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",c=>{c.button===0&&(a(),l(),document.addEventListener("mouseup",()=>a(),{once:!0}),r=setTimeout(()=>{o=setInterval(()=>{l()},n)},i))})}},qv="_trap-focus-children",vl=[],X0=e=>{if(vl.length===0)return;const t=vl[vl.length-1][qv];if(t.length>0&&e.code===Ye.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const s=e.shiftKey,n=e.target===t[0],i=e.target===t[t.length-1];n&&s&&(e.preventDefault(),t[t.length-1].focus()),i&&!s&&(e.preventDefault(),t[0].focus())}},O8={beforeMount(e){e[qv]=oE(e),vl.push(e),vl.length<=1&&document.addEventListener("keydown",X0)},updated(e){Xe(()=>{e[qv]=oE(e)})},unmounted(){vl.shift(),vl.length===0&&document.removeEventListener("keydown",X0)}};var Q0=!1,hl,Xv,Qv,wp,bp,XP,Sp,Zv,Jv,eC,QP,tC,sC,ZP,JP;function In(){if(!Q0){Q0=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),s=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(tC=/\b(iPhone|iP[ao]d)/.exec(e),sC=/\b(iP[ao]d)/.exec(e),eC=/Android/i.exec(e),ZP=/FBAN\/\w+;/i.exec(e),JP=/Mobile/i.exec(e),QP=!!/Win64/.exec(e),t){hl=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,hl&&document&&document.documentMode&&(hl=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);XP=n?parseFloat(n[1])+4:hl,Xv=t[2]?parseFloat(t[2]):NaN,Qv=t[3]?parseFloat(t[3]):NaN,wp=t[4]?parseFloat(t[4]):NaN,wp?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),bp=t&&t[1]?parseFloat(t[1]):NaN):bp=NaN}else hl=Xv=Qv=bp=wp=NaN;if(s){if(s[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Sp=i?parseFloat(i[1].replace("_",".")):!0}else Sp=!1;Zv=!!s[2],Jv=!!s[3]}else Sp=Zv=Jv=!1}}var nC={ie:function(){return In()||hl},ieCompatibilityMode:function(){return In()||XP>hl},ie64:function(){return nC.ie()&&QP},firefox:function(){return In()||Xv},opera:function(){return In()||Qv},webkit:function(){return In()||wp},safari:function(){return nC.webkit()},chrome:function(){return In()||bp},windows:function(){return In()||Zv},osx:function(){return In()||Sp},linux:function(){return In()||Jv},iphone:function(){return In()||tC},mobile:function(){return In()||tC||sC||eC||JP},nativeApp:function(){return In()||ZP},android:function(){return In()||eC},ipad:function(){return In()||sC}},_8=nC,tp=!!(typeof window<"u"&&window.document&&window.document.createElement),M8={canUseDOM:tp,canUseWorkers:typeof Worker<"u",canUseEventListeners:tp&&!!(window.addEventListener||window.attachEvent),canUseViewport:tp&&!!window.screen,isInWorker:!tp},eO=M8,tO;eO.canUseDOM&&(tO=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function I8(e,t){if(!eO.canUseDOM||t&&!("addEventListener"in document))return!1;var s="on"+e,n=s in document;if(!n){var i=document.createElement("div");i.setAttribute(s,"return;"),n=typeof i[s]=="function"}return!n&&tO&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var F8=I8,Z0=10,J0=40,eR=800;function sO(e){var t=0,s=0,n=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),n=t*Z0,i=s*Z0,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(e.deltaMode==1?(n*=J0,i*=J0):(n*=eR,i*=eR)),n&&!t&&(t=n<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:n,pixelY:i}}sO.getEventType=function(){return _8.firefox()?"DOMMouseScroll":F8("wheel")?"wheel":"mousewheel"};var L8=sO;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const N8=function(e,t){if(e&&e.addEventListener){const s=function(n){const i=L8(n);t&&Reflect.apply(t,this,[n,i])};e.addEventListener("wheel",s,{passive:!0})}},x8={beforeMount(e,t){N8(e,t.value)}},k8=Oe({role:{type:String,required:!0},spinnerDate:{type:J(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:J(String),default:""},...WP}),G8=["onClick"],V8=["onMouseenter"],H8=j({__name:"basic-time-spinner",props:k8,emits:["change","select-range","set-option"],setup(e,{emit:t}){const s=e,n=we("time"),{getHoursList:i,getMinutesList:o,getSecondsList:r}=jP(s.disabledHours,s.disabledMinutes,s.disabledSeconds);let l=!1;const a=L(),c=L(),h=L(),d=L(),p={hours:c,minutes:h,seconds:d},g=R(()=>s.showSeconds?W0:W0.slice(0,2)),m=R(()=>{const{spinnerDate:_}=s,B=_.hour(),Y=_.minute(),Q=_.second();return{hours:B,minutes:Y,seconds:Q}}),f=R(()=>{const{hours:_,minutes:B}=u(m);return{hours:i(s.role),minutes:o(_,s.role),seconds:r(_,B,s.role)}}),C=R(()=>{const{hours:_,minutes:B,seconds:Y}=u(m);return{hours:xm(_,23),minutes:xm(B,59),seconds:xm(Y,59)}}),v=$n(_=>{l=!1,b(_)},200),y=_=>{if(!!!s.amPmMode)return"";const Y=s.amPmMode==="A";let Q=_<12?" am":" pm";return Y&&(Q=Q.toUpperCase()),Q},w=_=>{let B;switch(_){case"hours":B=[0,2];break;case"minutes":B=[3,5];break;case"seconds":B=[6,8];break}const[Y,Q]=B;t("select-range",Y,Q),a.value=_},b=_=>{P(_,u(m)[_])},T=()=>{b("hours"),b("minutes"),b("seconds")},E=_=>_.querySelector(`.${n.namespace.value}-scrollbar__wrap`),P=(_,B)=>{if(s.arrowControl)return;const Y=u(p[_]);Y&&Y.$el&&(E(Y.$el).scrollTop=Math.max(0,B*A(_)))},A=_=>{const B=u(p[_]),Y=B==null?void 0:B.$el.querySelector("li");return Y&&Number.parseFloat(Er(Y,"height"))||0},N=()=>{F(1)},x=()=>{F(-1)},F=_=>{a.value||w("hours");const B=a.value,Y=u(m)[B],Q=a.value==="hours"?24:60,ee=G(B,Y,_,Q);K(B,ee),P(B,ee),Xe(()=>w(B))},G=(_,B,Y,Q)=>{let ee=(B+Y+Q)%Q;const ce=u(f)[_];for(;ce[ee]&&ee!==B;)ee=(ee+Y+Q)%Q;return ee},K=(_,B)=>{if(u(f)[_][B])return;const{hours:ee,minutes:ce,seconds:Ee}=u(m);let te;switch(_){case"hours":te=s.spinnerDate.hour(B).minute(ce).second(Ee);break;case"minutes":te=s.spinnerDate.hour(ee).minute(B).second(Ee);break;case"seconds":te=s.spinnerDate.hour(ee).minute(ce).second(B);break}t("change",te)},z=(_,{value:B,disabled:Y})=>{Y||(K(_,B),w(_),P(_,B))},W=_=>{l=!0,v(_);const B=Math.min(Math.round((E(u(p[_]).$el).scrollTop-(k(_)*.5-10)/A(_)+3)/A(_)),_==="hours"?23:59);K(_,B)},k=_=>u(p[_]).$el.offsetHeight,I=()=>{const _=B=>{const Y=u(p[B]);Y&&Y.$el&&(E(Y.$el).onscroll=()=>{W(B)})};_("hours"),_("minutes"),_("seconds")};at(()=>{Xe(()=>{!s.arrowControl&&I(),T(),s.role==="start"&&w("hours")})});const V=(_,B)=>{p[B].value=_};return t("set-option",[`${s.role}_scrollDown`,F]),t("set-option",[`${s.role}_emitSelectRange`,w]),ve(()=>s.spinnerDate,()=>{l||T()}),(_,B)=>(D(),$("div",{class:O([u(n).b("spinner"),{"has-seconds":_.showSeconds}])},[_.arrowControl?se("v-if",!0):(D(!0),$(qe,{key:0},Dt(u(g),Y=>(D(),re(u(tr),{key:Y,ref_for:!0,ref:Q=>V(Q,Y),class:O(u(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":u(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Q=>w(Y),onMousemove:Q=>b(Y)},{default:Z(()=>[(D(!0),$(qe,null,Dt(u(f)[Y],(Q,ee)=>(D(),$("li",{key:ee,class:O([u(n).be("spinner","item"),u(n).is("active",ee===u(m)[Y]),u(n).is("disabled",Q)]),onClick:ce=>z(Y,{value:ee,disabled:Q})},[Y==="hours"?(D(),$(qe,{key:0},[_t(Me(("0"+(_.amPmMode?ee%12||12:ee)).slice(-2))+Me(y(ee)),1)],64)):(D(),$(qe,{key:1},[_t(Me(("0"+ee).slice(-2)),1)],64))],10,G8))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),_.arrowControl?(D(!0),$(qe,{key:1},Dt(u(g),Y=>(D(),$("div",{key:Y,class:O([u(n).be("spinner","wrapper"),u(n).is("arrow")]),onMouseenter:Q=>w(Y)},[lt((D(),re(u(Ue),{class:O(["arrow-up",u(n).be("spinner","arrow")])},{default:Z(()=>[q(u(Jy))]),_:1},8,["class"])),[[u(ff),x]]),lt((D(),re(u(Ue),{class:O(["arrow-down",u(n).be("spinner","arrow")])},{default:Z(()=>[q(u(Jo))]),_:1},8,["class"])),[[u(ff),N]]),U("ul",{class:O(u(n).be("spinner","list"))},[(D(!0),$(qe,null,Dt(u(C)[Y],(Q,ee)=>(D(),$("li",{key:ee,class:O([u(n).be("spinner","item"),u(n).is("active",Q===u(m)[Y]),u(n).is("disabled",u(f)[Y][Q])])},[typeof Q=="number"?(D(),$(qe,{key:0},[Y==="hours"?(D(),$(qe,{key:0},[_t(Me(("0"+(_.amPmMode?Q%12||12:Q)).slice(-2))+Me(y(Q)),1)],64)):(D(),$(qe,{key:1},[_t(Me(("0"+Q).slice(-2)),1)],64))],64)):se("v-if",!0)],2))),128))],2)],42,V8))),128)):se("v-if",!0)],2))}});var iC=_e(H8,[["__file","basic-time-spinner.vue"]]);const B8=j({__name:"panel-time-pick",props:D8,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const s=e,n=Be("EP_PICKER_BASE"),{arrowControl:i,disabledHours:o,disabledMinutes:r,disabledSeconds:l,defaultValue:a}=n.props,{getAvailableHours:c,getAvailableMinutes:h,getAvailableSeconds:d}=YP(o,r,l),p=we("time"),{t:g,lang:m}=Ft(),f=L([0,2]),C=qP(s),v=R(()=>Ps(s.actualVisible)?`${p.namespace.value}-zoom-in-top`:""),y=R(()=>s.format.includes("ss")),w=R(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),b=V=>{const _=ht(V).locale(m.value),B=z(_);return _.isSame(B)},T=()=>{t("pick",C.value,!1)},E=(V=!1,_=!1)=>{_||t("pick",s.parsedValue,V)},P=V=>{if(!s.visible)return;const _=z(V).millisecond(0);t("pick",_,!0)},A=(V,_)=>{t("select-range",V,_),f.value=[V,_]},N=V=>{const _=[0,3].concat(y.value?[6]:[]),B=["hours","minutes"].concat(y.value?["seconds"]:[]),Q=(_.indexOf(f.value[0])+V+_.length)%_.length;F.start_emitSelectRange(B[Q])},x=V=>{const _=V.code,{left:B,right:Y,up:Q,down:ee}=Ye;if([B,Y].includes(_)){N(_===B?-1:1),V.preventDefault();return}if([Q,ee].includes(_)){const ce=_===Q?-1:1;F.start_scrollDown(ce),V.preventDefault();return}},{timePickerOptions:F,onSetOption:G,getAvailableTime:K}=KP({getAvailableHours:c,getAvailableMinutes:h,getAvailableSeconds:d}),z=V=>K(V,s.datetimeRole||"",!0),W=V=>V?ht(V,s.format).locale(m.value):null,k=V=>V?V.format(s.format):null,I=()=>ht(a).locale(m.value);return t("set-picker-option",["isValidValue",b]),t("set-picker-option",["formatToString",k]),t("set-picker-option",["parseUserInput",W]),t("set-picker-option",["handleKeydownInput",x]),t("set-picker-option",["getRangeAvailableTime",z]),t("set-picker-option",["getDefaultValue",I]),(V,_)=>(D(),re(Ls,{name:u(v)},{default:Z(()=>[V.actualVisible||V.visible?(D(),$("div",{key:0,class:O(u(p).b("panel"))},[U("div",{class:O([u(p).be("panel","content"),{"has-seconds":u(y)}])},[q(iC,{ref:"spinner",role:V.datetimeRole||"start","arrow-control":u(i),"show-seconds":u(y),"am-pm-mode":u(w),"spinner-date":V.parsedValue,"disabled-hours":u(o),"disabled-minutes":u(r),"disabled-seconds":u(l),onChange:P,onSetOption:u(G),onSelectRange:A},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),U("div",{class:O(u(p).be("panel","footer"))},[U("button",{type:"button",class:O([u(p).be("panel","btn"),"cancel"]),onClick:T},Me(u(g)("el.datepicker.cancel")),3),U("button",{type:"button",class:O([u(p).be("panel","btn"),"confirm"]),onClick:_[0]||(_[0]=B=>E())},Me(u(g)("el.datepicker.confirm")),3)],2)],2)):se("v-if",!0)]),_:1},8,["name"]))}});var gf=_e(B8,[["__file","panel-time-pick.vue"]]);const $8=Oe({...zP,parsedValue:{type:J(Array)}}),W8=["disabled"],z8=j({__name:"panel-time-range",props:$8,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const s=e,n=(be,Le)=>{const X=[];for(let ie=be;ie<=Le;ie++)X.push(ie);return X},{t:i,lang:o}=Ft(),r=we("time"),l=we("picker"),a=Be("EP_PICKER_BASE"),{arrowControl:c,disabledHours:h,disabledMinutes:d,disabledSeconds:p,defaultValue:g}=a.props,m=R(()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",c),b.value?"has-seconds":""]),f=R(()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",c),b.value?"has-seconds":""]),C=R(()=>s.parsedValue[0]),v=R(()=>s.parsedValue[1]),y=qP(s),w=()=>{t("pick",y.value,!1)},b=R(()=>s.format.includes("ss")),T=R(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),E=(be=!1)=>{t("pick",[C.value,v.value],be)},P=be=>{x(be.millisecond(0),v.value)},A=be=>{x(C.value,be.millisecond(0))},N=be=>{const Le=be.map(ie=>ht(ie).locale(o.value)),X=Y(Le);return Le[0].isSame(X[0])&&Le[1].isSame(X[1])},x=(be,Le)=>{t("pick",[be,Le],!0)},F=R(()=>C.value>v.value),G=L([0,2]),K=(be,Le)=>{t("select-range",be,Le,"min"),G.value=[be,Le]},z=R(()=>b.value?11:8),W=(be,Le)=>{t("select-range",be,Le,"max");const X=u(z);G.value=[be+X,Le+X]},k=be=>{const Le=b.value?[0,3,6,11,14,17]:[0,3,8,11],X=["hours","minutes"].concat(b.value?["seconds"]:[]),Ce=(Le.indexOf(G.value[0])+be+Le.length)%Le.length,Re=Le.length/2;Ce<Re?Ee.start_emitSelectRange(X[Ce]):Ee.end_emitSelectRange(X[Ce-Re])},I=be=>{const Le=be.code,{left:X,right:ie,up:Ce,down:Re}=Ye;if([X,ie].includes(Le)){k(Le===X?-1:1),be.preventDefault();return}if([Ce,Re].includes(Le)){const he=Le===Ce?-1:1,Se=G.value[0]<z.value?"start":"end";Ee[`${Se}_scrollDown`](he),be.preventDefault();return}},V=(be,Le)=>{const X=h?h(be):[],ie=be==="start",Re=(Le||(ie?v.value:C.value)).hour(),he=ie?n(Re+1,23):n(0,Re-1);return Pm(X,he)},_=(be,Le,X)=>{const ie=d?d(be,Le):[],Ce=Le==="start",Re=X||(Ce?v.value:C.value),he=Re.hour();if(be!==he)return ie;const Se=Re.minute(),Te=Ce?n(Se+1,59):n(0,Se-1);return Pm(ie,Te)},B=(be,Le,X,ie)=>{const Ce=p?p(be,Le,X):[],Re=X==="start",he=ie||(Re?v.value:C.value),Se=he.hour(),Te=he.minute();if(be!==Se||Le!==Te)return Ce;const De=he.second(),ye=Re?n(De+1,59):n(0,De-1);return Pm(Ce,ye)},Y=([be,Le])=>[te(be,"start",!0,Le),te(Le,"end",!1,be)],{getAvailableHours:Q,getAvailableMinutes:ee,getAvailableSeconds:ce}=YP(V,_,B),{timePickerOptions:Ee,getAvailableTime:te,onSetOption:ue}=KP({getAvailableHours:Q,getAvailableMinutes:ee,getAvailableSeconds:ce}),le=be=>be?ke(be)?be.map(Le=>ht(Le,s.format).locale(o.value)):ht(be,s.format).locale(o.value):null,Fe=be=>be?ke(be)?be.map(Le=>Le.format(s.format)):be.format(s.format):null,pe=()=>{if(ke(g))return g.map(Le=>ht(Le).locale(o.value));const be=ht(g).locale(o.value);return[be,be.add(60,"m")]};return t("set-picker-option",["formatToString",Fe]),t("set-picker-option",["parseUserInput",le]),t("set-picker-option",["isValidValue",N]),t("set-picker-option",["handleKeydownInput",I]),t("set-picker-option",["getDefaultValue",pe]),t("set-picker-option",["getRangeAvailableTime",Y]),(be,Le)=>be.actualVisible?(D(),$("div",{key:0,class:O([u(r).b("range-picker"),u(l).b("panel")])},[U("div",{class:O(u(r).be("range-picker","content"))},[U("div",{class:O(u(r).be("range-picker","cell"))},[U("div",{class:O(u(r).be("range-picker","header"))},Me(u(i)("el.datepicker.startTime")),3),U("div",{class:O(u(m))},[q(iC,{ref:"minSpinner",role:"start","show-seconds":u(b),"am-pm-mode":u(T),"arrow-control":u(c),"spinner-date":u(C),"disabled-hours":V,"disabled-minutes":_,"disabled-seconds":B,onChange:P,onSetOption:u(ue),onSelectRange:K},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),U("div",{class:O(u(r).be("range-picker","cell"))},[U("div",{class:O(u(r).be("range-picker","header"))},Me(u(i)("el.datepicker.endTime")),3),U("div",{class:O(u(f))},[q(iC,{ref:"maxSpinner",role:"end","show-seconds":u(b),"am-pm-mode":u(T),"arrow-control":u(c),"spinner-date":u(v),"disabled-hours":V,"disabled-minutes":_,"disabled-seconds":B,onChange:A,onSetOption:u(ue),onSelectRange:W},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),U("div",{class:O(u(r).be("panel","footer"))},[U("button",{type:"button",class:O([u(r).be("panel","btn"),"cancel"]),onClick:Le[0]||(Le[0]=X=>w())},Me(u(i)("el.datepicker.cancel")),3),U("button",{type:"button",class:O([u(r).be("panel","btn"),"confirm"]),disabled:u(F),onClick:Le[1]||(Le[1]=X=>E())},Me(u(i)("el.datepicker.confirm")),11,W8)],2)],2)):se("v-if",!0)}});var U8=_e(z8,[["__file","panel-time-range.vue"]]);ht.extend(Fw);var K8=j({name:"ElTimePicker",install:null,props:{...Lw,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const s=L(),[n,i]=e.isRange?["timerange",U8]:["time",gf],o=r=>t.emit("update:modelValue",r);return Et("ElPopperOptions",e.popperOptions),t.expose({focus:r=>{var l;(l=s.value)==null||l.handleFocusInput(r)},blur:r=>{var l;(l=s.value)==null||l.handleBlurInput(r)},handleOpen:()=>{var r;(r=s.value)==null||r.handleOpen()},handleClose:()=>{var r;(r=s.value)==null||r.handleClose()}}),()=>{var r;const l=(r=e.format)!=null?r:Yv;return q(UP,bt(e,{ref:s,type:n,format:l,"onUpdate:modelValue":o}),{default:a=>q(i,a,null)})}}});const Ep=K8;Ep.install=e=>{e.component(Ep.name,Ep)};const j8=Ep,Y8=(e,t)=>{const s=e.subtract(1,"month").endOf("month").date();return _r(t).map((n,i)=>s-(t-i-1))},q8=e=>{const t=e.daysInMonth();return _r(t).map((s,n)=>n+1)},X8=e=>_r(e.length/7).map(t=>{const s=t*7;return e.slice(s,s+7)}),Q8=Oe({selectedDay:{type:J(Object)},range:{type:J(Array)},date:{type:J(Object),required:!0},hideHeader:{type:Boolean}}),Z8={pick:e=>yt(e)};var nO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n,i){var o=n.prototype,r=function(d){return d&&(d.indexOf?d:d.s)},l=function(d,p,g,m,f){var C=d.name?d:d.$locale(),v=r(C[p]),y=r(C[g]),w=v||y.map(function(T){return T.slice(0,m)});if(!f)return w;var b=C.weekStart;return w.map(function(T,E){return w[(E+(b||0))%7]})},a=function(){return i.Ls[i.locale()]},c=function(d,p){return d.formats[p]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,f,C){return f||C.slice(1)})}(d.formats[p.toUpperCase()])},h=function(){var d=this;return{months:function(p){return p?p.format("MMMM"):l(d,"months")},monthsShort:function(p){return p?p.format("MMM"):l(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):l(d,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):l(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):l(d,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return c(d.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return h.bind(this)()},i.localeData=function(){var d=a();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(p){return c(d,p)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return l(a(),"months")},i.monthsShort=function(){return l(a(),"monthsShort","months",3)},i.weekdays=function(d){return l(a(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return l(a(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return l(a(),"weekdaysMin","weekdays",2,d)}}})})(nO);var J8=nO.exports;const iO=nr(J8),e6=(e,t)=>{ht.extend(iO);const s=ht.localeData().firstDayOfWeek(),{t:n,lang:i}=Ft(),o=ht().locale(i.value),r=R(()=>!!e.range&&!!e.range.length),l=R(()=>{let p=[];if(r.value){const[g,m]=e.range,f=_r(m.date()-g.date()+1).map(y=>({text:g.date()+y,type:"current"}));let C=f.length%7;C=C===0?0:7-C;const v=_r(C).map((y,w)=>({text:w+1,type:"next"}));p=f.concat(v)}else{const g=e.date.startOf("month").day(),m=Y8(e.date,(g-s+7)%7).map(y=>({text:y,type:"prev"})),f=q8(e.date).map(y=>({text:y,type:"current"}));p=[...m,...f];const C=7-(p.length%7||7),v=_r(C).map((y,w)=>({text:w+1,type:"next"}));p=p.concat(v)}return X8(p)}),a=R(()=>{const p=s;return p===0?Om.map(g=>n(`el.datepicker.weeks.${g}`)):Om.slice(p).concat(Om.slice(0,p)).map(g=>n(`el.datepicker.weeks.${g}`))}),c=(p,g)=>{switch(g){case"prev":return e.date.startOf("month").subtract(1,"month").date(p);case"next":return e.date.startOf("month").add(1,"month").date(p);case"current":return e.date.date(p)}};return{now:o,isInRange:r,rows:l,weekDays:a,getFormattedDate:c,handlePickDay:({text:p,type:g})=>{const m=c(p,g);t("pick",m)},getSlotData:({text:p,type:g})=>{const m=c(p,g);return{isSelected:m.isSame(e.selectedDay),type:`${g}-month`,day:m.format("YYYY-MM-DD"),date:m.toDate()}}}},t6={key:0},s6=["onClick"],n6=j({name:"DateTable"}),i6=j({...n6,props:Q8,emits:Z8,setup(e,{expose:t,emit:s}){const n=e,{isInRange:i,now:o,rows:r,weekDays:l,getFormattedDate:a,handlePickDay:c,getSlotData:h}=e6(n,s),d=we("calendar-table"),p=we("calendar-day"),g=({text:m,type:f})=>{const C=[f];if(f==="current"){const v=a(m,f);v.isSame(n.selectedDay,"day")&&C.push(p.is("selected")),v.isSame(o,"day")&&C.push(p.is("today"))}return C};return t({getFormattedDate:a}),(m,f)=>(D(),$("table",{class:O([u(d).b(),u(d).is("range",u(i))]),cellspacing:"0",cellpadding:"0"},[m.hideHeader?se("v-if",!0):(D(),$("thead",t6,[(D(!0),$(qe,null,Dt(u(l),C=>(D(),$("th",{key:C},Me(C),1))),128))])),U("tbody",null,[(D(!0),$(qe,null,Dt(u(r),(C,v)=>(D(),$("tr",{key:v,class:O({[u(d).e("row")]:!0,[u(d).em("row","hide-border")]:v===0&&m.hideHeader})},[(D(!0),$(qe,null,Dt(C,(y,w)=>(D(),$("td",{key:w,class:O(g(y)),onClick:b=>u(c)(y)},[U("div",{class:O(u(p).b())},[ae(m.$slots,"date-cell",{data:u(h)(y)},()=>[U("span",null,Me(y.text),1)])],2)],10,s6))),128))],2))),128))])],2))}});var tR=_e(i6,[["__file","date-table.vue"]]);const o6=(e,t)=>{const s=e.endOf("month"),n=t.startOf("month"),o=s.isSame(n,"week")?n.add(1,"week"):n;return[[e,s],[o.startOf("week"),t]]},r6=(e,t)=>{const s=e.endOf("month"),n=e.add(1,"month").startOf("month"),i=s.isSame(n,"week")?n.add(1,"week"):n,o=i.endOf("month"),r=t.startOf("month"),l=o.isSame(r,"week")?r.add(1,"week"):r;return[[e,s],[i.startOf("week"),o],[l.startOf("week"),t]]},l6=(e,t,s)=>{const{lang:n}=Ft(),i=L(),o=ht().locale(n.value),r=R({get(){return e.modelValue?a.value:i.value},set(C){if(!C)return;i.value=C;const v=C.toDate();t(Sn,v),t(vt,v)}}),l=R(()=>{if(!e.range)return[];const C=e.range.map(w=>ht(w).locale(n.value)),[v,y]=C;return v.isAfter(y)?[]:v.isSame(y,"month")?g(v,y):v.add(1,"month").month()!==y.month()?[]:g(v,y)}),a=R(()=>e.modelValue?ht(e.modelValue).locale(n.value):r.value||(l.value.length?l.value[0][0]:o)),c=R(()=>a.value.subtract(1,"month").date(1)),h=R(()=>a.value.add(1,"month").date(1)),d=R(()=>a.value.subtract(1,"year").date(1)),p=R(()=>a.value.add(1,"year").date(1)),g=(C,v)=>{const y=C.startOf("week"),w=v.endOf("week"),b=y.get("month"),T=w.get("month");return b===T?[[y,w]]:(b+1)%12===T?o6(y,w):b+2===T||(b+1)%11===T?r6(y,w):[]},m=C=>{r.value=C};return{calculateValidatedDateRange:g,date:a,realSelectedDay:r,pickDay:m,selectDate:C=>{const y={"prev-month":c.value,"next-month":h.value,"prev-year":d.value,"next-year":p.value,today:o}[C];y.isSame(a.value,"day")||m(y)},validatedRange:l}},a6=e=>ke(e)&&e.length===2&&e.every(t=>Gl(t)),u6=Oe({modelValue:{type:Date},range:{type:J(Array),validator:a6}}),c6={[vt]:e=>Gl(e),[Sn]:e=>Gl(e)},d6="ElCalendar",h6=j({name:d6}),p6=j({...h6,props:u6,emits:c6,setup(e,{expose:t,emit:s}){const n=e,i=we("calendar"),{calculateValidatedDateRange:o,date:r,pickDay:l,realSelectedDay:a,selectDate:c,validatedRange:h}=l6(n,s),{t:d}=Ft(),p=R(()=>{const g=`el.datepicker.month${r.value.format("M")}`;return`${r.value.year()} ${d("el.datepicker.year")} ${d(g)}`});return t({selectedDay:a,pickDay:l,selectDate:c,calculateValidatedDateRange:o}),(g,m)=>(D(),$("div",{class:O(u(i).b())},[U("div",{class:O(u(i).e("header"))},[ae(g.$slots,"header",{date:u(p)},()=>[U("div",{class:O(u(i).e("title"))},Me(u(p)),3),u(h).length===0?(D(),$("div",{key:0,class:O(u(i).e("button-group"))},[q(u(GP),null,{default:Z(()=>[q(u(zs),{size:"small",onClick:m[0]||(m[0]=f=>u(c)("prev-month"))},{default:Z(()=>[_t(Me(u(d)("el.datepicker.prevMonth")),1)]),_:1}),q(u(zs),{size:"small",onClick:m[1]||(m[1]=f=>u(c)("today"))},{default:Z(()=>[_t(Me(u(d)("el.datepicker.today")),1)]),_:1}),q(u(zs),{size:"small",onClick:m[2]||(m[2]=f=>u(c)("next-month"))},{default:Z(()=>[_t(Me(u(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):se("v-if",!0)])],2),u(h).length===0?(D(),$("div",{key:0,class:O(u(i).e("body"))},[q(tR,{date:u(r),"selected-day":u(a),onPick:u(l)},Bo({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:Z(f=>[ae(g.$slots,"date-cell",xo(au(f)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(D(),$("div",{key:1,class:O(u(i).e("body"))},[(D(!0),$(qe,null,Dt(u(h),(f,C)=>(D(),re(tR,{key:C,date:f[0],"selected-day":u(a),range:f,"hide-header":C!==0,onPick:u(l)},Bo({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:Z(v=>[ae(g.$slots,"date-cell",xo(au(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var f6=_e(p6,[["__file","calendar.vue"]]);const g6=ft(f6),m6=Oe({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:J([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),v6=j({name:"ElCard"}),C6=j({...v6,props:m6,setup(e){const t=we("card");return(s,n)=>(D(),$("div",{class:O([u(t).b(),u(t).is(`${s.shadow}-shadow`)])},[s.$slots.header||s.header?(D(),$("div",{key:0,class:O(u(t).e("header"))},[ae(s.$slots,"header",{},()=>[_t(Me(s.header),1)])],2)):se("v-if",!0),U("div",{class:O([u(t).e("body"),s.bodyClass]),style:je(s.bodyStyle)},[ae(s.$slots,"default")],6),s.$slots.footer||s.footer?(D(),$("div",{key:1,class:O(u(t).e("footer"))},[ae(s.$slots,"footer",{},()=>[_t(Me(s.footer),1)])],2)):se("v-if",!0)],2))}});var y6=_e(C6,[["__file","card.vue"]]);const w6=ft(y6),b6=Oe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),S6={change:(e,t)=>[e,t].every(tt)},oO=Symbol("carouselContextKey"),sR=300,E6=(e,t,s)=>{const{children:n,addChild:i,removeChild:o}=Dw(ct(),"ElCarouselItem"),r=Ys(),l=L(-1),a=L(null),c=L(!1),h=L(),d=L(0),p=L(!0),g=L(!0),m=L(!1),f=R(()=>e.arrow!=="never"&&!u(y)),C=R(()=>n.value.some(te=>te.props.label.toString().length>0)),v=R(()=>e.type==="card"),y=R(()=>e.direction==="vertical"),w=R(()=>e.height!=="auto"?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"}),b=Dl(te=>{x(te)},sR,{trailing:!0}),T=Dl(te=>{_(te)},sR),E=te=>p.value?l.value<=1?te<=1:te>1:!0;function P(){a.value&&(clearInterval(a.value),a.value=null)}function A(){e.interval<=0||!e.autoplay||a.value||(a.value=setInterval(()=>N(),e.interval))}const N=()=>{g.value||(m.value=!0),g.value=!1,l.value<n.value.length-1?l.value=l.value+1:e.loop&&(l.value=0)};function x(te){if(g.value||(m.value=!0),g.value=!1,rt(te)){const Fe=n.value.filter(pe=>pe.props.name===te);Fe.length>0&&(te=n.value.indexOf(Fe[0]))}if(te=Number(te),Number.isNaN(te)||te!==Math.floor(te))return;const ue=n.value.length,le=l.value;te<0?l.value=e.loop?ue-1:0:te>=ue?l.value=e.loop?0:ue-1:l.value=te,le===l.value&&F(le),Q()}function F(te){n.value.forEach((ue,le)=>{ue.translateItem(le,l.value,te)})}function G(te,ue){var le,Fe,pe,be;const Le=u(n),X=Le.length;if(X===0||!te.states.inStage)return!1;const ie=ue+1,Ce=ue-1,Re=X-1,he=Le[Re].states.active,Se=Le[0].states.active,Te=(Fe=(le=Le[ie])==null?void 0:le.states)==null?void 0:Fe.active,De=(be=(pe=Le[Ce])==null?void 0:pe.states)==null?void 0:be.active;return ue===Re&&Se||Te?"left":ue===0&&he||De?"right":!1}function K(){c.value=!0,e.pauseOnHover&&P()}function z(){c.value=!1,A()}function W(){m.value=!1}function k(te){u(y)||n.value.forEach((ue,le)=>{te===G(ue,le)&&(ue.states.hover=!0)})}function I(){u(y)||n.value.forEach(te=>{te.states.hover=!1})}function V(te){te!==l.value&&(g.value||(m.value=!0)),l.value=te}function _(te){e.trigger==="hover"&&te!==l.value&&(l.value=te,g.value||(m.value=!0))}function B(){x(l.value-1)}function Y(){x(l.value+1)}function Q(){P(),e.pauseOnHover||A()}function ee(te){e.height==="auto"&&(d.value=te)}function ce(){var te;const ue=(te=r.default)==null?void 0:te.call(r);if(!ue)return null;const le=Or(ue),Fe="ElCarouselItem",pe=le.filter(be=>us(be)&&be.type.name===Fe);return(pe==null?void 0:pe.length)===2&&e.loop&&!v.value?(p.value=!0,pe):(p.value=!1,null)}ve(()=>l.value,(te,ue)=>{F(ue),p.value&&(te=te%2,ue=ue%2),ue>-1&&t("change",te,ue)}),ve(()=>e.autoplay,te=>{te?A():P()}),ve(()=>e.loop,()=>{x(l.value)}),ve(()=>e.interval,()=>{Q()});const Ee=ts();return at(()=>{ve(()=>n.value,()=>{n.value.length>0&&x(e.initialIndex)},{immediate:!0}),Ee.value=fs(h.value,()=>{F()}),A()}),Jt(()=>{P(),h.value&&Ee.value&&Ee.value.stop()}),Et(oO,{root:h,isCardType:v,isVertical:y,items:n,loop:e.loop,addItem:i,removeItem:o,setActiveItem:x,setContainerHeight:ee}),{root:h,activeIndex:l,arrowDisplay:f,hasLabel:C,hover:c,isCardType:v,isTransitioning:m,items:n,isVertical:y,containerStyle:w,isItemsTwoLength:p,handleButtonEnter:k,handleTransitionEnd:W,handleButtonLeave:I,handleIndicatorClick:V,handleMouseEnter:K,handleMouseLeave:z,setActiveItem:x,prev:B,next:Y,PlaceholderItem:ce,isTwoLengthShow:E,throttledArrowClick:b,throttledIndicatorHover:T}},R6=["aria-label"],T6=["aria-label"],D6=["onMouseenter","onClick"],A6=["aria-label"],P6={key:0},O6={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},_6=U("defs",null,[U("filter",{id:"elCarouselHorizontal"},[U("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),U("filter",{id:"elCarouselVertical"},[U("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),M6=[_6],I6="ElCarousel",F6=j({name:I6}),L6=j({...F6,props:b6,emits:S6,setup(e,{expose:t,emit:s}){const n=e,{root:i,activeIndex:o,arrowDisplay:r,hasLabel:l,hover:a,isCardType:c,items:h,isVertical:d,containerStyle:p,handleButtonEnter:g,handleButtonLeave:m,isTransitioning:f,handleIndicatorClick:C,handleMouseEnter:v,handleMouseLeave:y,handleTransitionEnd:w,setActiveItem:b,prev:T,next:E,PlaceholderItem:P,isTwoLengthShow:A,throttledArrowClick:N,throttledIndicatorHover:x}=E6(n,s),F=we("carousel"),{t:G}=Ft(),K=R(()=>{const k=[F.b(),F.m(n.direction)];return u(c)&&k.push(F.m("card")),k}),z=R(()=>{const k=[F.e("container")];return n.motionBlur&&u(f)&&k.push(u(d)?`${F.namespace.value}-transitioning-vertical`:`${F.namespace.value}-transitioning`),k}),W=R(()=>{const k=[F.e("indicators"),F.em("indicators",n.direction)];return u(l)&&k.push(F.em("indicators","labels")),n.indicatorPosition==="outside"&&k.push(F.em("indicators","outside")),u(d)&&k.push(F.em("indicators","right")),k});return t({setActiveItem:b,prev:T,next:E}),(k,I)=>(D(),$("div",{ref_key:"root",ref:i,class:O(u(K)),onMouseenter:I[7]||(I[7]=st((...V)=>u(v)&&u(v)(...V),["stop"])),onMouseleave:I[8]||(I[8]=st((...V)=>u(y)&&u(y)(...V),["stop"]))},[u(r)?(D(),re(Ls,{key:0,name:"carousel-arrow-left",persisted:""},{default:Z(()=>[lt(U("button",{type:"button",class:O([u(F).e("arrow"),u(F).em("arrow","left")]),"aria-label":u(G)("el.carousel.leftArrow"),onMouseenter:I[0]||(I[0]=V=>u(g)("left")),onMouseleave:I[1]||(I[1]=(...V)=>u(m)&&u(m)(...V)),onClick:I[2]||(I[2]=st(V=>u(N)(u(o)-1),["stop"]))},[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1})],42,R6),[[Lt,(k.arrow==="always"||u(a))&&(n.loop||u(o)>0)]])]),_:1})):se("v-if",!0),u(r)?(D(),re(Ls,{key:1,name:"carousel-arrow-right",persisted:""},{default:Z(()=>[lt(U("button",{type:"button",class:O([u(F).e("arrow"),u(F).em("arrow","right")]),"aria-label":u(G)("el.carousel.rightArrow"),onMouseenter:I[3]||(I[3]=V=>u(g)("right")),onMouseleave:I[4]||(I[4]=(...V)=>u(m)&&u(m)(...V)),onClick:I[5]||(I[5]=st(V=>u(N)(u(o)+1),["stop"]))},[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})],42,T6),[[Lt,(k.arrow==="always"||u(a))&&(n.loop||u(o)<u(h).length-1)]])]),_:1})):se("v-if",!0),U("div",{class:O(u(z)),style:je(u(p)),onTransitionend:I[6]||(I[6]=(...V)=>u(w)&&u(w)(...V))},[q(u(P)),ae(k.$slots,"default")],38),k.indicatorPosition!=="none"?(D(),$("ul",{key:2,class:O(u(W))},[(D(!0),$(qe,null,Dt(u(h),(V,_)=>lt((D(),$("li",{key:_,class:O([u(F).e("indicator"),u(F).em("indicator",k.direction),u(F).is("active",_===u(o))]),onMouseenter:B=>u(x)(_),onClick:st(B=>u(C)(_),["stop"])},[U("button",{class:O(u(F).e("button")),"aria-label":u(G)("el.carousel.indicator",{index:_+1})},[u(l)?(D(),$("span",P6,Me(V.props.label),1)):se("v-if",!0)],10,A6)],42,D6)),[[Lt,u(A)(_)]])),128))],2)):se("v-if",!0),n.motionBlur?(D(),$("svg",O6,M6)):se("v-if",!0)],34))}});var N6=_e(L6,[["__file","carousel.vue"]]);const x6=Oe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),k6=(e,t)=>{const s=Be(oO),n=ct(),i=.83,o=L(),r=L(!1),l=L(0),a=L(1),c=L(!1),h=L(!1),d=L(!1),p=L(!1),{isCardType:g,isVertical:m}=s;function f(b,T,E){const P=E-1,A=T-1,N=T+1,x=E/2;return T===0&&b===P?-1:T===P&&b===0?E:b<A&&T-b>=x?E+1:b>N&&b-T>=x?-2:b}function C(b,T){var E,P;const A=u(m)?((E=s.root.value)==null?void 0:E.offsetHeight)||0:((P=s.root.value)==null?void 0:P.offsetWidth)||0;return d.value?A*((2-i)*(b-T)+1)/4:b<T?-(1+i)*A/4:(3+i)*A/4}function v(b,T,E){const P=s.root.value;return P?((E?P.offsetHeight:P.offsetWidth)||0)*(b-T):0}const y=(b,T,E)=>{var P;const A=u(g),N=(P=s.items.value.length)!=null?P:Number.NaN,x=b===T;!A&&!Ps(E)&&(p.value=x||b===E),!x&&N>2&&s.loop&&(b=f(b,T,N));const F=u(m);c.value=x,A?(d.value=Math.round(Math.abs(b-T))<=1,l.value=C(b,T),a.value=u(c)?1:i):l.value=v(b,T,F),h.value=!0,x&&o.value&&s.setContainerHeight(o.value.offsetHeight)};function w(){if(s&&u(g)){const b=s.items.value.findIndex(({uid:T})=>T===n.uid);s.setActiveItem(b)}}return at(()=>{s.addItem({props:e,states:Gt({hover:r,translate:l,scale:a,active:c,ready:h,inStage:d,animating:p}),uid:n.uid,translateItem:y})}),Kr(()=>{s.removeItem(n.uid)}),{carouselItemRef:o,active:c,animating:p,hover:r,inStage:d,isVertical:m,translate:l,isCardType:g,scale:a,ready:h,handleItemClick:w}},G6=j({name:"ElCarouselItem"}),V6=j({...G6,props:x6,setup(e){const t=e,s=we("carousel"),{carouselItemRef:n,active:i,animating:o,hover:r,inStage:l,isVertical:a,translate:c,isCardType:h,scale:d,ready:p,handleItemClick:g}=k6(t),m=R(()=>[s.e("item"),s.is("active",i.value),s.is("in-stage",l.value),s.is("hover",r.value),s.is("animating",o.value),{[s.em("item","card")]:h.value,[s.em("item","card-vertical")]:h.value&&a.value}]),f=R(()=>{const v=`${`translate${u(a)?"Y":"X"}`}(${u(c)}px)`,y=`scale(${u(d)})`;return{transform:[v,y].join(" ")}});return(C,v)=>lt((D(),$("div",{ref_key:"carouselItemRef",ref:n,class:O(u(m)),style:je(u(f)),onClick:v[0]||(v[0]=(...y)=>u(g)&&u(g)(...y))},[u(h)?lt((D(),$("div",{key:0,class:O(u(s).e("mask"))},null,2)),[[Lt,!u(i)]]):se("v-if",!0),ae(C.$slots,"default")],6)),[[Lt,u(p)]])}});var rO=_e(V6,[["__file","carousel-item.vue"]]);const H6=ft(N6,{CarouselItem:rO}),B6=hs(rO),lO={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Us,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},aO={[vt]:e=>rt(e)||tt(e)||Os(e),change:e=>rt(e)||tt(e)||Os(e)},qu=Symbol("checkboxGroupContextKey"),$6=({model:e,isChecked:t})=>{const s=Be(qu,void 0),n=R(()=>{var o,r;const l=(o=s==null?void 0:s.max)==null?void 0:o.value,a=(r=s==null?void 0:s.min)==null?void 0:r.value;return!Ps(l)&&e.value.length>=l&&!t.value||!Ps(a)&&e.value.length<=a&&t.value});return{isDisabled:Wn(R(()=>(s==null?void 0:s.disabled.value)||n.value)),isLimitDisabled:n}},W6=(e,{model:t,isLimitExceeded:s,hasOwnLabel:n,isDisabled:i,isLabeledByFormItem:o})=>{const r=Be(qu,void 0),{formItem:l}=Dn(),{emit:a}=ct();function c(m){var f,C,v,y;return[!0,e.trueValue,e.trueLabel].includes(m)?(C=(f=e.trueValue)!=null?f:e.trueLabel)!=null?C:!0:(y=(v=e.falseValue)!=null?v:e.falseLabel)!=null?y:!1}function h(m,f){a("change",c(m),f)}function d(m){if(s.value)return;const f=m.target;a("change",c(f.checked),m)}async function p(m){s.value||!n.value&&!i.value&&o.value&&(m.composedPath().some(v=>v.tagName==="LABEL")||(t.value=c([!1,e.falseValue,e.falseLabel].includes(t.value)),await Xe(),h(t.value,m)))}const g=R(()=>(r==null?void 0:r.validateEvent)||e.validateEvent);return ve(()=>e.modelValue,()=>{g.value&&(l==null||l.validate("change").catch(m=>void 0))}),{handleChange:d,onClickRoot:p}},z6=e=>{const t=L(!1),{emit:s}=ct(),n=Be(qu,void 0),i=R(()=>Ps(n)===!1),o=L(!1),r=R({get(){var l,a;return i.value?(l=n==null?void 0:n.modelValue)==null?void 0:l.value:(a=e.modelValue)!=null?a:t.value},set(l){var a,c;i.value&&ke(l)?(o.value=((a=n==null?void 0:n.max)==null?void 0:a.value)!==void 0&&l.length>(n==null?void 0:n.max.value)&&l.length>r.value.length,o.value===!1&&((c=n==null?void 0:n.changeEvent)==null||c.call(n,l))):(s(vt,l),t.value=l)}});return{model:r,isGroup:i,isLimitExceeded:o}},U6=(e,t,{model:s})=>{const n=Be(qu,void 0),i=L(!1),o=R(()=>$l(e.value)?e.label:e.value),r=R(()=>{const h=s.value;return Os(h)?h:ke(h)?yt(o.value)?h.map(zt).some(d=>un(d,o.value)):h.map(zt).includes(o.value):h!=null?h===e.trueValue||h===e.trueLabel:!!h}),l=xs(R(()=>{var h;return(h=n==null?void 0:n.size)==null?void 0:h.value}),{prop:!0}),a=xs(R(()=>{var h;return(h=n==null?void 0:n.size)==null?void 0:h.value})),c=R(()=>!!t.default||!$l(o.value));return{checkboxButtonSize:l,isChecked:r,isFocused:i,checkboxSize:a,hasOwnLabel:c,actualValue:o}},uO=(e,t)=>{const{formItem:s}=Dn(),{model:n,isGroup:i,isLimitExceeded:o}=z6(e),{isFocused:r,isChecked:l,checkboxButtonSize:a,checkboxSize:c,hasOwnLabel:h,actualValue:d}=U6(e,t,{model:n}),{isDisabled:p}=$6({model:n,isChecked:l}),{inputId:g,isLabeledByFormItem:m}=To(e,{formItemContext:s,disableIdGeneration:h,disableIdManagement:i}),{handleChange:f,onClickRoot:C}=W6(e,{model:n,isLimitExceeded:o,hasOwnLabel:h,isDisabled:p,isLabeledByFormItem:m});return(()=>{function y(){var w,b;ke(n.value)&&!n.value.includes(d.value)?n.value.push(d.value):n.value=(b=(w=e.trueValue)!=null?w:e.trueLabel)!=null?b:!0}e.checked&&y()})(),Al({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>i.value&&$l(e.value))),Al({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>!!e.trueLabel)),Al({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>!!e.falseLabel)),{inputId:g,isLabeledByFormItem:m,isChecked:l,isDisabled:p,isFocused:r,checkboxButtonSize:a,checkboxSize:c,hasOwnLabel:h,model:n,actualValue:d,handleChange:f,onClickRoot:C}},K6=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],j6=["id","indeterminate","disabled","value","name","tabindex"],Y6=j({name:"ElCheckbox"}),q6=j({...Y6,props:lO,emits:aO,setup(e){const t=e,s=Ys(),{inputId:n,isLabeledByFormItem:i,isChecked:o,isDisabled:r,isFocused:l,checkboxSize:a,hasOwnLabel:c,model:h,actualValue:d,handleChange:p,onClickRoot:g}=uO(t,s),m=we("checkbox"),f=R(()=>[m.b(),m.m(a.value),m.is("disabled",r.value),m.is("bordered",t.border),m.is("checked",o.value)]),C=R(()=>[m.e("input"),m.is("disabled",r.value),m.is("checked",o.value),m.is("indeterminate",t.indeterminate),m.is("focus",l.value)]);return(v,y)=>(D(),re(Ct(!u(c)&&u(i)?"span":"label"),{class:O(u(f)),"aria-controls":v.indeterminate?v.controls:null,onClick:u(g)},{default:Z(()=>{var w,b;return[U("span",{class:O(u(C))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?lt((D(),$("input",{key:0,id:u(n),"onUpdate:modelValue":y[0]||(y[0]=T=>ns(h)?h.value=T:null),class:O(u(m).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:u(r),"true-value":(w=v.trueValue)!=null?w:v.trueLabel,"false-value":(b=v.falseValue)!=null?b:v.falseLabel,onChange:y[1]||(y[1]=(...T)=>u(p)&&u(p)(...T)),onFocus:y[2]||(y[2]=T=>l.value=!0),onBlur:y[3]||(y[3]=T=>l.value=!1),onClick:y[4]||(y[4]=st(()=>{},["stop"]))},null,42,K6)),[[nf,u(h)]]):lt((D(),$("input",{key:1,id:u(n),"onUpdate:modelValue":y[5]||(y[5]=T=>ns(h)?h.value=T:null),class:O(u(m).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:u(r),value:u(d),name:v.name,tabindex:v.tabindex,onChange:y[6]||(y[6]=(...T)=>u(p)&&u(p)(...T)),onFocus:y[7]||(y[7]=T=>l.value=!0),onBlur:y[8]||(y[8]=T=>l.value=!1),onClick:y[9]||(y[9]=st(()=>{},["stop"]))},null,42,j6)),[[nf,u(h)]]),U("span",{class:O(u(m).e("inner"))},null,2)],2),u(c)?(D(),$("span",{key:0,class:O(u(m).e("label"))},[ae(v.$slots,"default"),v.$slots.default?se("v-if",!0):(D(),$(qe,{key:0},[_t(Me(v.label),1)],64))],2)):se("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var X6=_e(q6,[["__file","checkbox.vue"]]);const Q6=["name","tabindex","disabled","true-value","false-value"],Z6=["name","tabindex","disabled","value"],J6=j({name:"ElCheckboxButton"}),eK=j({...J6,props:lO,emits:aO,setup(e){const t=e,s=Ys(),{isFocused:n,isChecked:i,isDisabled:o,checkboxButtonSize:r,model:l,actualValue:a,handleChange:c}=uO(t,s),h=Be(qu,void 0),d=we("checkbox"),p=R(()=>{var m,f,C,v;const y=(f=(m=h==null?void 0:h.fill)==null?void 0:m.value)!=null?f:"";return{backgroundColor:y,borderColor:y,color:(v=(C=h==null?void 0:h.textColor)==null?void 0:C.value)!=null?v:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),g=R(()=>[d.b("button"),d.bm("button",r.value),d.is("disabled",o.value),d.is("checked",i.value),d.is("focus",n.value)]);return(m,f)=>{var C,v;return D(),$("label",{class:O(u(g))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?lt((D(),$("input",{key:0,"onUpdate:modelValue":f[0]||(f[0]=y=>ns(l)?l.value=y:null),class:O(u(d).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:u(o),"true-value":(C=m.trueValue)!=null?C:m.trueLabel,"false-value":(v=m.falseValue)!=null?v:m.falseLabel,onChange:f[1]||(f[1]=(...y)=>u(c)&&u(c)(...y)),onFocus:f[2]||(f[2]=y=>n.value=!0),onBlur:f[3]||(f[3]=y=>n.value=!1),onClick:f[4]||(f[4]=st(()=>{},["stop"]))},null,42,Q6)),[[nf,u(l)]]):lt((D(),$("input",{key:1,"onUpdate:modelValue":f[5]||(f[5]=y=>ns(l)?l.value=y:null),class:O(u(d).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:u(o),value:u(a),onChange:f[6]||(f[6]=(...y)=>u(c)&&u(c)(...y)),onFocus:f[7]||(f[7]=y=>n.value=!0),onBlur:f[8]||(f[8]=y=>n.value=!1),onClick:f[9]||(f[9]=st(()=>{},["stop"]))},null,42,Z6)),[[nf,u(l)]]),m.$slots.default||m.label?(D(),$("span",{key:2,class:O(u(d).be("button","inner")),style:je(u(i)?u(p):void 0)},[ae(m.$slots,"default",{},()=>[_t(Me(m.label),1)])],6)):se("v-if",!0)],2)}}});var cO=_e(eK,[["__file","checkbox-button.vue"]]);const tK=Oe({modelValue:{type:J(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Us,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),sK={[vt]:e=>ke(e),change:e=>ke(e)},nK=j({name:"ElCheckboxGroup"}),iK=j({...nK,props:tK,emits:sK,setup(e,{emit:t}){const s=e,n=we("checkbox"),{formItem:i}=Dn(),{inputId:o,isLabeledByFormItem:r}=To(s,{formItemContext:i}),l=async c=>{t(vt,c),await Xe(),t("change",c)},a=R({get(){return s.modelValue},set(c){l(c)}});return Et(qu,{...ko(Zs(s),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:a,changeEvent:l}),ve(()=>s.modelValue,()=>{s.validateEvent&&(i==null||i.validate("change").catch(c=>void 0))}),(c,h)=>{var d;return D(),re(Ct(c.tag),{id:u(o),class:O(u(n).b("group")),role:"group","aria-label":u(r)?void 0:c.label||"checkbox-group","aria-labelledby":u(r)?(d=u(i))==null?void 0:d.labelId:void 0},{default:Z(()=>[ae(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var dO=_e(iK,[["__file","checkbox-group.vue"]]);const Ai=ft(X6,{CheckboxButton:cO,CheckboxGroup:dO}),oK=hs(cO),hO=hs(dO),pO=Oe({modelValue:{type:[String,Number,Boolean],default:void 0},size:Us,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),rK=Oe({...pO,border:Boolean}),fO={[vt]:e=>rt(e)||tt(e)||Os(e),[as]:e=>rt(e)||tt(e)||Os(e)},gO=Symbol("radioGroupKey"),mO=(e,t)=>{const s=L(),n=Be(gO,void 0),i=R(()=>!!n),o=R(()=>$l(e.value)?e.label:e.value),r=R({get(){return i.value?n.modelValue:e.modelValue},set(d){i.value?n.changeEvent(d):t&&t(vt,d),s.value.checked=e.modelValue===o.value}}),l=xs(R(()=>n==null?void 0:n.size)),a=Wn(R(()=>n==null?void 0:n.disabled)),c=L(!1),h=R(()=>a.value||i.value&&r.value!==o.value?-1:0);return Al({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},R(()=>i.value&&$l(e.value))),{radioRef:s,isGroup:i,radioGroup:n,focus:c,size:l,disabled:a,tabIndex:h,modelValue:r,actualValue:o}},lK=["value","name","disabled"],aK=j({name:"ElRadio"}),uK=j({...aK,props:rK,emits:fO,setup(e,{emit:t}){const s=e,n=we("radio"),{radioRef:i,radioGroup:o,focus:r,size:l,disabled:a,modelValue:c,actualValue:h}=mO(s,t);function d(){Xe(()=>t("change",c.value))}return(p,g)=>{var m;return D(),$("label",{class:O([u(n).b(),u(n).is("disabled",u(a)),u(n).is("focus",u(r)),u(n).is("bordered",p.border),u(n).is("checked",u(c)===u(h)),u(n).m(u(l))])},[U("span",{class:O([u(n).e("input"),u(n).is("disabled",u(a)),u(n).is("checked",u(c)===u(h))])},[lt(U("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":g[0]||(g[0]=f=>ns(c)?c.value=f:null),class:O(u(n).e("original")),value:u(h),name:p.name||((m=u(o))==null?void 0:m.name),disabled:u(a),type:"radio",onFocus:g[1]||(g[1]=f=>r.value=!0),onBlur:g[2]||(g[2]=f=>r.value=!1),onChange:d,onClick:g[3]||(g[3]=st(()=>{},["stop"]))},null,42,lK),[[TD,u(c)]]),U("span",{class:O(u(n).e("inner"))},null,2)],2),U("span",{class:O(u(n).e("label")),onKeydown:g[4]||(g[4]=st(()=>{},["stop"]))},[ae(p.$slots,"default",{},()=>[_t(Me(p.label),1)])],34)],2)}}});var cK=_e(uK,[["__file","radio.vue"]]);const dK=Oe({...pO}),hK=["value","name","disabled"],pK=j({name:"ElRadioButton"}),fK=j({...pK,props:dK,setup(e){const t=e,s=we("radio"),{radioRef:n,focus:i,size:o,disabled:r,modelValue:l,radioGroup:a,actualValue:c}=mO(t),h=R(()=>({backgroundColor:(a==null?void 0:a.fill)||"",borderColor:(a==null?void 0:a.fill)||"",boxShadow:a!=null&&a.fill?`-1px 0 0 0 ${a.fill}`:"",color:(a==null?void 0:a.textColor)||""}));return(d,p)=>{var g;return D(),$("label",{class:O([u(s).b("button"),u(s).is("active",u(l)===u(c)),u(s).is("disabled",u(r)),u(s).is("focus",u(i)),u(s).bm("button",u(o))])},[lt(U("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":p[0]||(p[0]=m=>ns(l)?l.value=m:null),class:O(u(s).be("button","original-radio")),value:u(c),type:"radio",name:d.name||((g=u(a))==null?void 0:g.name),disabled:u(r),onFocus:p[1]||(p[1]=m=>i.value=!0),onBlur:p[2]||(p[2]=m=>i.value=!1),onClick:p[3]||(p[3]=st(()=>{},["stop"]))},null,42,hK),[[TD,u(l)]]),U("span",{class:O(u(s).be("button","inner")),style:je(u(l)===u(c)?u(h):{}),onKeydown:p[4]||(p[4]=st(()=>{},["stop"]))},[ae(d.$slots,"default",{},()=>[_t(Me(d.label),1)])],38)],2)}}});var vO=_e(fK,[["__file","radio-button.vue"]]);const gK=Oe({id:{type:String,default:void 0},size:Us,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),mK=fO,vK=["id","aria-label","aria-labelledby"],CK=j({name:"ElRadioGroup"}),yK=j({...CK,props:gK,emits:mK,setup(e,{emit:t}){const s=e,n=we("radio"),i=dn(),o=L(),{formItem:r}=Dn(),{inputId:l,isLabeledByFormItem:a}=To(s,{formItemContext:r}),c=d=>{t(vt,d),Xe(()=>t("change",d))};at(()=>{const d=o.value.querySelectorAll("[type=radio]"),p=d[0];!Array.from(d).some(g=>g.checked)&&p&&(p.tabIndex=0)});const h=R(()=>s.name||i.value);return Et(gO,Gt({...Zs(s),changeEvent:c,name:h})),ve(()=>s.modelValue,()=>{s.validateEvent&&(r==null||r.validate("change").catch(d=>void 0))}),(d,p)=>(D(),$("div",{id:u(l),ref_key:"radioGroupRef",ref:o,class:O(u(n).b("group")),role:"radiogroup","aria-label":u(a)?void 0:d.label||"radio-group","aria-labelledby":u(a)?u(r).labelId:void 0},[ae(d.$slots,"default")],10,vK))}});var CO=_e(yK,[["__file","radio-group.vue"]]);const yO=ft(cK,{RadioButton:vO,RadioGroup:CO}),wK=hs(CO),bK=hs(vO);var SK=j({name:"NodeContent",setup(){return{ns:we("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:s}=this.$parent,{data:n,label:i}=t,{renderLabelFn:o}=s;return Qe("span",{class:e.e("label")},o?o({node:t,data:n}):i)}});const Nw=Symbol(),EK=j({name:"ElCascaderNode",components:{ElCheckbox:Ai,ElRadio:yO,NodeContent:SK,ElIcon:Ue,Check:sh,Loading:Yr,ArrowRight:bn},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const s=Be(Nw),n=we("cascader-node"),i=R(()=>s.isHoverMenu),o=R(()=>s.config.multiple),r=R(()=>s.config.checkStrictly),l=R(()=>{var E;return(E=s.checkedNodes[0])==null?void 0:E.uid}),a=R(()=>e.node.isDisabled),c=R(()=>e.node.isLeaf),h=R(()=>r.value&&!c.value||!a.value),d=R(()=>g(s.expandingNode)),p=R(()=>r.value&&s.checkedNodes.some(g)),g=E=>{var P;const{level:A,uid:N}=e.node;return((P=E==null?void 0:E.pathNodes[A-1])==null?void 0:P.uid)===N},m=()=>{d.value||s.expandNode(e.node)},f=E=>{const{node:P}=e;E!==P.checked&&s.handleCheckChange(P,E)},C=()=>{s.lazyLoad(e.node,()=>{c.value||m()})},v=E=>{i.value&&(y(),!c.value&&t("expand",E))},y=()=>{const{node:E}=e;!h.value||E.loading||(E.loaded?m():C())},w=()=>{i.value&&!c.value||(c.value&&!a.value&&!r.value&&!o.value?T(!0):y())},b=E=>{r.value?(f(E),e.node.loaded&&m()):T(E)},T=E=>{e.node.loaded?(f(E),!r.value&&m()):C()};return{panel:s,isHoverMenu:i,multiple:o,checkStrictly:r,checkedNodeId:l,isDisabled:a,isLeaf:c,expandable:h,inExpandingPath:d,inCheckedPath:p,ns:n,handleHoverExpand:v,handleExpand:y,handleClick:w,handleCheck:T,handleSelectCheck:b}}}),RK=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],TK=U("span",null,null,-1);function DK(e,t,s,n,i,o){const r=pt("el-checkbox"),l=pt("el-radio"),a=pt("check"),c=pt("el-icon"),h=pt("node-content"),d=pt("loading"),p=pt("arrow-right");return D(),$("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:O([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...g)=>e.handleHoverExpand&&e.handleHoverExpand(...g)),onFocus:t[3]||(t[3]=(...g)=>e.handleHoverExpand&&e.handleHoverExpand(...g)),onClick:t[4]||(t[4]=(...g)=>e.handleClick&&e.handleClick(...g))},[se(" prefix "),e.multiple?(D(),re(r,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=st(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(D(),re(l,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=st(()=>{},["stop"]))},{default:Z(()=>[se(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),TK]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(D(),re(c,{key:2,class:O(e.ns.e("prefix"))},{default:Z(()=>[q(a)]),_:1},8,["class"])):se("v-if",!0),se(" content "),q(h),se(" postfix "),e.isLeaf?se("v-if",!0):(D(),$(qe,{key:3},[e.node.loading?(D(),re(c,{key:0,class:O([e.ns.is("loading"),e.ns.e("postfix")])},{default:Z(()=>[q(d)]),_:1},8,["class"])):(D(),re(c,{key:1,class:O(["arrow-right",e.ns.e("postfix")])},{default:Z(()=>[q(p)]),_:1},8,["class"]))],64))],42,RK)}var AK=_e(EK,[["render",DK],["__file","node.vue"]]);const PK=j({name:"ElCascaderMenu",components:{Loading:Yr,ElIcon:Ue,ElScrollbar:tr,ElCascaderNode:AK},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=ct(),s=we("cascader-menu"),{t:n}=Ft(),i=dn();let o=null,r=null;const l=Be(Nw),a=L(null),c=R(()=>!e.nodes.length),h=R(()=>!l.initialLoaded),d=R(()=>`${i.value}-${e.index}`),p=C=>{o=C.target},g=C=>{if(!(!l.isHoverMenu||!o||!a.value))if(o.contains(C.target)){m();const v=t.vnode.el,{left:y}=v.getBoundingClientRect(),{offsetWidth:w,offsetHeight:b}=v,T=C.clientX-y,E=o.offsetTop,P=E+o.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${E} L${w} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${P} L${w} ${b} V${P} Z" />
        `}else r||(r=window.setTimeout(f,l.config.hoverThreshold))},m=()=>{r&&(clearTimeout(r),r=null)},f=()=>{a.value&&(a.value.innerHTML="",m())};return{ns:s,panel:l,hoverZone:a,isEmpty:c,isLoading:h,menuId:d,t:n,handleExpand:p,handleMouseMove:g,clearHoverZone:f}}});function OK(e,t,s,n,i,o){const r=pt("el-cascader-node"),l=pt("loading"),a=pt("el-icon"),c=pt("el-scrollbar");return D(),re(c,{key:e.menuId,tag:"ul",role:"menu",class:O(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Z(()=>{var h;return[(D(!0),$(qe,null,Dt(e.nodes,d=>(D(),re(r,{key:d.uid,node:d,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(D(),$("div",{key:0,class:O(e.ns.e("empty-text"))},[q(a,{size:"14",class:O(e.ns.is("loading"))},{default:Z(()=>[q(l)]),_:1},8,["class"]),_t(" "+Me(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(D(),$("div",{key:1,class:O(e.ns.e("empty-text"))},Me(e.t("el.cascader.noData")),3)):(h=e.panel)!=null&&h.isHoverMenu?(D(),$("svg",{key:2,ref:"hoverZone",class:O(e.ns.e("hover-zone"))},null,2)):se("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var _K=_e(PK,[["render",OK],["__file","menu.vue"]]);let MK=0;const IK=e=>{const t=[e];let{parent:s}=e;for(;s;)t.unshift(s),s=s.parent;return t};let oC=class rC{constructor(t,s,n,i=!1){this.data=t,this.config=s,this.parent=n,this.root=i,this.uid=MK++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:r,children:l}=s,a=t[l],c=IK(this);this.level=i?0:n?n.level+1:1,this.value=t[o],this.label=t[r],this.pathNodes=c,this.pathValues=c.map(h=>h.value),this.pathLabels=c.map(h=>h.label),this.childrenData=a,this.children=(a||[]).map(h=>new rC(h,s,this)),this.loaded=!s.lazy||this.isLeaf||!hi(a)}get isDisabled(){const{data:t,parent:s,config:n}=this,{disabled:i,checkStrictly:o}=n;return(nt(i)?i(t,this):!!t[i])||!o&&(s==null?void 0:s.isDisabled)}get isLeaf(){const{data:t,config:s,childrenData:n,loaded:i}=this,{lazy:o,leaf:r}=s,l=nt(r)?r(t,this):t[r];return Ps(l)?o&&!i?!1:!(Array.isArray(n)&&n.length):!!l}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:s,children:n}=this,i=new rC(t,this.config,this);return Array.isArray(s)?s.push(t):this.childrenData=[t],n.push(i),i}calcText(t,s){const n=t?this.pathLabels.join(s):this.label;return this.text=n,n}broadcast(t,...s){const n=`onParent${oo(t)}`;this.children.forEach(i=>{i&&(i.broadcast(t,...s),i[n]&&i[n](...s))})}emit(t,...s){const{parent:n}=this,i=`onChild${oo(t)}`;n&&(n[i]&&n[i](...s),n.emit(t,...s))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,s=t.filter(i=>!i.isDisabled),n=s.length?s.every(i=>i.checked):!1;this.setCheckState(n)}setCheckState(t){const s=this.children.length,n=this.children.reduce((i,o)=>{const r=o.checked?1:o.indeterminate?.5:0;return i+r},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&t,this.indeterminate=this.loaded&&n!==s&&n>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:s,multiple:n}=this.config;s||!n?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const lC=(e,t)=>e.reduce((s,n)=>(n.isLeaf?s.push(n):(!t&&s.push(n),s=s.concat(lC(n.children,t))),s),[]);class nR{constructor(t,s){this.config=s;const n=(t||[]).map(i=>new oC(i,this.config));this.nodes=n,this.allNodes=lC(n,!1),this.leafNodes=lC(n,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,s){const n=s?s.appendChild(t):new oC(t,this.config);s||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(t,s){t.forEach(n=>this.appendNode(n,s))}getNodeByValue(t,s=!1){return!t&&t!==0?null:this.getFlattedNodes(s).find(i=>un(i.value,t)||un(i.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:n,level:i})=>un(t.value,n)&&t.level===i)||null}}const wO=Oe({modelValue:{type:J([Number,String,Array])},options:{type:J(Array),default:()=>[]},props:{type:J(Object),default:()=>({})}}),FK={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:$t,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},LK=e=>R(()=>({...FK,...e.props})),iR=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},NK=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():_D(e)&&e.click()},xK=(e,t)=>{const s=t.slice(0),n=s.map(o=>o.uid),i=e.reduce((o,r)=>{const l=n.indexOf(r.uid);return l>-1&&(o.push(r),s.splice(l,1),n.splice(l,1)),o},[]);return i.push(...s),i},kK=j({name:"ElCascaderPanel",components:{ElCascaderMenu:_K},props:{...wO,border:{type:Boolean,default:!0},renderLabel:Function},emits:[vt,as,"close","expand-change"],setup(e,{emit:t,slots:s}){let n=!1;const i=we("cascader"),o=LK(e);let r=null;const l=L(!0),a=L([]),c=L(null),h=L([]),d=L(null),p=L([]),g=R(()=>o.value.expandTrigger==="hover"),m=R(()=>e.renderLabel||s.default),f=()=>{const{options:G}=e,K=o.value;n=!1,r=new nR(G,K),h.value=[r.getNodes()],K.lazy&&hi(e.options)?(l.value=!1,C(void 0,z=>{z&&(r=new nR(z,K),h.value=[r.getNodes()]),l.value=!0,A(!1,!0)})):A(!1,!0)},C=(G,K)=>{const z=o.value;G=G||new oC({},z,void 0,!0),G.loading=!0;const W=k=>{const I=G,V=I.root?null:I;k&&(r==null||r.appendNodes(k,V)),I.loading=!1,I.loaded=!0,I.childrenData=I.childrenData||[],K&&K(k)};z.lazyLoad(G,W)},v=(G,K)=>{var z;const{level:W}=G,k=h.value.slice(0,W);let I;G.isLeaf?I=G.pathNodes[W-2]:(I=G,k.push(G.children)),((z=d.value)==null?void 0:z.uid)!==(I==null?void 0:I.uid)&&(d.value=G,h.value=k,!K&&t("expand-change",(G==null?void 0:G.pathValues)||[]))},y=(G,K,z=!0)=>{const{checkStrictly:W,multiple:k}=o.value,I=p.value[0];n=!0,!k&&(I==null||I.doCheck(!1)),G.doCheck(K),P(),z&&!k&&!W&&t("close"),!z&&!k&&!W&&w(G)},w=G=>{G&&(G=G.parent,w(G),G&&v(G))},b=G=>r==null?void 0:r.getFlattedNodes(G),T=G=>{var K;return(K=b(G))==null?void 0:K.filter(z=>z.checked!==!1)},E=()=>{p.value.forEach(G=>G.doCheck(!1)),P(),h.value=h.value.slice(0,1),d.value=null,t("expand-change",[])},P=()=>{var G;const{checkStrictly:K,multiple:z}=o.value,W=p.value,k=T(!K),I=xK(W,k),V=I.map(_=>_.valueByOption);p.value=I,c.value=z?V:(G=V[0])!=null?G:null},A=(G=!1,K=!1)=>{const{modelValue:z}=e,{lazy:W,multiple:k,checkStrictly:I}=o.value,V=!I;if(!(!l.value||n||!K&&un(z,c.value)))if(W&&!G){const B=s0(LH(qn(z))).map(Y=>r==null?void 0:r.getNodeByValue(Y)).filter(Y=>!!Y&&!Y.loaded&&!Y.loading);B.length?B.forEach(Y=>{C(Y,()=>A(!1,K))}):A(!0,K)}else{const _=k?qn(z):[z],B=s0(_.map(Y=>r==null?void 0:r.getNodeByValue(Y,V)));N(B,K),c.value=lf(z)}},N=(G,K=!0)=>{const{checkStrictly:z}=o.value,W=p.value,k=G.filter(_=>!!_&&(z||_.isLeaf)),I=r==null?void 0:r.getSameNode(d.value),V=K&&I||k[0];V?V.pathNodes.forEach(_=>v(_,!0)):d.value=null,W.forEach(_=>_.doCheck(!1)),Gt(k).forEach(_=>_.doCheck(!0)),p.value=k,Xe(x)},x=()=>{At&&a.value.forEach(G=>{const K=G==null?void 0:G.$el;if(K){const z=K.querySelector(`.${i.namespace.value}-scrollbar__wrap`),W=K.querySelector(`.${i.b("node")}.${i.is("active")}`)||K.querySelector(`.${i.b("node")}.in-active-path`);DA(z,W)}})},F=G=>{const K=G.target,{code:z}=G;switch(z){case Ye.up:case Ye.down:{G.preventDefault();const W=z===Ye.up?-1:1;mp(MD(K,W,`.${i.b("node")}[tabindex="-1"]`));break}case Ye.left:{G.preventDefault();const W=a.value[iR(K)-1],k=W==null?void 0:W.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);mp(k);break}case Ye.right:{G.preventDefault();const W=a.value[iR(K)+1],k=W==null?void 0:W.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);mp(k);break}case Ye.enter:NK(K);break}};return Et(Nw,Gt({config:o,expandingNode:d,checkedNodes:p,isHoverMenu:g,initialLoaded:l,renderLabelFn:m,lazyLoad:C,expandNode:v,handleCheckChange:y})),ve([o,()=>e.options],f,{deep:!0,immediate:!0}),ve(()=>e.modelValue,()=>{n=!1,A()},{deep:!0}),ve(()=>c.value,G=>{un(G,e.modelValue)||(t(vt,G),t(as,G))}),JT(()=>a.value=[]),at(()=>!hi(e.modelValue)&&A()),{ns:i,menuList:a,menus:h,checkedNodes:p,handleKeyDown:F,handleCheckChange:y,getFlattedNodes:b,getCheckedNodes:T,clearCheckedNodes:E,calculateCheckedValue:P,scrollToExpandingNode:x}}});function GK(e,t,s,n,i,o){const r=pt("el-cascader-menu");return D(),$("div",{class:O([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...l)=>e.handleKeyDown&&e.handleKeyDown(...l))},[(D(!0),$(qe,null,Dt(e.menus,(l,a)=>(D(),re(r,{key:a,ref_for:!0,ref:c=>e.menuList[a]=c,index:a,nodes:[...l]},null,8,["index","nodes"]))),128))],34)}var Rp=_e(kK,[["render",GK],["__file","index.vue"]]);Rp.install=e=>{e.component(Rp.name,Rp)};const bO=Rp,VK=bO,Tg=Oe({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Ro},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),HK={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},BK=j({name:"ElTag"}),$K=j({...BK,props:Tg,emits:HK,setup(e,{emit:t}){const s=e,n=xs(),i=we("tag"),o=R(()=>{const{type:a,hit:c,effect:h,closable:d,round:p}=s;return[i.b(),i.is("closable",d),i.m(a||"primary"),i.m(n.value),i.m(h),i.is("hit",c),i.is("round",p)]}),r=a=>{t("close",a)},l=a=>{t("click",a)};return(a,c)=>a.disableTransitions?(D(),$("span",{key:0,class:O(u(o)),style:je({backgroundColor:a.color}),onClick:l},[U("span",{class:O(u(i).e("content"))},[ae(a.$slots,"default")],2),a.closable?(D(),re(u(Ue),{key:0,class:O(u(i).e("close")),onClick:st(r,["stop"])},{default:Z(()=>[q(u(zi))]),_:1},8,["class","onClick"])):se("v-if",!0)],6)):(D(),re(Ls,{key:1,name:`${u(i).namespace.value}-zoom-in-center`,appear:""},{default:Z(()=>[U("span",{class:O(u(o)),style:je({backgroundColor:a.color}),onClick:l},[U("span",{class:O(u(i).e("content"))},[ae(a.$slots,"default")],2),a.closable?(D(),re(u(Ue),{key:0,class:O(u(i).e("close")),onClick:st(r,["stop"])},{default:Z(()=>[q(u(zi))]),_:1},8,["class","onClick"])):se("v-if",!0)],6)]),_:3},8,["name"]))}});var WK=_e($K,[["__file","tag.vue"]]);const dd=ft(WK),zK=Oe({...wO,size:Us,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:J(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:J(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:qs.teleported,tagType:{...Tg.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),UK={[vt]:e=>!!e||e===null,[as]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>Os(e),expandChange:e=>!!e,removeTag:e=>!!e},KK={key:0},jK=["placeholder","onKeydown"],YK=["onClick"],qK="ElCascader",XK=j({name:qK}),QK=j({...XK,props:zK,emits:UK,setup(e,{expose:t,emit:s}){const n=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ne})=>{const{modifiersData:de,placement:Pe}=ne;["right","left","bottom","top"].includes(Pe)||(de.arrow.x=35)},requires:["arrow"]}]},o=ra();let r=0,l=0;const a=we("cascader"),c=we("input"),{t:h}=Ft(),{form:d,formItem:p}=Dn(),g=L(null),m=L(null),f=L(null),C=L(null),v=L(null),y=L(!1),w=L(!1),b=L(!1),T=L(!1),E=L(""),P=L(""),A=L([]),N=L([]),x=L([]),F=L(!1),G=R(()=>o.style),K=R(()=>n.disabled||(d==null?void 0:d.disabled)),z=R(()=>n.placeholder||h("el.cascader.placeholder")),W=R(()=>P.value||A.value.length>0||F.value?"":z.value),k=xs(),I=R(()=>["small"].includes(k.value)?"small":"default"),V=R(()=>!!n.props.multiple),_=R(()=>!n.filterable||V.value),B=R(()=>V.value?P.value:E.value),Y=R(()=>{var ne;return((ne=C.value)==null?void 0:ne.checkedNodes)||[]}),Q=R(()=>!n.clearable||K.value||b.value||!w.value?!1:!!Y.value.length),ee=R(()=>{const{showAllLevels:ne,separator:de}=n,Pe=Y.value;return Pe.length?V.value?"":Pe[0].calcText(ne,de):""}),ce=R(()=>(p==null?void 0:p.validateState)||""),Ee=R({get(){return lf(n.modelValue)},set(ne){s(vt,ne),s(as,ne),n.validateEvent&&(p==null||p.validate("change").catch(de=>void 0))}}),te=R(()=>[a.b(),a.m(k.value),a.is("disabled",K.value),o.class]),ue=R(()=>[c.e("icon"),"icon-arrow-down",a.is("reverse",y.value)]),le=R(()=>a.is("focus",y.value||T.value)),Fe=R(()=>{var ne,de;return(de=(ne=g.value)==null?void 0:ne.popperRef)==null?void 0:de.contentRef}),pe=ne=>{var de,Pe,oe;K.value||(ne=ne??!y.value,ne!==y.value&&(y.value=ne,(Pe=(de=m.value)==null?void 0:de.input)==null||Pe.setAttribute("aria-expanded",`${ne}`),ne?(be(),Xe((oe=C.value)==null?void 0:oe.scrollToExpandingNode)):n.filterable&&Ke(),s("visibleChange",ne)))},be=()=>{Xe(()=>{var ne;(ne=g.value)==null||ne.updatePopper()})},Le=()=>{b.value=!1},X=ne=>{const{showAllLevels:de,separator:Pe}=n;return{node:ne,key:ne.uid,text:ne.calcText(de,Pe),hitState:!1,closable:!K.value&&!ne.isDisabled,isCollapseTag:!1}},ie=ne=>{var de;const Pe=ne.node;Pe.doCheck(!1),(de=C.value)==null||de.calculateCheckedValue(),s("removeTag",Pe.valueByOption)},Ce=()=>{if(!V.value)return;const ne=Y.value,de=[],Pe=[];if(ne.forEach(oe=>Pe.push(X(oe))),N.value=Pe,ne.length){ne.slice(0,n.maxCollapseTags).forEach(ut=>de.push(X(ut)));const oe=ne.slice(n.maxCollapseTags),ze=oe.length;ze&&(n.collapseTags?de.push({key:-1,text:`+ ${ze}`,closable:!1,isCollapseTag:!0}):oe.forEach(ut=>de.push(X(ut))))}A.value=de},Re=()=>{var ne,de;const{filterMethod:Pe,showAllLevels:oe,separator:ze}=n,ut=(de=(ne=C.value)==null?void 0:ne.getFlattedNodes(!n.props.checkStrictly))==null?void 0:de.filter(Ht=>Ht.isDisabled?!1:(Ht.calcText(oe,ze),Pe(Ht,B.value)));V.value&&(A.value.forEach(Ht=>{Ht.hitState=!1}),N.value.forEach(Ht=>{Ht.hitState=!1})),b.value=!0,x.value=ut,be()},he=()=>{var ne;let de;b.value&&v.value?de=v.value.$el.querySelector(`.${a.e("suggestion-item")}`):de=(ne=C.value)==null?void 0:ne.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),de&&(de.focus(),!b.value&&de.click())},Se=()=>{var ne,de;const Pe=(ne=m.value)==null?void 0:ne.input,oe=f.value,ze=(de=v.value)==null?void 0:de.$el;if(!(!At||!Pe)){if(ze){const ut=ze.querySelector(`.${a.e("suggestion-list")}`);ut.style.minWidth=`${Pe.offsetWidth}px`}if(oe){const{offsetHeight:ut}=oe,Ht=A.value.length>0?`${Math.max(ut+6,r)}px`:`${r}px`;Pe.style.height=Ht,be()}}},Te=ne=>{var de;return(de=C.value)==null?void 0:de.getCheckedNodes(ne)},De=ne=>{be(),s("expandChange",ne)},ye=ne=>{var de;const Pe=(de=ne.target)==null?void 0:de.value;if(ne.type==="compositionend")F.value=!1,Xe(()=>me(Pe));else{const oe=Pe[Pe.length-1]||"";F.value=!rw(oe)}},Ae=ne=>{if(!F.value)switch(ne.code){case Ye.enter:pe();break;case Ye.down:pe(!0),Xe(he),ne.preventDefault();break;case Ye.esc:y.value===!0&&(ne.preventDefault(),ne.stopPropagation(),pe(!1));break;case Ye.tab:pe(!1);break}},Ve=()=>{var ne;(ne=C.value)==null||ne.clearCheckedNodes(),!y.value&&n.filterable&&Ke(),pe(!1)},Ke=()=>{const{value:ne}=ee;E.value=ne,P.value=ne},ge=ne=>{var de,Pe;const{checked:oe}=ne;V.value?(de=C.value)==null||de.handleCheckChange(ne,!oe,!1):(!oe&&((Pe=C.value)==null||Pe.handleCheckChange(ne,!0,!1)),pe(!1))},$e=ne=>{const de=ne.target,{code:Pe}=ne;switch(Pe){case Ye.up:case Ye.down:{const oe=Pe===Ye.up?-1:1;mp(MD(de,oe,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case Ye.enter:de.click();break}},et=()=>{const ne=A.value,de=ne[ne.length-1];l=P.value?0:l+1,!(!de||!l||n.collapseTags&&ne.length>1)&&(de.hitState?ie(de):de.hitState=!0)},dt=ne=>{const de=ne.target,Pe=a.e("search-input");de.className===Pe&&(T.value=!0),s("focus",ne)},wt=ne=>{T.value=!1,s("blur",ne)},Je=$n(()=>{const{value:ne}=B;if(!ne)return;const de=n.beforeFilter(ne);jc(de)?de.then(Re).catch(()=>{}):de!==!1?Re():Le()},n.debounce),me=(ne,de)=>{!y.value&&pe(!0),!(de!=null&&de.isComposing)&&(ne?Je():Le())},Ie=ne=>Number.parseFloat(ek(c.cssVarName("input-height"),ne).value)-2;return ve(b,be),ve([Y,K],Ce),ve(A,()=>{Xe(()=>Se())}),ve(k,async()=>{await Xe();const ne=m.value.input;r=Ie(ne)||r,Se()}),ve(ee,Ke,{immediate:!0}),at(()=>{const ne=m.value.input,de=Ie(ne);r=ne.offsetHeight||de,fs(ne,Se)}),t({getCheckedNodes:Te,cascaderPanelRef:C,togglePopperVisible:pe,contentRef:Fe}),(ne,de)=>(D(),re(u(hn),{ref_key:"tooltipRef",ref:g,visible:y.value,teleported:ne.teleported,"popper-class":[u(a).e("dropdown"),ne.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${u(a).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Le},{default:Z(()=>[lt((D(),$("div",{class:O(u(te)),style:je(u(G)),onClick:de[5]||(de[5]=()=>pe(u(_)?void 0:!0)),onKeydown:Ae,onMouseenter:de[6]||(de[6]=Pe=>w.value=!0),onMouseleave:de[7]||(de[7]=Pe=>w.value=!1)},[q(u(an),{ref_key:"input",ref:m,modelValue:E.value,"onUpdate:modelValue":de[1]||(de[1]=Pe=>E.value=Pe),placeholder:u(W),readonly:u(_),disabled:u(K),"validate-event":!1,size:u(k),class:O(u(le)),tabindex:u(V)&&ne.filterable&&!u(K)?-1:void 0,onCompositionstart:ye,onCompositionupdate:ye,onCompositionend:ye,onFocus:dt,onBlur:wt,onInput:me},{suffix:Z(()=>[u(Q)?(D(),re(u(Ue),{key:"clear",class:O([u(c).e("icon"),"icon-circle-close"]),onClick:st(Ve,["stop"])},{default:Z(()=>[q(u(jr))]),_:1},8,["class","onClick"])):(D(),re(u(Ue),{key:"arrow-down",class:O(u(ue)),onClick:de[0]||(de[0]=st(Pe=>pe(),["stop"]))},{default:Z(()=>[q(u(Jo))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),u(V)?(D(),$("div",{key:0,ref_key:"tagWrapper",ref:f,class:O([u(a).e("tags"),u(a).is("validate",!!u(ce))])},[(D(!0),$(qe,null,Dt(A.value,Pe=>(D(),re(u(dd),{key:Pe.key,type:ne.tagType,size:u(I),hit:Pe.hitState,closable:Pe.closable,"disable-transitions":"",onClose:oe=>ie(Pe)},{default:Z(()=>[Pe.isCollapseTag===!1?(D(),$("span",KK,Me(Pe.text),1)):(D(),re(u(hn),{key:1,disabled:y.value||!ne.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Z(()=>[U("span",null,Me(Pe.text),1)]),content:Z(()=>[U("div",{class:O(u(a).e("collapse-tags"))},[(D(!0),$(qe,null,Dt(N.value.slice(ne.maxCollapseTags),(oe,ze)=>(D(),$("div",{key:ze,class:O(u(a).e("collapse-tag"))},[(D(),re(u(dd),{key:oe.key,class:"in-tooltip",type:ne.tagType,size:u(I),hit:oe.hitState,closable:oe.closable,"disable-transitions":"",onClose:ut=>ie(oe)},{default:Z(()=>[U("span",null,Me(oe.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),ne.filterable&&!u(K)?lt((D(),$("input",{key:0,"onUpdate:modelValue":de[2]||(de[2]=Pe=>P.value=Pe),type:"text",class:O(u(a).e("search-input")),placeholder:u(ee)?"":u(z),onInput:de[3]||(de[3]=Pe=>me(P.value,Pe)),onClick:de[4]||(de[4]=st(Pe=>pe(!0),["stop"])),onKeydown:Ut(et,["delete"]),onCompositionstart:ye,onCompositionupdate:ye,onCompositionend:ye,onFocus:dt,onBlur:wt},null,42,jK)),[[Iy,P.value]]):se("v-if",!0)],2)):se("v-if",!0)],38)),[[u(Uo),()=>pe(!1),u(Fe)]])]),content:Z(()=>[lt(q(u(bO),{ref_key:"cascaderPanelRef",ref:C,modelValue:u(Ee),"onUpdate:modelValue":de[8]||(de[8]=Pe=>ns(Ee)?Ee.value=Pe:null),options:ne.options,props:n.props,border:!1,"render-label":ne.$slots.default,onExpandChange:De,onClose:de[9]||(de[9]=Pe=>ne.$nextTick(()=>pe(!1)))},null,8,["modelValue","options","props","render-label"]),[[Lt,!b.value]]),ne.filterable?lt((D(),re(u(tr),{key:0,ref_key:"suggestionPanel",ref:v,tag:"ul",class:O(u(a).e("suggestion-panel")),"view-class":u(a).e("suggestion-list"),onKeydown:$e},{default:Z(()=>[x.value.length?(D(!0),$(qe,{key:0},Dt(x.value,Pe=>(D(),$("li",{key:Pe.uid,class:O([u(a).e("suggestion-item"),u(a).is("checked",Pe.checked)]),tabindex:-1,onClick:oe=>ge(Pe)},[U("span",null,Me(Pe.text),1),Pe.checked?(D(),re(u(Ue),{key:0},{default:Z(()=>[q(u(sh))]),_:1})):se("v-if",!0)],10,YK))),128)):ae(ne.$slots,"empty",{key:1},()=>[U("li",{class:O(u(a).e("empty-text"))},Me(u(h)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Lt,b.value]]):se("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Tp=_e(QK,[["__file","cascader.vue"]]);Tp.install=e=>{e.component(Tp.name,Tp)};const ZK=Tp,JK=ZK,e5=Oe({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),t5={"update:checked":e=>Os(e),[as]:e=>Os(e)},s5=j({name:"ElCheckTag"}),n5=j({...s5,props:e5,emits:t5,setup(e,{emit:t}){const s=e,n=we("check-tag"),i=R(()=>[n.b(),n.is("checked",s.checked),n.m(s.type||"primary")]),o=()=>{const r=!s.checked;t(as,r),t("update:checked",r)};return(r,l)=>(D(),$("span",{class:O(u(i)),onClick:o},[ae(r.$slots,"default")],2))}});var i5=_e(n5,[["__file","check-tag.vue"]]);const o5=ft(i5),SO=Symbol("rowContextKey"),r5=["start","center","end","space-around","space-between","space-evenly"],l5=["top","middle","bottom"],a5=Oe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:r5,default:"start"},align:{type:String,values:l5}}),u5=j({name:"ElRow"}),c5=j({...u5,props:a5,setup(e){const t=e,s=we("row"),n=R(()=>t.gutter);Et(SO,{gutter:n});const i=R(()=>{const r={};return t.gutter&&(r.marginRight=r.marginLeft=`-${t.gutter/2}px`),r}),o=R(()=>[s.b(),s.is(`justify-${t.justify}`,t.justify!=="start"),s.is(`align-${t.align}`,!!t.align)]);return(r,l)=>(D(),re(Ct(r.tag),{class:O(u(o)),style:je(u(i))},{default:Z(()=>[ae(r.$slots,"default")]),_:3},8,["class","style"]))}});var d5=_e(c5,[["__file","row.vue"]]);const h5=ft(d5),p5=Oe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:J([Number,Object]),default:()=>ds({})},sm:{type:J([Number,Object]),default:()=>ds({})},md:{type:J([Number,Object]),default:()=>ds({})},lg:{type:J([Number,Object]),default:()=>ds({})},xl:{type:J([Number,Object]),default:()=>ds({})}}),f5=j({name:"ElCol"}),g5=j({...f5,props:p5,setup(e){const t=e,{gutter:s}=Be(SO,{gutter:R(()=>0)}),n=we("col"),i=R(()=>{const r={};return s.value&&(r.paddingLeft=r.paddingRight=`${s.value/2}px`),r}),o=R(()=>{const r=[];return["span","offset","pull","push"].forEach(c=>{const h=t[c];tt(h)&&(c==="span"?r.push(n.b(`${t[c]}`)):h>0&&r.push(n.b(`${c}-${t[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{tt(t[c])?r.push(n.b(`${c}-${t[c]}`)):yt(t[c])&&Object.entries(t[c]).forEach(([h,d])=>{r.push(h!=="span"?n.b(`${c}-${h}-${d}`):n.b(`${c}-${d}`))})}),s.value&&r.push(n.is("guttered")),[n.b(),r]});return(r,l)=>(D(),re(Ct(r.tag),{class:O(u(o)),style:je(u(i))},{default:Z(()=>[ae(r.$slots,"default")]),_:3},8,["class","style"]))}});var m5=_e(g5,[["__file","col.vue"]]);const v5=ft(m5),oR=e=>tt(e)||rt(e)||ke(e),C5=Oe({accordion:Boolean,modelValue:{type:J([Array,String,Number]),default:()=>ds([])}}),y5={[vt]:oR,[as]:oR},EO=Symbol("collapseContextKey"),w5=(e,t)=>{const s=L(Bl(e.modelValue)),n=o=>{s.value=o;const r=e.accordion?s.value[0]:s.value;t(vt,r),t(as,r)},i=o=>{if(e.accordion)n([s.value[0]===o?"":o]);else{const r=[...s.value],l=r.indexOf(o);l>-1?r.splice(l,1):r.push(o),n(r)}};return ve(()=>e.modelValue,()=>s.value=Bl(e.modelValue),{deep:!0}),Et(EO,{activeNames:s,handleItemClick:i}),{activeNames:s,setActiveNames:n}},b5=()=>{const e=we("collapse");return{rootKls:R(()=>e.b())}},S5=j({name:"ElCollapse"}),E5=j({...S5,props:C5,emits:y5,setup(e,{expose:t,emit:s}){const n=e,{activeNames:i,setActiveNames:o}=w5(n,s),{rootKls:r}=b5();return t({activeNames:i,setActiveNames:o}),(l,a)=>(D(),$("div",{class:O(u(r))},[ae(l.$slots,"default")],2))}});var R5=_e(E5,[["__file","collapse.vue"]]);const T5=j({name:"ElCollapseTransition"}),D5=j({...T5,setup(e){const t=we("collapse-transition"),s=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},n={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){s(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){s(i)},leaveCancelled(i){s(i)}};return(i,o)=>(D(),re(Ls,bt({name:u(t).b()},wN(n)),{default:Z(()=>[ae(i.$slots,"default")]),_:3},16,["name"]))}});var Dp=_e(D5,[["__file","collapse-transition.vue"]]);Dp.install=e=>{e.component(Dp.name,Dp)};const Dg=Dp,A5=Dg,P5=Oe({title:{type:String,default:""},name:{type:J([String,Number]),default:void 0},disabled:Boolean}),O5=e=>{const t=Be(EO),{namespace:s}=we("collapse"),n=L(!1),i=L(!1),o=yw(),r=R(()=>o.current++),l=R(()=>{var p;return(p=e.name)!=null?p:`${s.value}-id-${o.prefix}-${u(r)}`}),a=R(()=>t==null?void 0:t.activeNames.value.includes(u(l)));return{focusing:n,id:r,isActive:a,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:n.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(u(l)),n.value=!1,i.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(u(l))}}},_5=(e,{focusing:t,isActive:s,id:n})=>{const i=we("collapse"),o=R(()=>[i.b("item"),i.is("active",u(s)),i.is("disabled",e.disabled)]),r=R(()=>[i.be("item","header"),i.is("active",u(s)),{focusing:u(t)&&!e.disabled}]),l=R(()=>[i.be("item","arrow"),i.is("active",u(s))]),a=R(()=>i.be("item","wrap")),c=R(()=>i.be("item","content")),h=R(()=>i.b(`content-${u(n)}`)),d=R(()=>i.b(`head-${u(n)}`));return{arrowKls:l,headKls:r,rootKls:o,itemWrapperKls:a,itemContentKls:c,scopedContentId:h,scopedHeadId:d}},M5=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],I5=["id","aria-hidden","aria-labelledby"],F5=j({name:"ElCollapseItem"}),L5=j({...F5,props:P5,setup(e,{expose:t}){const s=e,{focusing:n,id:i,isActive:o,handleFocus:r,handleHeaderClick:l,handleEnterClick:a}=O5(s),{arrowKls:c,headKls:h,rootKls:d,itemWrapperKls:p,itemContentKls:g,scopedContentId:m,scopedHeadId:f}=_5(s,{focusing:n,isActive:o,id:i});return t({isActive:o}),(C,v)=>(D(),$("div",{class:O(u(d))},[U("button",{id:u(f),class:O(u(h)),"aria-expanded":u(o),"aria-controls":u(m),"aria-describedby":u(m),tabindex:C.disabled?-1:0,type:"button",onClick:v[0]||(v[0]=(...y)=>u(l)&&u(l)(...y)),onKeydown:v[1]||(v[1]=Ut(st((...y)=>u(a)&&u(a)(...y),["stop","prevent"]),["space","enter"])),onFocus:v[2]||(v[2]=(...y)=>u(r)&&u(r)(...y)),onBlur:v[3]||(v[3]=y=>n.value=!1)},[ae(C.$slots,"title",{},()=>[_t(Me(C.title),1)]),q(u(Ue),{class:O(u(c))},{default:Z(()=>[q(u(bn))]),_:1},8,["class"])],42,M5),q(u(Dg),null,{default:Z(()=>[lt(U("div",{id:u(m),role:"region",class:O(u(p)),"aria-hidden":!u(o),"aria-labelledby":u(f)},[U("div",{class:O(u(g))},[ae(C.$slots,"default")],2)],10,I5),[[Lt,u(o)]])]),_:3})],2))}});var RO=_e(L5,[["__file","collapse-item.vue"]]);const N5=ft(R5,{CollapseItem:RO}),x5=hs(RO),k5=Oe({color:{type:J(Object),required:!0},vertical:{type:Boolean,default:!1}});let Vm=!1;function hd(e,t){if(!At)return;const s=function(o){var r;(r=t.drag)==null||r.call(t,o)},n=function(o){var r;document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,Vm=!1,(r=t.end)==null||r.call(t,o)},i=function(o){var r;Vm||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",s),document.addEventListener("mouseup",n),document.addEventListener("touchmove",s),document.addEventListener("touchend",n),Vm=!0,(r=t.start)==null||r.call(t,o))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i)}const G5=e=>{const t=ct(),s=ts(),n=ts();function i(r){r.target!==s.value&&o(r)}function o(r){if(!n.value||!s.value)return;const a=t.vnode.el.getBoundingClientRect(),{clientX:c,clientY:h}=Ny(r);if(e.vertical){let d=h-a.top;d=Math.max(s.value.offsetHeight/2,d),d=Math.min(d,a.height-s.value.offsetHeight/2),e.color.set("alpha",Math.round((d-s.value.offsetHeight/2)/(a.height-s.value.offsetHeight)*100))}else{let d=c-a.left;d=Math.max(s.value.offsetWidth/2,d),d=Math.min(d,a.width-s.value.offsetWidth/2),e.color.set("alpha",Math.round((d-s.value.offsetWidth/2)/(a.width-s.value.offsetWidth)*100))}}return{thumb:s,bar:n,handleDrag:o,handleClick:i}},V5=(e,{bar:t,thumb:s,handleDrag:n})=>{const i=ct(),o=we("color-alpha-slider"),r=L(0),l=L(0),a=L();function c(){if(!s.value||e.vertical)return 0;const y=i.vnode.el,w=e.color.get("alpha");return y?Math.round(w*(y.offsetWidth-s.value.offsetWidth/2)/100):0}function h(){if(!s.value)return 0;const y=i.vnode.el;if(!e.vertical)return 0;const w=e.color.get("alpha");return y?Math.round(w*(y.offsetHeight-s.value.offsetHeight/2)/100):0}function d(){if(e.color&&e.color.value){const{r:y,g:w,b}=e.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${w}, ${b}, 0) 0%, rgba(${y}, ${w}, ${b}, 1) 100%)`}return""}function p(){r.value=c(),l.value=h(),a.value=d()}at(()=>{if(!t.value||!s.value)return;const y={drag:w=>{n(w)},end:w=>{n(w)}};hd(t.value,y),hd(s.value,y),p()}),ve(()=>e.color.get("alpha"),()=>p()),ve(()=>e.color.value,()=>p());const g=R(()=>[o.b(),o.is("vertical",e.vertical)]),m=R(()=>o.e("bar")),f=R(()=>o.e("thumb")),C=R(()=>({background:a.value})),v=R(()=>({left:Ds(r.value),top:Ds(l.value)}));return{rootKls:g,barKls:m,barStyle:C,thumbKls:f,thumbStyle:v,update:p}},H5="ElColorAlphaSlider",B5=j({name:H5}),$5=j({...B5,props:k5,setup(e,{expose:t}){const s=e,{bar:n,thumb:i,handleDrag:o,handleClick:r}=G5(s),{rootKls:l,barKls:a,barStyle:c,thumbKls:h,thumbStyle:d,update:p}=V5(s,{bar:n,thumb:i,handleDrag:o});return t({update:p,bar:n,thumb:i}),(g,m)=>(D(),$("div",{class:O(u(l))},[U("div",{ref_key:"bar",ref:n,class:O(u(a)),style:je(u(c)),onClick:m[0]||(m[0]=(...f)=>u(r)&&u(r)(...f))},null,6),U("div",{ref_key:"thumb",ref:i,class:O(u(h)),style:je(u(d))},null,6)],2))}});var W5=_e($5,[["__file","alpha-slider.vue"]]);const z5=j({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=we("color-hue-slider"),s=ct(),n=L(),i=L(),o=L(0),r=L(0),l=R(()=>e.color.get("hue"));ve(()=>l.value,()=>{p()});function a(g){g.target!==n.value&&c(g)}function c(g){if(!i.value||!n.value)return;const f=s.vnode.el.getBoundingClientRect(),{clientX:C,clientY:v}=Ny(g);let y;if(e.vertical){let w=v-f.top;w=Math.min(w,f.height-n.value.offsetHeight/2),w=Math.max(n.value.offsetHeight/2,w),y=Math.round((w-n.value.offsetHeight/2)/(f.height-n.value.offsetHeight)*360)}else{let w=C-f.left;w=Math.min(w,f.width-n.value.offsetWidth/2),w=Math.max(n.value.offsetWidth/2,w),y=Math.round((w-n.value.offsetWidth/2)/(f.width-n.value.offsetWidth)*360)}e.color.set("hue",y)}function h(){if(!n.value)return 0;const g=s.vnode.el;if(e.vertical)return 0;const m=e.color.get("hue");return g?Math.round(m*(g.offsetWidth-n.value.offsetWidth/2)/360):0}function d(){if(!n.value)return 0;const g=s.vnode.el;if(!e.vertical)return 0;const m=e.color.get("hue");return g?Math.round(m*(g.offsetHeight-n.value.offsetHeight/2)/360):0}function p(){o.value=h(),r.value=d()}return at(()=>{if(!i.value||!n.value)return;const g={drag:m=>{c(m)},end:m=>{c(m)}};hd(i.value,g),hd(n.value,g),p()}),{bar:i,thumb:n,thumbLeft:o,thumbTop:r,hueValue:l,handleClick:a,update:p,ns:t}}});function U5(e,t,s,n,i,o){return D(),$("div",{class:O([e.ns.b(),e.ns.is("vertical",e.vertical)])},[U("div",{ref:"bar",class:O(e.ns.e("bar")),onClick:t[0]||(t[0]=(...r)=>e.handleClick&&e.handleClick(...r))},null,2),U("div",{ref:"thumb",class:O(e.ns.e("thumb")),style:je({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var K5=_e(z5,[["render",U5],["__file","hue-slider.vue"]]);const j5=Oe({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Us,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:J(Array)},validateEvent:{type:Boolean,default:!0}}),Y5={[vt]:e=>rt(e)||Is(e),[as]:e=>rt(e)||Is(e),activeChange:e=>rt(e)||Is(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},TO=Symbol("colorPickerContextKey"),rR=function(e,t,s){return[e,t*s/((e=(2-t)*s)<1?e:2-e)||0,e/2]},q5=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},X5=function(e){return typeof e=="string"&&e.includes("%")},eu=function(e,t){q5(e)&&(e="100%");const s=X5(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),s&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},lR={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ap=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),s=e%16;return`${lR[t]||t}${lR[s]||s}`},aR=function({r:e,g:t,b:s}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+s)?"":`#${Ap(e)}${Ap(t)}${Ap(s)}`},Hm={A:10,B:11,C:12,D:13,E:14,F:15},rl=function(e){return e.length===2?(Hm[e[0].toUpperCase()]||+e[0])*16+(Hm[e[1].toUpperCase()]||+e[1]):Hm[e[1].toUpperCase()]||+e[1]},Q5=function(e,t,s){t=t/100,s=s/100;let n=t;const i=Math.max(s,.01);s*=2,t*=s<=1?s:2-s,n*=i<=1?i:2-i;const o=(s+t)/2,r=s===0?2*n/(i+n):2*t/(s+t);return{h:e,s:r*100,v:o*100}},uR=(e,t,s)=>{e=eu(e,255),t=eu(t,255),s=eu(s,255);const n=Math.max(e,t,s),i=Math.min(e,t,s);let o;const r=n,l=n-i,a=n===0?0:l/n;if(n===i)o=0;else{switch(n){case e:{o=(t-s)/l+(t<s?6:0);break}case t:{o=(s-e)/l+2;break}case s:{o=(e-t)/l+4;break}}o/=6}return{h:o*360,s:a*100,v:r*100}},mc=function(e,t,s){e=eu(e,360)*6,t=eu(t,100),s=eu(s,100);const n=Math.floor(e),i=e-n,o=s*(1-t),r=s*(1-i*t),l=s*(1-(1-i)*t),a=n%6,c=[s,r,o,o,l,s][a],h=[l,s,s,r,o,o][a],d=[o,o,l,s,s,r][a];return{r:Math.round(c*255),g:Math.round(h*255),b:Math.round(d*255)}};class $c{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const s in t)Ot(t,s)&&(this[s]=t[s]);t.value?this.fromString(t.value):this.doOnChange()}set(t,s){if(arguments.length===1&&typeof t=="object"){for(const n in t)Ot(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=s,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return mc(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const s=(n,i,o)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:i,s:o,v:r}=Q5(n[0],n[1],n[2]);s(i,o,r)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&s(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:i,s:o,v:r}=uR(n[0],n[1],n[2]);s(i,o,r)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let i,o,r;n.length===3?(i=rl(n[0]+n[0]),o=rl(n[1]+n[1]),r=rl(n[2]+n[2])):(n.length===6||n.length===8)&&(i=rl(n.slice(0,2)),o=rl(n.slice(2,4)),r=rl(n.slice(4,6))),n.length===8?this._alpha=rl(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:l,s:a,v:c}=uR(i,o,r);s(l,a,c)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:s,_value:n,_alpha:i,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const r=rR(t,s/100,n/100);this.value=`hsla(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(s)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${aR(mc(t,s,n))}${Ap(i*255/100)}`;break}default:{const{r,g:l,b:a}=mc(t,s,n);this.value=`rgba(${r}, ${l}, ${a}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const r=rR(t,s/100,n/100);this.value=`hsl(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(s)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r,g:l,b:a}=mc(t,s,n);this.value=`rgb(${r}, ${l}, ${a})`;break}default:this.value=aR(mc(t,s,n))}}}const Z5=j({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=we("color-predefine"),{currentColor:s}=Be(TO),n=L(o(e.colors,e.color));ve(()=>s.value,r=>{const l=new $c;l.fromString(r),n.value.forEach(a=>{a.selected=l.compare(a)})}),sn(()=>{n.value=o(e.colors,e.color)});function i(r){e.color.fromString(e.colors[r])}function o(r,l){return r.map(a=>{const c=new $c;return c.enableAlpha=!0,c.format="rgba",c.fromString(a),c.selected=c.value===l.value,c})}return{rgbaColors:n,handleSelect:i,ns:t}}}),J5=["onClick"];function ej(e,t,s,n,i,o){return D(),$("div",{class:O(e.ns.b())},[U("div",{class:O(e.ns.e("colors"))},[(D(!0),$(qe,null,Dt(e.rgbaColors,(r,l)=>(D(),$("div",{key:e.colors[l],class:O([e.ns.e("color-selector"),e.ns.is("alpha",r._alpha<100),{selected:r.selected}]),onClick:a=>e.handleSelect(l)},[U("div",{style:je({backgroundColor:r.value})},null,4)],10,J5))),128))],2)],2)}var tj=_e(Z5,[["render",ej],["__file","predefine.vue"]]);const sj=j({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=we("color-svpanel"),s=ct(),n=L(0),i=L(0),o=L("hsl(0, 100%, 50%)"),r=R(()=>{const c=e.color.get("hue"),h=e.color.get("value");return{hue:c,value:h}});function l(){const c=e.color.get("saturation"),h=e.color.get("value"),d=s.vnode.el,{clientWidth:p,clientHeight:g}=d;i.value=c*p/100,n.value=(100-h)*g/100,o.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function a(c){const d=s.vnode.el.getBoundingClientRect(),{clientX:p,clientY:g}=Ny(c);let m=p-d.left,f=g-d.top;m=Math.max(0,m),m=Math.min(m,d.width),f=Math.max(0,f),f=Math.min(f,d.height),i.value=m,n.value=f,e.color.set({saturation:m/d.width*100,value:100-f/d.height*100})}return ve(()=>r.value,()=>{l()}),at(()=>{hd(s.vnode.el,{drag:c=>{a(c)},end:c=>{a(c)}}),l()}),{cursorTop:n,cursorLeft:i,background:o,colorValue:r,handleDrag:a,update:l,ns:t}}}),nj=U("div",null,null,-1),ij=[nj];function oj(e,t,s,n,i,o){return D(),$("div",{class:O(e.ns.b()),style:je({backgroundColor:e.background})},[U("div",{class:O(e.ns.e("white"))},null,2),U("div",{class:O(e.ns.e("black"))},null,2),U("div",{class:O(e.ns.e("cursor")),style:je({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},ij,6)],6)}var rj=_e(sj,[["render",oj],["__file","sv-panel.vue"]]);const lj=["onKeydown"],aj=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],uj=j({name:"ElColorPicker"}),cj=j({...uj,props:j5,emits:Y5,setup(e,{expose:t,emit:s}){const n=e,{t:i}=Ft(),o=we("color"),{formItem:r}=Dn(),l=xs(),a=Wn(),{inputId:c,isLabeledByFormItem:h}=To(n,{formItemContext:r}),d=L(),p=L(),g=L(),m=L(),f=L(),C=L(),{isFocused:v,handleFocus:y,handleBlur:w}=wg(f,{beforeBlur(pe){var be;return(be=m.value)==null?void 0:be.isFocusInsideContent(pe)},afterBlur(){k(!1),B()}}),b=pe=>{if(a.value)return Fe();y(pe)};let T=!0;const E=Gt(new $c({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),P=L(!1),A=L(!1),N=L(""),x=R(()=>!n.modelValue&&!A.value?"transparent":W(E,n.showAlpha)),F=R(()=>!n.modelValue&&!A.value?"":E.value),G=R(()=>h.value?void 0:n.label||i("el.colorpicker.defaultLabel")),K=R(()=>h.value?r==null?void 0:r.labelId:void 0),z=R(()=>[o.b("picker"),o.is("disabled",a.value),o.bm("picker",l.value),o.is("focused",v.value)]);function W(pe,be){if(!(pe instanceof $c))throw new TypeError("color should be instance of _color Class");const{r:Le,g:X,b:ie}=pe.toRgb();return be?`rgba(${Le}, ${X}, ${ie}, ${pe.get("alpha")/100})`:`rgb(${Le}, ${X}, ${ie})`}function k(pe){P.value=pe}const I=$n(k,100,{leading:!0});function V(){a.value||k(!0)}function _(){I(!1),B()}function B(){Xe(()=>{n.modelValue?E.fromString(n.modelValue):(E.value="",Xe(()=>{A.value=!1}))})}function Y(){a.value||I(!P.value)}function Q(){E.fromString(N.value)}function ee(){const pe=E.value;s(vt,pe),s("change",pe),n.validateEvent&&(r==null||r.validate("change").catch(be=>void 0)),I(!1),Xe(()=>{const be=new $c({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});E.compare(be)||B()})}function ce(){I(!1),s(vt,null),s("change",null),n.modelValue!==null&&n.validateEvent&&(r==null||r.validate("change").catch(pe=>void 0)),B()}function Ee(pe){if(P.value&&(_(),v.value)){const be=new FocusEvent("focus",pe);w(be)}}function te(pe){pe.preventDefault(),pe.stopPropagation(),k(!1),B()}function ue(pe){switch(pe.code){case Ye.enter:case Ye.space:pe.preventDefault(),pe.stopPropagation(),V(),C.value.focus();break;case Ye.esc:te(pe);break}}function le(){f.value.focus()}function Fe(){f.value.blur()}return at(()=>{n.modelValue&&(N.value=F.value)}),ve(()=>n.modelValue,pe=>{pe?pe&&pe!==E.value&&(T=!1,E.fromString(pe)):A.value=!1}),ve(()=>F.value,pe=>{N.value=pe,T&&s("activeChange",pe),T=!0}),ve(()=>E.value,()=>{!n.modelValue&&!A.value&&(A.value=!0)}),ve(()=>P.value,()=>{Xe(()=>{var pe,be,Le;(pe=d.value)==null||pe.update(),(be=p.value)==null||be.update(),(Le=g.value)==null||Le.update()})}),Et(TO,{currentColor:F}),t({color:E,show:V,hide:_,focus:le,blur:Fe}),(pe,be)=>(D(),re(u(hn),{ref_key:"popper",ref:m,visible:P.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[u(o).be("picker","panel"),u(o).b("dropdown"),pe.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${u(o).namespace.value}-zoom-in-top`,persistent:"",onHide:be[2]||(be[2]=Le=>k(!1))},{content:Z(()=>[lt((D(),$("div",{onKeydown:Ut(te,["esc"])},[U("div",{class:O(u(o).be("dropdown","main-wrapper"))},[q(K5,{ref_key:"hue",ref:d,class:"hue-slider",color:u(E),vertical:""},null,8,["color"]),q(rj,{ref_key:"sv",ref:p,color:u(E)},null,8,["color"])],2),pe.showAlpha?(D(),re(W5,{key:0,ref_key:"alpha",ref:g,color:u(E)},null,8,["color"])):se("v-if",!0),pe.predefine?(D(),re(tj,{key:1,ref:"predefine",color:u(E),colors:pe.predefine},null,8,["color","colors"])):se("v-if",!0),U("div",{class:O(u(o).be("dropdown","btns"))},[U("span",{class:O(u(o).be("dropdown","value"))},[q(u(an),{ref_key:"inputRef",ref:C,modelValue:N.value,"onUpdate:modelValue":be[0]||(be[0]=Le=>N.value=Le),"validate-event":!1,size:"small",onKeyup:Ut(Q,["enter"]),onBlur:Q},null,8,["modelValue","onKeyup"])],2),q(u(zs),{class:O(u(o).be("dropdown","link-btn")),text:"",size:"small",onClick:ce},{default:Z(()=>[_t(Me(u(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),q(u(zs),{plain:"",size:"small",class:O(u(o).be("dropdown","btn")),onClick:ee},{default:Z(()=>[_t(Me(u(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,lj)),[[u(Uo),Ee]])]),default:Z(()=>[U("div",{id:u(c),ref_key:"triggerRef",ref:f,class:O(u(z)),role:"button","aria-label":u(G),"aria-labelledby":u(K),"aria-description":u(i)("el.colorpicker.description",{color:pe.modelValue||""}),"aria-disabled":u(a),tabindex:u(a)?-1:pe.tabindex,onKeydown:ue,onFocus:b,onBlur:be[1]||(be[1]=(...Le)=>u(w)&&u(w)(...Le))},[u(a)?(D(),$("div",{key:0,class:O(u(o).be("picker","mask"))},null,2)):se("v-if",!0),U("div",{class:O(u(o).be("picker","trigger")),onClick:Y},[U("span",{class:O([u(o).be("picker","color"),u(o).is("alpha",pe.showAlpha)])},[U("span",{class:O(u(o).be("picker","color-inner")),style:je({backgroundColor:u(x)})},[lt(q(u(Ue),{class:O([u(o).be("picker","icon"),u(o).is("icon-arrow-down")])},{default:Z(()=>[q(u(Jo))]),_:1},8,["class"]),[[Lt,pe.modelValue||A.value]]),lt(q(u(Ue),{class:O([u(o).be("picker","empty"),u(o).is("icon-close")])},{default:Z(()=>[q(u(zi))]),_:1},8,["class"]),[[Lt,!pe.modelValue&&!A.value]])],6)],2)],2)],42,aj)]),_:1},8,["visible","popper-class","transition"]))}});var dj=_e(cj,[["__file","color-picker.vue"]]);const hj=ft(dj),pj=j({name:"ElContainer"}),fj=j({...pj,props:{direction:{type:String}},setup(e){const t=e,s=Ys(),n=we("container"),i=R(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:s&&s.default?s.default().some(r=>{const l=r.type.name;return l==="ElHeader"||l==="ElFooter"}):!1);return(o,r)=>(D(),$("section",{class:O([u(n).b(),u(n).is("vertical",u(i))])},[ae(o.$slots,"default")],2))}});var gj=_e(fj,[["__file","container.vue"]]);const mj=j({name:"ElAside"}),vj=j({...mj,props:{width:{type:String,default:null}},setup(e){const t=e,s=we("aside"),n=R(()=>t.width?s.cssVarBlock({width:t.width}):{});return(i,o)=>(D(),$("aside",{class:O(u(s).b()),style:je(u(n))},[ae(i.$slots,"default")],6))}});var DO=_e(vj,[["__file","aside.vue"]]);const Cj=j({name:"ElFooter"}),yj=j({...Cj,props:{height:{type:String,default:null}},setup(e){const t=e,s=we("footer"),n=R(()=>t.height?s.cssVarBlock({height:t.height}):{});return(i,o)=>(D(),$("footer",{class:O(u(s).b()),style:je(u(n))},[ae(i.$slots,"default")],6))}});var AO=_e(yj,[["__file","footer.vue"]]);const wj=j({name:"ElHeader"}),bj=j({...wj,props:{height:{type:String,default:null}},setup(e){const t=e,s=we("header"),n=R(()=>t.height?s.cssVarBlock({height:t.height}):{});return(i,o)=>(D(),$("header",{class:O(u(s).b()),style:je(u(n))},[ae(i.$slots,"default")],6))}});var PO=_e(bj,[["__file","header.vue"]]);const Sj=j({name:"ElMain"}),Ej=j({...Sj,setup(e){const t=we("main");return(s,n)=>(D(),$("main",{class:O(u(t).b())},[ae(s.$slots,"default")],2))}});var OO=_e(Ej,[["__file","main.vue"]]);const Rj=ft(gj,{Aside:DO,Footer:AO,Header:PO,Main:OO}),Tj=hs(DO),Dj=hs(AO),Aj=hs(PO),Pj=hs(OO);var _O={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n){var i=n.prototype,o=i.format;i.format=function(r){var l=this,a=this.$locale();if(!this.isValid())return o.bind(this)(r);var c=this.$utils(),h=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return a.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return a.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),d==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return d}});return o.bind(this)(h)}}})})(_O);var Oj=_O.exports;const _j=nr(Oj);var MO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){var s="week",n="year";return function(i,o,r){var l=o.prototype;l.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=r(this).startOf(n).add(1,n).date(c),d=r(this).endOf(s);if(h.isBefore(d))return 1}var p=r(this).startOf(n).date(c).startOf(s).subtract(1,"millisecond"),g=this.diff(p,s,!0);return g<0?r(this).startOf("week").week():Math.ceil(g)},l.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(MO);var Mj=MO.exports;const Ij=nr(Mj);var IO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n){n.prototype.weekYear=function(){var i=this.month(),o=this.week(),r=this.year();return o===1&&i===11?r+1:i===0&&o>=52?r-1:r}}})})(IO);var Fj=IO.exports;const Lj=nr(Fj);var FO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n,i){n.prototype.dayOfYear=function(o){var r=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?r:this.add(o-r,"day")}}})})(FO);var Nj=FO.exports;const xj=nr(Nj);var LO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n){n.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(LO);var kj=LO.exports;const Gj=nr(kj);var NO={exports:{}};(function(e,t){(function(s,n){e.exports=n()})(sr,function(){return function(s,n){n.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(NO);var Vj=NO.exports;const Hj=nr(Vj),xw=Symbol(),Bj=Oe({...Lw,type:{type:J(String),default:"date"}}),$j=["date","dates","year","years","month","week","range"],kw=Oe({disabledDate:{type:J(Function)},date:{type:J(Object),required:!0},minDate:{type:J(Object)},maxDate:{type:J(Object)},parsedValue:{type:J([Object,Array])},rangeState:{type:J(Object),default:()=>({endDate:null,selecting:!1})}}),xO=Oe({type:{type:J(String),required:!0,values:f$},dateFormat:String,timeFormat:String}),kO=Oe({unlinkPanels:Boolean,parsedValue:{type:J(Array)}}),Gw=e=>({type:String,values:$j,default:e}),Wj=Oe({...xO,parsedValue:{type:J([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),zj=Oe({...kw,cellClassName:{type:J(Function)},showWeekNumber:Boolean,selectionMode:Gw("date")}),Uj=["changerange","pick","select"],aC=e=>{if(!ke(e))return!1;const[t,s]=e;return ht.isDayjs(t)&&ht.isDayjs(s)&&t.isSameOrBefore(s)},GO=(e,{lang:t,unit:s,unlinkPanels:n})=>{let i;if(ke(e)){let[o,r]=e.map(l=>ht(l).locale(t));return n||(r=o.add(1,s)),[o,r]}else e?i=ht(e):i=ht();return i=i.locale(t),[i,i.add(1,s)]},Kj=(e,t,{columnIndexOffset:s,startDate:n,nextEndDate:i,now:o,unit:r,relativeDateGetter:l,setCellMetadata:a,setRowMetadata:c})=>{for(let h=0;h<e.row;h++){const d=t[h];for(let p=0;p<e.column;p++){let g=d[p+s];g||(g={row:h,column:p,type:"normal",inRange:!1,start:!1,end:!1});const m=h*e.column+p,f=l(m);g.dayjs=f,g.date=f.toDate(),g.timestamp=f.valueOf(),g.type="normal",g.inRange=!!(n&&f.isSameOrAfter(n,r)&&i&&f.isSameOrBefore(i,r))||!!(n&&f.isSameOrBefore(n,r)&&i&&f.isSameOrAfter(i,r)),n!=null&&n.isSameOrAfter(i)?(g.start=!!i&&f.isSame(i,r),g.end=n&&f.isSame(n,r)):(g.start=!!n&&f.isSame(n,r),g.end=!!i&&f.isSame(i,r)),f.isSame(o,r)&&(g.type="today"),a==null||a(g,{rowIndex:h,columnIndex:p}),d[p+s]=g}c==null||c(d)}},uC=(e="")=>["normal","today"].includes(e),jj=(e,t)=>{const{lang:s}=Ft(),n=L(),i=L(),o=L(),r=L(),l=L([[],[],[],[],[],[]]);let a=!1;const c=e.date.$locale().weekStart||7,h=e.date.locale("en").localeData().weekdaysShort().map(_=>_.toLowerCase()),d=R(()=>c>3?7-c:-c),p=R(()=>{const _=e.date.startOf("month");return _.subtract(_.day()||7,"day")}),g=R(()=>h.concat(h).slice(c,c+7)),m=R(()=>QD(u(b)).some(_=>_.isCurrent)),f=R(()=>{const _=e.date.startOf("month"),B=_.day()||7,Y=_.daysInMonth(),Q=_.subtract(1,"month").daysInMonth();return{startOfMonthDay:B,dateCountOfMonth:Y,dateCountOfLastMonth:Q}}),C=R(()=>e.selectionMode==="dates"?qn(e.parsedValue):[]),v=(_,{count:B,rowIndex:Y,columnIndex:Q})=>{const{startOfMonthDay:ee,dateCountOfMonth:ce,dateCountOfLastMonth:Ee}=u(f),te=u(d);if(Y>=0&&Y<=1){const ue=ee+te<0?7+ee+te:ee+te;if(Q+Y*7>=ue)return _.text=B,!0;_.text=Ee-(ue-Q%7)+1+Y*7,_.type="prev-month"}else return B<=ce?_.text=B:(_.text=B-ce,_.type="next-month"),!0;return!1},y=(_,{columnIndex:B,rowIndex:Y},Q)=>{const{disabledDate:ee,cellClassName:ce}=e,Ee=u(C),te=v(_,{count:Q,rowIndex:Y,columnIndex:B}),ue=_.dayjs.toDate();return _.selected=Ee.find(le=>le.isSame(_.dayjs,"day")),_.isSelected=!!_.selected,_.isCurrent=E(_),_.disabled=ee==null?void 0:ee(ue),_.customClass=ce==null?void 0:ce(ue),te},w=_=>{if(e.selectionMode==="week"){const[B,Y]=e.showWeekNumber?[1,7]:[0,6],Q=V(_[B+1]);_[B].inRange=Q,_[B].start=Q,_[Y].inRange=Q,_[Y].end=Q}},b=R(()=>{const{minDate:_,maxDate:B,rangeState:Y,showWeekNumber:Q}=e,ee=u(d),ce=u(l),Ee="day";let te=1;if(Q)for(let ue=0;ue<6;ue++)ce[ue][0]||(ce[ue][0]={type:"week",text:u(p).add(ue*7+1,Ee).week()});return Kj({row:6,column:7},ce,{startDate:_,columnIndexOffset:Q?1:0,nextEndDate:Y.endDate||B||Y.selecting&&_||null,now:ht().locale(u(s)).startOf(Ee),unit:Ee,relativeDateGetter:ue=>u(p).add(ue-ee,Ee),setCellMetadata:(...ue)=>{y(...ue,te)&&(te+=1)},setRowMetadata:w}),ce});ve(()=>e.date,async()=>{var _;(_=u(n))!=null&&_.contains(document.activeElement)&&(await Xe(),await T())});const T=async()=>{var _;return(_=u(i))==null?void 0:_.focus()},E=_=>e.selectionMode==="date"&&uC(_.type)&&P(_,e.parsedValue),P=(_,B)=>B?ht(B).locale(u(s)).isSame(e.date.date(Number(_.text)),"day"):!1,A=(_,B)=>{const Y=_*7+(B-(e.showWeekNumber?1:0))-u(d);return u(p).add(Y,"day")},N=_=>{var B;if(!e.rangeState.selecting)return;let Y=_.target;if(Y.tagName==="SPAN"&&(Y=(B=Y.parentNode)==null?void 0:B.parentNode),Y.tagName==="DIV"&&(Y=Y.parentNode),Y.tagName!=="TD")return;const Q=Y.parentNode.rowIndex-1,ee=Y.cellIndex;u(b)[Q][ee].disabled||(Q!==u(o)||ee!==u(r))&&(o.value=Q,r.value=ee,t("changerange",{selecting:!0,endDate:A(Q,ee)}))},x=_=>!u(m)&&(_==null?void 0:_.text)===1&&_.type==="normal"||_.isCurrent,F=_=>{a||u(m)||e.selectionMode!=="date"||I(_,!0)},G=_=>{_.target.closest("td")&&(a=!0)},K=_=>{_.target.closest("td")&&(a=!1)},z=_=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:_,maxDate:null}),t("select",!0)):(_>=e.minDate?t("pick",{minDate:e.minDate,maxDate:_}):t("pick",{minDate:_,maxDate:e.minDate}),t("select",!1))},W=_=>{const B=_.week(),Y=`${_.year()}w${B}`;t("pick",{year:_.year(),week:B,value:Y,date:_.startOf("week")})},k=(_,B)=>{const Y=B?qn(e.parsedValue).filter(Q=>(Q==null?void 0:Q.valueOf())!==_.valueOf()):qn(e.parsedValue).concat([_]);t("pick",Y)},I=(_,B=!1)=>{const Y=_.target.closest("td");if(!Y)return;const Q=Y.parentNode.rowIndex-1,ee=Y.cellIndex,ce=u(b)[Q][ee];if(ce.disabled||ce.type==="week")return;const Ee=A(Q,ee);switch(e.selectionMode){case"range":{z(Ee);break}case"date":{t("pick",Ee,B);break}case"week":{W(Ee);break}case"dates":{k(Ee,!!ce.selected);break}}},V=_=>{if(e.selectionMode!=="week")return!1;let B=e.date.startOf("day");if(_.type==="prev-month"&&(B=B.subtract(1,"month")),_.type==="next-month"&&(B=B.add(1,"month")),B=B.date(Number.parseInt(_.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const Y=(e.parsedValue.day()-c+7)%7-1;return e.parsedValue.subtract(Y,"day").isSame(B,"day")}return!1};return{WEEKS:g,rows:b,tbodyRef:n,currentCellRef:i,focus:T,isCurrent:E,isWeekActive:V,isSelectedCell:x,handlePickDate:I,handleMouseUp:K,handleMouseDown:G,handleMouseMove:N,handleFocus:F}},Yj=(e,{isCurrent:t,isWeekActive:s})=>{const n=we("date-table"),{t:i}=Ft(),o=R(()=>[n.b(),{"is-week-mode":e.selectionMode==="week"}]),r=R(()=>i("el.datepicker.dateTablePrompt")),l=R(()=>i("el.datepicker.week"));return{tableKls:o,tableLabel:r,weekLabel:l,getCellClasses:h=>{const d=[];return uC(h.type)&&!h.disabled?(d.push("available"),h.type==="today"&&d.push("today")):d.push(h.type),t(h)&&d.push("current"),h.inRange&&(uC(h.type)||e.selectionMode==="week")&&(d.push("in-range"),h.start&&d.push("start-date"),h.end&&d.push("end-date")),h.disabled&&d.push("disabled"),h.selected&&d.push("selected"),h.customClass&&d.push(h.customClass),d.join(" ")},getRowKls:h=>[n.e("row"),{current:s(h)}],t:i}},qj=Oe({cell:{type:J(Object)}});var Xj=j({name:"ElDatePickerCell",props:qj,setup(e){const t=we("date-table-cell"),{slots:s}=Be(xw);return()=>{const{cell:n}=e;return ae(s,"default",{...n},()=>[q("div",{class:t.b()},[q("span",{class:t.e("text")},[n==null?void 0:n.text])])])}}});const Qj=["aria-label"],Zj={key:0,scope:"col"},Jj=["aria-label"],e9=["aria-current","aria-selected","tabindex"],t9=j({__name:"basic-date-table",props:zj,emits:Uj,setup(e,{expose:t,emit:s}){const n=e,{WEEKS:i,rows:o,tbodyRef:r,currentCellRef:l,focus:a,isCurrent:c,isWeekActive:h,isSelectedCell:d,handlePickDate:p,handleMouseUp:g,handleMouseDown:m,handleMouseMove:f,handleFocus:C}=jj(n,s),{tableLabel:v,tableKls:y,weekLabel:w,getCellClasses:b,getRowKls:T,t:E}=Yj(n,{isCurrent:c,isWeekActive:h});return t({focus:a}),(P,A)=>(D(),$("table",{"aria-label":u(v),class:O(u(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:A[1]||(A[1]=(...N)=>u(p)&&u(p)(...N)),onMousemove:A[2]||(A[2]=(...N)=>u(f)&&u(f)(...N)),onMousedown:A[3]||(A[3]=st((...N)=>u(m)&&u(m)(...N),["prevent"])),onMouseup:A[4]||(A[4]=(...N)=>u(g)&&u(g)(...N))},[U("tbody",{ref_key:"tbodyRef",ref:r},[U("tr",null,[P.showWeekNumber?(D(),$("th",Zj,Me(u(w)),1)):se("v-if",!0),(D(!0),$(qe,null,Dt(u(i),(N,x)=>(D(),$("th",{key:x,"aria-label":u(E)("el.datepicker.weeksFull."+N),scope:"col"},Me(u(E)("el.datepicker.weeks."+N)),9,Jj))),128))]),(D(!0),$(qe,null,Dt(u(o),(N,x)=>(D(),$("tr",{key:x,class:O(u(T)(N[1]))},[(D(!0),$(qe,null,Dt(N,(F,G)=>(D(),$("td",{key:`${x}.${G}`,ref_for:!0,ref:K=>u(d)(F)&&(l.value=K),class:O(u(b)(F)),"aria-current":F.isCurrent?"date":void 0,"aria-selected":F.isCurrent,tabindex:u(d)(F)?0:-1,onFocus:A[0]||(A[0]=(...K)=>u(C)&&u(C)(...K))},[q(u(Xj),{cell:F},null,8,["cell"])],42,e9))),128))],2))),128))],512)],42,Qj))}});var cC=_e(t9,[["__file","basic-date-table.vue"]]);const s9=Oe({...kw,selectionMode:Gw("month")}),n9=["aria-label"],i9=["aria-selected","aria-label","tabindex","onKeydown"],o9={class:"cell"},r9=j({__name:"basic-month-table",props:s9,emits:["changerange","pick","select"],setup(e,{expose:t,emit:s}){const n=e,i=(b,T,E)=>{const P=ht().locale(E).startOf("month").month(T).year(b),A=P.daysInMonth();return _r(A).map(N=>P.add(N,"day").toDate())},o=we("month-table"),{t:r,lang:l}=Ft(),a=L(),c=L(),h=L(n.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),d=L([[],[],[]]),p=L(),g=L(),m=R(()=>{var b,T;const E=d.value,P=ht().locale(l.value).startOf("month");for(let A=0;A<3;A++){const N=E[A];for(let x=0;x<4;x++){const F=N[x]||(N[x]={row:A,column:x,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});F.type="normal";const G=A*4+x,K=n.date.startOf("year").month(G),z=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;F.inRange=!!(n.minDate&&K.isSameOrAfter(n.minDate,"month")&&z&&K.isSameOrBefore(z,"month"))||!!(n.minDate&&K.isSameOrBefore(n.minDate,"month")&&z&&K.isSameOrAfter(z,"month")),(b=n.minDate)!=null&&b.isSameOrAfter(z)?(F.start=!!(z&&K.isSame(z,"month")),F.end=n.minDate&&K.isSame(n.minDate,"month")):(F.start=!!(n.minDate&&K.isSame(n.minDate,"month")),F.end=!!(z&&K.isSame(z,"month"))),P.isSame(K)&&(F.type="today"),F.text=G,F.disabled=((T=n.disabledDate)==null?void 0:T.call(n,K.toDate()))||!1}}return E}),f=()=>{var b;(b=c.value)==null||b.focus()},C=b=>{const T={},E=n.date.year(),P=new Date,A=b.text;return T.disabled=n.disabledDate?i(E,A,l.value).every(n.disabledDate):!1,T.current=qn(n.parsedValue).findIndex(N=>ht.isDayjs(N)&&N.year()===E&&N.month()===A)>=0,T.today=P.getFullYear()===E&&P.getMonth()===A,b.inRange&&(T["in-range"]=!0,b.start&&(T["start-date"]=!0),b.end&&(T["end-date"]=!0)),T},v=b=>{const T=n.date.year(),E=b.text;return qn(n.date).findIndex(P=>P.year()===T&&P.month()===E)>=0},y=b=>{var T;if(!n.rangeState.selecting)return;let E=b.target;if(E.tagName==="SPAN"&&(E=(T=E.parentNode)==null?void 0:T.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const P=E.parentNode.rowIndex,A=E.cellIndex;m.value[P][A].disabled||(P!==p.value||A!==g.value)&&(p.value=P,g.value=A,s("changerange",{selecting:!0,endDate:n.date.startOf("year").month(P*4+A)}))},w=b=>{var T;const E=(T=b.target)==null?void 0:T.closest("td");if((E==null?void 0:E.tagName)!=="TD"||vi(E,"disabled"))return;const P=E.cellIndex,N=E.parentNode.rowIndex*4+P,x=n.date.startOf("year").month(N);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&x>=n.minDate?s("pick",{minDate:n.minDate,maxDate:x}):s("pick",{minDate:x,maxDate:n.minDate}),s("select",!1)):(s("pick",{minDate:x,maxDate:null}),s("select",!0)):s("pick",N)};return ve(()=>n.date,async()=>{var b,T;(b=a.value)!=null&&b.contains(document.activeElement)&&(await Xe(),(T=c.value)==null||T.focus())}),t({focus:f}),(b,T)=>(D(),$("table",{role:"grid","aria-label":u(r)("el.datepicker.monthTablePrompt"),class:O(u(o).b()),onClick:w,onMousemove:y},[U("tbody",{ref_key:"tbodyRef",ref:a},[(D(!0),$(qe,null,Dt(u(m),(E,P)=>(D(),$("tr",{key:P},[(D(!0),$(qe,null,Dt(E,(A,N)=>(D(),$("td",{key:N,ref_for:!0,ref:x=>v(A)&&(c.value=x),class:O(C(A)),"aria-selected":`${v(A)}`,"aria-label":u(r)(`el.datepicker.month${+A.text+1}`),tabindex:v(A)?0:-1,onKeydown:[Ut(st(w,["prevent","stop"]),["space"]),Ut(st(w,["prevent","stop"]),["enter"])]},[U("div",null,[U("span",o9,Me(u(r)("el.datepicker.months."+h.value[A.text])),1)])],42,i9))),128))]))),128))],512)],42,n9))}});var dC=_e(r9,[["__file","basic-month-table.vue"]]);const{date:l9,disabledDate:a9,parsedValue:u9}=kw,c9=Oe({date:l9,disabledDate:a9,parsedValue:u9,selectionMode:Gw("year")}),d9=["aria-label"],h9=["aria-selected","tabindex","onKeydown"],p9={class:"cell"},f9={key:1},g9=j({__name:"basic-year-table",props:c9,emits:["pick"],setup(e,{expose:t,emit:s}){const n=e,i=(f,C)=>{const v=ht(String(f)).locale(C).startOf("year"),w=v.endOf("year").dayOfYear();return _r(w).map(b=>v.add(b,"day").toDate())},o=we("year-table"),{t:r,lang:l}=Ft(),a=L(),c=L(),h=R(()=>Math.floor(n.date.year()/10)*10),d=()=>{var f;(f=c.value)==null||f.focus()},p=f=>{const C={},v=ht().locale(l.value);return C.disabled=n.disabledDate?i(f,l.value).every(n.disabledDate):!1,C.current=qn(n.parsedValue).findIndex(y=>y.year()===f)>=0,C.today=v.year()===f,C},g=f=>f===h.value&&n.date.year()<h.value&&n.date.year()>h.value+9||qn(n.date).findIndex(C=>C.year()===f)>=0||qn(n.parsedValue).findIndex(C=>(C==null?void 0:C.year())===f)>=0,m=f=>{const v=f.target.closest("td");if(v&&v.textContent){if(vi(v,"disabled"))return;const y=v.textContent||v.innerText;if(n.selectionMode==="years"){if(f.type==="keydown"){s("pick",qn(n.parsedValue),!1);return}const w=vi(v,"current")?qn(n.parsedValue).filter(b=>(b==null?void 0:b.year())!==Number(y)):qn(n.parsedValue).concat([ht(y)]);s("pick",w)}else s("pick",Number(y))}};return ve(()=>n.date,async()=>{var f,C;(f=a.value)!=null&&f.contains(document.activeElement)&&(await Xe(),(C=c.value)==null||C.focus())}),t({focus:d}),(f,C)=>(D(),$("table",{role:"grid","aria-label":u(r)("el.datepicker.yearTablePrompt"),class:O(u(o).b()),onClick:m},[U("tbody",{ref_key:"tbodyRef",ref:a},[(D(),$(qe,null,Dt(3,(v,y)=>U("tr",{key:y},[(D(),$(qe,null,Dt(4,(w,b)=>(D(),$(qe,{key:y+"_"+b},[y*4+b<10?(D(),$("td",{key:0,ref_for:!0,ref:T=>g(u(h)+y*4+b)&&(c.value=T),class:O(["available",p(u(h)+y*4+b)]),"aria-selected":`${g(u(h)+y*4+b)}`,tabindex:g(u(h)+y*4+b)?0:-1,onKeydown:[Ut(st(m,["prevent","stop"]),["space"]),Ut(st(m,["prevent","stop"]),["enter"])]},[U("div",null,[U("span",p9,Me(u(h)+y*4+b),1)])],42,h9)):(D(),$("td",f9))],64))),64))])),64))],512)],10,d9))}});var m9=_e(g9,[["__file","basic-year-table.vue"]]);const v9=["onClick"],C9=["aria-label"],y9=["aria-label"],w9=["aria-label"],b9=["aria-label"],S9=j({__name:"panel-date-pick",props:Wj,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const s=e,n=(me,Ie,ne)=>!0,i=we("picker-panel"),o=we("date-picker"),r=ra(),l=Ys(),{t:a,lang:c}=Ft(),h=Be("EP_PICKER_BASE"),d=Be(Rg),{shortcuts:p,disabledDate:g,cellClassName:m,defaultTime:f}=h.props,C=Yt(h.props,"defaultValue"),v=L(),y=L(ht().locale(c.value)),w=L(!1);let b=!1;const T=R(()=>ht(f).locale(c.value)),E=R(()=>y.value.month()),P=R(()=>y.value.year()),A=L([]),N=L(null),x=L(null),F=me=>A.value.length>0?n(me,A.value,s.format||"HH:mm:ss"):!0,G=me=>f&&!ie.value&&!w.value&&!b?T.value.year(me.year()).month(me.month()).date(me.date()):te.value?me.millisecond(0):me.startOf("day"),K=(me,...Ie)=>{if(!me)t("pick",me,...Ie);else if(ke(me)){const ne=me.map(G);t("pick",ne,...Ie)}else t("pick",G(me),...Ie);N.value=null,x.value=null,w.value=!1,b=!1},z=async(me,Ie)=>{if(B.value==="date"){me=me;let ne=s.parsedValue?s.parsedValue.year(me.year()).month(me.month()).date(me.date()):me;F(ne)||(ne=A.value[0][0].year(me.year()).month(me.month()).date(me.date())),y.value=ne,K(ne,te.value||Ie),s.type==="datetime"&&(await Xe(),et())}else B.value==="week"?K(me.date):B.value==="dates"&&K(me,!0)},W=me=>{const Ie=me?"add":"subtract";y.value=y.value[Ie](1,"month"),Je("month")},k=me=>{const Ie=y.value,ne=me?"add":"subtract";y.value=I.value==="year"?Ie[ne](10,"year"):Ie[ne](1,"year"),Je("year")},I=L("date"),V=R(()=>{const me=a("el.datepicker.year");if(I.value==="year"){const Ie=Math.floor(P.value/10)*10;return me?`${Ie} ${me} - ${Ie+9} ${me}`:`${Ie} - ${Ie+9}`}return`${P.value} ${me}`}),_=me=>{const Ie=nt(me.value)?me.value():me.value;if(Ie){b=!0,K(ht(Ie).locale(c.value));return}me.onClick&&me.onClick({attrs:r,slots:l,emit:t})},B=R(()=>{const{type:me}=s;return["week","month","year","years","dates"].includes(me)?me:"date"}),Y=R(()=>B.value==="date"?I.value:B.value),Q=R(()=>!!p.length),ee=async me=>{y.value=y.value.startOf("month").month(me),B.value==="month"?K(y.value,!1):(I.value="date",["month","year","date","week"].includes(B.value)&&(K(y.value,!0),await Xe(),et())),Je("month")},ce=async(me,Ie)=>{B.value==="year"?(y.value=y.value.startOf("year").year(me),K(y.value,!1)):B.value==="years"?K(me,Ie??!0):(y.value=y.value.year(me),I.value="month",["month","year","date","week"].includes(B.value)&&(K(y.value,!0),await Xe(),et())),Je("year")},Ee=async me=>{I.value=me,await Xe(),et()},te=R(()=>s.type==="datetime"||s.type==="datetimerange"),ue=R(()=>{const me=te.value||B.value==="dates",Ie=B.value==="years",ne=I.value==="date",de=I.value==="year";return me&&ne||Ie&&de}),le=R(()=>g?s.parsedValue?ke(s.parsedValue)?g(s.parsedValue[0].toDate()):g(s.parsedValue.toDate()):!0:!1),Fe=()=>{if(B.value==="dates"||B.value==="years")K(s.parsedValue);else{let me=s.parsedValue;if(!me){const Ie=ht(f).locale(c.value),ne=$e();me=Ie.year(ne.year()).month(ne.month()).date(ne.date())}y.value=me,K(me)}},pe=R(()=>g?g(ht().locale(c.value).toDate()):!1),be=()=>{const Ie=ht().locale(c.value).toDate();w.value=!0,(!g||!g(Ie))&&F(Ie)&&(y.value=ht().locale(c.value),K(y.value))},Le=R(()=>s.timeFormat||$P(s.format)),X=R(()=>s.dateFormat||BP(s.format)),ie=R(()=>{if(x.value)return x.value;if(!(!s.parsedValue&&!C.value))return(s.parsedValue||y.value).format(Le.value)}),Ce=R(()=>{if(N.value)return N.value;if(!(!s.parsedValue&&!C.value))return(s.parsedValue||y.value).format(X.value)}),Re=L(!1),he=()=>{Re.value=!0},Se=()=>{Re.value=!1},Te=me=>({hour:me.hour(),minute:me.minute(),second:me.second(),year:me.year(),month:me.month(),date:me.date()}),De=(me,Ie,ne)=>{const{hour:de,minute:Pe,second:oe}=Te(me),ze=s.parsedValue?s.parsedValue.hour(de).minute(Pe).second(oe):me;y.value=ze,K(y.value,!0),ne||(Re.value=Ie)},ye=me=>{const Ie=ht(me,Le.value).locale(c.value);if(Ie.isValid()&&F(Ie)){const{year:ne,month:de,date:Pe}=Te(y.value);y.value=Ie.year(ne).month(de).date(Pe),x.value=null,Re.value=!1,K(y.value,!0)}},Ae=me=>{const Ie=ht(me,X.value).locale(c.value);if(Ie.isValid()){if(g&&g(Ie.toDate()))return;const{hour:ne,minute:de,second:Pe}=Te(y.value);y.value=Ie.hour(ne).minute(de).second(Pe),N.value=null,K(y.value,!0)}},Ve=me=>ht.isDayjs(me)&&me.isValid()&&(g?!g(me.toDate()):!0),Ke=me=>ke(me)?me.map(Ie=>Ie.format(s.format)):me.format(s.format),ge=me=>ht(me,s.format).locale(c.value),$e=()=>{const me=ht(C.value).locale(c.value);if(!C.value){const Ie=T.value;return ht().hour(Ie.hour()).minute(Ie.minute()).second(Ie.second()).locale(c.value)}return me},et=async()=>{var me;["week","month","year","date"].includes(B.value)&&((me=v.value)==null||me.focus(),B.value==="week"&&wt(Ye.down))},dt=me=>{const{code:Ie}=me;[Ye.up,Ye.down,Ye.left,Ye.right,Ye.home,Ye.end,Ye.pageUp,Ye.pageDown].includes(Ie)&&(wt(Ie),me.stopPropagation(),me.preventDefault()),[Ye.enter,Ye.space,Ye.numpadEnter].includes(Ie)&&N.value===null&&x.value===null&&(me.preventDefault(),K(y.value,!1))},wt=me=>{var Ie;const{up:ne,down:de,left:Pe,right:oe,home:ze,end:ut,pageUp:Ht,pageDown:Qt}=Ye,Ii={year:{[ne]:-4,[de]:4,[Pe]:-1,[oe]:1,offset:(Bt,ps)=>Bt.setFullYear(Bt.getFullYear()+ps)},month:{[ne]:-4,[de]:4,[Pe]:-1,[oe]:1,offset:(Bt,ps)=>Bt.setMonth(Bt.getMonth()+ps)},week:{[ne]:-1,[de]:1,[Pe]:-1,[oe]:1,offset:(Bt,ps)=>Bt.setDate(Bt.getDate()+ps*7)},date:{[ne]:-7,[de]:7,[Pe]:-1,[oe]:1,[ze]:Bt=>-Bt.getDay(),[ut]:Bt=>-Bt.getDay()+6,[Ht]:Bt=>-new Date(Bt.getFullYear(),Bt.getMonth(),0).getDate(),[Qt]:Bt=>new Date(Bt.getFullYear(),Bt.getMonth()+1,0).getDate(),offset:(Bt,ps)=>Bt.setDate(Bt.getDate()+ps)}},ys=y.value.toDate();for(;Math.abs(y.value.diff(ys,"year",!0))<1;){const Bt=Ii[Y.value];if(!Bt)return;if(Bt.offset(ys,nt(Bt[me])?Bt[me](ys):(Ie=Bt[me])!=null?Ie:0),g&&g(ys))break;const ps=ht(ys).locale(c.value);y.value=ps,t("pick",ps,!0);break}},Je=me=>{t("panel-change",y.value.toDate(),me,I.value)};return ve(()=>B.value,me=>{if(["month","year"].includes(me)){I.value=me;return}else if(me==="years"){I.value="year";return}I.value="date"},{immediate:!0}),ve(()=>I.value,()=>{d==null||d.updatePopper()}),ve(()=>C.value,me=>{me&&(y.value=$e())},{immediate:!0}),ve(()=>s.parsedValue,me=>{if(me){if(B.value==="dates"||B.value==="years"||Array.isArray(me))return;y.value=me}else y.value=$e()},{immediate:!0}),t("set-picker-option",["isValidValue",Ve]),t("set-picker-option",["formatToString",Ke]),t("set-picker-option",["parseUserInput",ge]),t("set-picker-option",["handleFocusPicker",et]),(me,Ie)=>(D(),$("div",{class:O([u(i).b(),u(o).b(),{"has-sidebar":me.$slots.sidebar||u(Q),"has-time":u(te)}])},[U("div",{class:O(u(i).e("body-wrapper"))},[ae(me.$slots,"sidebar",{class:O(u(i).e("sidebar"))}),u(Q)?(D(),$("div",{key:0,class:O(u(i).e("sidebar"))},[(D(!0),$(qe,null,Dt(u(p),(ne,de)=>(D(),$("button",{key:de,type:"button",class:O(u(i).e("shortcut")),onClick:Pe=>_(ne)},Me(ne.text),11,v9))),128))],2)):se("v-if",!0),U("div",{class:O(u(i).e("body"))},[u(te)?(D(),$("div",{key:0,class:O(u(o).e("time-header"))},[U("span",{class:O(u(o).e("editor-wrap"))},[q(u(an),{placeholder:u(a)("el.datepicker.selectDate"),"model-value":u(Ce),size:"small","validate-event":!1,onInput:Ie[0]||(Ie[0]=ne=>N.value=ne),onChange:Ae},null,8,["placeholder","model-value"])],2),lt((D(),$("span",{class:O(u(o).e("editor-wrap"))},[q(u(an),{placeholder:u(a)("el.datepicker.selectTime"),"model-value":u(ie),size:"small","validate-event":!1,onFocus:he,onInput:Ie[1]||(Ie[1]=ne=>x.value=ne),onChange:ye},null,8,["placeholder","model-value"]),q(u(gf),{visible:Re.value,format:u(Le),"parsed-value":y.value,onPick:De},null,8,["visible","format","parsed-value"])],2)),[[u(Uo),Se]])],2)):se("v-if",!0),lt(U("div",{class:O([u(o).e("header"),(I.value==="year"||I.value==="month")&&u(o).e("header--bordered")])},[U("span",{class:O(u(o).e("prev-btn"))},[U("button",{type:"button","aria-label":u(a)("el.datepicker.prevYear"),class:O(["d-arrow-left",u(i).e("icon-btn")]),onClick:Ie[2]||(Ie[2]=ne=>k(!1))},[q(u(Ue),null,{default:Z(()=>[q(u(fu))]),_:1})],10,C9),lt(U("button",{type:"button","aria-label":u(a)("el.datepicker.prevMonth"),class:O([u(i).e("icon-btn"),"arrow-left"]),onClick:Ie[3]||(Ie[3]=ne=>W(!1))},[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1})],10,y9),[[Lt,I.value==="date"]])],2),U("span",{role:"button",class:O(u(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ie[4]||(Ie[4]=Ut(ne=>Ee("year"),["enter"])),onClick:Ie[5]||(Ie[5]=ne=>Ee("year"))},Me(u(V)),35),lt(U("span",{role:"button","aria-live":"polite",tabindex:"0",class:O([u(o).e("header-label"),{active:I.value==="month"}]),onKeydown:Ie[6]||(Ie[6]=Ut(ne=>Ee("month"),["enter"])),onClick:Ie[7]||(Ie[7]=ne=>Ee("month"))},Me(u(a)(`el.datepicker.month${u(E)+1}`)),35),[[Lt,I.value==="date"]]),U("span",{class:O(u(o).e("next-btn"))},[lt(U("button",{type:"button","aria-label":u(a)("el.datepicker.nextMonth"),class:O([u(i).e("icon-btn"),"arrow-right"]),onClick:Ie[8]||(Ie[8]=ne=>W(!0))},[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})],10,w9),[[Lt,I.value==="date"]]),U("button",{type:"button","aria-label":u(a)("el.datepicker.nextYear"),class:O([u(i).e("icon-btn"),"d-arrow-right"]),onClick:Ie[9]||(Ie[9]=ne=>k(!0))},[q(u(Ue),null,{default:Z(()=>[q(u(gu))]),_:1})],10,b9)],2)],2),[[Lt,I.value!=="time"]]),U("div",{class:O(u(i).e("content")),onKeydown:dt},[I.value==="date"?(D(),re(cC,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":u(B),date:y.value,"parsed-value":me.parsedValue,"disabled-date":u(g),"cell-class-name":u(m),onPick:z},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):se("v-if",!0),I.value==="year"?(D(),re(m9,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":u(B),date:y.value,"disabled-date":u(g),"parsed-value":me.parsedValue,onPick:ce},null,8,["selection-mode","date","disabled-date","parsed-value"])):se("v-if",!0),I.value==="month"?(D(),re(dC,{key:2,ref_key:"currentViewRef",ref:v,date:y.value,"parsed-value":me.parsedValue,"disabled-date":u(g),onPick:ee},null,8,["date","parsed-value","disabled-date"])):se("v-if",!0)],34)],2)],2),lt(U("div",{class:O(u(i).e("footer"))},[lt(q(u(zs),{text:"",size:"small",class:O(u(i).e("link-btn")),disabled:u(pe),onClick:be},{default:Z(()=>[_t(Me(u(a)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Lt,u(B)!=="dates"&&u(B)!=="years"]]),q(u(zs),{plain:"",size:"small",class:O(u(i).e("link-btn")),disabled:u(le),onClick:Fe},{default:Z(()=>[_t(Me(u(a)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Lt,u(ue)]])],2))}});var E9=_e(S9,[["__file","panel-date-pick.vue"]]);const R9=Oe({...xO,...kO}),T9=e=>{const{emit:t}=ct(),s=ra(),n=Ys();return o=>{const r=nt(o.value)?o.value():o.value;if(r){t("pick",[ht(r[0]).locale(e.value),ht(r[1]).locale(e.value)]);return}o.onClick&&o.onClick({attrs:s,slots:n,emit:t})}},VO=(e,{defaultValue:t,leftDate:s,rightDate:n,unit:i,onParsedValueChanged:o})=>{const{emit:r}=ct(),{pickerNs:l}=Be(xw),a=we("date-range-picker"),{t:c,lang:h}=Ft(),d=T9(h),p=L(),g=L(),m=L({endDate:null,selecting:!1}),f=w=>{m.value=w},C=(w=!1)=>{const b=u(p),T=u(g);aC([b,T])&&r("pick",[b,T],w)},v=w=>{m.value.selecting=w,w||(m.value.endDate=null)},y=()=>{const[w,b]=GO(u(t),{lang:u(h),unit:i,unlinkPanels:e.unlinkPanels});p.value=void 0,g.value=void 0,s.value=w,n.value=b};return ve(t,w=>{w&&y()},{immediate:!0}),ve(()=>e.parsedValue,w=>{if(ke(w)&&w.length===2){const[b,T]=w;p.value=b,s.value=b,g.value=T,o(u(p),u(g))}else y()},{immediate:!0}),{minDate:p,maxDate:g,rangeState:m,lang:h,ppNs:l,drpNs:a,handleChangeRange:f,handleRangeConfirm:C,handleShortcutClick:d,onSelect:v,t:c}},D9=["onClick"],A9=["aria-label"],P9=["aria-label"],O9=["disabled","aria-label"],_9=["disabled","aria-label"],M9=["disabled","aria-label"],I9=["disabled","aria-label"],F9=["aria-label"],L9=["aria-label"],sp="month",N9=j({__name:"panel-date-range",props:R9,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const s=e,n=Be("EP_PICKER_BASE"),{disabledDate:i,cellClassName:o,format:r,defaultTime:l,clearable:a}=n.props,c=Yt(n.props,"shortcuts"),h=Yt(n.props,"defaultValue"),{lang:d}=Ft(),p=L(ht().locale(d.value)),g=L(ht().locale(d.value).add(1,sp)),{minDate:m,maxDate:f,rangeState:C,ppNs:v,drpNs:y,handleChangeRange:w,handleRangeConfirm:b,handleShortcutClick:T,onSelect:E,t:P}=VO(s,{defaultValue:h,leftDate:p,rightDate:g,unit:sp,onParsedValueChanged:Ie}),A=L({min:null,max:null}),N=L({min:null,max:null}),x=R(()=>`${p.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${p.value.month()+1}`)}`),F=R(()=>`${g.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${g.value.month()+1}`)}`),G=R(()=>p.value.year()),K=R(()=>p.value.month()),z=R(()=>g.value.year()),W=R(()=>g.value.month()),k=R(()=>!!c.value.length),I=R(()=>A.value.min!==null?A.value.min:m.value?m.value.format(Q.value):""),V=R(()=>A.value.max!==null?A.value.max:f.value||m.value?(f.value||m.value).format(Q.value):""),_=R(()=>N.value.min!==null?N.value.min:m.value?m.value.format(Y.value):""),B=R(()=>N.value.max!==null?N.value.max:f.value||m.value?(f.value||m.value).format(Y.value):""),Y=R(()=>s.timeFormat||$P(r)),Q=R(()=>s.dateFormat||BP(r)),ee=ne=>aC(ne)&&(i?!i(ne[0].toDate())&&!i(ne[1].toDate()):!0),ce=()=>{p.value=p.value.subtract(1,"year"),s.unlinkPanels||(g.value=p.value.add(1,"month")),Le("year")},Ee=()=>{p.value=p.value.subtract(1,"month"),s.unlinkPanels||(g.value=p.value.add(1,"month")),Le("month")},te=()=>{s.unlinkPanels?g.value=g.value.add(1,"year"):(p.value=p.value.add(1,"year"),g.value=p.value.add(1,"month")),Le("year")},ue=()=>{s.unlinkPanels?g.value=g.value.add(1,"month"):(p.value=p.value.add(1,"month"),g.value=p.value.add(1,"month")),Le("month")},le=()=>{p.value=p.value.add(1,"year"),Le("year")},Fe=()=>{p.value=p.value.add(1,"month"),Le("month")},pe=()=>{g.value=g.value.subtract(1,"year"),Le("year")},be=()=>{g.value=g.value.subtract(1,"month"),Le("month")},Le=ne=>{t("panel-change",[p.value.toDate(),g.value.toDate()],ne)},X=R(()=>{const ne=(K.value+1)%12,de=K.value+1>=12?1:0;return s.unlinkPanels&&new Date(G.value+de,ne)<new Date(z.value,W.value)}),ie=R(()=>s.unlinkPanels&&z.value*12+W.value-(G.value*12+K.value+1)>=12),Ce=R(()=>!(m.value&&f.value&&!C.value.selecting&&aC([m.value,f.value]))),Re=R(()=>s.type==="datetime"||s.type==="datetimerange"),he=(ne,de)=>{if(ne)return l?ht(l[de]||l).locale(d.value).year(ne.year()).month(ne.month()).date(ne.date()):ne},Se=(ne,de=!0)=>{const Pe=ne.minDate,oe=ne.maxDate,ze=he(Pe,0),ut=he(oe,1);f.value===ut&&m.value===ze||(t("calendar-change",[Pe.toDate(),oe&&oe.toDate()]),f.value=ut,m.value=ze,!(!de||Re.value)&&b())},Te=L(!1),De=L(!1),ye=()=>{Te.value=!1},Ae=()=>{De.value=!1},Ve=(ne,de)=>{A.value[de]=ne;const Pe=ht(ne,Q.value).locale(d.value);if(Pe.isValid()){if(i&&i(Pe.toDate()))return;de==="min"?(p.value=Pe,m.value=(m.value||p.value).year(Pe.year()).month(Pe.month()).date(Pe.date()),!s.unlinkPanels&&(!f.value||f.value.isBefore(m.value))&&(g.value=Pe.add(1,"month"),f.value=m.value.add(1,"month"))):(g.value=Pe,f.value=(f.value||g.value).year(Pe.year()).month(Pe.month()).date(Pe.date()),!s.unlinkPanels&&(!m.value||m.value.isAfter(f.value))&&(p.value=Pe.subtract(1,"month"),m.value=f.value.subtract(1,"month")))}},Ke=(ne,de)=>{A.value[de]=null},ge=(ne,de)=>{N.value[de]=ne;const Pe=ht(ne,Y.value).locale(d.value);Pe.isValid()&&(de==="min"?(Te.value=!0,m.value=(m.value||p.value).hour(Pe.hour()).minute(Pe.minute()).second(Pe.second()),(!f.value||f.value.isBefore(m.value))&&(f.value=m.value)):(De.value=!0,f.value=(f.value||g.value).hour(Pe.hour()).minute(Pe.minute()).second(Pe.second()),g.value=f.value,f.value&&f.value.isBefore(m.value)&&(m.value=f.value)))},$e=(ne,de)=>{N.value[de]=null,de==="min"?(p.value=m.value,Te.value=!1):(g.value=f.value,De.value=!1)},et=(ne,de,Pe)=>{N.value.min||(ne&&(p.value=ne,m.value=(m.value||p.value).hour(ne.hour()).minute(ne.minute()).second(ne.second())),Pe||(Te.value=de),(!f.value||f.value.isBefore(m.value))&&(f.value=m.value,g.value=ne))},dt=(ne,de,Pe)=>{N.value.max||(ne&&(g.value=ne,f.value=(f.value||g.value).hour(ne.hour()).minute(ne.minute()).second(ne.second())),Pe||(De.value=de),f.value&&f.value.isBefore(m.value)&&(m.value=f.value))},wt=()=>{p.value=GO(u(h),{lang:u(d),unit:"month",unlinkPanels:s.unlinkPanels})[0],g.value=p.value.add(1,"month"),f.value=void 0,m.value=void 0,t("pick",null)},Je=ne=>ke(ne)?ne.map(de=>de.format(r)):ne.format(r),me=ne=>ke(ne)?ne.map(de=>ht(de,r).locale(d.value)):ht(ne,r).locale(d.value);function Ie(ne,de){if(s.unlinkPanels&&de){const Pe=(ne==null?void 0:ne.year())||0,oe=(ne==null?void 0:ne.month())||0,ze=de.year(),ut=de.month();g.value=Pe===ze&&oe===ut?de.add(1,sp):de}else g.value=p.value.add(1,sp),de&&(g.value=g.value.hour(de.hour()).minute(de.minute()).second(de.second()))}return t("set-picker-option",["isValidValue",ee]),t("set-picker-option",["parseUserInput",me]),t("set-picker-option",["formatToString",Je]),t("set-picker-option",["handleClear",wt]),(ne,de)=>(D(),$("div",{class:O([u(v).b(),u(y).b(),{"has-sidebar":ne.$slots.sidebar||u(k),"has-time":u(Re)}])},[U("div",{class:O(u(v).e("body-wrapper"))},[ae(ne.$slots,"sidebar",{class:O(u(v).e("sidebar"))}),u(k)?(D(),$("div",{key:0,class:O(u(v).e("sidebar"))},[(D(!0),$(qe,null,Dt(u(c),(Pe,oe)=>(D(),$("button",{key:oe,type:"button",class:O(u(v).e("shortcut")),onClick:ze=>u(T)(Pe)},Me(Pe.text),11,D9))),128))],2)):se("v-if",!0),U("div",{class:O(u(v).e("body"))},[u(Re)?(D(),$("div",{key:0,class:O(u(y).e("time-header"))},[U("span",{class:O(u(y).e("editors-wrap"))},[U("span",{class:O(u(y).e("time-picker-wrap"))},[q(u(an),{size:"small",disabled:u(C).selecting,placeholder:u(P)("el.datepicker.startDate"),class:O(u(y).e("editor")),"model-value":u(I),"validate-event":!1,onInput:de[0]||(de[0]=Pe=>Ve(Pe,"min")),onChange:de[1]||(de[1]=Pe=>Ke(Pe,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),lt((D(),$("span",{class:O(u(y).e("time-picker-wrap"))},[q(u(an),{size:"small",class:O(u(y).e("editor")),disabled:u(C).selecting,placeholder:u(P)("el.datepicker.startTime"),"model-value":u(_),"validate-event":!1,onFocus:de[2]||(de[2]=Pe=>Te.value=!0),onInput:de[3]||(de[3]=Pe=>ge(Pe,"min")),onChange:de[4]||(de[4]=Pe=>$e(Pe,"min"))},null,8,["class","disabled","placeholder","model-value"]),q(u(gf),{visible:Te.value,format:u(Y),"datetime-role":"start","parsed-value":p.value,onPick:et},null,8,["visible","format","parsed-value"])],2)),[[u(Uo),ye]])],2),U("span",null,[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})]),U("span",{class:O([u(y).e("editors-wrap"),"is-right"])},[U("span",{class:O(u(y).e("time-picker-wrap"))},[q(u(an),{size:"small",class:O(u(y).e("editor")),disabled:u(C).selecting,placeholder:u(P)("el.datepicker.endDate"),"model-value":u(V),readonly:!u(m),"validate-event":!1,onInput:de[5]||(de[5]=Pe=>Ve(Pe,"max")),onChange:de[6]||(de[6]=Pe=>Ke(Pe,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),lt((D(),$("span",{class:O(u(y).e("time-picker-wrap"))},[q(u(an),{size:"small",class:O(u(y).e("editor")),disabled:u(C).selecting,placeholder:u(P)("el.datepicker.endTime"),"model-value":u(B),readonly:!u(m),"validate-event":!1,onFocus:de[7]||(de[7]=Pe=>u(m)&&(De.value=!0)),onInput:de[8]||(de[8]=Pe=>ge(Pe,"max")),onChange:de[9]||(de[9]=Pe=>$e(Pe,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),q(u(gf),{"datetime-role":"end",visible:De.value,format:u(Y),"parsed-value":g.value,onPick:dt},null,8,["visible","format","parsed-value"])],2)),[[u(Uo),Ae]])],2)],2)):se("v-if",!0),U("div",{class:O([[u(v).e("content"),u(y).e("content")],"is-left"])},[U("div",{class:O(u(y).e("header"))},[U("button",{type:"button",class:O([u(v).e("icon-btn"),"d-arrow-left"]),"aria-label":u(P)("el.datepicker.prevYear"),onClick:ce},[q(u(Ue),null,{default:Z(()=>[q(u(fu))]),_:1})],10,A9),U("button",{type:"button",class:O([u(v).e("icon-btn"),"arrow-left"]),"aria-label":u(P)("el.datepicker.prevMonth"),onClick:Ee},[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1})],10,P9),ne.unlinkPanels?(D(),$("button",{key:0,type:"button",disabled:!u(ie),class:O([[u(v).e("icon-btn"),{"is-disabled":!u(ie)}],"d-arrow-right"]),"aria-label":u(P)("el.datepicker.nextYear"),onClick:le},[q(u(Ue),null,{default:Z(()=>[q(u(gu))]),_:1})],10,O9)):se("v-if",!0),ne.unlinkPanels?(D(),$("button",{key:1,type:"button",disabled:!u(X),class:O([[u(v).e("icon-btn"),{"is-disabled":!u(X)}],"arrow-right"]),"aria-label":u(P)("el.datepicker.nextMonth"),onClick:Fe},[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})],10,_9)):se("v-if",!0),U("div",null,Me(u(x)),1)],2),q(cC,{"selection-mode":"range",date:p.value,"min-date":u(m),"max-date":u(f),"range-state":u(C),"disabled-date":u(i),"cell-class-name":u(o),onChangerange:u(w),onPick:Se,onSelect:u(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),U("div",{class:O([[u(v).e("content"),u(y).e("content")],"is-right"])},[U("div",{class:O(u(y).e("header"))},[ne.unlinkPanels?(D(),$("button",{key:0,type:"button",disabled:!u(ie),class:O([[u(v).e("icon-btn"),{"is-disabled":!u(ie)}],"d-arrow-left"]),"aria-label":u(P)("el.datepicker.prevYear"),onClick:pe},[q(u(Ue),null,{default:Z(()=>[q(u(fu))]),_:1})],10,M9)):se("v-if",!0),ne.unlinkPanels?(D(),$("button",{key:1,type:"button",disabled:!u(X),class:O([[u(v).e("icon-btn"),{"is-disabled":!u(X)}],"arrow-left"]),"aria-label":u(P)("el.datepicker.prevMonth"),onClick:be},[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1})],10,I9)):se("v-if",!0),U("button",{type:"button","aria-label":u(P)("el.datepicker.nextYear"),class:O([u(v).e("icon-btn"),"d-arrow-right"]),onClick:te},[q(u(Ue),null,{default:Z(()=>[q(u(gu))]),_:1})],10,F9),U("button",{type:"button",class:O([u(v).e("icon-btn"),"arrow-right"]),"aria-label":u(P)("el.datepicker.nextMonth"),onClick:ue},[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})],10,L9),U("div",null,Me(u(F)),1)],2),q(cC,{"selection-mode":"range",date:g.value,"min-date":u(m),"max-date":u(f),"range-state":u(C),"disabled-date":u(i),"cell-class-name":u(o),onChangerange:u(w),onPick:Se,onSelect:u(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),u(Re)?(D(),$("div",{key:0,class:O(u(v).e("footer"))},[u(a)?(D(),re(u(zs),{key:0,text:"",size:"small",class:O(u(v).e("link-btn")),onClick:wt},{default:Z(()=>[_t(Me(u(P)("el.datepicker.clear")),1)]),_:1},8,["class"])):se("v-if",!0),q(u(zs),{plain:"",size:"small",class:O(u(v).e("link-btn")),disabled:u(Ce),onClick:de[10]||(de[10]=Pe=>u(b)(!1))},{default:Z(()=>[_t(Me(u(P)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):se("v-if",!0)],2))}});var x9=_e(N9,[["__file","panel-date-range.vue"]]);const k9=Oe({...kO}),G9=["pick","set-picker-option","calendar-change"],V9=({unlinkPanels:e,leftDate:t,rightDate:s})=>{const{t:n}=Ft(),i=()=>{t.value=t.value.subtract(1,"year"),e.value||(s.value=s.value.subtract(1,"year"))},o=()=>{e.value||(t.value=t.value.add(1,"year")),s.value=s.value.add(1,"year")},r=()=>{t.value=t.value.add(1,"year")},l=()=>{s.value=s.value.subtract(1,"year")},a=R(()=>`${t.value.year()} ${n("el.datepicker.year")}`),c=R(()=>`${s.value.year()} ${n("el.datepicker.year")}`),h=R(()=>t.value.year()),d=R(()=>s.value.year()===t.value.year()?t.value.year()+1:s.value.year());return{leftPrevYear:i,rightNextYear:o,leftNextYear:r,rightPrevYear:l,leftLabel:a,rightLabel:c,leftYear:h,rightYear:d}},H9=["onClick"],B9=["disabled"],$9=["disabled"],np="year",W9=j({name:"DatePickerMonthRange"}),z9=j({...W9,props:k9,emits:G9,setup(e,{emit:t}){const s=e,{lang:n}=Ft(),i=Be("EP_PICKER_BASE"),{shortcuts:o,disabledDate:r,format:l}=i.props,a=Yt(i.props,"defaultValue"),c=L(ht().locale(n.value)),h=L(ht().locale(n.value).add(1,np)),{minDate:d,maxDate:p,rangeState:g,ppNs:m,drpNs:f,handleChangeRange:C,handleRangeConfirm:v,handleShortcutClick:y,onSelect:w}=VO(s,{defaultValue:a,leftDate:c,rightDate:h,unit:np,onParsedValueChanged:k}),b=R(()=>!!o.length),{leftPrevYear:T,rightNextYear:E,leftNextYear:P,rightPrevYear:A,leftLabel:N,rightLabel:x,leftYear:F,rightYear:G}=V9({unlinkPanels:Yt(s,"unlinkPanels"),leftDate:c,rightDate:h}),K=R(()=>s.unlinkPanels&&G.value>F.value+1),z=(I,V=!0)=>{const _=I.minDate,B=I.maxDate;p.value===B&&d.value===_||(t("calendar-change",[_.toDate(),B&&B.toDate()]),p.value=B,d.value=_,V&&v())},W=I=>I.map(V=>V.format(l));function k(I,V){if(s.unlinkPanels&&V){const _=(I==null?void 0:I.year())||0,B=V.year();h.value=_===B?V.add(1,np):V}else h.value=c.value.add(1,np)}return t("set-picker-option",["formatToString",W]),(I,V)=>(D(),$("div",{class:O([u(m).b(),u(f).b(),{"has-sidebar":!!I.$slots.sidebar||u(b)}])},[U("div",{class:O(u(m).e("body-wrapper"))},[ae(I.$slots,"sidebar",{class:O(u(m).e("sidebar"))}),u(b)?(D(),$("div",{key:0,class:O(u(m).e("sidebar"))},[(D(!0),$(qe,null,Dt(u(o),(_,B)=>(D(),$("button",{key:B,type:"button",class:O(u(m).e("shortcut")),onClick:Y=>u(y)(_)},Me(_.text),11,H9))),128))],2)):se("v-if",!0),U("div",{class:O(u(m).e("body"))},[U("div",{class:O([[u(m).e("content"),u(f).e("content")],"is-left"])},[U("div",{class:O(u(f).e("header"))},[U("button",{type:"button",class:O([u(m).e("icon-btn"),"d-arrow-left"]),onClick:V[0]||(V[0]=(..._)=>u(T)&&u(T)(..._))},[q(u(Ue),null,{default:Z(()=>[q(u(fu))]),_:1})],2),I.unlinkPanels?(D(),$("button",{key:0,type:"button",disabled:!u(K),class:O([[u(m).e("icon-btn"),{[u(m).is("disabled")]:!u(K)}],"d-arrow-right"]),onClick:V[1]||(V[1]=(..._)=>u(P)&&u(P)(..._))},[q(u(Ue),null,{default:Z(()=>[q(u(gu))]),_:1})],10,B9)):se("v-if",!0),U("div",null,Me(u(N)),1)],2),q(dC,{"selection-mode":"range",date:c.value,"min-date":u(d),"max-date":u(p),"range-state":u(g),"disabled-date":u(r),onChangerange:u(C),onPick:z,onSelect:u(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),U("div",{class:O([[u(m).e("content"),u(f).e("content")],"is-right"])},[U("div",{class:O(u(f).e("header"))},[I.unlinkPanels?(D(),$("button",{key:0,type:"button",disabled:!u(K),class:O([[u(m).e("icon-btn"),{"is-disabled":!u(K)}],"d-arrow-left"]),onClick:V[2]||(V[2]=(..._)=>u(A)&&u(A)(..._))},[q(u(Ue),null,{default:Z(()=>[q(u(fu))]),_:1})],10,$9)):se("v-if",!0),U("button",{type:"button",class:O([u(m).e("icon-btn"),"d-arrow-right"]),onClick:V[3]||(V[3]=(..._)=>u(E)&&u(E)(..._))},[q(u(Ue),null,{default:Z(()=>[q(u(gu))]),_:1})],2),U("div",null,Me(u(x)),1)],2),q(dC,{"selection-mode":"range",date:h.value,"min-date":u(d),"max-date":u(p),"range-state":u(g),"disabled-date":u(r),onChangerange:u(C),onPick:z,onSelect:u(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var U9=_e(z9,[["__file","panel-month-range.vue"]]);const K9=function(e){switch(e){case"daterange":case"datetimerange":return x9;case"monthrange":return U9;default:return E9}};ht.extend(iO);ht.extend(_j);ht.extend(Fw);ht.extend(Ij);ht.extend(Lj);ht.extend(xj);ht.extend(Gj);ht.extend(Hj);var j9=j({name:"ElDatePicker",install:null,props:Bj,emits:["update:modelValue"],setup(e,{expose:t,emit:s,slots:n}){const i=we("picker-panel");Et("ElPopperOptions",Gt(Yt(e,"popperOptions"))),Et(xw,{slots:n,pickerNs:i});const o=L();t({focus:(a=!0)=>{var c;(c=o.value)==null||c.focus(a)},handleOpen:()=>{var a;(a=o.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=o.value)==null||a.handleClose()}});const l=a=>{s("update:modelValue",a)};return()=>{var a;const c=(a=e.format)!=null?a:b8[e.type]||Na,h=K9(e.type);return q(UP,bt(e,{format:c,type:e.type,ref:o,"onUpdate:modelValue":l}),{default:d=>q(h,d,null),"range-separator":n["range-separator"]})}}});const Pp=j9;Pp.install=e=>{e.component(Pp.name,Pp)};const Y9=Pp,Vw=Symbol("elDescriptions");var vc=j({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Be(Vw,{})}},render(){var e,t,s,n,i,o,r;const l=v$(this.cell),a=(((e=this.cell)==null?void 0:e.dirs)||[]).map(T=>{const{dir:E,arg:P,modifiers:A,value:N}=T;return[E,N,P,A]}),{border:c,direction:h}=this.descriptions,d=h==="vertical",p=((n=(s=(t=this.cell)==null?void 0:t.children)==null?void 0:s.label)==null?void 0:n.call(s))||l.label,g=(r=(o=(i=this.cell)==null?void 0:i.children)==null?void 0:o.default)==null?void 0:r.call(o),m=l.span,f=l.align?`is-${l.align}`:"",C=l.labelAlign?`is-${l.labelAlign}`:f,v=l.className,y=l.labelClassName,w={width:Ds(l.width),minWidth:Ds(l.minWidth)},b=we("descriptions");switch(this.type){case"label":return lt(Qe(this.tag,{style:w,class:[b.e("cell"),b.e("label"),b.is("bordered-label",c),b.is("vertical-label",d),C,y],colSpan:d?m:1},p),a);case"content":return lt(Qe(this.tag,{style:w,class:[b.e("cell"),b.e("content"),b.is("bordered-content",c),b.is("vertical-content",d),f,v],colSpan:d?m:m*2-1},g),a);default:return lt(Qe("td",{style:w,class:[b.e("cell"),f],colSpan:m},[Is(p)?void 0:Qe("span",{class:[b.e("label"),y]},p),Qe("span",{class:[b.e("content"),v]},g)]),a)}}});const q9=Oe({row:{type:J(Array),default:()=>[]}}),X9={key:1},Q9=j({name:"ElDescriptionsRow"}),Z9=j({...Q9,props:q9,setup(e){const t=Be(Vw,{});return(s,n)=>u(t).direction==="vertical"?(D(),$(qe,{key:0},[U("tr",null,[(D(!0),$(qe,null,Dt(s.row,(i,o)=>(D(),re(u(vc),{key:`tr1-${o}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),U("tr",null,[(D(!0),$(qe,null,Dt(s.row,(i,o)=>(D(),re(u(vc),{key:`tr2-${o}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(D(),$("tr",X9,[(D(!0),$(qe,null,Dt(s.row,(i,o)=>(D(),$(qe,{key:`tr3-${o}`},[u(t).border?(D(),$(qe,{key:0},[q(u(vc),{cell:i,tag:"td",type:"label"},null,8,["cell"]),q(u(vc),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(D(),re(u(vc),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var J9=_e(Z9,[["__file","descriptions-row.vue"]]);const eY=Oe({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Us,title:{type:String,default:""},extra:{type:String,default:""}}),tY=j({name:"ElDescriptions"}),sY=j({...tY,props:eY,setup(e){const t=e,s=we("descriptions"),n=xs(),i=Ys();Et(Vw,t);const o=R(()=>[s.b(),s.m(n.value)]),r=(a,c,h,d=!1)=>(a.props||(a.props={}),c>h&&(a.props.span=h),d&&(a.props.span=c),a),l=()=>{if(!i.default)return[];const a=Or(i.default()).filter(g=>{var m;return((m=g==null?void 0:g.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let h=[],d=t.column,p=0;return a.forEach((g,m)=>{var f;const C=((f=g.props)==null?void 0:f.span)||1;if(m<a.length-1&&(p+=C>d?d:C),m===a.length-1){const v=t.column-p%t.column;h.push(r(g,v,d,!0)),c.push(h);return}C<d?(d-=C,h.push(g)):(h.push(r(g,C,d)),c.push(h),d=t.column,h=[])}),c};return(a,c)=>(D(),$("div",{class:O(u(o))},[a.title||a.extra||a.$slots.title||a.$slots.extra?(D(),$("div",{key:0,class:O(u(s).e("header"))},[U("div",{class:O(u(s).e("title"))},[ae(a.$slots,"title",{},()=>[_t(Me(a.title),1)])],2),U("div",{class:O(u(s).e("extra"))},[ae(a.$slots,"extra",{},()=>[_t(Me(a.extra),1)])],2)],2)):se("v-if",!0),U("div",{class:O(u(s).e("body"))},[U("table",{class:O([u(s).e("table"),u(s).is("bordered",a.border)])},[U("tbody",null,[(D(!0),$(qe,null,Dt(l(),(h,d)=>(D(),re(J9,{key:d,row:h},null,8,["row"]))),128))])],2)],2)],2))}});var nY=_e(sY,[["__file","description.vue"]]);const iY=Oe({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),HO=j({name:"ElDescriptionsItem",props:iY}),oY=ft(nY,{DescriptionsItem:HO}),rY=hs(HO),lY=Oe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:J([String,Array,Object])},zIndex:{type:J([String,Number])}}),aY={click:e=>e instanceof MouseEvent},uY="overlay";var cY=j({name:"ElOverlay",props:lY,emits:aY,setup(e,{slots:t,emit:s}){const n=we(uY),i=a=>{s("click",a)},{onClick:o,onMousedown:r,onMouseup:l}=Cw(e.customMaskEvent?void 0:i);return()=>e.mask?q("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:r,onMouseup:l},[ae(t,"default")],ci.STYLE|ci.CLASS|ci.PROPS,["onClick","onMouseup","onMousedown"]):Qe("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ae(t,"default")])}});const Hw=cY,BO=Symbol("dialogInjectionKey"),$O=Oe({center:Boolean,alignCenter:Boolean,closeIcon:{type:Kt},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dY={close:()=>!0},hY=["aria-level"],pY=["aria-label"],fY=["id"],gY=j({name:"ElDialogContent"}),mY=j({...gY,props:$O,emits:dY,setup(e){const t=e,{t:s}=Ft(),{Close:n}=nw,{dialogRef:i,headerRef:o,bodyId:r,ns:l,style:a}=Be(BO),{focusTrapRef:c}=Be(_w),h=R(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),d=gg(c,i),p=R(()=>t.draggable),g=R(()=>t.overflow);return NA(i,o,p,g),(m,f)=>(D(),$("div",{ref:u(d),class:O(u(h)),style:je(u(a)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:o,class:O([u(l).e("header"),{"show-close":m.showClose}])},[ae(m.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":m.ariaLevel,class:O(u(l).e("title"))},Me(m.title),11,hY)]),m.showClose?(D(),$("button",{key:0,"aria-label":u(s)("el.dialog.close"),class:O(u(l).e("headerbtn")),type:"button",onClick:f[0]||(f[0]=C=>m.$emit("close"))},[q(u(Ue),{class:O(u(l).e("close"))},{default:Z(()=>[(D(),re(Ct(m.closeIcon||u(n))))]),_:1},8,["class"])],10,pY)):se("v-if",!0)],2),U("div",{id:u(r),class:O(u(l).e("body"))},[ae(m.$slots,"default")],10,fY),m.$slots.footer?(D(),$("footer",{key:0,class:O(u(l).e("footer"))},[ae(m.$slots,"footer")],2)):se("v-if",!0)],6))}});var vY=_e(mY,[["__file","dialog-content.vue"]]);const WO=Oe({...$O,appendToBody:Boolean,appendTo:{type:J(String),default:"body"},beforeClose:{type:J(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),zO={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[vt]:e=>Os(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},UO=(e,t)=>{var s;const i=ct().emit,{nextZIndex:o}=Yu();let r="";const l=dn(),a=dn(),c=L(!1),h=L(!1),d=L(!1),p=L((s=e.zIndex)!=null?s:o());let g,m;const f=bg("namespace",Gc),C=R(()=>{const W={},k=`--${f.value}-dialog`;return e.fullscreen||(e.top&&(W[`${k}-margin-top`]=e.top),e.width&&(W[`${k}-width`]=Ds(e.width))),W}),v=R(()=>e.alignCenter?{display:"flex"}:{});function y(){i("opened")}function w(){i("closed"),i(vt,!1),e.destroyOnClose&&(d.value=!1)}function b(){i("close")}function T(){m==null||m(),g==null||g(),e.openDelay&&e.openDelay>0?{stop:g}=Vl(()=>N(),e.openDelay):N()}function E(){g==null||g(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=Vl(()=>x(),e.closeDelay):x()}function P(){function W(k){k||(h.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(W):E()}function A(){e.closeOnClickModal&&P()}function N(){At&&(c.value=!0)}function x(){c.value=!1}function F(){i("openAutoFocus")}function G(){i("closeAutoFocus")}function K(W){var k;((k=W.detail)==null?void 0:k.focusReason)==="pointer"&&W.preventDefault()}e.lockScroll&&uw(c);function z(){e.closeOnPressEscape&&P()}return ve(()=>e.modelValue,W=>{W?(h.value=!1,T(),d.value=!0,p.value=SA(e.zIndex)?o():p.value++,Xe(()=>{i("open"),t.value&&(t.value.scrollTop=0)})):c.value&&E()}),ve(()=>e.fullscreen,W=>{t.value&&(W?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)}),at(()=>{e.modelValue&&(c.value=!0,d.value=!0,T())}),{afterEnter:y,afterLeave:w,beforeLeave:b,handleClose:P,onModalClick:A,close:E,doClose:x,onOpenAutoFocus:F,onCloseAutoFocus:G,onCloseRequested:z,onFocusoutPrevented:K,titleId:l,bodyId:a,closed:h,style:C,overlayDialogStyle:v,rendered:d,visible:c,zIndex:p}},CY=["aria-label","aria-labelledby","aria-describedby"],yY=j({name:"ElDialog",inheritAttrs:!1}),wY=j({...yY,props:WO,emits:zO,setup(e,{expose:t}){const s=e,n=Ys();Al({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},R(()=>!!n.title));const i=we("dialog"),o=L(),r=L(),l=L(),{visible:a,titleId:c,bodyId:h,style:d,overlayDialogStyle:p,rendered:g,zIndex:m,afterEnter:f,afterLeave:C,beforeLeave:v,handleClose:y,onModalClick:w,onOpenAutoFocus:b,onCloseAutoFocus:T,onCloseRequested:E,onFocusoutPrevented:P}=UO(s,o);Et(BO,{dialogRef:o,headerRef:r,bodyId:h,ns:i,rendered:g,style:d});const A=Cw(w),N=R(()=>s.draggable&&!s.fullscreen);return t({visible:a,dialogContentRef:l}),(x,F)=>(D(),re($u,{to:x.appendTo,disabled:x.appendTo!=="body"?!1:!x.appendToBody},[q(Ls,{name:"dialog-fade",onAfterEnter:u(f),onAfterLeave:u(C),onBeforeLeave:u(v),persisted:""},{default:Z(()=>[lt(q(u(Hw),{"custom-mask-event":"",mask:x.modal,"overlay-class":x.modalClass,"z-index":u(m)},{default:Z(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":x.title||void 0,"aria-labelledby":x.title?void 0:u(c),"aria-describedby":u(h),class:O(`${u(i).namespace.value}-overlay-dialog`),style:je(u(p)),onClick:F[0]||(F[0]=(...G)=>u(A).onClick&&u(A).onClick(...G)),onMousedown:F[1]||(F[1]=(...G)=>u(A).onMousedown&&u(A).onMousedown(...G)),onMouseup:F[2]||(F[2]=(...G)=>u(A).onMouseup&&u(A).onMouseup(...G))},[q(u(uh),{loop:"",trapped:u(a),"focus-start-el":"container",onFocusAfterTrapped:u(b),onFocusAfterReleased:u(T),onFocusoutPrevented:u(P),onReleaseRequested:u(E)},{default:Z(()=>[u(g)?(D(),re(vY,bt({key:0,ref_key:"dialogContentRef",ref:l},x.$attrs,{center:x.center,"align-center":x.alignCenter,"close-icon":x.closeIcon,draggable:u(N),overflow:x.overflow,fullscreen:x.fullscreen,"show-close":x.showClose,title:x.title,"aria-level":x.headerAriaLevel,onClose:u(y)}),Bo({header:Z(()=>[x.$slots.title?ae(x.$slots,"title",{key:1}):ae(x.$slots,"header",{key:0,close:u(y),titleId:u(c),titleClass:u(i).e("title")})]),default:Z(()=>[ae(x.$slots,"default")]),_:2},[x.$slots.footer?{name:"footer",fn:Z(()=>[ae(x.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):se("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,CY)]),_:3},8,["mask","overlay-class","z-index"]),[[Lt,u(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var bY=_e(wY,[["__file","dialog.vue"]]);const SY=ft(bY),EY=Oe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:J(String),default:"solid"}}),RY=j({name:"ElDivider"}),TY=j({...RY,props:EY,setup(e){const t=e,s=we("divider"),n=R(()=>s.cssVar({"border-style":t.borderStyle}));return(i,o)=>(D(),$("div",{class:O([u(s).b(),u(s).m(i.direction)]),style:je(u(n)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(D(),$("div",{key:0,class:O([u(s).e("text"),u(s).is(i.contentPosition)])},[ae(i.$slots,"default")],2)):se("v-if",!0)],6))}});var DY=_e(TY,[["__file","divider.vue"]]);const KO=ft(DY),AY=Oe({...WO,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),PY=zO,OY=["aria-label","aria-labelledby","aria-describedby"],_Y=["id","aria-level"],MY=["aria-label"],IY=["id"],FY=j({name:"ElDrawer",inheritAttrs:!1}),LY=j({...FY,props:AY,emits:PY,setup(e,{expose:t}){const s=e,n=Ys();Al({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},R(()=>!!n.title));const i=L(),o=L(),r=we("drawer"),{t:l}=Ft(),{afterEnter:a,afterLeave:c,beforeLeave:h,visible:d,rendered:p,titleId:g,bodyId:m,zIndex:f,onModalClick:C,onOpenAutoFocus:v,onCloseAutoFocus:y,onFocusoutPrevented:w,onCloseRequested:b,handleClose:T}=UO(s,i),E=R(()=>s.direction==="rtl"||s.direction==="ltr"),P=R(()=>Ds(s.size));return t({handleClose:T,afterEnter:a,afterLeave:c}),(A,N)=>(D(),re($u,{to:"body",disabled:!A.appendToBody},[q(Ls,{name:u(r).b("fade"),onAfterEnter:u(a),onAfterLeave:u(c),onBeforeLeave:u(h),persisted:""},{default:Z(()=>[lt(q(u(Hw),{mask:A.modal,"overlay-class":A.modalClass,"z-index":u(f),onClick:u(C)},{default:Z(()=>[q(u(uh),{loop:"",trapped:u(d),"focus-trap-el":i.value,"focus-start-el":o.value,onFocusAfterTrapped:u(v),onFocusAfterReleased:u(y),onFocusoutPrevented:u(w),onReleaseRequested:u(b)},{default:Z(()=>[U("div",bt({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":A.title||void 0,"aria-labelledby":A.title?void 0:u(g),"aria-describedby":u(m)},A.$attrs,{class:[u(r).b(),A.direction,u(d)&&"open"],style:u(E)?"width: "+u(P):"height: "+u(P),role:"dialog",onClick:N[1]||(N[1]=st(()=>{},["stop"]))}),[U("span",{ref_key:"focusStartRef",ref:o,class:O(u(r).e("sr-focus")),tabindex:"-1"},null,2),A.withHeader?(D(),$("header",{key:0,class:O(u(r).e("header"))},[A.$slots.title?ae(A.$slots,"title",{key:1},()=>[se(" DEPRECATED SLOT ")]):ae(A.$slots,"header",{key:0,close:u(T),titleId:u(g),titleClass:u(r).e("title")},()=>[A.$slots.title?se("v-if",!0):(D(),$("span",{key:0,id:u(g),role:"heading","aria-level":A.headerAriaLevel,class:O(u(r).e("title"))},Me(A.title),11,_Y))]),A.showClose?(D(),$("button",{key:2,"aria-label":u(l)("el.drawer.close"),class:O(u(r).e("close-btn")),type:"button",onClick:N[0]||(N[0]=(...x)=>u(T)&&u(T)(...x))},[q(u(Ue),{class:O(u(r).e("close"))},{default:Z(()=>[q(u(zi))]),_:1},8,["class"])],10,MY)):se("v-if",!0)],2)):se("v-if",!0),u(p)?(D(),$("div",{key:1,id:u(m),class:O(u(r).e("body"))},[ae(A.$slots,"default")],10,IY)):se("v-if",!0),A.$slots.footer?(D(),$("div",{key:2,class:O(u(r).e("footer"))},[ae(A.$slots,"footer")],2)):se("v-if",!0)],16,OY)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Lt,u(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var NY=_e(LY,[["__file","drawer.vue"]]);const xY=ft(NY),kY=j({inheritAttrs:!1});function GY(e,t,s,n,i,o){return ae(e.$slots,"default")}var VY=_e(kY,[["render",GY],["__file","collection.vue"]]);const HY=j({name:"ElCollectionItem",inheritAttrs:!1});function BY(e,t,s,n,i,o){return ae(e.$slots,"default")}var $Y=_e(HY,[["render",BY],["__file","collection-item.vue"]]);const jO="data-el-collection-item",YO=e=>{const t=`El${e}Collection`,s=`${t}Item`,n=Symbol(t),i=Symbol(s),o={...VY,name:t,setup(){const l=L(null),a=new Map;Et(n,{itemMap:a,getItems:()=>{const h=u(l);if(!h)return[];const d=Array.from(h.querySelectorAll(`[${jO}]`));return[...a.values()].sort((g,m)=>d.indexOf(g.ref)-d.indexOf(m.ref))},collectionRef:l})}},r={...$Y,name:s,setup(l,{attrs:a}){const c=L(null),h=Be(n,void 0);Et(i,{collectionItemRef:c}),at(()=>{const d=u(c);d&&h.itemMap.set(d,{ref:d,...a})}),Jt(()=>{const d=u(c);h.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:o,ElCollectionItem:r}},WY=Oe({style:{type:J([String,Array,Object])},currentTabId:{type:J(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:J(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:zY,ElCollectionItem:UY,COLLECTION_INJECTION_KEY:Bw,COLLECTION_ITEM_INJECTION_KEY:KY}=YO("RovingFocusGroup"),$w=Symbol("elRovingFocusGroup"),qO=Symbol("elRovingFocusGroupItem"),jY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},YY=(e,t)=>{if(t!=="rtl")return e;switch(e){case Ye.right:return Ye.left;case Ye.left:return Ye.right;default:return e}},qY=(e,t,s)=>{const n=YY(e.key,s);if(!(t==="vertical"&&[Ye.left,Ye.right].includes(n))&&!(t==="horizontal"&&[Ye.up,Ye.down].includes(n)))return jY[n]},XY=(e,t)=>e.map((s,n)=>e[(n+t)%e.length]),Ww=e=>{const{activeElement:t}=document;for(const s of e)if(s===t||(s.focus(),t!==document.activeElement))return},cR="currentTabIdChange",dR="rovingFocusGroup.entryFocus",QY={bubbles:!1,cancelable:!0},ZY=j({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:WY,emits:[cR,"entryFocus"],setup(e,{emit:t}){var s;const n=L((s=e.currentTabId||e.defaultCurrentTabId)!=null?s:null),i=L(!1),o=L(!1),r=L(null),{getItems:l}=Be(Bw,void 0),a=R(()=>[{outline:"none"},e.style]),c=f=>{t(cR,f)},h=()=>{i.value=!0},d=ms(f=>{var C;(C=e.onMousedown)==null||C.call(e,f)},()=>{o.value=!0}),p=ms(f=>{var C;(C=e.onFocus)==null||C.call(e,f)},f=>{const C=!u(o),{target:v,currentTarget:y}=f;if(v===y&&C&&!u(i)){const w=new Event(dR,QY);if(y==null||y.dispatchEvent(w),!w.defaultPrevented){const b=l().filter(N=>N.focusable),T=b.find(N=>N.active),E=b.find(N=>N.id===u(n)),A=[T,E,...b].filter(Boolean).map(N=>N.ref);Ww(A)}}o.value=!1}),g=ms(f=>{var C;(C=e.onBlur)==null||C.call(e,f)},()=>{i.value=!1}),m=(...f)=>{t("entryFocus",...f)};Et($w,{currentTabbedId:Bu(n),loop:Yt(e,"loop"),tabIndex:R(()=>u(i)?-1:0),rovingFocusGroupRef:r,rovingFocusGroupRootStyle:a,orientation:Yt(e,"orientation"),dir:Yt(e,"dir"),onItemFocus:c,onItemShiftTab:h,onBlur:g,onFocus:p,onMousedown:d}),ve(()=>e.currentTabId,f=>{n.value=f??null}),ls(r,dR,m)}});function JY(e,t,s,n,i,o){return ae(e.$slots,"default")}var eq=_e(ZY,[["render",JY],["__file","roving-focus-group-impl.vue"]]);const tq=j({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:zY,ElRovingFocusGroupImpl:eq}});function sq(e,t,s,n,i,o){const r=pt("el-roving-focus-group-impl"),l=pt("el-focus-group-collection");return D(),re(l,null,{default:Z(()=>[q(r,xo(au(e.$attrs)),{default:Z(()=>[ae(e.$slots,"default")]),_:3},16)]),_:3})}var nq=_e(tq,[["render",sq],["__file","roving-focus-group.vue"]]);const iq=j({components:{ElRovingFocusCollectionItem:UY},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:s,loop:n,onItemFocus:i,onItemShiftTab:o}=Be($w,void 0),{getItems:r}=Be(Bw,void 0),l=dn(),a=L(null),c=ms(g=>{t("mousedown",g)},g=>{e.focusable?i(u(l)):g.preventDefault()}),h=ms(g=>{t("focus",g)},()=>{i(u(l))}),d=ms(g=>{t("keydown",g)},g=>{const{key:m,shiftKey:f,target:C,currentTarget:v}=g;if(m===Ye.tab&&f){o();return}if(C!==v)return;const y=qY(g);if(y){g.preventDefault();let b=r().filter(T=>T.focusable).map(T=>T.ref);switch(y){case"last":{b.reverse();break}case"prev":case"next":{y==="prev"&&b.reverse();const T=b.indexOf(v);b=n.value?XY(b,T+1):b.slice(T+1);break}}Xe(()=>{Ww(b)})}}),p=R(()=>s.value===u(l));return Et(qO,{rovingFocusGroupItemRef:a,tabIndex:R(()=>u(p)?0:-1),handleMousedown:c,handleFocus:h,handleKeydown:d}),{id:l,handleKeydown:d,handleFocus:h,handleMousedown:c}}});function oq(e,t,s,n,i,o){const r=pt("el-roving-focus-collection-item");return D(),re(r,{id:e.id,focusable:e.focusable,active:e.active},{default:Z(()=>[ae(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var rq=_e(iq,[["render",oq],["__file","roving-focus-item.vue"]]);const Op=Oe({trigger:cd.trigger,effect:{...qs.effect,default:"light"},type:{type:J(String)},placement:{type:J(String),default:"bottom"},popperOptions:{type:J(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:J([Number,String]),default:0},maxHeight:{type:J([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:J(Object)},teleported:qs.teleported}),XO=Oe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Kt}}),lq=Oe({onKeydown:{type:J(Function)}}),aq=[Ye.down,Ye.pageDown,Ye.home],QO=[Ye.up,Ye.pageUp,Ye.end],uq=[...aq,...QO],{ElCollection:cq,ElCollectionItem:dq,COLLECTION_INJECTION_KEY:hq,COLLECTION_ITEM_INJECTION_KEY:pq}=YO("Dropdown"),Ag=Symbol("elDropdown"),{ButtonGroup:fq}=zs,gq=j({name:"ElDropdown",components:{ElButton:zs,ElButtonGroup:fq,ElScrollbar:tr,ElDropdownCollection:cq,ElTooltip:hn,ElRovingFocusGroup:nq,ElOnlyChild:EP,ElIcon:Ue,ArrowDown:Jo},props:Op,emits:["visible-change","click","command"],setup(e,{emit:t}){const s=ct(),n=we("dropdown"),{t:i}=Ft(),o=L(),r=L(),l=L(null),a=L(null),c=L(null),h=L(null),d=L(!1),p=[Ye.enter,Ye.space,Ye.down],g=R(()=>({maxHeight:Ds(e.maxHeight)})),m=R(()=>[n.m(T.value)]),f=R(()=>Bl(e.trigger)),C=dn().value,v=R(()=>e.id||C);ve([o,f],([I,V],[_])=>{var B,Y,Q;(B=_==null?void 0:_.$el)!=null&&B.removeEventListener&&_.$el.removeEventListener("pointerenter",P),(Y=I==null?void 0:I.$el)!=null&&Y.removeEventListener&&I.$el.removeEventListener("pointerenter",P),(Q=I==null?void 0:I.$el)!=null&&Q.addEventListener&&V.includes("hover")&&I.$el.addEventListener("pointerenter",P)},{immediate:!0}),Jt(()=>{var I,V;(V=(I=o.value)==null?void 0:I.$el)!=null&&V.removeEventListener&&o.value.$el.removeEventListener("pointerenter",P)});function y(){w()}function w(){var I;(I=l.value)==null||I.onClose()}function b(){var I;(I=l.value)==null||I.onOpen()}const T=xs();function E(...I){t("command",...I)}function P(){var I,V;(V=(I=o.value)==null?void 0:I.$el)==null||V.focus()}function A(){}function N(){const I=u(a);f.value.includes("hover")&&(I==null||I.focus()),h.value=null}function x(I){h.value=I}function F(I){d.value||(I.preventDefault(),I.stopImmediatePropagation())}function G(){t("visible-change",!0)}function K(I){(I==null?void 0:I.type)==="keydown"&&a.value.focus()}function z(){t("visible-change",!1)}return Et(Ag,{contentRef:a,role:R(()=>e.role),triggerId:v,isUsingKeyboard:d,onItemEnter:A,onItemLeave:N}),Et("elDropdown",{instance:s,dropdownSize:T,handleClick:y,commandHandler:E,trigger:Yt(e,"trigger"),hideOnClick:Yt(e,"hideOnClick")}),{t:i,ns:n,scrollbar:c,wrapStyle:g,dropdownTriggerKls:m,dropdownSize:T,triggerId:v,triggerKeys:p,currentTabId:h,handleCurrentTabIdChange:x,handlerMainButtonClick:I=>{t("click",I)},handleEntryFocus:F,handleClose:w,handleOpen:b,handleBeforeShowTooltip:G,handleShowTooltip:K,handleBeforeHideTooltip:z,onFocusAfterTrapped:I=>{var V,_;I.preventDefault(),(_=(V=a.value)==null?void 0:V.focus)==null||_.call(V,{preventScroll:!0})},popperRef:l,contentRef:a,triggeringElementRef:o,referenceElementRef:r}}});function mq(e,t,s,n,i,o){var r;const l=pt("el-dropdown-collection"),a=pt("el-roving-focus-group"),c=pt("el-scrollbar"),h=pt("el-only-child"),d=pt("el-tooltip"),p=pt("el-button"),g=pt("arrow-down"),m=pt("el-icon"),f=pt("el-button-group");return D(),$("div",{class:O([e.ns.b(),e.ns.is("disabled",e.disabled)])},[q(d,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(r=e.referenceElementRef)==null?void 0:r.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Bo({content:Z(()=>[q(c,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Z(()=>[q(a,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Z(()=>[q(l,null,{default:Z(()=>[ae(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Z(()=>[q(h,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:Z(()=>[ae(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(D(),re(f,{key:0},{default:Z(()=>[q(p,bt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Z(()=>[ae(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),q(p,bt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Z(()=>[q(m,{class:O(e.ns.e("icon"))},{default:Z(()=>[q(g)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):se("v-if",!0)],2)}var vq=_e(gq,[["render",mq],["__file","dropdown.vue"]]);const Cq=j({name:"DropdownItemImpl",components:{ElIcon:Ue},props:XO,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const s=we("dropdown"),{role:n}=Be(Ag,void 0),{collectionItemRef:i}=Be(pq,void 0),{collectionItemRef:o}=Be(KY,void 0),{rovingFocusGroupItemRef:r,tabIndex:l,handleFocus:a,handleKeydown:c,handleMousedown:h}=Be(qO,void 0),d=gg(i,o,r),p=R(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),g=ms(m=>{const{code:f}=m;if(f===Ye.enter||f===Ye.space)return m.preventDefault(),m.stopImmediatePropagation(),t("clickimpl",m),!0},c);return{ns:s,itemRef:d,dataset:{[jO]:""},role:p,tabIndex:l,handleFocus:a,handleKeydown:g,handleMousedown:h}}}),yq=["aria-disabled","tabindex","role"];function wq(e,t,s,n,i,o){const r=pt("el-icon");return D(),$(qe,null,[e.divided?(D(),$("li",bt({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):se("v-if",!0),U("li",bt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=l=>e.$emit("clickimpl",l)),onFocus:t[1]||(t[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onKeydown:t[2]||(t[2]=st((...l)=>e.handleKeydown&&e.handleKeydown(...l),["self"])),onMousedown:t[3]||(t[3]=(...l)=>e.handleMousedown&&e.handleMousedown(...l)),onPointermove:t[4]||(t[4]=l=>e.$emit("pointermove",l)),onPointerleave:t[5]||(t[5]=l=>e.$emit("pointerleave",l))}),[e.icon?(D(),re(r,{key:0},{default:Z(()=>[(D(),re(Ct(e.icon)))]),_:1})):se("v-if",!0),ae(e.$slots,"default")],16,yq)],64)}var bq=_e(Cq,[["render",wq],["__file","dropdown-item-impl.vue"]]);const ZO=()=>{const e=Be("elDropdown",{}),t=R(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Sq=j({name:"ElDropdownItem",components:{ElDropdownCollectionItem:dq,ElRovingFocusItem:rq,ElDropdownItemImpl:bq},inheritAttrs:!1,props:XO,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:s}){const{elDropdown:n}=ZO(),i=ct(),o=L(null),r=R(()=>{var g,m;return(m=(g=u(o))==null?void 0:g.textContent)!=null?m:""}),{onItemEnter:l,onItemLeave:a}=Be(Ag,void 0),c=ms(g=>(t("pointermove",g),g.defaultPrevented),rE(g=>{if(e.disabled){a(g);return}const m=g.currentTarget;m===document.activeElement||m.contains(document.activeElement)||(l(g),g.defaultPrevented||m==null||m.focus())})),h=ms(g=>(t("pointerleave",g),g.defaultPrevented),rE(g=>{a(g)})),d=ms(g=>{if(!e.disabled)return t("click",g),g.type!=="keydown"&&g.defaultPrevented},g=>{var m,f,C;if(e.disabled){g.stopImmediatePropagation();return}(m=n==null?void 0:n.hideOnClick)!=null&&m.value&&((f=n.handleClick)==null||f.call(n)),(C=n.commandHandler)==null||C.call(n,e.command,i,g)}),p=R(()=>({...e,...s}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:h,textContent:r,propsAndAttrs:p}}});function Eq(e,t,s,n,i,o){var r;const l=pt("el-dropdown-item-impl"),a=pt("el-roving-focus-item"),c=pt("el-dropdown-collection-item");return D(),re(c,{disabled:e.disabled,"text-value":(r=e.textValue)!=null?r:e.textContent},{default:Z(()=>[q(a,{focusable:!e.disabled},{default:Z(()=>[q(l,bt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Z(()=>[ae(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var JO=_e(Sq,[["render",Eq],["__file","dropdown-item.vue"]]);const Rq=j({name:"ElDropdownMenu",props:lq,setup(e){const t=we("dropdown"),{_elDropdownSize:s}=ZO(),n=s.value,{focusTrapRef:i,onKeydown:o}=Be(_w,void 0),{contentRef:r,role:l,triggerId:a}=Be(Ag,void 0),{collectionRef:c,getItems:h}=Be(hq,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:p,tabIndex:g,onBlur:m,onFocus:f,onMousedown:C}=Be($w,void 0),{collectionRef:v}=Be(Bw,void 0),y=R(()=>[t.b("menu"),t.bm("menu",n==null?void 0:n.value)]),w=gg(r,c,i,d,v),b=ms(E=>{var P;(P=e.onKeydown)==null||P.call(e,E)},E=>{const{currentTarget:P,code:A,target:N}=E;if(P.contains(N),Ye.tab===A&&E.stopImmediatePropagation(),E.preventDefault(),N!==u(r)||!uq.includes(A))return;const F=h().filter(G=>!G.disabled).map(G=>G.ref);QO.includes(A)&&F.reverse(),Ww(F)});return{size:n,rovingFocusGroupRootStyle:p,tabIndex:g,dropdownKls:y,role:l,triggerId:a,dropdownListWrapperRef:w,handleKeydown:E=>{b(E),o(E)},onBlur:m,onFocus:f,onMousedown:C}}}),Tq=["role","aria-labelledby"];function Dq(e,t,s,n,i,o){return D(),$("ul",{ref:e.dropdownListWrapperRef,class:O(e.dropdownKls),style:je(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...r)=>e.onBlur&&e.onBlur(...r)),onFocus:t[1]||(t[1]=(...r)=>e.onFocus&&e.onFocus(...r)),onKeydown:t[2]||(t[2]=st((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:t[3]||(t[3]=st((...r)=>e.onMousedown&&e.onMousedown(...r),["self"]))},[ae(e.$slots,"default")],46,Tq)}var e_=_e(Rq,[["render",Dq],["__file","dropdown-menu.vue"]]);const Aq=ft(vq,{DropdownItem:JO,DropdownMenu:e_}),Pq=hs(JO),Oq=hs(e_),_q={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Mq=["id"],Iq=["stop-color"],Fq=["stop-color"],Lq=["id"],Nq=["stop-color"],xq=["stop-color"],kq=["id"],Gq={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Vq={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Hq={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},Bq=["fill"],$q=["fill"],Wq={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},zq=["fill"],Uq=["fill"],Kq=["fill"],jq=["fill"],Yq=["fill"],qq={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Xq=["fill","xlink:href"],Qq=["fill","mask"],Zq=["fill"],Jq=j({name:"ImgEmpty"}),e7=j({...Jq,setup(e){const t=we("empty"),s=dn();return(n,i)=>(D(),$("svg",_q,[U("defs",null,[U("linearGradient",{id:`linearGradient-1-${u(s)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[U("stop",{"stop-color":`var(${u(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Iq),U("stop",{"stop-color":`var(${u(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Fq)],8,Mq),U("linearGradient",{id:`linearGradient-2-${u(s)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[U("stop",{"stop-color":`var(${u(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Nq),U("stop",{"stop-color":`var(${u(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,xq)],8,Lq),U("rect",{id:`path-3-${u(s)}`,x:"0",y:"0",width:"17",height:"36"},null,8,kq)]),U("g",Gq,[U("g",Vq,[U("g",Hq,[U("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${u(t).cssVarBlockName("fill-color-3")})`},null,8,Bq),U("polygon",{id:"Rectangle-Copy-14",fill:`var(${u(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,$q),U("g",Wq,[U("polygon",{id:"Rectangle-Copy-10",fill:`var(${u(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,zq),U("polygon",{id:"Rectangle-Copy-11",fill:`var(${u(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Uq),U("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${u(s)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Kq),U("polygon",{id:"Rectangle-Copy-13",fill:`var(${u(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,jq)]),U("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${u(s)})`,x:"13",y:"45",width:"40",height:"36"},null,8,Yq),U("g",qq,[U("use",{id:"Mask",fill:`var(${u(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${u(s)}`},null,8,Xq),U("polygon",{id:"Rectangle-Copy",fill:`var(${u(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${u(s)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Qq)]),U("polygon",{id:"Rectangle-Copy-18",fill:`var(${u(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Zq)])])])]))}});var t7=_e(e7,[["__file","img-empty.vue"]]);const s7=Oe({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),n7=["src"],i7={key:1},o7=j({name:"ElEmpty"}),r7=j({...o7,props:s7,setup(e){const t=e,{t:s}=Ft(),n=we("empty"),i=R(()=>t.description||s("el.table.emptyText")),o=R(()=>({width:Ds(t.imageSize)}));return(r,l)=>(D(),$("div",{class:O(u(n).b())},[U("div",{class:O(u(n).e("image")),style:je(u(o))},[r.image?(D(),$("img",{key:0,src:r.image,ondragstart:"return false"},null,8,n7)):ae(r.$slots,"image",{key:1},()=>[q(t7)])],6),U("div",{class:O(u(n).e("description"))},[r.$slots.description?ae(r.$slots,"description",{key:0}):(D(),$("p",i7,Me(u(i)),1))],2),r.$slots.default?(D(),$("div",{key:0,class:O(u(n).e("bottom"))},[ae(r.$slots,"default")],2)):se("v-if",!0)],2))}});var l7=_e(r7,[["__file","empty.vue"]]);const t_=ft(l7),a7=Oe({urlList:{type:J(Array),default:()=>ds([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:J(String)}}),u7={close:()=>!0,switch:e=>tt(e),rotate:e=>tt(e)},c7=["src","crossorigin"],d7=j({name:"ElImageViewer"}),h7=j({...d7,props:a7,emits:u7,setup(e,{expose:t,emit:s}){var n;const i=e,o={CONTAIN:{name:"contain",icon:Tl(OB)},ORIGINAL:{name:"original",icon:Tl(qB)}},{t:r}=Ft(),l=we("image-viewer"),{nextZIndex:a}=Yu(),c=L(),h=L([]),d=RL(),p=L(!0),g=L(i.initialIndex),m=ts(o.CONTAIN),f=L({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),C=L((n=i.zIndex)!=null?n:a()),v=R(()=>{const{urlList:B}=i;return B.length<=1}),y=R(()=>g.value===0),w=R(()=>g.value===i.urlList.length-1),b=R(()=>i.urlList[g.value]),T=R(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!i.infinite&&y.value)]),E=R(()=>[l.e("btn"),l.e("next"),l.is("disabled",!i.infinite&&w.value)]),P=R(()=>{const{scale:B,deg:Y,offsetX:Q,offsetY:ee,enableTransition:ce}=f.value;let Ee=Q/B,te=ee/B;switch(Y%360){case 90:case-270:[Ee,te]=[te,-Ee];break;case 180:case-180:[Ee,te]=[-Ee,-te];break;case 270:case-90:[Ee,te]=[-te,Ee];break}const ue={transform:`scale(${B}) rotate(${Y}deg) translate(${Ee}px, ${te}px)`,transition:ce?"transform .3s":""};return m.value.name===o.CONTAIN.name&&(ue.maxWidth=ue.maxHeight="100%"),ue});function A(){x(),s("close")}function N(){const B=Dl(Q=>{switch(Q.code){case Ye.esc:i.closeOnPressEscape&&A();break;case Ye.space:W();break;case Ye.left:I();break;case Ye.up:_("zoomIn");break;case Ye.right:V();break;case Ye.down:_("zoomOut");break}}),Y=Dl(Q=>{const ee=Q.deltaY||Q.deltaX;_(ee<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});d.run(()=>{ls(document,"keydown",B),ls(document,"wheel",Y)})}function x(){d.stop()}function F(){p.value=!1}function G(B){p.value=!1,B.target.alt=r("el.image.error")}function K(B){if(p.value||B.button!==0||!c.value)return;f.value.enableTransition=!1;const{offsetX:Y,offsetY:Q}=f.value,ee=B.pageX,ce=B.pageY,Ee=Dl(ue=>{f.value={...f.value,offsetX:Y+ue.pageX-ee,offsetY:Q+ue.pageY-ce}}),te=ls(document,"mousemove",Ee);ls(document,"mouseup",()=>{te()}),B.preventDefault()}function z(){f.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function W(){if(p.value)return;const B=pu(o),Y=Object.values(o),Q=m.value.name,ce=(Y.findIndex(Ee=>Ee.name===Q)+1)%B.length;m.value=o[B[ce]],z()}function k(B){const Y=i.urlList.length;g.value=(B+Y)%Y}function I(){y.value&&!i.infinite||k(g.value-1)}function V(){w.value&&!i.infinite||k(g.value+1)}function _(B,Y={}){if(p.value)return;const{minScale:Q,maxScale:ee}=i,{zoomRate:ce,rotateDeg:Ee,enableTransition:te}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...Y};switch(B){case"zoomOut":f.value.scale>Q&&(f.value.scale=Number.parseFloat((f.value.scale/ce).toFixed(3)));break;case"zoomIn":f.value.scale<ee&&(f.value.scale=Number.parseFloat((f.value.scale*ce).toFixed(3)));break;case"clockwise":f.value.deg+=Ee,s("rotate",f.value.deg);break;case"anticlockwise":f.value.deg-=Ee,s("rotate",f.value.deg);break}f.value.enableTransition=te}return ve(b,()=>{Xe(()=>{const B=h.value[0];B!=null&&B.complete||(p.value=!0)})}),ve(g,B=>{z(),s("switch",B)}),at(()=>{var B,Y;N(),(Y=(B=c.value)==null?void 0:B.focus)==null||Y.call(B)}),t({setActiveItem:k}),(B,Y)=>(D(),re($u,{to:"body",disabled:!B.teleported},[q(Ls,{name:"viewer-fade",appear:""},{default:Z(()=>[U("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:O(u(l).e("wrapper")),style:je({zIndex:C.value})},[U("div",{class:O(u(l).e("mask")),onClick:Y[0]||(Y[0]=st(Q=>B.hideOnClickModal&&A(),["self"]))},null,2),se(" CLOSE "),U("span",{class:O([u(l).e("btn"),u(l).e("close")]),onClick:A},[q(u(Ue),null,{default:Z(()=>[q(u(zi))]),_:1})],2),se(" ARROW "),u(v)?se("v-if",!0):(D(),$(qe,{key:0},[U("span",{class:O(u(T)),onClick:I},[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1})],2),U("span",{class:O(u(E)),onClick:V},[q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})],2)],64)),se(" ACTIONS "),U("div",{class:O([u(l).e("btn"),u(l).e("actions")])},[U("div",{class:O(u(l).e("actions__inner"))},[q(u(Ue),{onClick:Y[1]||(Y[1]=Q=>_("zoomOut"))},{default:Z(()=>[q(u(d$))]),_:1}),q(u(Ue),{onClick:Y[2]||(Y[2]=Q=>_("zoomIn"))},{default:Z(()=>[q(u(MA))]),_:1}),U("i",{class:O(u(l).e("actions__divider"))},null,2),q(u(Ue),{onClick:W},{default:Z(()=>[(D(),re(Ct(u(m).icon)))]),_:1}),U("i",{class:O(u(l).e("actions__divider"))},null,2),q(u(Ue),{onClick:Y[3]||(Y[3]=Q=>_("anticlockwise"))},{default:Z(()=>[q(u(UB))]),_:1}),q(u(Ue),{onClick:Y[4]||(Y[4]=Q=>_("clockwise"))},{default:Z(()=>[q(u(jB))]),_:1})],2)],2),se(" CANVAS "),U("div",{class:O(u(l).e("canvas"))},[(D(!0),$(qe,null,Dt(B.urlList,(Q,ee)=>lt((D(),$("img",{ref_for:!0,ref:ce=>h.value[ee]=ce,key:Q,src:Q,style:je(u(P)),class:O(u(l).e("img")),crossorigin:B.crossorigin,onLoad:F,onError:G,onMousedown:K},null,46,c7)),[[Lt,ee===g.value]])),128))],2),ae(B.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var p7=_e(h7,[["__file","image-viewer.vue"]]);const s_=ft(p7),f7=Oe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:J([String,Object])},previewSrcList:{type:J(Array),default:()=>ds([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:J(String)}}),g7={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>tt(e),close:()=>!0,show:()=>!0},m7=["src","loading","crossorigin"],v7={key:0},C7=j({name:"ElImage",inheritAttrs:!1}),y7=j({...C7,props:f7,emits:g7,setup(e,{emit:t}){const s=e;let n="";const{t:i}=Ft(),o=we("image"),r=ra(),l=lw(),a=L(),c=L(!1),h=L(!0),d=L(!1),p=L(),g=L(),m=At&&"loading"in HTMLImageElement.prototype;let f,C;const v=R(()=>[o.e("inner"),b.value&&o.e("preview"),h.value&&o.is("loading")]),y=R(()=>r.style),w=R(()=>{const{fit:V}=s;return At&&V?{objectFit:V}:{}}),b=R(()=>{const{previewSrcList:V}=s;return Array.isArray(V)&&V.length>0}),T=R(()=>{const{previewSrcList:V,initialIndex:_}=s;let B=_;return _>V.length-1&&(B=0),B}),E=R(()=>s.loading==="eager"?!1:!m&&s.loading==="lazy"||s.lazy),P=()=>{At&&(h.value=!0,c.value=!1,a.value=s.src)};function A(V){h.value=!1,c.value=!1,t("load",V)}function N(V){h.value=!1,c.value=!0,t("error",V)}function x(){gk(p.value,g.value)&&(P(),K())}const F=FD(x,200,!0);async function G(){var V;if(!At)return;await Xe();const{scrollContainer:_}=s;Ei(_)?g.value=_:rt(_)&&_!==""?g.value=(V=document.querySelector(_))!=null?V:void 0:p.value&&(g.value=Zy(p.value)),g.value&&(f=ls(g,"scroll",F),setTimeout(()=>x(),100))}function K(){!At||!g.value||!F||(f==null||f(),g.value=void 0)}function z(V){if(V.ctrlKey){if(V.deltaY<0)return V.preventDefault(),!1;if(V.deltaY>0)return V.preventDefault(),!1}}function W(){b.value&&(C=ls("wheel",z,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,t("show"))}function k(){C==null||C(),document.body.style.overflow=n,d.value=!1,t("close")}function I(V){t("switch",V)}return ve(()=>s.src,()=>{E.value?(h.value=!0,c.value=!1,K(),G()):P()}),at(()=>{E.value?G():P()}),(V,_)=>(D(),$("div",{ref_key:"container",ref:p,class:O([u(o).b(),V.$attrs.class]),style:je(u(y))},[c.value?ae(V.$slots,"error",{key:0},()=>[U("div",{class:O(u(o).e("error"))},Me(u(i)("el.image.error")),3)]):(D(),$(qe,{key:1},[a.value!==void 0?(D(),$("img",bt({key:0},u(l),{src:a.value,loading:V.loading,style:u(w),class:u(v),crossorigin:V.crossorigin,onClick:W,onLoad:A,onError:N}),null,16,m7)):se("v-if",!0),h.value?(D(),$("div",{key:1,class:O(u(o).e("wrapper"))},[ae(V.$slots,"placeholder",{},()=>[U("div",{class:O(u(o).e("placeholder"))},null,2)])],2)):se("v-if",!0)],64)),u(b)?(D(),$(qe,{key:2},[d.value?(D(),re(u(s_),{key:0,"z-index":V.zIndex,"initial-index":u(T),infinite:V.infinite,"zoom-rate":V.zoomRate,"min-scale":V.minScale,"max-scale":V.maxScale,"url-list":V.previewSrcList,"hide-on-click-modal":V.hideOnClickModal,teleported:V.previewTeleported,"close-on-press-escape":V.closeOnPressEscape,onClose:k,onSwitch:I},{default:Z(()=>[V.$slots.viewer?(D(),$("div",v7,[ae(V.$slots,"viewer")])):se("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):se("v-if",!0)],64)):se("v-if",!0)],6))}});var w7=_e(y7,[["__file","image.vue"]]);const b7=ft(w7),S7=Oe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Us,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||tt(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),E7={[as]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Sn]:e=>tt(e)||Is(e),[vt]:e=>tt(e)||Is(e)},R7=["aria-label","onKeydown"],T7=["aria-label","onKeydown"],D7=j({name:"ElInputNumber"}),A7=j({...D7,props:S7,emits:E7,setup(e,{expose:t,emit:s}){const n=e,{t:i}=Ft(),o=we("input-number"),r=L(),l=Gt({currentValue:n.modelValue,userInput:null}),{formItem:a}=Dn(),c=R(()=>tt(n.modelValue)&&n.modelValue<=n.min),h=R(()=>tt(n.modelValue)&&n.modelValue>=n.max),d=R(()=>{const W=v(n.step);return Ps(n.precision)?Math.max(v(n.modelValue),W):(W>n.precision,n.precision)}),p=R(()=>n.controls&&n.controlsPosition==="right"),g=xs(),m=Wn(),f=R(()=>{if(l.userInput!==null)return l.userInput;let W=l.currentValue;if(Is(W))return"";if(tt(W)){if(Number.isNaN(W))return"";Ps(n.precision)||(W=W.toFixed(n.precision))}return W}),C=(W,k)=>{if(Ps(k)&&(k=d.value),k===0)return Math.round(W);let I=String(W);const V=I.indexOf(".");if(V===-1||!I.replace(".","").split("")[V+k])return W;const Y=I.length;return I.charAt(Y-1)==="5"&&(I=`${I.slice(0,Math.max(0,Y-1))}6`),Number.parseFloat(Number(I).toFixed(k))},v=W=>{if(Is(W))return 0;const k=W.toString(),I=k.indexOf(".");let V=0;return I!==-1&&(V=k.length-I-1),V},y=(W,k=1)=>tt(W)?C(W+n.step*k):l.currentValue,w=()=>{if(n.readonly||m.value||h.value)return;const W=Number(f.value)||0,k=y(W);E(k),s(Sn,l.currentValue),K()},b=()=>{if(n.readonly||m.value||c.value)return;const W=Number(f.value)||0,k=y(W,-1);E(k),s(Sn,l.currentValue),K()},T=(W,k)=>{const{max:I,min:V,step:_,precision:B,stepStrictly:Y,valueOnClear:Q}=n;I<V&&Ns("InputNumber","min should not be greater than max.");let ee=Number(W);if(Is(W)||Number.isNaN(ee))return null;if(W===""){if(Q===null)return null;ee=rt(Q)?{min:V,max:I}[Q]:Q}return Y&&(ee=C(Math.round(ee/_)*_,B)),Ps(B)||(ee=C(ee,B)),(ee>I||ee<V)&&(ee=ee>I?I:V,k&&s(vt,ee)),ee},E=(W,k=!0)=>{var I;const V=l.currentValue,_=T(W);if(!k){s(vt,_);return}V===_&&W||(l.userInput=null,s(vt,_),V!==_&&s(as,_,V),n.validateEvent&&((I=a==null?void 0:a.validate)==null||I.call(a,"change").catch(B=>void 0)),l.currentValue=_)},P=W=>{l.userInput=W;const k=W===""?null:Number(W);s(Sn,k),E(k,!1)},A=W=>{const k=W!==""?Number(W):"";(tt(k)&&!Number.isNaN(k)||W==="")&&E(k),K(),l.userInput=null},N=()=>{var W,k;(k=(W=r.value)==null?void 0:W.focus)==null||k.call(W)},x=()=>{var W,k;(k=(W=r.value)==null?void 0:W.blur)==null||k.call(W)},F=W=>{s("focus",W)},G=W=>{var k;l.userInput=null,s("blur",W),n.validateEvent&&((k=a==null?void 0:a.validate)==null||k.call(a,"blur").catch(I=>void 0))},K=()=>{l.currentValue!==n.modelValue&&(l.currentValue=n.modelValue)},z=W=>{document.activeElement===W.target&&W.preventDefault()};return ve(()=>n.modelValue,(W,k)=>{const I=T(W,!0);l.userInput===null&&I!==k&&(l.currentValue=I)},{immediate:!0}),at(()=>{var W;const{min:k,max:I,modelValue:V}=n,_=(W=r.value)==null?void 0:W.input;if(_.setAttribute("role","spinbutton"),Number.isFinite(I)?_.setAttribute("aria-valuemax",String(I)):_.removeAttribute("aria-valuemax"),Number.isFinite(k)?_.setAttribute("aria-valuemin",String(k)):_.removeAttribute("aria-valuemin"),_.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),_.setAttribute("aria-disabled",String(m.value)),!tt(V)&&V!=null){let B=Number(V);Number.isNaN(B)&&(B=null),s(vt,B)}}),Xo(()=>{var W,k;const I=(W=r.value)==null?void 0:W.input;I==null||I.setAttribute("aria-valuenow",`${(k=l.currentValue)!=null?k:""}`)}),t({focus:N,blur:x}),(W,k)=>(D(),$("div",{class:O([u(o).b(),u(o).m(u(g)),u(o).is("disabled",u(m)),u(o).is("without-controls",!W.controls),u(o).is("controls-right",u(p))]),onDragstart:k[0]||(k[0]=st(()=>{},["prevent"]))},[W.controls?lt((D(),$("span",{key:0,role:"button","aria-label":u(i)("el.inputNumber.decrease"),class:O([u(o).e("decrease"),u(o).is("disabled",u(c))]),onKeydown:Ut(b,["enter"])},[ae(W.$slots,"decrease-icon",{},()=>[q(u(Ue),null,{default:Z(()=>[u(p)?(D(),re(u(Jo),{key:0})):(D(),re(u(NB),{key:1}))]),_:1})])],42,R7)),[[u(ff),b]]):se("v-if",!0),W.controls?lt((D(),$("span",{key:1,role:"button","aria-label":u(i)("el.inputNumber.increase"),class:O([u(o).e("increase"),u(o).is("disabled",u(h))]),onKeydown:Ut(w,["enter"])},[ae(W.$slots,"increase-icon",{},()=>[q(u(Ue),null,{default:Z(()=>[u(p)?(D(),re(u(Jy),{key:0})):(D(),re(u(OA),{key:1}))]),_:1})])],42,T7)),[[u(ff),w]]):se("v-if",!0),q(u(an),{id:W.id,ref_key:"input",ref:r,type:"number",step:W.step,"model-value":u(f),placeholder:W.placeholder,readonly:W.readonly,disabled:u(m),size:u(g),max:W.max,min:W.min,name:W.name,label:W.label,"validate-event":!1,onWheel:z,onKeydown:[Ut(st(w,["prevent"]),["up"]),Ut(st(b,["prevent"]),["down"])],onBlur:G,onFocus:F,onInput:P,onChange:A},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var P7=_e(A7,[["__file","input-number.vue"]]);const n_=ft(P7),O7=Oe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Kt}}),_7={click:e=>e instanceof MouseEvent},M7=["href","target"],I7=j({name:"ElLink"}),F7=j({...I7,props:O7,emits:_7,setup(e,{emit:t}){const s=e,n=we("link"),i=R(()=>[n.b(),n.m(s.type),n.is("disabled",s.disabled),n.is("underline",s.underline&&!s.disabled)]);function o(r){s.disabled||t("click",r)}return(r,l)=>(D(),$("a",{class:O(u(i)),href:r.disabled||!r.href?void 0:r.href,target:r.disabled||!r.href?void 0:r.target,onClick:o},[r.icon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(r.icon)))]),_:1})):se("v-if",!0),r.$slots.default?(D(),$("span",{key:1,class:O(u(n).e("inner"))},[ae(r.$slots,"default")],2)):se("v-if",!0),r.$slots.icon?ae(r.$slots,"icon",{key:2}):se("v-if",!0)],10,M7))}});var L7=_e(F7,[["__file","link.vue"]]);const N7=ft(L7);let x7=class{constructor(t,s){this.parent=t,this.domNode=s,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,s=>{s.addEventListener("keydown",n=>{let i=!1;switch(n.code){case Ye.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Ye.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Ye.tab:{gp(t,"mouseleave");break}case Ye.enter:case Ye.space:{i=!0,n.currentTarget.click();break}}return i&&(n.preventDefault(),n.stopPropagation()),!1})})}},k7=class{constructor(t,s){this.domNode=t,this.submenu=null,this.submenu=null,this.init(s)}init(t){this.domNode.setAttribute("tabindex","0");const s=this.domNode.querySelector(`.${t}-menu`);s&&(this.submenu=new x7(this,s)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let s=!1;switch(t.code){case Ye.down:{gp(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),s=!0;break}case Ye.up:{gp(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),s=!0;break}case Ye.tab:{gp(t.currentTarget,"mouseleave");break}case Ye.enter:case Ye.space:{s=!0,t.currentTarget.click();break}}s&&t.preventDefault()})}},G7=class{constructor(t,s){this.domNode=t,this.init(s)}init(t){const s=this.domNode.childNodes;Array.from(s).forEach(n=>{n.nodeType===1&&new k7(n,t)})}};const V7=j({name:"ElMenuCollapseTransition",setup(){const e=we("menu");return{listeners:{onBeforeEnter:s=>s.style.opacity="0.2",onEnter(s,n){pi(s,`${e.namespace.value}-opacity-transition`),s.style.opacity="1",n()},onAfterEnter(s){cn(s,`${e.namespace.value}-opacity-transition`),s.style.opacity=""},onBeforeLeave(s){s.dataset||(s.dataset={}),vi(s,e.m("collapse"))?(cn(s,e.m("collapse")),s.dataset.oldOverflow=s.style.overflow,s.dataset.scrollWidth=s.clientWidth.toString(),pi(s,e.m("collapse"))):(pi(s,e.m("collapse")),s.dataset.oldOverflow=s.style.overflow,s.dataset.scrollWidth=s.clientWidth.toString(),cn(s,e.m("collapse"))),s.style.width=`${s.scrollWidth}px`,s.style.overflow="hidden"},onLeave(s){pi(s,"horizontal-collapse-transition"),s.style.width=`${s.dataset.scrollWidth}px`}}}}});function H7(e,t,s,n,i,o){return D(),re(Ls,bt({mode:"out-in"},e.listeners),{default:Z(()=>[ae(e.$slots,"default")]),_:3},16)}var B7=_e(V7,[["render",H7],["__file","menu-collapse-transition.vue"]]);function i_(e,t){const s=R(()=>{let i=e.parent;const o=[t.value];for(;i.type.name!=="ElMenu";)i.props.index&&o.unshift(i.props.index),i=i.parent;return o});return{parentMenu:R(()=>{let i=e.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:s}}function $7(e){return R(()=>{const s=e.backgroundColor;return s?new xP(s).shade(20).toString():""})}const o_=(e,t)=>{const s=we("menu");return R(()=>s.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":$7(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},W7=Oe({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Kt},expandOpenIcon:{type:Kt},collapseCloseIcon:{type:Kt},collapseOpenIcon:{type:Kt}}),Bm="ElSubMenu";var zw=j({name:Bm,props:W7,setup(e,{slots:t,expose:s}){const n=ct(),{indexPath:i,parentMenu:o}=i_(n,R(()=>e.index)),r=we("menu"),l=we("sub-menu"),a=Be("rootMenu");a||Ns(Bm,"can not inject root menu");const c=Be(`subMenu:${o.value.uid}`);c||Ns(Bm,"can not inject sub menu");const h=L({}),d=L({});let p;const g=L(!1),m=L(),f=L(null),C=R(()=>A.value==="horizontal"&&y.value?"bottom-start":"right-start"),v=R(()=>A.value==="horizontal"&&y.value||A.value==="vertical"&&!a.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?E.value?e.expandOpenIcon:e.expandCloseIcon:Jo:e.collapseCloseIcon&&e.collapseOpenIcon?E.value?e.collapseOpenIcon:e.collapseCloseIcon:bn),y=R(()=>c.level===0),w=R(()=>{const B=e.teleported;return B===void 0?y.value:B}),b=R(()=>a.props.collapse?`${r.namespace.value}-zoom-in-left`:`${r.namespace.value}-zoom-in-top`),T=R(()=>A.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),E=R(()=>a.openedMenus.includes(e.index)),P=R(()=>{let B=!1;return Object.values(h.value).forEach(Y=>{Y.active&&(B=!0)}),Object.values(d.value).forEach(Y=>{Y.active&&(B=!0)}),B}),A=R(()=>a.props.mode),N=Gt({index:e.index,indexPath:i,active:P}),x=o_(a.props,c.level+1),F=R(()=>{var B;return(B=e.popperOffset)!=null?B:a.props.popperOffset}),G=R(()=>{var B;return(B=e.popperClass)!=null?B:a.props.popperClass}),K=R(()=>{var B;return(B=e.showTimeout)!=null?B:a.props.showTimeout}),z=R(()=>{var B;return(B=e.hideTimeout)!=null?B:a.props.hideTimeout}),W=()=>{var B,Y,Q;return(Q=(Y=(B=f.value)==null?void 0:B.popperRef)==null?void 0:Y.popperInstanceRef)==null?void 0:Q.destroy()},k=B=>{B||W()},I=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||e.disabled||a.handleSubMenuClick({index:e.index,indexPath:i.value,active:P.value})},V=(B,Y=K.value)=>{var Q;if(B.type!=="focus"){if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||e.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,p==null||p(),{stop:p}=Vl(()=>{a.openMenu(e.index,i.value)},Y),w.value&&((Q=o.value.vnode.el)==null||Q.dispatchEvent(new MouseEvent("mouseenter")))}},_=(B=!1)=>{var Y;if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"){c.mouseInChild.value=!1;return}p==null||p(),c.mouseInChild.value=!1,{stop:p}=Vl(()=>!g.value&&a.closeMenu(e.index,i.value),z.value),w.value&&B&&((Y=c.handleMouseleave)==null||Y.call(c,!0))};ve(()=>a.props.collapse,B=>k(!!B));{const B=Q=>{d.value[Q.index]=Q},Y=Q=>{delete d.value[Q.index]};Et(`subMenu:${n.uid}`,{addSubMenu:B,removeSubMenu:Y,handleMouseleave:_,mouseInChild:g,level:c.level+1})}return s({opened:E}),at(()=>{a.addSubMenu(N),c.addSubMenu(N)}),Jt(()=>{c.removeSubMenu(N),a.removeSubMenu(N)}),()=>{var B;const Y=[(B=t.title)==null?void 0:B.call(t),Qe(Ue,{class:l.e("icon-arrow"),style:{transform:E.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>rt(v.value)?Qe(n.appContext.components[v.value]):Qe(v.value)})],Q=a.isMenuPopup?Qe(hn,{ref:f,visible:E.value,effect:"light",pure:!0,offset:F.value,showArrow:!1,persistent:!0,popperClass:G.value,placement:C.value,teleported:w.value,fallbackPlacements:T.value,transition:b.value,gpuAcceleration:!1},{content:()=>{var ee;return Qe("div",{class:[r.m(A.value),r.m("popup-container"),G.value],onMouseenter:ce=>V(ce,100),onMouseleave:()=>_(!0),onFocus:ce=>V(ce,100)},[Qe("ul",{class:[r.b(),r.m("popup"),r.m(`popup-${C.value}`)],style:x.value},[(ee=t.default)==null?void 0:ee.call(t)])])},default:()=>Qe("div",{class:l.e("title"),onClick:I},Y)}):Qe(qe,{},[Qe("div",{class:l.e("title"),ref:m,onClick:I},Y),Qe(Dg,{},{default:()=>{var ee;return lt(Qe("ul",{role:"menu",class:[r.b(),r.m("inline")],style:x.value},[(ee=t.default)==null?void 0:ee.call(t)]),[[Lt,E.value]])}})]);return Qe("li",{class:[l.b(),l.is("active",P.value),l.is("opened",E.value),l.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:E.value,onMouseenter:V,onMouseleave:()=>_(),onFocus:V},[Q])}}});const z7=Oe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:J(Array),default:()=>ds([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Kt,default:()=>GB},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),$m=e=>Array.isArray(e)&&e.every(t=>rt(t)),U7={close:(e,t)=>rt(e)&&$m(t),open:(e,t)=>rt(e)&&$m(t),select:(e,t,s,n)=>rt(e)&&$m(t)&&yt(s)&&(n===void 0||n instanceof Promise)};var K7=j({name:"ElMenu",props:z7,emits:U7,setup(e,{emit:t,slots:s,expose:n}){const i=ct(),o=i.appContext.config.globalProperties.$router,r=L(),l=we("menu"),a=we("sub-menu"),c=L(-1),h=L(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),d=L(e.defaultActive),p=L({}),g=L({}),m=R(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),f=()=>{const z=d.value&&p.value[d.value];if(!z||e.mode==="horizontal"||e.collapse)return;z.indexPath.forEach(k=>{const I=g.value[k];I&&C(k,I.indexPath)})},C=(z,W)=>{h.value.includes(z)||(e.uniqueOpened&&(h.value=h.value.filter(k=>W.includes(k))),h.value.push(z),t("open",z,W))},v=z=>{const W=h.value.indexOf(z);W!==-1&&h.value.splice(W,1)},y=(z,W)=>{v(z),t("close",z,W)},w=({index:z,indexPath:W})=>{h.value.includes(z)?y(z,W):C(z,W)},b=z=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:W,indexPath:k}=z;if(!(Is(W)||Is(k)))if(e.router&&o){const I=z.route||W,V=o.push(I).then(_=>(_||(d.value=W),_));t("select",W,k,{index:W,indexPath:k,route:I},V)}else d.value=W,t("select",W,k,{index:W,indexPath:k})},T=z=>{const W=p.value,k=W[z]||d.value&&W[d.value]||W[e.defaultActive];k?d.value=k.index:d.value=z},E=z=>{const W=getComputedStyle(z),k=Number.parseInt(W.marginLeft,10),I=Number.parseInt(W.marginRight,10);return z.offsetWidth+k+I||0},P=()=>{var z,W;if(!r.value)return-1;const k=Array.from((W=(z=r.value)==null?void 0:z.childNodes)!=null?W:[]).filter(ce=>ce.nodeName!=="#comment"&&(ce.nodeName!=="#text"||ce.nodeValue)),I=64,V=getComputedStyle(r.value),_=Number.parseInt(V.paddingLeft,10),B=Number.parseInt(V.paddingRight,10),Y=r.value.clientWidth-_-B;let Q=0,ee=0;return k.forEach((ce,Ee)=>{Q+=E(ce),Q<=Y-I&&(ee=Ee+1)}),ee===k.length?-1:ee},A=z=>g.value[z].indexPath,N=(z,W=33.34)=>{let k;return()=>{k&&clearTimeout(k),k=setTimeout(()=>{z()},W)}};let x=!0;const F=()=>{if(c.value===P())return;const z=()=>{c.value=-1,Xe(()=>{c.value=P()})};x?z():N(z)(),x=!1};ve(()=>e.defaultActive,z=>{p.value[z]||(d.value=""),T(z)}),ve(()=>e.collapse,z=>{z&&(h.value=[])}),ve(p.value,f);let G;sn(()=>{e.mode==="horizontal"&&e.ellipsis?G=fs(r,F).stop:G==null||G()});const K=L(!1);{const z=V=>{g.value[V.index]=V},W=V=>{delete g.value[V.index]};Et("rootMenu",Gt({props:e,openedMenus:h,items:p,subMenus:g,activeIndex:d,isMenuPopup:m,addMenuItem:V=>{p.value[V.index]=V},removeMenuItem:V=>{delete p.value[V.index]},addSubMenu:z,removeSubMenu:W,openMenu:C,closeMenu:y,handleMenuItemClick:b,handleSubMenuClick:w})),Et(`subMenu:${i.uid}`,{addSubMenu:z,removeSubMenu:W,mouseInChild:K,level:0})}return at(()=>{e.mode==="horizontal"&&new G7(i.vnode.el,l.namespace.value)}),n({open:W=>{const{indexPath:k}=g.value[W];k.forEach(I=>C(I,k))},close:v,handleResize:F}),()=>{var z,W;let k=(W=(z=s.default)==null?void 0:z.call(s))!=null?W:[];const I=[];if(e.mode==="horizontal"&&r.value){const Y=Or(k),Q=c.value===-1?Y:Y.slice(0,c.value),ee=c.value===-1?[]:Y.slice(c.value);ee!=null&&ee.length&&e.ellipsis&&(k=Q,I.push(Qe(zw,{index:"sub-menu-more",class:a.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>Qe(Ue,{class:a.e("icon-more")},{default:()=>Qe(e.ellipsisIcon)}),default:()=>ee})))}const V=o_(e,0),_=e.closeOnClickOutside?[[Uo,()=>{h.value.length&&(K.value||(h.value.forEach(Y=>t("close",Y,A(Y))),h.value=[]))}]]:[],B=lt(Qe("ul",{key:String(e.collapse),role:"menubar",ref:r,style:V.value,class:{[l.b()]:!0,[l.m(e.mode)]:!0,[l.m("collapse")]:e.collapse}},[...k,...I]),_);return e.collapseTransition&&e.mode==="vertical"?Qe(B7,()=>B):B}}});const j7=Oe({index:{type:J([String,null]),default:null},route:{type:J([String,Object])},disabled:Boolean}),Y7={click:e=>rt(e.index)&&Array.isArray(e.indexPath)},Wm="ElMenuItem",q7=j({name:Wm,components:{ElTooltip:hn},props:j7,emits:Y7,setup(e,{emit:t}){const s=ct(),n=Be("rootMenu"),i=we("menu"),o=we("menu-item");n||Ns(Wm,"can not inject root menu");const{parentMenu:r,indexPath:l}=i_(s,Yt(e,"index")),a=Be(`subMenu:${r.value.uid}`);a||Ns(Wm,"can not inject sub menu");const c=R(()=>e.index===n.activeIndex),h=Gt({index:e.index,indexPath:l,active:c}),d=()=>{e.disabled||(n.handleMenuItemClick({index:e.index,indexPath:l.value,route:e.route}),t("click",h))};return at(()=>{a.addSubMenu(h),n.addMenuItem(h)}),Jt(()=>{a.removeSubMenu(h),n.removeMenuItem(h)}),{parentMenu:r,rootMenu:n,active:c,nsMenu:i,nsMenuItem:o,handleClick:d}}});function X7(e,t,s,n,i,o){const r=pt("el-tooltip");return D(),$("li",{class:O([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(D(),re(r,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Z(()=>[ae(e.$slots,"title")]),default:Z(()=>[U("div",{class:O(e.nsMenu.be("tooltip","trigger"))},[ae(e.$slots,"default")],2)]),_:3},8,["effect"])):(D(),$(qe,{key:1},[ae(e.$slots,"default"),ae(e.$slots,"title")],64))],2)}var r_=_e(q7,[["render",X7],["__file","menu-item.vue"]]);const Q7={title:String},Z7="ElMenuItemGroup",J7=j({name:Z7,props:Q7,setup(){return{ns:we("menu-item-group")}}});function eX(e,t,s,n,i,o){return D(),$("li",{class:O(e.ns.b())},[U("div",{class:O(e.ns.e("title"))},[e.$slots.title?ae(e.$slots,"title",{key:1}):(D(),$(qe,{key:0},[_t(Me(e.title),1)],64))],2),U("ul",null,[ae(e.$slots,"default")])],2)}var l_=_e(J7,[["render",eX],["__file","menu-item-group.vue"]]);const tX=ft(K7,{MenuItem:r_,MenuItemGroup:l_,SubMenu:zw}),sX=hs(r_),nX=hs(l_),iX=hs(zw),oX=Oe({icon:{type:Kt,default:()=>aB},title:String,content:{type:String,default:""}}),rX={back:()=>!0},lX=["aria-label"],aX=j({name:"ElPageHeader"}),uX=j({...aX,props:oX,emits:rX,setup(e,{emit:t}){const s=Ys(),{t:n}=Ft(),i=we("page-header"),o=R(()=>[i.b(),{[i.m("has-breadcrumb")]:!!s.breadcrumb,[i.m("has-extra")]:!!s.extra,[i.is("contentful")]:!!s.default}]);function r(){t("back")}return(l,a)=>(D(),$("div",{class:O(u(o))},[l.$slots.breadcrumb?(D(),$("div",{key:0,class:O(u(i).e("breadcrumb"))},[ae(l.$slots,"breadcrumb")],2)):se("v-if",!0),U("div",{class:O(u(i).e("header"))},[U("div",{class:O(u(i).e("left"))},[U("div",{class:O(u(i).e("back")),role:"button",tabindex:"0",onClick:r},[l.icon||l.$slots.icon?(D(),$("div",{key:0,"aria-label":l.title||u(n)("el.pageHeader.title"),class:O(u(i).e("icon"))},[ae(l.$slots,"icon",{},()=>[l.icon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(l.icon)))]),_:1})):se("v-if",!0)])],10,lX)):se("v-if",!0),U("div",{class:O(u(i).e("title"))},[ae(l.$slots,"title",{},()=>[_t(Me(l.title||u(n)("el.pageHeader.title")),1)])],2)],2),q(u(KO),{direction:"vertical"}),U("div",{class:O(u(i).e("content"))},[ae(l.$slots,"content",{},()=>[_t(Me(l.content),1)])],2)],2),l.$slots.extra?(D(),$("div",{key:0,class:O(u(i).e("extra"))},[ae(l.$slots,"extra")],2)):se("v-if",!0)],2),l.$slots.default?(D(),$("div",{key:1,class:O(u(i).e("main"))},[ae(l.$slots,"default")],2)):se("v-if",!0)],2))}});var cX=_e(uX,[["__file","page-header.vue"]]);const dX=ft(cX),a_=Symbol("elPaginationKey"),hX=Oe({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Kt}}),pX={click:e=>e instanceof MouseEvent},fX=["disabled","aria-label","aria-disabled"],gX={key:0},mX=j({name:"ElPaginationPrev"}),vX=j({...mX,props:hX,emits:pX,setup(e){const t=e,{t:s}=Ft(),n=R(()=>t.disabled||t.currentPage<=1);return(i,o)=>(D(),$("button",{type:"button",class:"btn-prev",disabled:u(n),"aria-label":i.prevText||u(s)("el.pagination.prev"),"aria-disabled":u(n),onClick:o[0]||(o[0]=r=>i.$emit("click",r))},[i.prevText?(D(),$("span",gX,Me(i.prevText),1)):(D(),re(u(Ue),{key:1},{default:Z(()=>[(D(),re(Ct(i.prevIcon)))]),_:1}))],8,fX))}});var CX=_e(vX,[["__file","prev.vue"]]);const yX=Oe({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Kt}}),wX=["disabled","aria-label","aria-disabled"],bX={key:0},SX=j({name:"ElPaginationNext"}),EX=j({...SX,props:yX,emits:["click"],setup(e){const t=e,{t:s}=Ft(),n=R(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(i,o)=>(D(),$("button",{type:"button",class:"btn-next",disabled:u(n),"aria-label":i.nextText||u(s)("el.pagination.next"),"aria-disabled":u(n),onClick:o[0]||(o[0]=r=>i.$emit("click",r))},[i.nextText?(D(),$("span",bX,Me(i.nextText),1)):(D(),re(u(Ue),{key:1},{default:Z(()=>[(D(),re(Ct(i.nextIcon)))]),_:1}))],8,wX))}});var RX=_e(EX,[["__file","next.vue"]]);const u_=Symbol("ElSelectGroup"),ch=Symbol("ElSelect");function TX(e,t){const s=Be(ch),n=Be(u_,{disabled:!1}),i=R(()=>s.props.multiple?h(s.props.modelValue,e.value):h([s.props.modelValue],e.value)),o=R(()=>{if(s.props.multiple){const g=s.props.modelValue||[];return!i.value&&g.length>=s.props.multipleLimit&&s.props.multipleLimit>0}else return!1}),r=R(()=>e.label||(yt(e.value)?"":e.value)),l=R(()=>e.value||e.label||""),a=R(()=>e.disabled||t.groupDisabled||o.value),c=ct(),h=(g=[],m)=>{if(yt(e.value)){const f=s.props.valueKey;return g&&g.some(C=>zt(Ss(C,f))===Ss(m,f))}else return g&&g.includes(m)},d=()=>{!e.disabled&&!n.disabled&&(s.states.hoveringIndex=s.optionsArray.indexOf(c.proxy))},p=g=>{const m=new RegExp(Qy(g),"i");t.visible=m.test(r.value)||e.created};return ve(()=>r.value,()=>{!e.created&&!s.props.remote&&s.setSelected()}),ve(()=>e.value,(g,m)=>{const{remote:f,valueKey:C}=s.props;if(un(g,m)||(s.onOptionDestroy(m,c.proxy),s.onOptionCreate(c.proxy)),!e.created&&!f){if(C&&yt(g)&&yt(m)&&g[C]===m[C])return;s.setSelected()}}),ve(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0}),{select:s,currentLabel:r,currentValue:l,itemSelected:i,isDisabled:a,hoverItem:d,updateOption:p}}const DX=j({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=we("select"),s=dn(),n=R(()=>[t.be("dropdown","item"),t.is("disabled",u(l)),t.is("selected",u(r)),t.is("hovering",u(p))]),i=Gt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:r,isDisabled:l,select:a,hoverItem:c,updateOption:h}=TX(e,i),{visible:d,hover:p}=Zs(i),g=ct().proxy;a.onOptionCreate(g),Jt(()=>{const f=g.value,{selected:C}=a.states,y=(a.props.multiple?C:[C]).some(w=>w.value===g.value);Xe(()=>{a.states.cachedOptions.get(f)===g&&!y&&a.states.cachedOptions.delete(f)}),a.onOptionDestroy(f,g)});function m(){e.disabled!==!0&&i.groupDisabled!==!0&&a.handleOptionSelect(g)}return{ns:t,id:s,containerKls:n,currentLabel:o,itemSelected:r,isDisabled:l,select:a,hoverItem:c,updateOption:h,visible:d,hover:p,selectOptionClick:m,states:i}}}),AX=["id","aria-disabled","aria-selected"];function PX(e,t,s,n,i,o){return lt((D(),$("li",{id:e.id,class:O(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=st((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[ae(e.$slots,"default",{},()=>[U("span",null,Me(e.currentLabel),1)])],42,AX)),[[Lt,e.visible]])}var Uw=_e(DX,[["render",PX],["__file","option.vue"]]);const OX=j({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Be(ch),t=we("select"),s=R(()=>e.props.popperClass),n=R(()=>e.props.multiple),i=R(()=>e.props.fitInputWidth),o=L("");function r(){var l;o.value=`${(l=e.selectRef)==null?void 0:l.offsetWidth}px`}return at(()=>{r(),fs(e.selectRef,r)}),{ns:t,minWidth:o,popperClass:s,isMultiple:n,isFitInputWidth:i}}});function _X(e,t,s,n,i,o){return D(),$("div",{class:O([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:je({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(D(),$("div",{key:0,class:O(e.ns.be("dropdown","header"))},[ae(e.$slots,"header")],2)):se("v-if",!0),ae(e.$slots,"default"),e.$slots.footer?(D(),$("div",{key:1,class:O(e.ns.be("dropdown","footer"))},[ae(e.$slots,"footer")],2)):se("v-if",!0)],6)}var MX=_e(OX,[["render",_X],["__file","select-dropdown.vue"]]);function c_(e){const t=L(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:o=>{const r=o.target.value,l=r[r.length-1]||"";t.value=!rw(l)},handleCompositionEnd:o=>{t.value&&(t.value=!1,nt(e)&&e(o))}}}const IX=11,FX=(e,t)=>{const{t:s}=Ft(),n=dn(),i=we("select"),o=we("input"),r=Gt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:e.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),l=L(null),a=L(null),c=L(null),h=L(null),d=L(null),p=L(null),g=L(null),m=L(null),f=L(null),C=L(null),v=L(null),y=L(null),{wrapperRef:w,isFocused:b,handleFocus:T,handleBlur:E}=wg(d,{afterFocus(){e.automaticDropdown&&!P.value&&(P.value=!0,r.menuVisibleOnFocus=!0)},beforeBlur(xe){var it,is;return((it=c.value)==null?void 0:it.isFocusInsideContent(xe))||((is=h.value)==null?void 0:is.isFocusInsideContent(xe))},afterBlur(){P.value=!1,r.menuVisibleOnFocus=!1}}),P=L(!1),A=L(),{form:N,formItem:x}=Dn(),{inputId:F}=To(e,{formItemContext:x}),G=R(()=>e.disabled||(N==null?void 0:N.disabled)),K=R(()=>ee.value.some(xe=>xe.value==="")),z=R(()=>e.multiple?ke(e.modelValue)&&e.modelValue.length>0:!Is(e.modelValue)&&(e.modelValue!==""||K.value)),W=R(()=>e.clearable&&!G.value&&r.inputHovering&&z.value),k=R(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),I=R(()=>i.is("reverse",k.value&&P.value)),V=R(()=>(x==null?void 0:x.validateState)||""),_=R(()=>ow[V.value]),B=R(()=>e.remote?300:0),Y=R(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&!r.inputValue&&r.options.size===0?!1:e.filterable&&r.inputValue&&r.options.size>0&&Q.value===0?e.noMatchText||s("el.select.noMatch"):r.options.size===0?e.noDataText||s("el.select.noData"):null),Q=R(()=>ee.value.filter(xe=>xe.visible).length),ee=R(()=>{const xe=Array.from(r.options.values()),it=[];return r.optionValues.forEach(is=>{const As=xe.findIndex(Zi=>Zi.value===is);As>-1&&it.push(xe[As])}),it.length>=xe.length?it:xe}),ce=R(()=>Array.from(r.cachedOptions.values())),Ee=R(()=>{const xe=ee.value.filter(it=>!it.created).some(it=>it.currentLabel===r.inputValue);return e.filterable&&e.allowCreate&&r.inputValue!==""&&!xe}),te=()=>{e.filterable&&nt(e.filterMethod)||e.filterable&&e.remote&&nt(e.remoteMethod)||ee.value.forEach(xe=>{var it;(it=xe.updateOption)==null||it.call(xe,r.inputValue)})},ue=xs(),le=R(()=>["small"].includes(ue.value)?"small":"default"),Fe=R({get(){return P.value&&Y.value!==!1},set(xe){P.value=xe}}),pe=R(()=>ke(e.modelValue)?e.modelValue.length===0&&!r.inputValue:e.filterable?!r.inputValue:!0),be=R(()=>{var xe;const it=(xe=e.placeholder)!=null?xe:s("el.select.placeholder");return e.multiple||!z.value?it:r.selectedLabel});ve(()=>e.modelValue,(xe,it)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(r.inputValue="",Le("")),ie(),!un(xe,it)&&e.validateEvent&&(x==null||x.validate("change").catch(is=>void 0))},{flush:"post",deep:!0}),ve(()=>P.value,xe=>{xe?Le(r.inputValue):(r.inputValue="",r.previousQuery=null,r.isBeforeHide=!0),t("visible-change",xe)}),ve(()=>r.options.entries(),()=>{var xe;if(!At)return;const it=((xe=l.value)==null?void 0:xe.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!Ps(e.modelValue)||!Array.from(it).includes(document.activeElement))&&ie(),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value&&X()},{flush:"post"}),ve(()=>r.hoveringIndex,xe=>{tt(xe)&&xe>-1?A.value=ee.value[xe]||{}:A.value={},ee.value.forEach(it=>{it.hover=A.value===it})}),sn(()=>{r.isBeforeHide||te()});const Le=xe=>{r.previousQuery!==xe&&(r.previousQuery=xe,e.filterable&&nt(e.filterMethod)?e.filterMethod(xe):e.filterable&&e.remote&&nt(e.remoteMethod)&&e.remoteMethod(xe),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value?Xe(X):Xe(Re))},X=()=>{const xe=ee.value.filter(As=>As.visible&&!As.disabled&&!As.states.groupDisabled),it=xe.find(As=>As.created),is=xe[0];r.hoveringIndex=me(ee.value,it||is)},ie=()=>{if(e.multiple)r.selectedLabel="";else{const it=Ce(e.modelValue);r.selectedLabel=it.currentLabel,r.selected=it;return}const xe=[];ke(e.modelValue)&&e.modelValue.forEach(it=>{xe.push(Ce(it))}),r.selected=xe},Ce=xe=>{let it;const is=up(xe).toLowerCase()==="object",As=up(xe).toLowerCase()==="null",Zi=up(xe).toLowerCase()==="undefined";for(let _o=r.cachedOptions.size-1;_o>=0;_o--){const Mn=ce.value[_o];if(is?Ss(Mn.value,e.valueKey)===Ss(xe,e.valueKey):Mn.value===xe){it={value:xe,currentLabel:Mn.currentLabel,isDisabled:Mn.isDisabled};break}}if(it)return it;const Oo=is?xe.label:!As&&!Zi?xe:"";return{value:xe,currentLabel:Oo}},Re=()=>{e.multiple?r.hoveringIndex=ee.value.findIndex(xe=>r.selected.some(it=>Po(it)===Po(xe))):r.hoveringIndex=ee.value.findIndex(xe=>Po(xe)===Po(r.selected))},he=()=>{r.selectionWidth=a.value.getBoundingClientRect().width},Se=()=>{r.calculatorWidth=p.value.getBoundingClientRect().width},Te=()=>{r.collapseItemWidth=v.value.getBoundingClientRect().width},De=()=>{var xe,it;(it=(xe=c.value)==null?void 0:xe.updatePopper)==null||it.call(xe)},ye=()=>{var xe,it;(it=(xe=h.value)==null?void 0:xe.updatePopper)==null||it.call(xe)},Ae=()=>{r.inputValue.length>0&&!P.value&&(P.value=!0),Le(r.inputValue)},Ve=xe=>{if(r.inputValue=xe.target.value,e.remote)Ke();else return Ae()},Ke=$n(()=>{Ae()},B.value),ge=xe=>{un(e.modelValue,xe)||t(as,xe)},$e=xe=>bA(xe,it=>!r.disabledOptions.has(it)),et=xe=>{if(e.multiple&&xe.code!==Ye.delete&&xe.target.value.length<=0){const it=e.modelValue.slice(),is=$e(it);if(is<0)return;it.splice(is,1),t(vt,it),ge(it)}},dt=(xe,it)=>{const is=r.selected.indexOf(it);if(is>-1&&!G.value){const As=e.modelValue.slice();As.splice(is,1),t(vt,As),ge(As),t("remove-tag",it.value)}xe.stopPropagation(),Qt()},wt=xe=>{xe.stopPropagation();const it=e.multiple?[]:void 0;if(e.multiple)for(const is of r.selected)is.isDisabled&&it.push(is.value);t(vt,it),ge(it),r.hoveringIndex=-1,P.value=!1,t("clear"),Qt()},Je=xe=>{if(e.multiple){const it=(e.modelValue||[]).slice(),is=me(it,xe.value);is>-1?it.splice(is,1):(e.multipleLimit<=0||it.length<e.multipleLimit)&&it.push(xe.value),t(vt,it),ge(it),xe.created&&Le(""),e.filterable&&!e.reserveKeyword&&(r.inputValue="")}else t(vt,xe.value),ge(xe.value),P.value=!1;Qt(),!P.value&&Xe(()=>{Ie(xe)})},me=(xe=[],it)=>{if(!yt(it))return xe.indexOf(it);const is=e.valueKey;let As=-1;return xe.some((Zi,Oo)=>zt(Ss(Zi,is))===Ss(it,is)?(As=Oo,!0):!1),As},Ie=xe=>{var it,is,As,Zi,Oo;const Pa=ke(xe)?xe[0]:xe;let _o=null;if(Pa!=null&&Pa.value){const Mn=ee.value.filter(Fh=>Fh.value===Pa.value);Mn.length>0&&(_o=Mn[0].$el)}if(c.value&&_o){const Mn=(Zi=(As=(is=(it=c.value)==null?void 0:it.popperRef)==null?void 0:is.contentRef)==null?void 0:As.querySelector)==null?void 0:Zi.call(As,`.${i.be("dropdown","wrap")}`);Mn&&DA(Mn,_o)}(Oo=y.value)==null||Oo.handleScroll()},ne=xe=>{r.options.set(xe.value,xe),r.cachedOptions.set(xe.value,xe),xe.disabled&&r.disabledOptions.set(xe.value,xe)},de=(xe,it)=>{r.options.get(xe)===it&&r.options.delete(xe)},{handleCompositionStart:Pe,handleCompositionUpdate:oe,handleCompositionEnd:ze}=c_(xe=>Ve(xe)),ut=R(()=>{var xe,it;return(it=(xe=c.value)==null?void 0:xe.popperRef)==null?void 0:it.contentRef}),Ht=()=>{Xe(()=>Ie(r.selected))},Qt=()=>{var xe;(xe=d.value)==null||xe.focus()},Ii=()=>{Bt()},ys=xe=>{wt(xe)},Bt=xe=>{if(P.value=!1,b.value){const it=new FocusEvent("focus",xe);Xe(()=>E(it))}},ps=()=>{r.inputValue.length>0?r.inputValue="":P.value=!1},Kn=()=>{G.value||(r.menuVisibleOnFocus?r.menuVisibleOnFocus=!1:P.value=!P.value)},am=()=>{P.value?ee.value[r.hoveringIndex]&&Je(ee.value[r.hoveringIndex]):Kn()},Po=xe=>yt(xe.value)?Ss(xe.value,e.valueKey):xe.value,Mh=R(()=>ee.value.filter(xe=>xe.visible).every(xe=>xe.disabled)),Ih=R(()=>e.multiple?e.collapseTags?r.selected.slice(0,e.maxCollapseTags):r.selected:[]),um=R(()=>e.multiple?e.collapseTags?r.selected.slice(e.maxCollapseTags):[]:[]),tl=xe=>{if(!P.value){P.value=!0;return}if(!(r.options.size===0||Q.value===0)&&!Mh.value){xe==="next"?(r.hoveringIndex++,r.hoveringIndex===r.options.size&&(r.hoveringIndex=0)):xe==="prev"&&(r.hoveringIndex--,r.hoveringIndex<0&&(r.hoveringIndex=r.options.size-1));const it=ee.value[r.hoveringIndex];(it.disabled===!0||it.states.groupDisabled===!0||!it.visible)&&tl(xe),Xe(()=>Ie(A.value))}},cm=()=>{if(!a.value)return 0;const xe=window.getComputedStyle(a.value);return Number.parseFloat(xe.gap||"6px")},dm=R(()=>{const xe=cm();return{maxWidth:`${v.value&&e.maxCollapseTags===1?r.selectionWidth-r.collapseItemWidth-xe:r.selectionWidth}px`}}),hm=R(()=>({maxWidth:`${r.selectionWidth}px`})),pm=R(()=>({width:`${Math.max(r.calculatorWidth,IX)}px`}));return e.multiple&&!ke(e.modelValue)&&t(vt,[]),!e.multiple&&ke(e.modelValue)&&t(vt,""),fs(a,he),fs(p,Se),fs(f,De),fs(w,De),fs(C,ye),fs(v,Te),at(()=>{ie()}),{inputId:F,contentId:n,nsSelect:i,nsInput:o,states:r,isFocused:b,expanded:P,optionsArray:ee,hoverOption:A,selectSize:ue,filteredOptionsCount:Q,resetCalculatorWidth:Se,updateTooltip:De,updateTagTooltip:ye,debouncedOnInputChange:Ke,onInput:Ve,deletePrevTag:et,deleteTag:dt,deleteSelected:wt,handleOptionSelect:Je,scrollToOption:Ie,hasModelValue:z,shouldShowPlaceholder:pe,currentPlaceholder:be,showClose:W,iconComponent:k,iconReverse:I,validateState:V,validateIcon:_,showNewOption:Ee,updateOptions:te,collapseTagSize:le,setSelected:ie,selectDisabled:G,emptyText:Y,handleCompositionStart:Pe,handleCompositionUpdate:oe,handleCompositionEnd:ze,onOptionCreate:ne,onOptionDestroy:de,handleMenuEnter:Ht,handleFocus:T,focus:Qt,blur:Ii,handleBlur:E,handleClearClick:ys,handleClickOutside:Bt,handleEsc:ps,toggleMenu:Kn,selectOption:am,getValueKey:Po,navigateOptions:tl,dropdownMenuVisible:Fe,showTagList:Ih,collapseTagList:um,tagStyle:dm,collapseTagStyle:hm,inputStyle:pm,popperRef:ut,inputRef:d,tooltipRef:c,tagTooltipRef:h,calculatorRef:p,prefixRef:g,suffixRef:m,selectRef:l,wrapperRef:w,selectionRef:a,scrollbarRef:y,menuRef:f,tagMenuRef:C,collapseItemRef:v}};var LX=j({name:"ElOptions",setup(e,{slots:t}){const s=Be(ch);let n=[];return()=>{var i,o;const r=(i=t.default)==null?void 0:i.call(t),l=[];function a(c){ke(c)&&c.forEach(h=>{var d,p,g,m;const f=(d=(h==null?void 0:h.type)||{})==null?void 0:d.name;f==="ElOptionGroup"?a(!rt(h.children)&&!ke(h.children)&&nt((p=h.children)==null?void 0:p.default)?(g=h.children)==null?void 0:g.default():h.children):f==="ElOption"?l.push((m=h.props)==null?void 0:m.value):ke(h.children)&&a(h.children)})}return r.length&&a((o=r[0])==null?void 0:o.children),un(l,n)||(n=l,s&&(s.states.optionValues=l)),r}}});const NX=Oe({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Us,effect:{type:J(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:J(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:qs.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Kt,default:jr},fitInputWidth:Boolean,suffixIcon:{type:Kt,default:Jo},tagType:{...Tg.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:J(String),values:da,default:"bottom-start"},fallbackPlacements:{type:J(Array),default:["bottom-start","top-start","right","left"]},ariaLabel:{type:String,default:void 0}}),hR="ElSelect",xX=j({name:hR,componentName:hR,components:{ElInput:an,ElSelectMenu:MX,ElOption:Uw,ElOptions:LX,ElTag:dd,ElScrollbar:tr,ElTooltip:hn,ElIcon:Ue},directives:{ClickOutside:Uo},props:NX,emits:[vt,as,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const s=FX(e,t);return Et(ch,Gt({props:e,states:s.states,optionsArray:s.optionsArray,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy,selectRef:s.selectRef,setSelected:s.setSelected})),{...s}}}),kX=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],GX=["textContent"];function VX(e,t,s,n,i,o){const r=pt("el-tag"),l=pt("el-tooltip"),a=pt("el-icon"),c=pt("el-option"),h=pt("el-options"),d=pt("el-scrollbar"),p=pt("el-select-menu"),g=Jf("click-outside");return lt((D(),$("div",{ref:"selectRef",class:O([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[16]||(t[16]=m=>e.states.inputHovering=!0),onMouseleave:t[17]||(t[17]=m=>e.states.inputHovering=!1),onClick:t[18]||(t[18]=st((...m)=>e.toggleMenu&&e.toggleMenu(...m),["prevent","stop"]))},[q(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[15]||(t[15]=m=>e.states.isBeforeHide=!1)},{default:Z(()=>{var m;return[U("div",{ref:"wrapperRef",class:O([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(D(),$("div",{key:0,ref:"prefixRef",class:O(e.nsSelect.e("prefix"))},[ae(e.$slots,"prefix")],2)):se("v-if",!0),U("div",{ref:"selectionRef",class:O([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?ae(e.$slots,"tag",{key:0},()=>[(D(!0),$(qe,null,Dt(e.showTagList,f=>(D(),$("div",{key:e.getValueKey(f),class:O(e.nsSelect.e("selected-item"))},[q(r,{closable:!e.selectDisabled&&!f.isDisabled,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:je(e.tagStyle),onClose:C=>e.deleteTag(C,f)},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))},Me(f.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(D(),re(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Z(()=>[U("div",{ref:"collapseItemRef",class:O(e.nsSelect.e("selected-item"))},[q(r,{closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:je(e.collapseTagStyle)},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))}," + "+Me(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Z(()=>[U("div",{ref:"tagMenuRef",class:O(e.nsSelect.e("selection"))},[(D(!0),$(qe,null,Dt(e.collapseTagList,f=>(D(),$("div",{key:e.getValueKey(f),class:O(e.nsSelect.e("selected-item"))},[q(r,{class:"in-tooltip",closable:!e.selectDisabled&&!f.isDisabled,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",onClose:C=>e.deleteTag(C,f)},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))},Me(f.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):se("v-if",!0)]):se("v-if",!0),e.selectDisabled?se("v-if",!0):(D(),$("div",{key:1,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[lt(U("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=f=>e.states.inputValue=f),type:"text",class:O([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:je(e.inputStyle),role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((m=e.hoverOption)==null?void 0:m.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[2]||(t[2]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onKeydown:[t[3]||(t[3]=Ut(st(f=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[4]||(t[4]=Ut(st(f=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),t[5]||(t[5]=Ut(st((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"])),t[6]||(t[6]=Ut(st((...f)=>e.selectOption&&e.selectOption(...f),["stop","prevent"]),["enter"])),t[7]||(t[7]=Ut(st((...f)=>e.deletePrevTag&&e.deletePrevTag(...f),["stop"]),["delete"]))],onCompositionstart:t[8]||(t[8]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[9]||(t[9]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[10]||(t[10]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onInput:t[11]||(t[11]=(...f)=>e.onInput&&e.onInput(...f)),onClick:t[12]||(t[12]=st((...f)=>e.toggleMenu&&e.toggleMenu(...f),["stop"]))},null,46,kX),[[Iy,e.states.inputValue]]),e.filterable?(D(),$("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O(e.nsSelect.e("input-calculator")),textContent:Me(e.states.inputValue)},null,10,GX)):se("v-if",!0)],2)),e.shouldShowPlaceholder?(D(),$("div",{key:2,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[U("span",null,Me(e.currentPlaceholder),1)],2)):se("v-if",!0)],2),U("div",{ref:"suffixRef",class:O(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(D(),re(a,{key:0,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Z(()=>[(D(),re(Ct(e.iconComponent)))]),_:1},8,["class"])):se("v-if",!0),e.showClose&&e.clearIcon?(D(),re(a,{key:1,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Z(()=>[(D(),re(Ct(e.clearIcon)))]),_:1},8,["class","onClick"])):se("v-if",!0),e.validateState&&e.validateIcon?(D(),re(a,{key:2,class:O([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z(()=>[(D(),re(Ct(e.validateIcon)))]),_:1},8,["class"])):se("v-if",!0)],2)],2)]}),content:Z(()=>[q(p,{ref:"menuRef"},{default:Z(()=>[e.$slots.header?(D(),$("div",{key:0,class:O(e.nsSelect.be("dropdown","header")),onClick:t[13]||(t[13]=st(()=>{},["stop"]))},[ae(e.$slots,"header")],2)):se("v-if",!0),lt(q(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:O([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:Z(()=>[e.showNewOption?(D(),re(c,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):se("v-if",!0),q(h,null,{default:Z(()=>[ae(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Lt,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(D(),$("div",{key:1,class:O(e.nsSelect.be("dropdown","loading"))},[ae(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(D(),$("div",{key:2,class:O(e.nsSelect.be("dropdown","empty"))},[ae(e.$slots,"empty",{},()=>[U("span",null,Me(e.emptyText),1)])],2)):se("v-if",!0),e.$slots.footer?(D(),$("div",{key:3,class:O(e.nsSelect.be("dropdown","footer")),onClick:t[14]||(t[14]=st(()=>{},["stop"]))},[ae(e.$slots,"footer")],2)):se("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[g,e.handleClickOutside,e.popperRef]])}var HX=_e(xX,[["render",VX],["__file","select.vue"]]);const BX=j({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=we("select"),s=L(null),n=ct(),i=L([]);Et(u_,Gt({...Zs(e)}));const o=R(()=>i.value.some(a=>a.visible===!0)),r=a=>{const c=[];return ke(a.children)&&a.children.forEach(h=>{var d,p;h.type&&h.type.name==="ElOption"&&h.component&&h.component.proxy?c.push(h.component.proxy):(d=h.children)!=null&&d.length?c.push(...r(h)):(p=h.component)!=null&&p.subTree&&c.push(...r(h.component.subTree))}),c},l=()=>{i.value=r(n.subTree)};return at(()=>{l()}),ND(s,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:s,visible:o,ns:t}}});function $X(e,t,s,n,i,o){return lt((D(),$("ul",{ref:"groupRef",class:O(e.ns.be("group","wrap"))},[U("li",{class:O(e.ns.be("group","title"))},Me(e.label),3),U("li",null,[U("ul",{class:O(e.ns.b("group"))},[ae(e.$slots,"default")],2)])],2)),[[Lt,e.visible]])}var d_=_e(BX,[["render",$X],["__file","option-group.vue"]]);const Kl=ft(HX,{Option:Uw,OptionGroup:d_}),mf=hs(Uw),WX=hs(d_),Kw=()=>Be(a_,{}),zX=Oe({pageSize:{type:Number,required:!0},pageSizes:{type:J(Array),default:()=>ds([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Ro}}),UX=j({name:"ElPaginationSizes"}),KX=j({...UX,props:zX,emits:["page-size-change"],setup(e,{emit:t}){const s=e,{t:n}=Ft(),i=we("pagination"),o=Kw(),r=L(s.pageSize);ve(()=>s.pageSizes,(c,h)=>{if(!un(c,h)&&Array.isArray(c)){const d=c.includes(s.pageSize)?s.pageSize:s.pageSizes[0];t("page-size-change",d)}}),ve(()=>s.pageSize,c=>{r.value=c});const l=R(()=>s.pageSizes);function a(c){var h;c!==r.value&&(r.value=c,(h=o.handleSizeChange)==null||h.call(o,Number(c)))}return(c,h)=>(D(),$("span",{class:O(u(i).e("sizes"))},[q(u(Kl),{"model-value":r.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,onChange:a},{default:Z(()=>[(D(!0),$(qe,null,Dt(u(l),d=>(D(),re(u(mf),{key:d,value:d,label:d+u(n)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var jX=_e(KX,[["__file","sizes.vue"]]);const YX=Oe({size:{type:String,values:Ro}}),qX=["disabled"],XX=j({name:"ElPaginationJumper"}),QX=j({...XX,props:YX,setup(e){const{t}=Ft(),s=we("pagination"),{pageCount:n,disabled:i,currentPage:o,changeEvent:r}=Kw(),l=L(),a=R(()=>{var d;return(d=l.value)!=null?d:o==null?void 0:o.value});function c(d){l.value=d?+d:""}function h(d){d=Math.trunc(+d),r==null||r(d),l.value=void 0}return(d,p)=>(D(),$("span",{class:O(u(s).e("jump")),disabled:u(i)},[U("span",{class:O([u(s).e("goto")])},Me(u(t)("el.pagination.goto")),3),q(u(an),{size:d.size,class:O([u(s).e("editor"),u(s).is("in-pagination")]),min:1,max:u(n),disabled:u(i),"model-value":u(a),"validate-event":!1,label:u(t)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:h},null,8,["size","class","max","disabled","model-value","label"]),U("span",{class:O([u(s).e("classifier")])},Me(u(t)("el.pagination.pageClassifier")),3)],10,qX))}});var ZX=_e(QX,[["__file","jumper.vue"]]);const JX=Oe({total:{type:Number,default:1e3}}),eQ=["disabled"],tQ=j({name:"ElPaginationTotal"}),sQ=j({...tQ,props:JX,setup(e){const{t}=Ft(),s=we("pagination"),{disabled:n}=Kw();return(i,o)=>(D(),$("span",{class:O(u(s).e("total")),disabled:u(n)},Me(u(t)("el.pagination.total",{total:i.total})),11,eQ))}});var nQ=_e(sQ,[["__file","total.vue"]]);const iQ=Oe({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),oQ=["onKeyup"],rQ=["aria-current","aria-label","tabindex"],lQ=["tabindex","aria-label"],aQ=["aria-current","aria-label","tabindex"],uQ=["tabindex","aria-label"],cQ=["aria-current","aria-label","tabindex"],dQ=j({name:"ElPaginationPager"}),hQ=j({...dQ,props:iQ,emits:["change"],setup(e,{emit:t}){const s=e,n=we("pager"),i=we("icon"),{t:o}=Ft(),r=L(!1),l=L(!1),a=L(!1),c=L(!1),h=L(!1),d=L(!1),p=R(()=>{const b=s.pagerCount,T=(b-1)/2,E=Number(s.currentPage),P=Number(s.pageCount);let A=!1,N=!1;P>b&&(E>b-T&&(A=!0),E<P-T&&(N=!0));const x=[];if(A&&!N){const F=P-(b-2);for(let G=F;G<P;G++)x.push(G)}else if(!A&&N)for(let F=2;F<b;F++)x.push(F);else if(A&&N){const F=Math.floor(b/2)-1;for(let G=E-F;G<=E+F;G++)x.push(G)}else for(let F=2;F<P;F++)x.push(F);return x}),g=R(()=>["more","btn-quickprev",i.b(),n.is("disabled",s.disabled)]),m=R(()=>["more","btn-quicknext",i.b(),n.is("disabled",s.disabled)]),f=R(()=>s.disabled?-1:0);sn(()=>{const b=(s.pagerCount-1)/2;r.value=!1,l.value=!1,s.pageCount>s.pagerCount&&(s.currentPage>s.pagerCount-b&&(r.value=!0),s.currentPage<s.pageCount-b&&(l.value=!0))});function C(b=!1){s.disabled||(b?a.value=!0:c.value=!0)}function v(b=!1){b?h.value=!0:d.value=!0}function y(b){const T=b.target;if(T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("number")){const E=Number(T.textContent);E!==s.currentPage&&t("change",E)}else T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("more")&&w(b)}function w(b){const T=b.target;if(T.tagName.toLowerCase()==="ul"||s.disabled)return;let E=Number(T.textContent);const P=s.pageCount,A=s.currentPage,N=s.pagerCount-2;T.className.includes("more")&&(T.className.includes("quickprev")?E=A-N:T.className.includes("quicknext")&&(E=A+N)),Number.isNaN(+E)||(E<1&&(E=1),E>P&&(E=P)),E!==A&&t("change",E)}return(b,T)=>(D(),$("ul",{class:O(u(n).b()),onClick:w,onKeyup:Ut(y,["enter"])},[b.pageCount>0?(D(),$("li",{key:0,class:O([[u(n).is("active",b.currentPage===1),u(n).is("disabled",b.disabled)],"number"]),"aria-current":b.currentPage===1,"aria-label":u(o)("el.pagination.currentPage",{pager:1}),tabindex:u(f)}," 1 ",10,rQ)):se("v-if",!0),r.value?(D(),$("li",{key:1,class:O(u(g)),tabindex:u(f),"aria-label":u(o)("el.pagination.prevPages",{pager:b.pagerCount-2}),onMouseenter:T[0]||(T[0]=E=>C(!0)),onMouseleave:T[1]||(T[1]=E=>a.value=!1),onFocus:T[2]||(T[2]=E=>v(!0)),onBlur:T[3]||(T[3]=E=>h.value=!1)},[(a.value||h.value)&&!b.disabled?(D(),re(u(fu),{key:0})):(D(),re(u(e0),{key:1}))],42,lQ)):se("v-if",!0),(D(!0),$(qe,null,Dt(u(p),E=>(D(),$("li",{key:E,class:O([[u(n).is("active",b.currentPage===E),u(n).is("disabled",b.disabled)],"number"]),"aria-current":b.currentPage===E,"aria-label":u(o)("el.pagination.currentPage",{pager:E}),tabindex:u(f)},Me(E),11,aQ))),128)),l.value?(D(),$("li",{key:2,class:O(u(m)),tabindex:u(f),"aria-label":u(o)("el.pagination.nextPages",{pager:b.pagerCount-2}),onMouseenter:T[4]||(T[4]=E=>C()),onMouseleave:T[5]||(T[5]=E=>c.value=!1),onFocus:T[6]||(T[6]=E=>v()),onBlur:T[7]||(T[7]=E=>d.value=!1)},[(c.value||d.value)&&!b.disabled?(D(),re(u(gu),{key:0})):(D(),re(u(e0),{key:1}))],42,uQ)):se("v-if",!0),b.pageCount>1?(D(),$("li",{key:3,class:O([[u(n).is("active",b.currentPage===b.pageCount),u(n).is("disabled",b.disabled)],"number"]),"aria-current":b.currentPage===b.pageCount,"aria-label":u(o)("el.pagination.currentPage",{pager:b.pageCount}),tabindex:u(f)},Me(b.pageCount),11,cQ)):se("v-if",!0)],42,oQ))}});var pQ=_e(hQ,[["__file","pager.vue"]]);const vn=e=>typeof e!="number",fQ=Oe({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>tt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:J(Array),default:()=>ds([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Kt,default:()=>xr},nextText:{type:String,default:""},nextIcon:{type:Kt,default:()=>bn},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),gQ={"update:current-page":e=>tt(e),"update:page-size":e=>tt(e),"size-change":e=>tt(e),change:(e,t)=>tt(e)&&tt(t),"current-change":e=>tt(e),"prev-click":e=>tt(e),"next-click":e=>tt(e)},pR="ElPagination";var mQ=j({name:pR,props:fQ,emits:gQ,setup(e,{emit:t,slots:s}){const{t:n}=Ft(),i=we("pagination"),o=ct().vnode.props||{},r="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,l="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,a=R(()=>{if(vn(e.total)&&vn(e.pageCount)||!vn(e.currentPage)&&!r)return!1;if(e.layout.includes("sizes")){if(vn(e.pageCount)){if(!vn(e.total)&&!vn(e.pageSize)&&!l)return!1}else if(!l)return!1}return!0}),c=L(vn(e.defaultPageSize)?10:e.defaultPageSize),h=L(vn(e.defaultCurrentPage)?1:e.defaultCurrentPage),d=R({get(){return vn(e.pageSize)?c.value:e.pageSize},set(w){vn(e.pageSize)&&(c.value=w),l&&(t("update:page-size",w),t("size-change",w))}}),p=R(()=>{let w=0;return vn(e.pageCount)?vn(e.total)||(w=Math.max(1,Math.ceil(e.total/d.value))):w=e.pageCount,w}),g=R({get(){return vn(e.currentPage)?h.value:e.currentPage},set(w){let b=w;w<1?b=1:w>p.value&&(b=p.value),vn(e.currentPage)&&(h.value=b),r&&(t("update:current-page",b),t("current-change",b))}});ve(p,w=>{g.value>w&&(g.value=w)}),ve([g,d],w=>{t("change",...w)},{flush:"post"});function m(w){g.value=w}function f(w){d.value=w;const b=p.value;g.value>b&&(g.value=b)}function C(){e.disabled||(g.value-=1,t("prev-click",g.value))}function v(){e.disabled||(g.value+=1,t("next-click",g.value))}function y(w,b){w&&(w.props||(w.props={}),w.props.class=[w.props.class,b].join(" "))}return Et(a_,{pageCount:p,disabled:R(()=>e.disabled),currentPage:g,changeEvent:m,handleSizeChange:f}),()=>{var w,b;if(!a.value)return n("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const T=[],E=[],P=Qe("div",{class:i.e("rightwrapper")},E),A={prev:Qe(CX,{disabled:e.disabled,currentPage:g.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:C}),jumper:Qe(ZX,{size:e.small?"small":"default"}),pager:Qe(pQ,{currentPage:g.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:m,disabled:e.disabled}),next:Qe(RX,{disabled:e.disabled,currentPage:g.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:v}),sizes:Qe(jX,{pageSize:d.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(b=(w=s==null?void 0:s.default)==null?void 0:w.call(s))!=null?b:null,total:Qe(nQ,{total:vn(e.total)?0:e.total})},N=e.layout.split(",").map(F=>F.trim());let x=!1;return N.forEach(F=>{if(F==="->"){x=!0;return}x?E.push(A[F]):T.push(A[F])}),y(T[0],i.is("first")),y(T[T.length-1],i.is("last")),x&&E.length>0&&(y(E[0],i.is("first")),y(E[E.length-1],i.is("last")),T.push(P)),Qe("div",{class:[i.b(),i.is("background",e.background),{[i.m("small")]:e.small}]},T)}}});const vQ=ft(mQ),CQ=Oe({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Uv,default:"primary"},cancelButtonType:{type:String,values:Uv,default:"text"},icon:{type:Kt,default:()=>WB},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:qs.teleported,persistent:qs.persistent,width:{type:[String,Number],default:150}}),yQ={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},wQ=j({name:"ElPopconfirm"}),bQ=j({...wQ,props:CQ,emits:yQ,setup(e,{emit:t}){const s=e,{t:n}=Ft(),i=we("popconfirm"),o=L(),r=()=>{var p,g;(g=(p=o.value)==null?void 0:p.onClose)==null||g.call(p)},l=R(()=>({width:Ds(s.width)})),a=p=>{t("confirm",p),r()},c=p=>{t("cancel",p),r()},h=R(()=>s.confirmButtonText||n("el.popconfirm.confirmButtonText")),d=R(()=>s.cancelButtonText||n("el.popconfirm.cancelButtonText"));return(p,g)=>(D(),re(u(hn),bt({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},p.$attrs,{"popper-class":`${u(i).namespace.value}-popover`,"popper-style":u(l),teleported:p.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":p.hideAfter,persistent:p.persistent}),{content:Z(()=>[U("div",{class:O(u(i).b())},[U("div",{class:O(u(i).e("main"))},[!p.hideIcon&&p.icon?(D(),re(u(Ue),{key:0,class:O(u(i).e("icon")),style:je({color:p.iconColor})},{default:Z(()=>[(D(),re(Ct(p.icon)))]),_:1},8,["class","style"])):se("v-if",!0),_t(" "+Me(p.title),1)],2),U("div",{class:O(u(i).e("action"))},[q(u(zs),{size:"small",type:p.cancelButtonType==="text"?"":p.cancelButtonType,text:p.cancelButtonType==="text",onClick:c},{default:Z(()=>[_t(Me(u(d)),1)]),_:1},8,["type","text"]),q(u(zs),{size:"small",type:p.confirmButtonType==="text"?"":p.confirmButtonType,text:p.confirmButtonType==="text",onClick:a},{default:Z(()=>[_t(Me(u(h)),1)]),_:1},8,["type","text"])],2)],2)]),default:Z(()=>[p.$slots.reference?ae(p.$slots,"reference",{key:0}):se("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var SQ=_e(bQ,[["__file","popconfirm.vue"]]);const EQ=ft(SQ),RQ=Oe({trigger:cd.trigger,placement:Op.placement,disabled:cd.disabled,visible:qs.visible,transition:qs.transition,popperOptions:Op.popperOptions,tabindex:Op.tabindex,content:qs.content,popperStyle:qs.popperStyle,popperClass:qs.popperClass,enterable:{...qs.enterable,default:!0},effect:{...qs.effect,default:"light"},teleported:qs.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),TQ={"update:visible":e=>Os(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},DQ="onUpdate:visible",AQ=j({name:"ElPopover"}),PQ=j({...AQ,props:RQ,emits:TQ,setup(e,{expose:t,emit:s}){const n=e,i=R(()=>n[DQ]),o=we("popover"),r=L(),l=R(()=>{var C;return(C=u(r))==null?void 0:C.popperRef}),a=R(()=>[{width:Ds(n.width)},n.popperStyle]),c=R(()=>[o.b(),n.popperClass,{[o.m("plain")]:!!n.content}]),h=R(()=>n.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var C;(C=r.value)==null||C.hide()},p=()=>{s("before-enter")},g=()=>{s("before-leave")},m=()=>{s("after-enter")},f=()=>{s("update:visible",!1),s("after-leave")};return t({popperRef:l,hide:d}),(C,v)=>(D(),re(u(hn),bt({ref_key:"tooltipRef",ref:r},C.$attrs,{trigger:C.trigger,placement:C.placement,disabled:C.disabled,visible:C.visible,transition:C.transition,"popper-options":C.popperOptions,tabindex:C.tabindex,content:C.content,offset:C.offset,"show-after":C.showAfter,"hide-after":C.hideAfter,"auto-close":C.autoClose,"show-arrow":C.showArrow,"aria-label":C.title,effect:C.effect,enterable:C.enterable,"popper-class":u(c),"popper-style":u(a),teleported:C.teleported,persistent:C.persistent,"gpu-acceleration":u(h),"onUpdate:visible":u(i),onBeforeShow:p,onBeforeHide:g,onShow:m,onHide:f}),{content:Z(()=>[C.title?(D(),$("div",{key:0,class:O(u(o).e("title")),role:"title"},Me(C.title),3)):se("v-if",!0),ae(C.$slots,"default",{},()=>[_t(Me(C.content),1)])]),default:Z(()=>[C.$slots.reference?ae(C.$slots,"reference",{key:0}):se("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var OQ=_e(PQ,[["__file","popover.vue"]]);const fR=(e,t)=>{const s=t.arg||t.value,n=s==null?void 0:s.popperRef;n&&(n.triggerRef=e)};var _Q={mounted(e,t){fR(e,t)},updated(e,t){fR(e,t)}};const MQ="popover",h_=p$(_Q,MQ),IQ=ft(OQ,{directive:h_}),FQ=Oe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:J(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:J([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:J(Function),default:e=>`${e}%`}}),LQ=["aria-valuenow"],NQ={viewBox:"0 0 100 100"},xQ=["d","stroke","stroke-linecap","stroke-width"],kQ=["d","stroke","opacity","stroke-linecap","stroke-width"],GQ={key:0},VQ=j({name:"ElProgress"}),HQ=j({...VQ,props:FQ,setup(e){const t=e,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=we("progress"),i=R(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:y(t.percentage)})),o=R(()=>(t.strokeWidth/t.width*100).toFixed(1)),r=R(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),l=R(()=>{const w=r.value,b=t.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${b?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${b?"":"-"}${w*2}
          `}),a=R(()=>2*Math.PI*r.value),c=R(()=>t.type==="dashboard"?.75:1),h=R(()=>`${-1*a.value*(1-c.value)/2}px`),d=R(()=>({strokeDasharray:`${a.value*c.value}px, ${a.value}px`,strokeDashoffset:h.value})),p=R(()=>({strokeDasharray:`${a.value*c.value*(t.percentage/100)}px, ${a.value}px`,strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=R(()=>{let w;return t.color?w=y(t.percentage):w=s[t.status]||s.default,w}),m=R(()=>t.status==="warning"?fg:t.type==="line"?t.status==="success"?ew:jr:t.status==="success"?sh:zi),f=R(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),C=R(()=>t.format(t.percentage));function v(w){const b=100/w.length;return w.map((E,P)=>rt(E)?{color:E,percentage:(P+1)*b}:E).sort((E,P)=>E.percentage-P.percentage)}const y=w=>{var b;const{color:T}=t;if(nt(T))return T(w);if(rt(T))return T;{const E=v(T);for(const P of E)if(P.percentage>w)return P.color;return(b=E[E.length-1])==null?void 0:b.color}};return(w,b)=>(D(),$("div",{class:O([u(n).b(),u(n).m(w.type),u(n).is(w.status),{[u(n).m("without-text")]:!w.showText,[u(n).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(D(),$("div",{key:0,class:O(u(n).b("bar"))},[U("div",{class:O(u(n).be("bar","outer")),style:je({height:`${w.strokeWidth}px`})},[U("div",{class:O([u(n).be("bar","inner"),{[u(n).bem("bar","inner","indeterminate")]:w.indeterminate},{[u(n).bem("bar","inner","striped")]:w.striped},{[u(n).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:je(u(i))},[(w.showText||w.$slots.default)&&w.textInside?(D(),$("div",{key:0,class:O(u(n).be("bar","innerText"))},[ae(w.$slots,"default",{percentage:w.percentage},()=>[U("span",null,Me(u(C)),1)])],2)):se("v-if",!0)],6)],6)],2)):(D(),$("div",{key:1,class:O(u(n).b("circle")),style:je({height:`${w.width}px`,width:`${w.width}px`})},[(D(),$("svg",NQ,[U("path",{class:O(u(n).be("circle","track")),d:u(l),stroke:`var(${u(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":w.strokeLinecap,"stroke-width":u(o),fill:"none",style:je(u(d))},null,14,xQ),U("path",{class:O(u(n).be("circle","path")),d:u(l),stroke:u(g),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":u(o),style:je(u(p))},null,14,kQ)]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(D(),$("div",{key:2,class:O(u(n).e("text")),style:je({fontSize:`${u(f)}px`})},[ae(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(D(),re(u(Ue),{key:1},{default:Z(()=>[(D(),re(Ct(u(m))))]),_:1})):(D(),$("span",GQ,Me(u(C)),1))])],6)):se("v-if",!0)],10,LQ))}});var BQ=_e(HQ,[["__file","progress.vue"]]);const p_=ft(BQ),$Q=Oe({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:J([Array,Object]),default:()=>ds(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:J([Array,Object]),default:()=>[Uh,Uh,Uh]},voidIcon:{type:Kt,default:()=>i$},disabledVoidIcon:{type:Kt,default:()=>Uh},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:J(Array),default:()=>ds(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Us,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),WQ={[as]:e=>tt(e),[vt]:e=>tt(e)},zQ=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],UQ=["onMousemove","onClick"],KQ=j({name:"ElRate"}),jQ=j({...KQ,props:$Q,emits:WQ,setup(e,{expose:t,emit:s}){const n=e;function i(k,I){const V=Y=>yt(Y),_=Object.keys(I).map(Y=>+Y).filter(Y=>{const Q=I[Y];return(V(Q)?Q.excluded:!1)?k<Y:k<=Y}).sort((Y,Q)=>Y-Q),B=I[_[0]];return V(B)&&B.value||B}const o=Be(ha,void 0),r=Be(vo,void 0),l=xs(),a=we("rate"),{inputId:c,isLabeledByFormItem:h}=To(n,{formItemContext:r}),d=L(n.modelValue),p=L(-1),g=L(!0),m=R(()=>[a.b(),a.m(l.value)]),f=R(()=>n.disabled||(o==null?void 0:o.disabled)),C=R(()=>a.cssVarBlock({"void-color":n.voidColor,"disabled-void-color":n.disabledVoidColor,"fill-color":b.value})),v=R(()=>{let k="";return n.showScore?k=n.scoreTemplate.replace(/\{\s*value\s*\}/,f.value?`${n.modelValue}`:`${d.value}`):n.showText&&(k=n.texts[Math.ceil(d.value)-1]),k}),y=R(()=>n.modelValue*100-Math.floor(n.modelValue)*100),w=R(()=>ke(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors),b=R(()=>{const k=i(d.value,w.value);return yt(k)?"":k}),T=R(()=>{let k="";return f.value?k=`${y.value}%`:n.allowHalf&&(k="50%"),{color:b.value,width:k}}),E=R(()=>{let k=ke(n.icons)?[...n.icons]:{...n.icons};return k=Tl(k),ke(k)?{[n.lowThreshold]:k[0],[n.highThreshold]:{value:k[1],excluded:!0},[n.max]:k[2]}:k}),P=R(()=>i(n.modelValue,E.value)),A=R(()=>f.value?rt(n.disabledVoidIcon)?n.disabledVoidIcon:Tl(n.disabledVoidIcon):rt(n.voidIcon)?n.voidIcon:Tl(n.voidIcon)),N=R(()=>i(d.value,E.value));function x(k){const I=f.value&&y.value>0&&k-1<n.modelValue&&k>n.modelValue,V=n.allowHalf&&g.value&&k-.5<=d.value&&k>d.value;return I||V}function F(k){n.clearable&&k===n.modelValue&&(k=0),s(vt,k),n.modelValue!==k&&s("change",k)}function G(k){f.value||(n.allowHalf&&g.value?F(d.value):F(k))}function K(k){if(f.value)return;let I=d.value;const V=k.code;return V===Ye.up||V===Ye.right?(n.allowHalf?I+=.5:I+=1,k.stopPropagation(),k.preventDefault()):(V===Ye.left||V===Ye.down)&&(n.allowHalf?I-=.5:I-=1,k.stopPropagation(),k.preventDefault()),I=I<0?0:I,I=I>n.max?n.max:I,s(vt,I),s("change",I),I}function z(k,I){if(!f.value){if(n.allowHalf&&I){let V=I.target;vi(V,a.e("item"))&&(V=V.querySelector(`.${a.e("icon")}`)),(V.clientWidth===0||vi(V,a.e("decimal")))&&(V=V.parentNode),g.value=I.offsetX*2<=V.clientWidth,d.value=g.value?k-.5:k}else d.value=k;p.value=k}}function W(){f.value||(n.allowHalf&&(g.value=n.modelValue!==Math.floor(n.modelValue)),d.value=n.modelValue,p.value=-1)}return ve(()=>n.modelValue,k=>{d.value=k,g.value=n.modelValue!==Math.floor(n.modelValue)}),n.modelValue||s(vt,0),t({setCurrentValue:z,resetCurrentValue:W}),(k,I)=>{var V;return D(),$("div",{id:u(c),class:O([u(m),u(a).is("disabled",u(f))]),role:"slider","aria-label":u(h)?void 0:k.label||"rating","aria-labelledby":u(h)?(V=u(r))==null?void 0:V.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":u(v)||void 0,"aria-valuemin":"0","aria-valuemax":k.max,tabindex:"0",style:je(u(C)),onKeydown:K},[(D(!0),$(qe,null,Dt(k.max,(_,B)=>(D(),$("span",{key:B,class:O(u(a).e("item")),onMousemove:Y=>z(_,Y),onMouseleave:W,onClick:Y=>G(_)},[q(u(Ue),{class:O([u(a).e("icon"),{hover:p.value===_},u(a).is("active",_<=d.value)])},{default:Z(()=>[x(_)?se("v-if",!0):(D(),$(qe,{key:0},[lt((D(),re(Ct(u(N)),null,null,512)),[[Lt,_<=d.value]]),lt((D(),re(Ct(u(A)),null,null,512)),[[Lt,!(_<=d.value)]])],64)),x(_)?(D(),$(qe,{key:1},[(D(),re(Ct(u(A)),{class:O([u(a).em("decimal","box")])},null,8,["class"])),q(u(Ue),{style:je(u(T)),class:O([u(a).e("icon"),u(a).e("decimal")])},{default:Z(()=>[(D(),re(Ct(u(P))))]),_:1},8,["style","class"])],64)):se("v-if",!0)]),_:2},1032,["class"])],42,UQ))),128)),k.showText||k.showScore?(D(),$("span",{key:0,class:O(u(a).e("text")),style:je({color:k.textColor})},Me(u(v)),7)):se("v-if",!0)],46,zQ)}}});var YQ=_e(jQ,[["__file","rate.vue"]]);const qQ=ft(YQ),$a={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},gR={[$a.success]:mB,[$a.warning]:fg,[$a.error]:tw,[$a.info]:sw},XQ=Oe({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),QQ=j({name:"ElResult"}),ZQ=j({...QQ,props:XQ,setup(e){const t=e,s=we("result"),n=R(()=>{const i=t.icon,o=i&&$a[i]?$a[i]:"icon-info",r=gR[o]||gR["icon-info"];return{class:o,component:r}});return(i,o)=>(D(),$("div",{class:O(u(s).b())},[U("div",{class:O(u(s).e("icon"))},[ae(i.$slots,"icon",{},()=>[u(n).component?(D(),re(Ct(u(n).component),{key:0,class:O(u(n).class)},null,8,["class"])):se("v-if",!0)])],2),i.title||i.$slots.title?(D(),$("div",{key:0,class:O(u(s).e("title"))},[ae(i.$slots,"title",{},()=>[U("p",null,Me(i.title),1)])],2)):se("v-if",!0),i.subTitle||i.$slots["sub-title"]?(D(),$("div",{key:1,class:O(u(s).e("subtitle"))},[ae(i.$slots,"sub-title",{},()=>[U("p",null,Me(i.subTitle),1)])],2)):se("v-if",!0),i.$slots.extra?(D(),$("div",{key:2,class:O(u(s).e("extra"))},[ae(i.$slots,"extra")],2)):se("v-if",!0)],2))}});var JQ=_e(ZQ,[["__file","result.vue"]]);const eZ=ft(JQ);var mR=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tZ(e,t){return!!(e===t||mR(e)&&mR(t))}function sZ(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!tZ(e[s],t[s]))return!1;return!0}function nZ(e,t){t===void 0&&(t=sZ);var s=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(s&&s.lastThis===this&&t(i,s.lastArgs))return s.lastResult;var r=e.apply(this,i);return s={lastResult:r,lastArgs:i,lastThis:this},r}return n.clear=function(){s=null},n}const f_=()=>{const t=ct().proxy.$props;return R(()=>{const s=(n,i,o)=>({});return t.perfMode?cg(s):nZ(s)})},hC=50,vf="itemRendered",Cf="scroll",Wa="forward",yf="backward",fi="auto",Pg="smart",pd="start",ro="center",fd="end",Eu="horizontal",jw="vertical",iZ="ltr",tu="rtl",gd="negative",Yw="positive-ascending",qw="positive-descending",oZ={[Eu]:"left",[jw]:"top"},rZ=20,lZ={[Eu]:"deltaX",[jw]:"deltaY"},aZ=({atEndEdge:e,atStartEdge:t,layout:s},n)=>{let i,o=0;const r=a=>a<0&&t.value||a>0&&e.value;return{hasReachedEdge:r,onWheel:a=>{Wl(i);const c=a[lZ[s.value]];r(o)&&r(o+c)||(o+=c,kD()||a.preventDefault(),i=Nr(()=>{n(o),o=0}))}}},pC=Xi({type:J([Number,Function]),required:!0}),fC=Xi({type:Number}),gC=Xi({type:Number,default:2}),uZ=Xi({type:String,values:["ltr","rtl"],default:"ltr"}),mC=Xi({type:Number,default:0}),wf=Xi({type:Number,required:!0}),g_=Xi({type:String,values:["horizontal","vertical"],default:jw}),m_=Oe({className:{type:String,default:""},containerElement:{type:J([String,Object]),default:"div"},data:{type:J(Array),default:()=>ds([])},direction:uZ,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:J([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),v_=Oe({cache:gC,estimatedItemSize:fC,layout:g_,initScrollOffset:mC,total:wf,itemSize:pC,...m_}),vC={type:Number,default:6},C_={type:Number,default:0},y_={type:Number,default:2},_l=Oe({columnCache:gC,columnWidth:pC,estimatedColumnWidth:fC,estimatedRowHeight:fC,initScrollLeft:mC,initScrollTop:mC,itemKey:{type:J(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:gC,rowHeight:pC,totalColumn:wf,totalRow:wf,hScrollbarSize:vC,vScrollbarSize:vC,scrollbarStartGap:C_,scrollbarEndGap:y_,role:String,...m_}),w_=Oe({alwaysOn:Boolean,class:String,layout:g_,total:wf,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vC,startGap:C_,endGap:y_,visible:Boolean}),Cl=(e,t)=>e<t?Wa:yf,md=e=>e===iZ||e===tu||e===Eu,vR=e=>e===tu;let Ia=null;function bf(e=!1){if(Ia===null||e){const t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";const n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Ia=qw:(t.scrollLeft=1,t.scrollLeft===0?Ia=gd:Ia=Yw),document.body.removeChild(t),Ia}return Ia}function cZ({move:e,size:t,bar:s},n){const i={},o=`translate${s.axis}(${e}px)`;return i[s.size]=t,i.transform=o,i.msTransform=o,i.webkitTransform=o,n==="horizontal"?i.height="100%":i.width="100%",i}const CC=j({name:"ElVirtualScrollBar",props:w_,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const s=R(()=>e.startGap+e.endGap),n=we("virtual-scrollbar"),i=we("scrollbar"),o=L(),r=L();let l=null,a=null;const c=Gt({isDragging:!1,traveled:0}),h=R(()=>yP[e.layout]),d=R(()=>e.clientSize-u(s)),p=R(()=>({position:"absolute",width:`${Eu===e.layout?d.value:e.scrollbarSize}px`,height:`${Eu===e.layout?e.scrollbarSize:d.value}px`,[oZ[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),g=R(()=>{const E=e.ratio,P=e.clientSize;if(E>=100)return Number.POSITIVE_INFINITY;if(E>=50)return E*P/100;const A=P/3;return Math.floor(Math.min(Math.max(E*P,rZ),A))}),m=R(()=>{if(!Number.isFinite(g.value))return{display:"none"};const E=`${g.value}px`;return cZ({bar:h.value,size:E,move:c.traveled},e.layout)}),f=R(()=>Math.floor(e.clientSize-g.value-u(s))),C=()=>{window.addEventListener("mousemove",b),window.addEventListener("mouseup",w);const E=u(r);E&&(a=document.onselectstart,document.onselectstart=()=>!1,E.addEventListener("touchmove",b),E.addEventListener("touchend",w))},v=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",w),document.onselectstart=a,a=null;const E=u(r);E&&(E.removeEventListener("touchmove",b),E.removeEventListener("touchend",w))},y=E=>{E.stopImmediatePropagation(),!(E.ctrlKey||[1,2].includes(E.button))&&(c.isDragging=!0,c[h.value.axis]=E.currentTarget[h.value.offset]-(E[h.value.client]-E.currentTarget.getBoundingClientRect()[h.value.direction]),t("start-move"),C())},w=()=>{c.isDragging=!1,c[h.value.axis]=0,t("stop-move"),v()},b=E=>{const{isDragging:P}=c;if(!P||!r.value||!o.value)return;const A=c[h.value.axis];if(!A)return;Wl(l);const N=(o.value.getBoundingClientRect()[h.value.direction]-E[h.value.client])*-1,x=r.value[h.value.offset]-A,F=N-x;l=Nr(()=>{c.traveled=Math.max(e.startGap,Math.min(F,f.value)),t("scroll",F,f.value)})},T=E=>{const P=Math.abs(E.target.getBoundingClientRect()[h.value.direction]-E[h.value.client]),A=r.value[h.value.offset]/2,N=P-A;c.traveled=Math.max(0,Math.min(N,f.value)),t("scroll",N,f.value)};return ve(()=>e.scrollFrom,E=>{c.isDragging||(c.traveled=Math.ceil(E*f.value))}),Jt(()=>{v()}),()=>Qe("div",{role:"presentation",ref:o,class:[n.b(),e.class,(e.alwaysOn||c.isDragging)&&"always-on"],style:p.value,onMousedown:st(T,["stop","prevent"]),onTouchstartPrevent:y},Qe("div",{ref:r,class:i.e("thumb"),style:m.value,onMousedown:y},[]))}}),b_=({name:e,getOffset:t,getItemSize:s,getItemOffset:n,getEstimatedTotalSize:i,getStartIndexForOffset:o,getStopIndexForStartIndex:r,initCache:l,clearCache:a,validateProps:c})=>j({name:e??"ElVirtualList",props:v_,emits:[vf,Cf],setup(h,{emit:d,expose:p}){c(h);const g=ct(),m=we("vl"),f=L(l(h,g)),C=f_(),v=L(),y=L(),w=L(),b=L({isScrolling:!1,scrollDir:"forward",scrollOffset:tt(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),T=R(()=>{const{total:ee,cache:ce}=h,{isScrolling:Ee,scrollDir:te,scrollOffset:ue}=u(b);if(ee===0)return[0,0,0,0];const le=o(h,ue,u(f)),Fe=r(h,le,ue,u(f)),pe=!Ee||te===yf?Math.max(1,ce):1,be=!Ee||te===Wa?Math.max(1,ce):1;return[Math.max(0,le-pe),Math.max(0,Math.min(ee-1,Fe+be)),le,Fe]}),E=R(()=>i(h,u(f))),P=R(()=>md(h.layout)),A=R(()=>[{position:"relative",[`overflow-${P.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:tt(h.height)?`${h.height}px`:h.height,width:tt(h.width)?`${h.width}px`:h.width},h.style]),N=R(()=>{const ee=u(E),ce=u(P);return{height:ce?"100%":`${ee}px`,pointerEvents:u(b).isScrolling?"none":void 0,width:ce?`${ee}px`:"100%"}}),x=R(()=>P.value?h.width:h.height),{onWheel:F}=aZ({atStartEdge:R(()=>b.value.scrollOffset<=0),atEndEdge:R(()=>b.value.scrollOffset>=E.value),layout:R(()=>h.layout)},ee=>{var ce,Ee;(Ee=(ce=w.value).onMouseUp)==null||Ee.call(ce),I(Math.min(b.value.scrollOffset+ee,E.value-x.value))}),G=()=>{const{total:ee}=h;if(ee>0){const[ue,le,Fe,pe]=u(T);d(vf,ue,le,Fe,pe)}const{scrollDir:ce,scrollOffset:Ee,updateRequested:te}=u(b);d(Cf,ce,Ee,te)},K=ee=>{const{clientHeight:ce,scrollHeight:Ee,scrollTop:te}=ee.currentTarget,ue=u(b);if(ue.scrollOffset===te)return;const le=Math.max(0,Math.min(te,Ee-ce));b.value={...ue,isScrolling:!0,scrollDir:Cl(ue.scrollOffset,le),scrollOffset:le,updateRequested:!1},Xe(B)},z=ee=>{const{clientWidth:ce,scrollLeft:Ee,scrollWidth:te}=ee.currentTarget,ue=u(b);if(ue.scrollOffset===Ee)return;const{direction:le}=h;let Fe=Ee;if(le===tu)switch(bf()){case gd:{Fe=-Ee;break}case qw:{Fe=te-ce-Ee;break}}Fe=Math.max(0,Math.min(Fe,te-ce)),b.value={...ue,isScrolling:!0,scrollDir:Cl(ue.scrollOffset,Fe),scrollOffset:Fe,updateRequested:!1},Xe(B)},W=ee=>{u(P)?z(ee):K(ee),G()},k=(ee,ce)=>{const Ee=(E.value-x.value)/ce*ee;I(Math.min(E.value-x.value,Ee))},I=ee=>{ee=Math.max(ee,0),ee!==u(b).scrollOffset&&(b.value={...u(b),scrollOffset:ee,scrollDir:Cl(u(b).scrollOffset,ee),updateRequested:!0},Xe(B))},V=(ee,ce=fi)=>{const{scrollOffset:Ee}=u(b);ee=Math.max(0,Math.min(ee,h.total-1)),I(t(h,ee,ce,Ee,u(f)))},_=ee=>{const{direction:ce,itemSize:Ee,layout:te}=h,ue=C.value(a&&Ee,a&&te,a&&ce);let le;if(Ot(ue,String(ee)))le=ue[ee];else{const Fe=n(h,ee,u(f)),pe=s(h,ee,u(f)),be=u(P),Le=ce===tu,X=be?Fe:0;ue[ee]=le={position:"absolute",left:Le?void 0:`${X}px`,right:Le?`${X}px`:void 0,top:be?0:`${Fe}px`,height:be?"100%":`${pe}px`,width:be?`${pe}px`:"100%"}}return le},B=()=>{b.value.isScrolling=!1,Xe(()=>{C.value(-1,null,null)})},Y=()=>{const ee=v.value;ee&&(ee.scrollTop=0)};at(()=>{if(!At)return;const{initScrollOffset:ee}=h,ce=u(v);tt(ee)&&ce&&(u(P)?ce.scrollLeft=ee:ce.scrollTop=ee),G()}),Xo(()=>{const{direction:ee,layout:ce}=h,{scrollOffset:Ee,updateRequested:te}=u(b),ue=u(v);if(te&&ue)if(ce===Eu)if(ee===tu)switch(bf()){case gd:{ue.scrollLeft=-Ee;break}case Yw:{ue.scrollLeft=Ee;break}default:{const{clientWidth:le,scrollWidth:Fe}=ue;ue.scrollLeft=Fe-le-Ee;break}}else ue.scrollLeft=Ee;else ue.scrollTop=Ee});const Q={ns:m,clientSize:x,estimatedTotalSize:E,windowStyle:A,windowRef:v,innerRef:y,innerStyle:N,itemsToRender:T,scrollbarRef:w,states:b,getItemStyle:_,onScroll:W,onScrollbarScroll:k,onWheel:F,scrollTo:I,scrollToItem:V,resetScrollTop:Y};return p({windowRef:v,innerRef:y,getItemStyleCache:C,scrollTo:I,scrollToItem:V,resetScrollTop:Y,states:b}),Q},render(h){var d;const{$slots:p,className:g,clientSize:m,containerElement:f,data:C,getItemStyle:v,innerElement:y,itemsToRender:w,innerStyle:b,layout:T,total:E,onScroll:P,onScrollbarScroll:A,onWheel:N,states:x,useIsScrolling:F,windowStyle:G,ns:K}=h,[z,W]=w,k=Ct(f),I=Ct(y),V=[];if(E>0)for(let Q=z;Q<=W;Q++)V.push((d=p.default)==null?void 0:d.call(p,{data:C,key:Q,index:Q,isScrolling:F?x.isScrolling:void 0,style:v(Q)}));const _=[Qe(I,{style:b,ref:"innerRef"},rt(I)?V:{default:()=>V})],B=Qe(CC,{ref:"scrollbarRef",clientSize:m,layout:T,onScroll:A,ratio:m*100/this.estimatedTotalSize,scrollFrom:x.scrollOffset/(this.estimatedTotalSize-m),total:E}),Y=Qe(k,{class:[K.e("window"),g],style:G,onScroll:P,onWheel:N,ref:"windowRef",key:0},rt(k)?[_]:{default:()=>[_]});return Qe("div",{key:0,class:[K.e("wrapper"),x.scrollbarAlwaysOn?"always-on":""]},[Y,B])}}),S_=b_({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:s,layout:n,width:i},o,r,l)=>{const a=md(n)?i:e,c=Math.max(0,t*s-a),h=Math.min(c,o*s),d=Math.max(0,(o+1)*s-a);switch(r===Pg&&(l>=d-a&&l<=h+a?r=fi:r=ro),r){case pd:return h;case fd:return d;case ro:{const p=Math.round(d+(h-d)/2);return p<Math.ceil(a/2)?0:p>c+Math.floor(a/2)?c:p}case fi:default:return l>=d&&l<=h?l:l<d?d:h}},getStartIndexForOffset:({total:e,itemSize:t},s)=>Math.max(0,Math.min(e-1,Math.floor(s/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:s,layout:n,width:i},o,r)=>{const l=o*s,a=md(n)?i:e,c=Math.ceil((a+r-l)/s);return Math.max(0,Math.min(t-1,o+c-1))},initCache(){},clearCache:!0,validateProps(){}}),za=(e,t,s)=>{const{itemSize:n}=e,{items:i,lastVisitedIndex:o}=s;if(t>o){let r=0;if(o>=0){const l=i[o];r=l.offset+l.size}for(let l=o+1;l<=t;l++){const a=n(l);i[l]={offset:r,size:a},r+=a}s.lastVisitedIndex=t}return i[t]},dZ=(e,t,s)=>{const{items:n,lastVisitedIndex:i}=t;return(i>0?n[i].offset:0)>=s?E_(e,t,0,i,s):hZ(e,t,Math.max(0,i),s)},E_=(e,t,s,n,i)=>{for(;s<=n;){const o=s+Math.floor((n-s)/2),r=za(e,o,t).offset;if(r===i)return o;r<i?s=o+1:r>i&&(n=o-1)}return Math.max(0,s-1)},hZ=(e,t,s,n)=>{const{total:i}=e;let o=1;for(;s<i&&za(e,s,t).offset<n;)s+=o,o*=2;return E_(e,t,Math.floor(s/2),Math.min(s,i-1),n)},CR=({total:e},{items:t,estimatedItemSize:s,lastVisitedIndex:n})=>{let i=0;if(n>=e&&(n=e-1),n>=0){const l=t[n];i=l.offset+l.size}const r=(e-n-1)*s;return i+r},pZ=b_({name:"ElDynamicSizeList",getItemOffset:(e,t,s)=>za(e,t,s).offset,getItemSize:(e,t,{items:s})=>s[t].size,getEstimatedTotalSize:CR,getOffset:(e,t,s,n,i)=>{const{height:o,layout:r,width:l}=e,a=md(r)?l:o,c=za(e,t,i),h=CR(e,i),d=Math.max(0,Math.min(h-a,c.offset)),p=Math.max(0,c.offset-a+c.size);switch(s===Pg&&(n>=p-a&&n<=d+a?s=fi:s=ro),s){case pd:return d;case fd:return p;case ro:return Math.round(p+(d-p)/2);case fi:default:return n>=p&&n<=d?n:n<p?p:d}},getStartIndexForOffset:(e,t,s)=>dZ(e,s,t),getStopIndexForStartIndex:(e,t,s,n)=>{const{height:i,total:o,layout:r,width:l}=e,a=md(r)?l:i,c=za(e,t,n),h=s+a;let d=c.offset+c.size,p=t;for(;p<o-1&&d<h;)p++,d+=za(e,p,n).size;return p},initCache({estimatedItemSize:e=hC},t){const s={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return s.clearCacheAfterIndex=(n,i=!0)=>{var o,r;s.lastVisitedIndex=Math.min(s.lastVisitedIndex,n-1),(o=t.exposed)==null||o.getItemStyleCache(-1),i&&((r=t.proxy)==null||r.$forceUpdate())},s},clearCache:!1,validateProps:({itemSize:e})=>{}}),fZ=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:s,atYStartEdge:n},i)=>{let o=null,r=0,l=0;const a=(h,d)=>{const p=h<=0&&t.value||h>=0&&e.value,g=d<=0&&n.value||d>=0&&s.value;return p&&g};return{hasReachedEdge:a,onWheel:h=>{Wl(o);let d=h.deltaX,p=h.deltaY;Math.abs(d)>Math.abs(p)?p=0:d=0,h.shiftKey&&p!==0&&(d=p,p=0),!(a(r,l)&&a(r+d,l+p))&&(r+=d,l+=p,h.preventDefault(),o=Nr(()=>{i(r,l),r=0,l=0}))}}},R_=({name:e,clearCache:t,getColumnPosition:s,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:o,getEstimatedTotalWidth:r,getColumnOffset:l,getRowOffset:a,getRowPosition:c,getRowStartIndexForOffset:h,getRowStopIndexForStartIndex:d,initCache:p,injectToInstance:g,validateProps:m})=>j({name:e??"ElVirtualList",props:_l,emits:[vf,Cf],setup(f,{emit:C,expose:v,slots:y}){const w=we("vl");m(f);const b=ct(),T=L(p(f,b));g==null||g(b,T);const E=L(),P=L(),A=L(),N=L(null),x=L({isScrolling:!1,scrollLeft:tt(f.initScrollLeft)?f.initScrollLeft:0,scrollTop:tt(f.initScrollTop)?f.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Wa,yAxisScrollDir:Wa}),F=f_(),G=R(()=>Number.parseInt(`${f.height}`,10)),K=R(()=>Number.parseInt(`${f.width}`,10)),z=R(()=>{const{totalColumn:he,totalRow:Se,columnCache:Te}=f,{isScrolling:De,xAxisScrollDir:ye,scrollLeft:Ae}=u(x);if(he===0||Se===0)return[0,0,0,0];const Ve=n(f,Ae,u(T)),Ke=i(f,Ve,Ae,u(T)),ge=!De||ye===yf?Math.max(1,Te):1,$e=!De||ye===Wa?Math.max(1,Te):1;return[Math.max(0,Ve-ge),Math.max(0,Math.min(he-1,Ke+$e)),Ve,Ke]}),W=R(()=>{const{totalColumn:he,totalRow:Se,rowCache:Te}=f,{isScrolling:De,yAxisScrollDir:ye,scrollTop:Ae}=u(x);if(he===0||Se===0)return[0,0,0,0];const Ve=h(f,Ae,u(T)),Ke=d(f,Ve,Ae,u(T)),ge=!De||ye===yf?Math.max(1,Te):1,$e=!De||ye===Wa?Math.max(1,Te):1;return[Math.max(0,Ve-ge),Math.max(0,Math.min(Se-1,Ke+$e)),Ve,Ke]}),k=R(()=>o(f,u(T))),I=R(()=>r(f,u(T))),V=R(()=>{var he;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:f.direction,height:tt(f.height)?`${f.height}px`:f.height,width:tt(f.width)?`${f.width}px`:f.width},(he=f.style)!=null?he:{}]}),_=R(()=>{const he=`${u(I)}px`;return{height:`${u(k)}px`,pointerEvents:u(x).isScrolling?"none":void 0,width:he}}),B=()=>{const{totalColumn:he,totalRow:Se}=f;if(he>0&&Se>0){const[Ke,ge,$e,et]=u(z),[dt,wt,Je,me]=u(W);C(vf,{columnCacheStart:Ke,columnCacheEnd:ge,rowCacheStart:dt,rowCacheEnd:wt,columnVisibleStart:$e,columnVisibleEnd:et,rowVisibleStart:Je,rowVisibleEnd:me})}const{scrollLeft:Te,scrollTop:De,updateRequested:ye,xAxisScrollDir:Ae,yAxisScrollDir:Ve}=u(x);C(Cf,{xAxisScrollDir:Ae,scrollLeft:Te,yAxisScrollDir:Ve,scrollTop:De,updateRequested:ye})},Y=he=>{const{clientHeight:Se,clientWidth:Te,scrollHeight:De,scrollLeft:ye,scrollTop:Ae,scrollWidth:Ve}=he.currentTarget,Ke=u(x);if(Ke.scrollTop===Ae&&Ke.scrollLeft===ye)return;let ge=ye;if(vR(f.direction))switch(bf()){case gd:ge=-ye;break;case qw:ge=Ve-Te-ye;break}x.value={...Ke,isScrolling:!0,scrollLeft:ge,scrollTop:Math.max(0,Math.min(Ae,De-Se)),updateRequested:!0,xAxisScrollDir:Cl(Ke.scrollLeft,ge),yAxisScrollDir:Cl(Ke.scrollTop,Ae)},Xe(()=>le()),Fe(),B()},Q=(he,Se)=>{const Te=u(G),De=(k.value-Te)/Se*he;Ee({scrollTop:Math.min(k.value-Te,De)})},ee=(he,Se)=>{const Te=u(K),De=(I.value-Te)/Se*he;Ee({scrollLeft:Math.min(I.value-Te,De)})},{onWheel:ce}=fZ({atXStartEdge:R(()=>x.value.scrollLeft<=0),atXEndEdge:R(()=>x.value.scrollLeft>=I.value-u(K)),atYStartEdge:R(()=>x.value.scrollTop<=0),atYEndEdge:R(()=>x.value.scrollTop>=k.value-u(G))},(he,Se)=>{var Te,De,ye,Ae;(De=(Te=P.value)==null?void 0:Te.onMouseUp)==null||De.call(Te),(Ae=(ye=A.value)==null?void 0:ye.onMouseUp)==null||Ae.call(ye);const Ve=u(K),Ke=u(G);Ee({scrollLeft:Math.min(x.value.scrollLeft+he,I.value-Ve),scrollTop:Math.min(x.value.scrollTop+Se,k.value-Ke)})}),Ee=({scrollLeft:he=x.value.scrollLeft,scrollTop:Se=x.value.scrollTop})=>{he=Math.max(he,0),Se=Math.max(Se,0);const Te=u(x);Se===Te.scrollTop&&he===Te.scrollLeft||(x.value={...Te,xAxisScrollDir:Cl(Te.scrollLeft,he),yAxisScrollDir:Cl(Te.scrollTop,Se),scrollLeft:he,scrollTop:Se,updateRequested:!0},Xe(()=>le()),Fe(),B())},te=(he=0,Se=0,Te=fi)=>{const De=u(x);Se=Math.max(0,Math.min(Se,f.totalColumn-1)),he=Math.max(0,Math.min(he,f.totalRow-1));const ye=TA(w.namespace.value),Ae=u(T),Ve=o(f,Ae),Ke=r(f,Ae);Ee({scrollLeft:l(f,Se,Te,De.scrollLeft,Ae,Ke>f.width?ye:0),scrollTop:a(f,he,Te,De.scrollTop,Ae,Ve>f.height?ye:0)})},ue=(he,Se)=>{const{columnWidth:Te,direction:De,rowHeight:ye}=f,Ae=F.value(t&&Te,t&&ye,t&&De),Ve=`${he},${Se}`;if(Ot(Ae,Ve))return Ae[Ve];{const[,Ke]=s(f,Se,u(T)),ge=u(T),$e=vR(De),[et,dt]=c(f,he,ge),[wt]=s(f,Se,ge);return Ae[Ve]={position:"absolute",left:$e?void 0:`${Ke}px`,right:$e?`${Ke}px`:void 0,top:`${dt}px`,height:`${et}px`,width:`${wt}px`},Ae[Ve]}},le=()=>{x.value.isScrolling=!1,Xe(()=>{F.value(-1,null,null)})};at(()=>{if(!At)return;const{initScrollLeft:he,initScrollTop:Se}=f,Te=u(E);Te&&(tt(he)&&(Te.scrollLeft=he),tt(Se)&&(Te.scrollTop=Se)),B()});const Fe=()=>{const{direction:he}=f,{scrollLeft:Se,scrollTop:Te,updateRequested:De}=u(x),ye=u(E);if(De&&ye){if(he===tu)switch(bf()){case gd:{ye.scrollLeft=-Se;break}case Yw:{ye.scrollLeft=Se;break}default:{const{clientWidth:Ae,scrollWidth:Ve}=ye;ye.scrollLeft=Ve-Ae-Se;break}}else ye.scrollLeft=Math.max(0,Se);ye.scrollTop=Math.max(0,Te)}},{resetAfterColumnIndex:pe,resetAfterRowIndex:be,resetAfter:Le}=b.proxy;v({windowRef:E,innerRef:N,getItemStyleCache:F,scrollTo:Ee,scrollToItem:te,states:x,resetAfterColumnIndex:pe,resetAfterRowIndex:be,resetAfter:Le});const X=()=>{const{scrollbarAlwaysOn:he,scrollbarStartGap:Se,scrollbarEndGap:Te,totalColumn:De,totalRow:ye}=f,Ae=u(K),Ve=u(G),Ke=u(I),ge=u(k),{scrollLeft:$e,scrollTop:et}=u(x),dt=Qe(CC,{ref:P,alwaysOn:he,startGap:Se,endGap:Te,class:w.e("horizontal"),clientSize:Ae,layout:"horizontal",onScroll:ee,ratio:Ae*100/Ke,scrollFrom:$e/(Ke-Ae),total:ye,visible:!0}),wt=Qe(CC,{ref:A,alwaysOn:he,startGap:Se,endGap:Te,class:w.e("vertical"),clientSize:Ve,layout:"vertical",onScroll:Q,ratio:Ve*100/ge,scrollFrom:et/(ge-Ve),total:De,visible:!0});return{horizontalScrollbar:dt,verticalScrollbar:wt}},ie=()=>{var he;const[Se,Te]=u(z),[De,ye]=u(W),{data:Ae,totalColumn:Ve,totalRow:Ke,useIsScrolling:ge,itemKey:$e}=f,et=[];if(Ke>0&&Ve>0)for(let dt=De;dt<=ye;dt++)for(let wt=Se;wt<=Te;wt++)et.push((he=y.default)==null?void 0:he.call(y,{columnIndex:wt,data:Ae,key:$e({columnIndex:wt,data:Ae,rowIndex:dt}),isScrolling:ge?u(x).isScrolling:void 0,style:ue(dt,wt),rowIndex:dt}));return et},Ce=()=>{const he=Ct(f.innerElement),Se=ie();return[Qe(he,{style:u(_),ref:N},rt(he)?Se:{default:()=>Se})]};return()=>{const he=Ct(f.containerElement),{horizontalScrollbar:Se,verticalScrollbar:Te}=X(),De=Ce();return Qe("div",{key:0,class:w.e("wrapper"),role:f.role},[Qe(he,{class:f.className,style:u(V),onScroll:Y,onWheel:ce,ref:E},rt(he)?De:{default:()=>De}),Se,Te])}}}),gZ=R_({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:s},n,i,o,r,l)=>{s=Number(s);const a=Math.max(0,e*t-s),c=Math.min(a,n*t),h=Math.max(0,n*t-s+l+t);switch(i==="smart"&&(o>=h-s&&o<=c+s?i=fi:i=ro),i){case pd:return c;case fd:return h;case ro:{const d=Math.round(h+(c-h)/2);return d<Math.ceil(s/2)?0:d>a+Math.floor(s/2)?a:d}case fi:default:return o>=h&&o<=c?o:h>c||o<h?h:c}},getRowOffset:({rowHeight:e,height:t,totalRow:s},n,i,o,r,l)=>{t=Number(t);const a=Math.max(0,s*e-t),c=Math.min(a,n*e),h=Math.max(0,n*e-t+l+e);switch(i===Pg&&(o>=h-t&&o<=c+t?i=fi:i=ro),i){case pd:return c;case fd:return h;case ro:{const d=Math.round(h+(c-h)/2);return d<Math.ceil(t/2)?0:d>a+Math.floor(t/2)?a:d}case fi:default:return o>=h&&o<=c?o:h>c||o<h?h:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},s)=>Math.max(0,Math.min(t-1,Math.floor(s/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:s},n,i)=>{const o=n*e,r=Math.ceil((s+i-o)/e);return Math.max(0,Math.min(t-1,n+r-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},s)=>Math.max(0,Math.min(t-1,Math.floor(s/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:s},n,i)=>{const o=n*e,r=Math.ceil((s+i-o)/e);return Math.max(0,Math.min(t-1,n+r-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:Sf,min:T_,floor:D_}=Math,mZ={column:"columnWidth",row:"rowHeight"},yC={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Lo=(e,t,s,n)=>{const[i,o,r]=[s[n],e[mZ[n]],s[yC[n]]];if(t>r){let l=0;if(r>=0){const a=i[r];l=a.offset+a.size}for(let a=r+1;a<=t;a++){const c=o(a);i[a]={offset:l,size:c},l+=c}s[yC[n]]=t}return i[t]},A_=(e,t,s,n,i,o)=>{for(;s<=n;){const r=s+D_((n-s)/2),l=Lo(e,r,t,o).offset;if(l===i)return r;l<i?s=r+1:n=r-1}return Sf(0,s-1)},vZ=(e,t,s,n,i)=>{const o=i==="column"?e.totalColumn:e.totalRow;let r=1;for(;s<o&&Lo(e,s,t,i).offset<n;)s+=r,r*=2;return A_(e,t,D_(s/2),T_(s,o-1),n,i)},yR=(e,t,s,n)=>{const[i,o]=[t[n],t[yC[n]]];return(o>0?i[o].offset:0)>=s?A_(e,t,0,o,s,n):vZ(e,t,Sf(0,o),s,n)},P_=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:s,row:n})=>{let i=0;if(s>=e&&(s=e-1),s>=0){const l=n[s];i=l.offset+l.size}const r=(e-s-1)*t;return i+r},O_=({totalColumn:e},{column:t,estimatedColumnWidth:s,lastVisitedColumnIndex:n})=>{let i=0;if(n>e&&(n=e-1),n>=0){const l=t[n];i=l.offset+l.size}const r=(e-n-1)*s;return i+r},CZ={column:O_,row:P_},wR=(e,t,s,n,i,o,r)=>{const[l,a]=[o==="row"?e.height:e.width,CZ[o]],c=Lo(e,t,i,o),h=a(e,i),d=Sf(0,T_(h-l,c.offset)),p=Sf(0,c.offset-l+r+c.size);switch(s===Pg&&(n>=p-l&&n<=d+l?s=fi:s=ro),s){case pd:return d;case fd:return p;case ro:return Math.round(p+(d-p)/2);case fi:default:return n>=p&&n<=d?n:p>d||n<p?p:d}},yZ=R_({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,s)=>{const n=Lo(e,t,s,"column");return[n.size,n.offset]},getRowPosition:(e,t,s)=>{const n=Lo(e,t,s,"row");return[n.size,n.offset]},getColumnOffset:(e,t,s,n,i,o)=>wR(e,t,s,n,i,"column",o),getRowOffset:(e,t,s,n,i,o)=>wR(e,t,s,n,i,"row",o),getColumnStartIndexForOffset:(e,t,s)=>yR(e,s,t,"column"),getColumnStopIndexForStartIndex:(e,t,s,n)=>{const i=Lo(e,t,n,"column"),o=s+e.width;let r=i.offset+i.size,l=t;for(;l<e.totalColumn-1&&r<o;)l++,r+=Lo(e,t,n,"column").size;return l},getEstimatedTotalHeight:P_,getEstimatedTotalWidth:O_,getRowStartIndexForOffset:(e,t,s)=>yR(e,s,t,"row"),getRowStopIndexForStartIndex:(e,t,s,n)=>{const{totalRow:i,height:o}=e,r=Lo(e,t,n,"row"),l=s+o;let a=r.size+r.offset,c=t;for(;c<i-1&&a<l;)c++,a+=Lo(e,c,n,"row").size;return c},injectToInstance:(e,t)=>{const s=({columnIndex:o,rowIndex:r},l)=>{var a,c;l=Ps(l)?!0:l,tt(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),tt(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),(a=e.exposed)==null||a.getItemStyleCache.value(-1,null,null),l&&((c=e.proxy)==null||c.$forceUpdate())},n=(o,r)=>{s({columnIndex:o},r)},i=(o,r)=>{s({rowIndex:o},r)};Object.assign(e.proxy,{resetAfterColumnIndex:n,resetAfterRowIndex:i,resetAfter:s})},initCache:({estimatedColumnWidth:e=hC,estimatedRowHeight:t=hC})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),wZ=j({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:we("select")}}});function bZ(e,t,s,n,i,o){return e.item.isTitle?(D(),$("div",{key:0,class:O(e.ns.be("group","title")),style:je([e.style,{lineHeight:`${e.height}px`}])},Me(e.item.label),7)):(D(),$("div",{key:1,class:O(e.ns.be("group","split")),style:je(e.style)},[U("span",{class:O(e.ns.be("group","split-dash")),style:je({top:`${e.height/2}px`})},null,6)],6))}var SZ=_e(wZ,[["render",bZ],["__file","group-item.vue"]]);function EZ(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const __={label:"label",value:"value",disabled:"disabled",options:"options"};function Og(e){const t=R(()=>({...__,...e.props}));return{aliasProps:t,getLabel:r=>Ss(r,t.value.label),getValue:r=>Ss(r,t.value.value),getDisabled:r=>Ss(r,t.value.disabled),getOptions:r=>Ss(r,t.value.options)}}const RZ=Oe({allowCreate:Boolean,autocomplete:{type:J(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Kt,default:jr},effect:{type:J(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:J([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:J(Array),required:!0},placeholder:{type:String},teleported:qs.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:J(Object),default:()=>({})},remote:Boolean,size:Us,props:{type:J(Object),default:()=>__},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:J(String),values:da,default:"bottom-start"},fallbackPlacements:{type:J(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Tg.type,default:"info"},ariaLabel:{type:String,default:void 0}}),TZ=Oe({data:Array,disabled:Boolean,hovering:Boolean,item:{type:J(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Xw=Symbol("ElSelectV2Injection"),DZ=j({props:TZ,emits:["select","hover"],setup(e,{emit:t}){const s=Be(Xw),n=we("select"),{hoverItem:i,selectOptionClick:o}=EZ(e,{emit:t}),{getLabel:r}=Og(s.props);return{ns:n,hoverItem:i,selectOptionClick:o,getLabel:r}}}),AZ=["aria-selected"];function PZ(e,t,s,n,i,o){return D(),$("li",{"aria-selected":e.selected,style:je(e.style),class:O([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=st((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[ae(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[U("span",null,Me(e.getLabel(e.item)),1)])],46,AZ)}var OZ=_e(DZ,[["render",PZ],["__file","option-item.vue"]]),_Z=j({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:s}){const n=Be(Xw),i=we("select"),{getLabel:o,getValue:r,getDisabled:l}=Og(n.props),a=L([]),c=L(),h=R(()=>e.data.length);ve(()=>h.value,()=>{var F,G;(G=(F=n.tooltipRef.value).updatePopper)==null||G.call(F)});const d=R(()=>Ps(n.props.estimatedOptionHeight)),p=R(()=>d.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:F=>a.value[F]}),g=(F=[],G)=>{const{props:{valueKey:K}}=n;return yt(G)?F&&F.some(z=>zt(Ss(z,K))===Ss(G,K)):F.includes(G)},m=(F,G)=>{if(yt(G)){const{valueKey:K}=n.props;return Ss(F,K)===Ss(G,K)}else return F===G},f=(F,G)=>n.props.multiple?g(F,r(G)):m(F,r(G)),C=(F,G)=>{const{disabled:K,multiple:z,multipleLimit:W}=n.props;return K||!G&&(z?W>0&&F.length>=W:!1)},v=F=>e.hoveringIndex===F;s({listRef:c,isSized:d,isItemDisabled:C,isItemHovering:v,isItemSelected:f,scrollToItem:F=>{const G=c.value;G&&G.scrollToItem(F)},resetScrollTop:()=>{const F=c.value;F&&F.resetScrollTop()}});const b=F=>{const{index:G,data:K,style:z}=F,W=u(d),{itemSize:k,estimatedSize:I}=u(p),{modelValue:V}=n.props,{onSelect:_,onHover:B}=n,Y=K[G];if(Y.type==="Group")return q(SZ,{item:Y,style:z,height:W?k:I},null);const Q=f(V,Y),ee=C(V,Q),ce=v(G);return q(OZ,bt(F,{selected:Q,disabled:l(Y)||ee,created:!!Y.created,hovering:ce,item:Y,onSelect:_,onHover:B}),{default:Ee=>{var te;return((te=t.default)==null?void 0:te.call(t,Ee))||q("span",null,[o(Y)])}})},{onKeyboardNavigate:T,onKeyboardSelect:E}=n,P=()=>{T("forward")},A=()=>{T("backward")},N=()=>{n.expanded=!1},x=F=>{const{code:G}=F,{tab:K,esc:z,down:W,up:k,enter:I}=Ye;switch(G!==K&&(F.preventDefault(),F.stopPropagation()),G){case K:case z:{N();break}case W:{P();break}case k:{A();break}case I:{E();break}}};return()=>{var F,G,K,z;const{data:W,width:k}=e,{height:I,multiple:V,scrollbarAlwaysOn:_}=n.props,B=u(d)?S_:pZ;return q("div",{class:[i.b("dropdown"),i.is("multiple",V)],style:{width:`${k}px`}},[(F=t.header)==null?void 0:F.call(t),((G=t.loading)==null?void 0:G.call(t))||((K=t.empty)==null?void 0:K.call(t))||q(B,bt({ref:c},u(p),{className:i.be("dropdown","list"),scrollbarAlwaysOn:_,data:W,height:I,width:k,total:W.length,onKeydown:x}),{default:Y=>q(b,Y,null)}),(z=t.footer)==null?void 0:z.call(t)])}}});function MZ(e,t){const{aliasProps:s,getLabel:n,getValue:i}=Og(e),o=L(0),r=L(null),l=R(()=>e.allowCreate&&e.filterable);function a(g){const m=f=>i(f)===g;return e.options&&e.options.some(m)||t.createdOptions.some(m)}function c(g){l.value&&(e.multiple&&g.created?o.value++:r.value=g)}function h(g){if(l.value)if(g&&g.length>0){if(a(g))return;const m={[s.value.value]:g,[s.value.label]:g,created:!0,[s.value.disabled]:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=m:t.createdOptions.push(m)}else if(e.multiple)t.createdOptions.length=o.value;else{const m=r.value;t.createdOptions.length=0,m&&m.created&&t.createdOptions.push(m)}}function d(g){if(!l.value||!g||!g.created||g.created&&e.reserveKeyword&&t.inputValue===n(g))return;const m=t.createdOptions.findIndex(f=>i(f)===i(g));~m&&(t.createdOptions.splice(m,1),o.value--)}function p(){l.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:h,removeNewOption:d,selectNewOption:c,clearAllNewOption:p}}const IZ=11,FZ=(e,t)=>{const{t:s}=Ft(),n=we("select"),i=we("input"),{form:o,formItem:r}=Dn(),{inputId:l}=To(e,{formItemContext:r}),{getLabel:a,getValue:c,getDisabled:h,getOptions:d}=Og(e),p=Gt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=L(-1),m=L(-1),f=L(null),C=L(null),v=L(null),y=L(null),w=L(null),b=L(null),T=L(null),E=L(null),P=L(null),A=L(null),N=L(null),{wrapperRef:x,isFocused:F,handleFocus:G,handleBlur:K}=wg(w,{afterFocus(){e.automaticDropdown&&!k.value&&(k.value=!0,p.menuVisibleOnFocus=!0)},beforeBlur(Ne){var gt,Tt;return((gt=v.value)==null?void 0:gt.isFocusInsideContent(Ne))||((Tt=y.value)==null?void 0:Tt.isFocusInsideContent(Ne))},afterBlur(){k.value=!1,p.menuVisibleOnFocus=!1}}),z=L([]),W=L([]),k=L(!1),I=R(()=>e.disabled||(o==null?void 0:o.disabled)),V=R(()=>{const Ne=W.value.length*e.itemHeight;return Ne>e.height?e.height:Ne}),_=R(()=>z.value.some(Ne=>c(Ne)==="")),B=R(()=>e.multiple?ke(e.modelValue)&&e.modelValue.length>0:!Is(e.modelValue)&&(e.modelValue!==""||_.value)),Y=R(()=>e.clearable&&!I.value&&p.inputHovering&&B.value),Q=R(()=>e.remote&&e.filterable?"":Jo),ee=R(()=>Q.value&&n.is("reverse",k.value)),ce=R(()=>(r==null?void 0:r.validateState)||""),Ee=R(()=>ow[ce.value]),te=R(()=>e.remote?300:0),ue=R(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&!p.inputValue&&z.value.length===0?!1:e.filterable&&p.inputValue&&z.value.length>0&&W.value.length===0?e.noMatchText||s("el.select.noMatch"):z.value.length===0?e.noDataText||s("el.select.noData"):null),le=Ne=>{const gt=Tt=>{if(e.filterable&&nt(e.filterMethod)||e.filterable&&e.remote&&nt(e.remoteMethod))return!0;const kt=new RegExp(Qy(Ne),"i");return Ne?kt.test(a(Tt)||""):!0};return e.loading?[]:[...p.createdOptions,...e.options].reduce((Tt,kt)=>{const Ji=d(kt);if(ke(Ji)){const Mo=Ji.filter(gt);Mo.length>0&&Tt.push({label:a(kt),isTitle:!0,type:"Group"},...Mo,{type:"Group"})}else(e.remote||gt(kt))&&Tt.push(kt);return Tt},[])},Fe=()=>{z.value=le(""),W.value=le(p.inputValue)},pe=R(()=>{const Ne=new Map;return z.value.forEach((gt,Tt)=>{Ne.set(ys(c(gt)),{option:gt,index:Tt})}),Ne}),be=R(()=>{const Ne=new Map;return W.value.forEach((gt,Tt)=>{Ne.set(ys(c(gt)),{option:gt,index:Tt})}),Ne}),Le=R(()=>W.value.every(Ne=>h(Ne))),X=xs(),ie=R(()=>X.value==="small"?"small":"default"),Ce=()=>{var Ne;m.value=((Ne=f.value)==null?void 0:Ne.offsetWidth)||200},Re=()=>{if(!C.value)return 0;const Ne=window.getComputedStyle(C.value);return Number.parseFloat(Ne.gap||"6px")},he=R(()=>{const Ne=Re();return{maxWidth:`${N.value&&e.maxCollapseTags===1?p.selectionWidth-p.collapseItemWidth-Ne:p.selectionWidth}px`}}),Se=R(()=>({maxWidth:`${p.selectionWidth}px`})),Te=R(()=>({width:`${Math.max(p.calculatorWidth,IZ)}px`})),De=R(()=>ke(e.modelValue)?e.modelValue.length===0&&!p.inputValue:e.filterable?!p.inputValue:!0),ye=R(()=>{var Ne;const gt=(Ne=e.placeholder)!=null?Ne:s("el.select.placeholder");return e.multiple||!B.value?gt:p.selectedLabel}),Ae=R(()=>{var Ne,gt;return(gt=(Ne=v.value)==null?void 0:Ne.popperRef)==null?void 0:gt.contentRef}),Ve=R(()=>{if(e.multiple){const Ne=e.modelValue.length;if(e.modelValue.length>0&&be.value.has(e.modelValue[Ne-1])){const{index:gt}=be.value.get(e.modelValue[Ne-1]);return gt}}else if(e.modelValue&&be.value.has(e.modelValue)){const{index:Ne}=be.value.get(e.modelValue);return Ne}return-1}),Ke=R({get(){return k.value&&ue.value!==!1},set(Ne){k.value=Ne}}),ge=R(()=>e.multiple?e.collapseTags?p.cachedOptions.slice(0,e.maxCollapseTags):p.cachedOptions:[]),$e=R(()=>e.multiple?e.collapseTags?p.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:et,removeNewOption:dt,selectNewOption:wt,clearAllNewOption:Je}=MZ(e,p),{handleCompositionStart:me,handleCompositionUpdate:Ie,handleCompositionEnd:ne}=c_(Ne=>Oo(Ne)),de=()=>{I.value||(p.menuVisibleOnFocus?p.menuVisibleOnFocus=!1:k.value=!k.value)},Pe=()=>{p.inputValue.length>0&&!k.value&&(k.value=!0),et(p.inputValue),ze(p.inputValue)},oe=$n(Pe,te.value),ze=Ne=>{p.previousQuery!==Ne&&(p.previousQuery=Ne,e.filterable&&nt(e.filterMethod)?e.filterMethod(Ne):e.filterable&&e.remote&&nt(e.remoteMethod)&&e.remoteMethod(Ne),e.defaultFirstOption&&(e.filterable||e.remote)&&W.value.length?Xe(ut):Xe(Zi))},ut=()=>{const Ne=W.value.filter(kt=>!kt.disabled&&kt.type!=="Group"),gt=Ne.find(kt=>kt.created),Tt=Ne[0];p.hoveringIndex=Ii(W.value,gt||Tt)},Ht=Ne=>{un(e.modelValue,Ne)||t(as,Ne)},Qt=Ne=>{t(vt,Ne),Ht(Ne),p.previousValue=String(Ne)},Ii=(Ne=[],gt)=>{if(!yt(gt))return Ne.indexOf(gt);const Tt=e.valueKey;let kt=-1;return Ne.some((Ji,Mo)=>Ss(Ji,Tt)===Ss(gt,Tt)?(kt=Mo,!0):!1),kt},ys=Ne=>yt(Ne)?Ss(Ne,e.valueKey):Ne,Bt=()=>{Ce()},ps=()=>{p.selectionWidth=C.value.getBoundingClientRect().width},Kn=()=>{p.calculatorWidth=b.value.getBoundingClientRect().width},am=()=>{p.collapseItemWidth=N.value.getBoundingClientRect().width},Po=()=>{var Ne,gt;(gt=(Ne=v.value)==null?void 0:Ne.updatePopper)==null||gt.call(Ne)},Mh=()=>{var Ne,gt;(gt=(Ne=y.value)==null?void 0:Ne.updatePopper)==null||gt.call(Ne)},Ih=(Ne,gt)=>{if(e.multiple){let Tt=e.modelValue.slice();const kt=Ii(Tt,c(Ne));kt>-1?(Tt=[...Tt.slice(0,kt),...Tt.slice(kt+1)],p.cachedOptions.splice(kt,1),dt(Ne)):(e.multipleLimit<=0||Tt.length<e.multipleLimit)&&(Tt=[...Tt,c(Ne)],p.cachedOptions.push(Ne),wt(Ne)),Qt(Tt),Ne.created&&ze(""),e.filterable&&!e.reserveKeyword&&(p.inputValue="")}else g.value=gt,p.selectedLabel=a(Ne),Qt(c(Ne)),k.value=!1,wt(Ne),Ne.created||Je();tl()},um=(Ne,gt)=>{let Tt=e.modelValue.slice();const kt=Ii(Tt,c(gt));kt>-1&&!I.value&&(Tt=[...e.modelValue.slice(0,kt),...e.modelValue.slice(kt+1)],p.cachedOptions.splice(kt,1),Qt(Tt),t("remove-tag",c(gt)),dt(gt)),Ne.stopPropagation(),tl()},tl=()=>{var Ne;(Ne=w.value)==null||Ne.focus()},cm=()=>{var Ne;(Ne=w.value)==null||Ne.blur()},dm=()=>{p.inputValue.length>0?p.inputValue="":k.value=!1},hm=Ne=>bA(Ne,gt=>!p.cachedOptions.some(Tt=>c(Tt)===gt&&h(Tt))),pm=Ne=>{if(e.multiple&&Ne.code!==Ye.delete&&p.inputValue.length===0){Ne.preventDefault();const gt=e.modelValue.slice(),Tt=hm(gt);if(Tt<0)return;gt.splice(Tt,1);const kt=p.cachedOptions[Tt];p.cachedOptions.splice(Tt,1),dt(kt),Qt(gt)}},xe=()=>{let Ne;ke(e.modelValue)?Ne=[]:Ne=void 0,e.multiple?p.cachedOptions=[]:p.selectedLabel="",k.value=!1,Qt(Ne),t("clear"),Je(),tl()},it=(Ne,gt=void 0)=>{const Tt=W.value;if(!["forward","backward"].includes(Ne)||I.value||Tt.length<=0||Le.value)return;if(!k.value)return de();gt===void 0&&(gt=p.hoveringIndex);let kt=-1;Ne==="forward"?(kt=gt+1,kt>=Tt.length&&(kt=0)):Ne==="backward"&&(kt=gt-1,(kt<0||kt>=Tt.length)&&(kt=Tt.length-1));const Ji=Tt[kt];if(h(Ji)||Ji.type==="Group")return it(Ne,kt);p.hoveringIndex=kt,Mn(kt)},is=()=>{if(k.value)~p.hoveringIndex&&W.value[p.hoveringIndex]&&Ih(W.value[p.hoveringIndex],p.hoveringIndex);else return de()},As=Ne=>{p.hoveringIndex=Ne},Zi=()=>{e.multiple?p.hoveringIndex=W.value.findIndex(Ne=>e.modelValue.some(gt=>ys(gt)===ys(Ne))):p.hoveringIndex=W.value.findIndex(Ne=>ys(Ne)===ys(e.modelValue))},Oo=Ne=>{if(p.inputValue=Ne.target.value,e.remote)oe();else return Pe()},Pa=Ne=>{if(k.value=!1,F.value){const gt=new FocusEvent("focus",Ne);K(gt)}},_o=()=>Xe(()=>{~Ve.value&&Mn(p.hoveringIndex)}),Mn=Ne=>{P.value.scrollToItem(Ne)},Fh=Ne=>{const gt=ys(Ne);if(pe.value.has(gt)){const{option:Tt}=pe.value.get(gt);return Tt}return{value:Ne,label:Ne}},fm=()=>{if(e.multiple)if(e.modelValue.length>0){p.cachedOptions.length=0,p.previousValue=e.modelValue.toString();for(const Ne of e.modelValue){const gt=Fh(Ne);p.cachedOptions.push(gt)}}else p.cachedOptions=[],p.previousValue=void 0;else if(B.value){p.previousValue=e.modelValue;const Ne=W.value,gt=Ne.findIndex(Tt=>ys(c(Tt))===ys(e.modelValue));~gt?p.selectedLabel=a(Ne[gt]):p.selectedLabel=ys(e.modelValue)}else p.selectedLabel="",p.previousValue=void 0;Je(),Ce()};return ve(k,Ne=>{Ne?ze(""):(p.inputValue="",p.previousQuery=null,p.isBeforeHide=!0,et("")),t("visible-change",Ne)}),ve(()=>e.modelValue,(Ne,gt)=>{var Tt;(!Ne||Ne.toString()!==p.previousValue)&&fm(),!un(Ne,gt)&&e.validateEvent&&((Tt=r==null?void 0:r.validate)==null||Tt.call(r,"change").catch(kt=>void 0))},{deep:!0}),ve(()=>e.options,()=>{const Ne=w.value;(!Ne||Ne&&document.activeElement!==Ne)&&fm()},{deep:!0,flush:"post"}),ve(()=>W.value,()=>P.value&&Xe(P.value.resetScrollTop)),sn(()=>{p.isBeforeHide||Fe()}),sn(()=>{const{valueKey:Ne,options:gt}=e,Tt=new Map;for(const kt of gt){const Ji=c(kt);let Mo=Ji;if(yt(Mo)&&(Mo=Ss(Ji,Ne)),Tt.get(Mo))break;Tt.set(Mo,!0)}}),at(()=>{fm()}),fs(f,Bt),fs(C,ps),fs(b,Kn),fs(P,Po),fs(x,Po),fs(A,Mh),fs(N,am),{inputId:l,collapseTagSize:ie,currentPlaceholder:ye,expanded:k,emptyText:ue,popupHeight:V,debounce:te,allOptions:z,filteredOptions:W,iconComponent:Q,iconReverse:ee,tagStyle:he,collapseTagStyle:Se,inputStyle:Te,popperSize:m,dropdownMenuVisible:Ke,hasModelValue:B,shouldShowPlaceholder:De,selectDisabled:I,selectSize:X,showClearBtn:Y,states:p,isFocused:F,nsSelect:n,nsInput:i,calculatorRef:b,inputRef:w,menuRef:P,tagMenuRef:A,tooltipRef:v,tagTooltipRef:y,selectRef:f,wrapperRef:x,selectionRef:C,prefixRef:T,suffixRef:E,collapseItemRef:N,popperRef:Ae,validateState:ce,validateIcon:Ee,showTagList:ge,collapseTagList:$e,debouncedOnInputChange:oe,deleteTag:um,getLabel:a,getValue:c,getDisabled:h,getValueKey:ys,handleBlur:K,handleClear:xe,handleClickOutside:Pa,handleDel:pm,handleEsc:dm,handleFocus:G,focus:tl,blur:cm,handleMenuEnter:_o,handleResize:Bt,resetSelectionWidth:ps,resetCalculatorWidth:Kn,updateTooltip:Po,updateTagTooltip:Mh,updateOptions:Fe,toggleMenu:de,scrollTo:Mn,onInput:Oo,onKeyboardNavigate:it,onKeyboardSelect:is,onSelect:Ih,onHover:As,handleCompositionStart:me,handleCompositionEnd:ne,handleCompositionUpdate:Ie}},LZ=j({name:"ElSelectV2",components:{ElSelectMenu:_Z,ElTag:dd,ElTooltip:hn,ElIcon:Ue},directives:{ClickOutside:Uo},props:RZ,emits:[vt,as,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const s=R(()=>{const{modelValue:i,multiple:o}=e,r=o?[]:void 0;return ke(i)?o?i:r:o?r:i}),n=FZ(Gt({...Zs(e),modelValue:s}),t);return Et(Xw,{props:Gt({...Zs(e),height:n.popupHeight,modelValue:s}),tooltipRef:n.tooltipRef,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:s}}}),NZ=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],xZ=["textContent"];function kZ(e,t,s,n,i,o){const r=pt("el-tag"),l=pt("el-tooltip"),a=pt("el-icon"),c=pt("el-select-menu"),h=Jf("click-outside");return lt((D(),$("div",{ref:"selectRef",class:O([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[14]||(t[14]=d=>e.states.inputHovering=!0),onMouseleave:t[15]||(t[15]=d=>e.states.inputHovering=!1),onClick:t[16]||(t[16]=st((...d)=>e.toggleMenu&&e.toggleMenu(...d),["prevent","stop"]))},[q(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[13]||(t[13]=d=>e.states.isBeforeHide=!1)},{default:Z(()=>[U("div",{ref:"wrapperRef",class:O([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(D(),$("div",{key:0,ref:"prefixRef",class:O(e.nsSelect.e("prefix"))},[ae(e.$slots,"prefix")],2)):se("v-if",!0),U("div",{ref:"selectionRef",class:O([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ae(e.$slots,"tag",{key:0},()=>[(D(!0),$(qe,null,Dt(e.showTagList,d=>(D(),$("div",{key:e.getValueKey(e.getValue(d)),class:O(e.nsSelect.e("selected-item"))},[q(r,{closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:je(e.tagStyle),onClose:p=>e.deleteTag(p,d)},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))},Me(e.getLabel(d)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(D(),re(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Z(()=>[U("div",{ref:"collapseItemRef",class:O(e.nsSelect.e("selected-item"))},[q(r,{closable:!1,size:e.collapseTagSize,type:e.tagType,style:je(e.collapseTagStyle),"disable-transitions":""},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))}," + "+Me(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:Z(()=>[U("div",{ref:"tagMenuRef",class:O(e.nsSelect.e("selection"))},[(D(!0),$(qe,null,Dt(e.collapseTagList,d=>(D(),$("div",{key:e.getValueKey(e.getValue(d)),class:O(e.nsSelect.e("selected-item"))},[q(r,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",onClose:p=>e.deleteTag(p,d)},{default:Z(()=>[U("span",{class:O(e.nsSelect.e("tags-text"))},Me(e.getLabel(d)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):se("v-if",!0)]):se("v-if",!0),e.selectDisabled?se("v-if",!0):(D(),$("div",{key:1,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[lt(U("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=d=>e.states.inputValue=d),style:je(e.inputStyle),autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:O([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onFocus:t[1]||(t[1]=(...d)=>e.handleFocus&&e.handleFocus(...d)),onBlur:t[2]||(t[2]=(...d)=>e.handleBlur&&e.handleBlur(...d)),onInput:t[3]||(t[3]=(...d)=>e.onInput&&e.onInput(...d)),onCompositionstart:t[4]||(t[4]=(...d)=>e.handleCompositionStart&&e.handleCompositionStart(...d)),onCompositionupdate:t[5]||(t[5]=(...d)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...d)),onCompositionend:t[6]||(t[6]=(...d)=>e.handleCompositionEnd&&e.handleCompositionEnd(...d)),onKeydown:[t[7]||(t[7]=Ut(st(d=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=Ut(st(d=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=Ut(st((...d)=>e.onKeyboardSelect&&e.onKeyboardSelect(...d),["stop","prevent"]),["enter"])),t[10]||(t[10]=Ut(st((...d)=>e.handleEsc&&e.handleEsc(...d),["stop","prevent"]),["esc"])),t[11]||(t[11]=Ut(st((...d)=>e.handleDel&&e.handleDel(...d),["stop"]),["delete"]))],onClick:t[12]||(t[12]=st((...d)=>e.toggleMenu&&e.toggleMenu(...d),["stop"]))},null,46,NZ),[[Iy,e.states.inputValue]]),e.filterable?(D(),$("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O(e.nsSelect.e("input-calculator")),textContent:Me(e.states.inputValue)},null,10,xZ)):se("v-if",!0)],2)),e.shouldShowPlaceholder?(D(),$("div",{key:2,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[U("span",null,Me(e.currentPlaceholder),1)],2)):se("v-if",!0)],2),U("div",{ref:"suffixRef",class:O(e.nsSelect.e("suffix"))},[e.iconComponent?lt((D(),re(a,{key:0,class:O([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z(()=>[(D(),re(Ct(e.iconComponent)))]),_:1},8,["class"])),[[Lt,!e.showClearBtn]]):se("v-if",!0),e.showClearBtn&&e.clearIcon?(D(),re(a,{key:1,class:O([e.nsSelect.e("caret"),e.nsInput.e("icon")]),onClick:st(e.handleClear,["prevent","stop"])},{default:Z(()=>[(D(),re(Ct(e.clearIcon)))]),_:1},8,["class","onClick"])):se("v-if",!0),e.validateState&&e.validateIcon?(D(),re(a,{key:2,class:O([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z(()=>[(D(),re(Ct(e.validateIcon)))]),_:1},8,["class"])):se("v-if",!0)],2)],2)]),content:Z(()=>[q(c,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Bo({default:Z(d=>[ae(e.$slots,"default",xo(au(d)))]),_:2},[e.$slots.header?{name:"header",fn:Z(()=>[U("div",{class:O(e.nsSelect.be("dropdown","header"))},[ae(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:Z(()=>[U("div",{class:O(e.nsSelect.be("dropdown","loading"))},[ae(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:Z(()=>[U("div",{class:O(e.nsSelect.be("dropdown","empty"))},[ae(e.$slots,"empty",{},()=>[U("span",null,Me(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:Z(()=>[U("div",{class:O(e.nsSelect.be("dropdown","footer"))},[ae(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[h,e.handleClickOutside,e.popperRef]])}var _p=_e(LZ,[["render",kZ],["__file","select.vue"]]);_p.install=e=>{e.component(_p.name,_p)};const GZ=_p,VZ=GZ,HZ=Oe({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),BZ=Oe({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),$Z=j({name:"ElSkeletonItem"}),WZ=j({...$Z,props:BZ,setup(e){const t=we("skeleton");return(s,n)=>(D(),$("div",{class:O([u(t).e("item"),u(t).e(s.variant)])},[s.variant==="image"?(D(),re(u(HB),{key:0})):se("v-if",!0)],2))}});var Ef=_e(WZ,[["__file","skeleton-item.vue"]]);const zZ=j({name:"ElSkeleton"}),UZ=j({...zZ,props:HZ,setup(e,{expose:t}){const s=e,n=we("skeleton"),i=FW(Yt(s,"loading"),s.throttle);return t({uiLoading:i}),(o,r)=>u(i)?(D(),$("div",bt({key:0,class:[u(n).b(),u(n).is("animated",o.animated)]},o.$attrs),[(D(!0),$(qe,null,Dt(o.count,l=>(D(),$(qe,{key:l},[o.loading?ae(o.$slots,"template",{key:l},()=>[q(Ef,{class:O(u(n).is("first")),variant:"p"},null,8,["class"]),(D(!0),$(qe,null,Dt(o.rows,a=>(D(),re(Ef,{key:a,class:O([u(n).e("paragraph"),u(n).is("last",a===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):se("v-if",!0)],64))),128))],16)):ae(o.$slots,"default",xo(bt({key:1},o.$attrs)))}});var KZ=_e(UZ,[["__file","skeleton.vue"]]);const jZ=ft(KZ,{SkeletonItem:Ef}),YZ=hs(Ef),M_=Symbol("sliderContextKey"),qZ=Oe({modelValue:{type:J([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Us,inputSize:Us,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:J(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:J(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:da,default:"top"},marks:{type:J(Object)},validateEvent:{type:Boolean,default:!0}}),zm=e=>tt(e)||ke(e)&&e.every(tt),XZ={[vt]:zm,[Sn]:zm,[as]:zm},QZ=(e,t,s)=>{const n=L();return at(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),ls(window,"resize",s),await Xe(),s()}),{sliderWrapper:n}},ZZ=e=>R(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((s,n)=>s-n).filter(s=>s<=e.max&&s>=e.min).map(s=>({point:s,position:(s-e.min)*100/(e.max-e.min),mark:e.marks[s]})):[]),JZ=(e,t,s)=>{const{form:n,formItem:i}=Dn(),o=ts(),r=L(),l=L(),a={firstButton:r,secondButton:l},c=R(()=>e.disabled||(n==null?void 0:n.disabled)||!1),h=R(()=>Math.min(t.firstValue,t.secondValue)),d=R(()=>Math.max(t.firstValue,t.secondValue)),p=R(()=>e.range?`${100*(d.value-h.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),g=R(()=>e.range?`${100*(h.value-e.min)/(e.max-e.min)}%`:"0%"),m=R(()=>e.vertical?{height:e.height}:{}),f=R(()=>e.vertical?{height:p.value,bottom:g.value}:{width:p.value,left:g.value}),C=()=>{o.value&&(t.sliderSize=o.value[`client${e.vertical?"Height":"Width"}`])},v=F=>{const G=e.min+F*(e.max-e.min)/100;if(!e.range)return r;let K;return Math.abs(h.value-G)<Math.abs(d.value-G)?K=t.firstValue<t.secondValue?"firstButton":"secondButton":K=t.firstValue>t.secondValue?"firstButton":"secondButton",a[K]},y=F=>{const G=v(F);return G.value.setPosition(F),G},w=F=>{t.firstValue=F,T(e.range?[h.value,d.value]:F)},b=F=>{t.secondValue=F,e.range&&T([h.value,d.value])},T=F=>{s(vt,F),s(Sn,F)},E=async()=>{await Xe(),s(as,e.range?[h.value,d.value]:e.modelValue)},P=F=>{var G,K,z,W,k,I;if(c.value||t.dragging)return;C();let V=0;if(e.vertical){const _=(z=(K=(G=F.touches)==null?void 0:G.item(0))==null?void 0:K.clientY)!=null?z:F.clientY;V=(o.value.getBoundingClientRect().bottom-_)/t.sliderSize*100}else{const _=(I=(k=(W=F.touches)==null?void 0:W.item(0))==null?void 0:k.clientX)!=null?I:F.clientX,B=o.value.getBoundingClientRect().left;V=(_-B)/t.sliderSize*100}if(!(V<0||V>100))return y(V)};return{elFormItem:i,slider:o,firstButton:r,secondButton:l,sliderDisabled:c,minValue:h,maxValue:d,runwayStyle:m,barStyle:f,resetSize:C,setPosition:y,emitChange:E,onSliderWrapperPrevent:F=>{var G,K;((G=a.firstButton.value)!=null&&G.dragging||(K=a.secondButton.value)!=null&&K.dragging)&&F.preventDefault()},onSliderClick:F=>{P(F)&&E()},onSliderDown:async F=>{const G=P(F);G&&(await Xe(),G.value.onButtonDown(F))},setFirstValue:w,setSecondValue:b}},{left:eJ,down:tJ,right:sJ,up:nJ,home:iJ,end:oJ,pageUp:rJ,pageDown:lJ}=Ye,aJ=(e,t,s)=>{const n=L(),i=L(!1),o=R(()=>t.value instanceof Function),r=R(()=>o.value&&t.value(e.modelValue)||e.modelValue),l=$n(()=>{s.value&&(i.value=!0)},50),a=$n(()=>{s.value&&(i.value=!1)},50);return{tooltip:n,tooltipVisible:i,formatValue:r,displayTooltip:l,hideTooltip:a}},uJ=(e,t,s)=>{const{disabled:n,min:i,max:o,step:r,showTooltip:l,precision:a,sliderSize:c,formatTooltip:h,emitChange:d,resetSize:p,updateDragging:g}=Be(M_),{tooltip:m,tooltipVisible:f,formatValue:C,displayTooltip:v,hideTooltip:y}=aJ(e,h,l),w=L(),b=R(()=>`${(e.modelValue-i.value)/(o.value-i.value)*100}%`),T=R(()=>e.vertical?{bottom:b.value}:{left:b.value}),E=()=>{t.hovering=!0,v()},P=()=>{t.hovering=!1,t.dragging||y()},A=Q=>{n.value||(Q.preventDefault(),V(Q),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",B),window.addEventListener("touchend",B),window.addEventListener("contextmenu",B),w.value.focus())},N=Q=>{n.value||(t.newPosition=Number.parseFloat(b.value)+Q/(o.value-i.value)*100,Y(t.newPosition),d())},x=()=>{N(-r.value)},F=()=>{N(r.value)},G=()=>{N(-r.value*4)},K=()=>{N(r.value*4)},z=()=>{n.value||(Y(0),d())},W=()=>{n.value||(Y(100),d())},k=Q=>{let ee=!0;[eJ,tJ].includes(Q.key)?x():[sJ,nJ].includes(Q.key)?F():Q.key===iJ?z():Q.key===oJ?W():Q.key===lJ?G():Q.key===rJ?K():ee=!1,ee&&Q.preventDefault()},I=Q=>{let ee,ce;return Q.type.startsWith("touch")?(ce=Q.touches[0].clientY,ee=Q.touches[0].clientX):(ce=Q.clientY,ee=Q.clientX),{clientX:ee,clientY:ce}},V=Q=>{t.dragging=!0,t.isClick=!0;const{clientX:ee,clientY:ce}=I(Q);e.vertical?t.startY=ce:t.startX=ee,t.startPosition=Number.parseFloat(b.value),t.newPosition=t.startPosition},_=Q=>{if(t.dragging){t.isClick=!1,v(),p();let ee;const{clientX:ce,clientY:Ee}=I(Q);e.vertical?(t.currentY=Ee,ee=(t.startY-t.currentY)/c.value*100):(t.currentX=ce,ee=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+ee,Y(t.newPosition)}},B=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||Y(t.newPosition),d()},0),window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",B),window.removeEventListener("touchend",B),window.removeEventListener("contextmenu",B))},Y=async Q=>{if(Q===null||Number.isNaN(+Q))return;Q<0?Q=0:Q>100&&(Q=100);const ee=100/((o.value-i.value)/r.value);let Ee=Math.round(Q/ee)*ee*(o.value-i.value)*.01+i.value;Ee=Number.parseFloat(Ee.toFixed(a.value)),Ee!==e.modelValue&&s(vt,Ee),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Xe(),t.dragging&&v(),m.value.updatePopper()};return ve(()=>t.dragging,Q=>{g(Q)}),{disabled:n,button:w,tooltip:m,tooltipVisible:f,showTooltip:l,wrapperStyle:T,formatValue:C,handleMouseEnter:E,handleMouseLeave:P,onButtonDown:A,onKeyDown:k,setPosition:Y}},cJ=(e,t,s,n)=>({stops:R(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const r=(e.max-e.min)/e.step,l=100*e.step/(e.max-e.min),a=Array.from({length:r-1}).map((c,h)=>(h+1)*l);return e.range?a.filter(c=>c<100*(s.value-e.min)/(e.max-e.min)||c>100*(n.value-e.min)/(e.max-e.min)):a.filter(c=>c>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:r=>e.vertical?{bottom:`${r}%`}:{left:`${r}%`}}),dJ=(e,t,s,n,i,o)=>{const r=c=>{i(vt,c),i(Sn,c)},l=()=>e.range?![s.value,n.value].every((c,h)=>c===t.oldValue[h]):e.modelValue!==t.oldValue,a=()=>{var c,h;e.min>e.max&&Ns("Slider","min should not be greater than max.");const d=e.modelValue;e.range&&Array.isArray(d)?d[1]<e.min?r([e.min,e.min]):d[0]>e.max?r([e.max,e.max]):d[0]<e.min?r([e.min,d[1]]):d[1]>e.max?r([d[0],e.max]):(t.firstValue=d[0],t.secondValue=d[1],l()&&(e.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(p=>void 0)),t.oldValue=d.slice())):!e.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<e.min?r(e.min):d>e.max?r(e.max):(t.firstValue=d,l()&&(e.validateEvent&&((h=o==null?void 0:o.validate)==null||h.call(o,"change").catch(p=>void 0)),t.oldValue=d)))};a(),ve(()=>t.dragging,c=>{c||a()}),ve(()=>e.modelValue,(c,h)=>{t.dragging||Array.isArray(c)&&Array.isArray(h)&&c.every((d,p)=>d===h[p])&&t.firstValue===c[0]&&t.secondValue===c[1]||a()},{deep:!0}),ve(()=>[e.min,e.max],()=>{a()})},hJ=Oe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:da,default:"top"}}),pJ={[vt]:e=>tt(e)},fJ=["tabindex"],gJ=j({name:"ElSliderButton"}),mJ=j({...gJ,props:hJ,emits:pJ,setup(e,{expose:t,emit:s}){const n=e,i=we("slider"),o=Gt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:r,button:l,tooltip:a,showTooltip:c,tooltipVisible:h,wrapperStyle:d,formatValue:p,handleMouseEnter:g,handleMouseLeave:m,onButtonDown:f,onKeyDown:C,setPosition:v}=uJ(n,o,s),{hovering:y,dragging:w}=Zs(o);return t({onButtonDown:f,onKeyDown:C,setPosition:v,hovering:y,dragging:w}),(b,T)=>(D(),$("div",{ref_key:"button",ref:l,class:O([u(i).e("button-wrapper"),{hover:u(y),dragging:u(w)}]),style:je(u(d)),tabindex:u(r)?-1:0,onMouseenter:T[0]||(T[0]=(...E)=>u(g)&&u(g)(...E)),onMouseleave:T[1]||(T[1]=(...E)=>u(m)&&u(m)(...E)),onMousedown:T[2]||(T[2]=(...E)=>u(f)&&u(f)(...E)),onTouchstart:T[3]||(T[3]=(...E)=>u(f)&&u(f)(...E)),onFocus:T[4]||(T[4]=(...E)=>u(g)&&u(g)(...E)),onBlur:T[5]||(T[5]=(...E)=>u(m)&&u(m)(...E)),onKeydown:T[6]||(T[6]=(...E)=>u(C)&&u(C)(...E))},[q(u(hn),{ref_key:"tooltip",ref:a,visible:u(h),placement:b.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":b.tooltipClass,disabled:!u(c),persistent:""},{content:Z(()=>[U("span",null,Me(u(p)),1)]),default:Z(()=>[U("div",{class:O([u(i).e("button"),{hover:u(y),dragging:u(w)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,fJ))}});var bR=_e(mJ,[["__file","button.vue"]]);const vJ=Oe({mark:{type:J([String,Object]),default:void 0}});var CJ=j({name:"ElSliderMarker",props:vJ,setup(e){const t=we("slider"),s=R(()=>rt(e.mark)?e.mark:e.mark.label),n=R(()=>rt(e.mark)?void 0:e.mark.style);return()=>Qe("div",{class:t.e("marks-text"),style:n.value},s.value)}});const yJ=["id","role","aria-label","aria-labelledby"],wJ={key:1},bJ=j({name:"ElSlider"}),SJ=j({...bJ,props:qZ,emits:XZ,setup(e,{expose:t,emit:s}){const n=e,i=we("slider"),{t:o}=Ft(),r=Gt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:a,firstButton:c,secondButton:h,sliderDisabled:d,minValue:p,maxValue:g,runwayStyle:m,barStyle:f,resetSize:C,emitChange:v,onSliderWrapperPrevent:y,onSliderClick:w,onSliderDown:b,setFirstValue:T,setSecondValue:E}=JZ(n,r,s),{stops:P,getStopStyle:A}=cJ(n,r,p,g),{inputId:N,isLabeledByFormItem:x}=To(n,{formItemContext:l}),F=xs(),G=R(()=>n.inputSize||F.value),K=R(()=>n.label||o("el.slider.defaultLabel",{min:n.min,max:n.max})),z=R(()=>n.range?n.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):K.value),W=R(()=>n.formatValueText?n.formatValueText(Q.value):`${Q.value}`),k=R(()=>n.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),I=R(()=>n.formatValueText?n.formatValueText(ee.value):`${ee.value}`),V=R(()=>[i.b(),i.m(F.value),i.is("vertical",n.vertical),{[i.m("with-input")]:n.showInput}]),_=ZZ(n);dJ(n,r,p,g,s,l);const B=R(()=>{const te=[n.min,n.max,n.step].map(ue=>{const le=`${ue}`.split(".")[1];return le?le.length:0});return Math.max.apply(null,te)}),{sliderWrapper:Y}=QZ(n,r,C),{firstValue:Q,secondValue:ee,sliderSize:ce}=Zs(r),Ee=te=>{r.dragging=te};return Et(M_,{...Zs(n),sliderSize:ce,disabled:d,precision:B,emitChange:v,resetSize:C,updateDragging:Ee}),t({onSliderClick:w}),(te,ue)=>{var le,Fe;return D(),$("div",{id:te.range?u(N):void 0,ref_key:"sliderWrapper",ref:Y,class:O(u(V)),role:te.range?"group":void 0,"aria-label":te.range&&!u(x)?u(K):void 0,"aria-labelledby":te.range&&u(x)?(le=u(l))==null?void 0:le.labelId:void 0,onTouchstart:ue[2]||(ue[2]=(...pe)=>u(y)&&u(y)(...pe)),onTouchmove:ue[3]||(ue[3]=(...pe)=>u(y)&&u(y)(...pe))},[U("div",{ref_key:"slider",ref:a,class:O([u(i).e("runway"),{"show-input":te.showInput&&!te.range},u(i).is("disabled",u(d))]),style:je(u(m)),onMousedown:ue[0]||(ue[0]=(...pe)=>u(b)&&u(b)(...pe)),onTouchstart:ue[1]||(ue[1]=(...pe)=>u(b)&&u(b)(...pe))},[U("div",{class:O(u(i).e("bar")),style:je(u(f))},null,6),q(bR,{id:te.range?void 0:u(N),ref_key:"firstButton",ref:c,"model-value":u(Q),vertical:te.vertical,"tooltip-class":te.tooltipClass,placement:te.placement,role:"slider","aria-label":te.range||!u(x)?u(z):void 0,"aria-labelledby":!te.range&&u(x)?(Fe=u(l))==null?void 0:Fe.labelId:void 0,"aria-valuemin":te.min,"aria-valuemax":te.range?u(ee):te.max,"aria-valuenow":u(Q),"aria-valuetext":u(W),"aria-orientation":te.vertical?"vertical":"horizontal","aria-disabled":u(d),"onUpdate:modelValue":u(T)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),te.range?(D(),re(bR,{key:0,ref_key:"secondButton",ref:h,"model-value":u(ee),vertical:te.vertical,"tooltip-class":te.tooltipClass,placement:te.placement,role:"slider","aria-label":u(k),"aria-valuemin":u(Q),"aria-valuemax":te.max,"aria-valuenow":u(ee),"aria-valuetext":u(I),"aria-orientation":te.vertical?"vertical":"horizontal","aria-disabled":u(d),"onUpdate:modelValue":u(E)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):se("v-if",!0),te.showStops?(D(),$("div",wJ,[(D(!0),$(qe,null,Dt(u(P),(pe,be)=>(D(),$("div",{key:be,class:O(u(i).e("stop")),style:je(u(A)(pe))},null,6))),128))])):se("v-if",!0),u(_).length>0?(D(),$(qe,{key:2},[U("div",null,[(D(!0),$(qe,null,Dt(u(_),(pe,be)=>(D(),$("div",{key:be,style:je(u(A)(pe.position)),class:O([u(i).e("stop"),u(i).e("marks-stop")])},null,6))),128))]),U("div",{class:O(u(i).e("marks"))},[(D(!0),$(qe,null,Dt(u(_),(pe,be)=>(D(),re(u(CJ),{key:be,mark:pe.mark,style:je(u(A)(pe.position))},null,8,["mark","style"]))),128))],2)],64)):se("v-if",!0)],38),te.showInput&&!te.range?(D(),re(u(n_),{key:0,ref:"input","model-value":u(Q),class:O(u(i).e("input")),step:te.step,disabled:u(d),controls:te.showInputControls,min:te.min,max:te.max,debounce:te.debounce,size:u(G),"onUpdate:modelValue":u(T),onChange:u(v)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):se("v-if",!0)],42,yJ)}}});var EJ=_e(SJ,[["__file","slider.vue"]]);const RJ=ft(EJ),TJ=Oe({prefixCls:{type:String}}),SR=j({name:"ElSpaceItem",props:TJ,setup(e,{slots:t}){const s=we("space"),n=R(()=>`${e.prefixCls||s.b()}__item`);return()=>Qe("div",{class:n.value},ae(t,"default"))}}),ER={small:8,default:12,large:16};function DJ(e){const t=we("space"),s=R(()=>[t.b(),t.m(e.direction),e.class]),n=L(0),i=L(0),o=R(()=>{const l=e.wrap||e.fill?{flexWrap:"wrap"}:{},a={alignItems:e.alignment},c={rowGap:`${i.value}px`,columnGap:`${n.value}px`};return[l,a,c,e.style]}),r=R(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return sn(()=>{const{size:l="small",wrap:a,direction:c,fill:h}=e;if(ke(l)){const[d=0,p=0]=l;n.value=d,i.value=p}else{let d;tt(l)?d=l:d=ER[l||"small"]||ER.small,(a||h)&&c==="horizontal"?n.value=i.value=d:c==="horizontal"?(n.value=d,i.value=0):(i.value=d,n.value=0)}}),{classes:s,containerStyle:o,itemStyle:r}}const AJ=Oe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:J([String,Object,Array]),default:""},style:{type:J([String,Array,Object]),default:""},alignment:{type:J(String),default:"center"},prefixCls:{type:String},spacer:{type:J([Object,String,Number,Array]),default:null,validator:e=>us(e)||tt(e)||rt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ro,validator:e=>tt(e)||ke(e)&&e.length===2&&e.every(tt)}}),PJ=j({name:"ElSpace",props:AJ,setup(e,{slots:t}){const{classes:s,containerStyle:n,itemStyle:i}=DJ(e);function o(r,l="",a=[]){const{prefixCls:c}=e;return r.forEach((h,d)=>{Nv(h)?ke(h.children)&&h.children.forEach((p,g)=>{Nv(p)&&ke(p.children)?o(p.children,`${l+g}-`,a):a.push(q(SR,{style:i.value,prefixCls:c,key:`nested-${l+g}`},{default:()=>[p]},ci.PROPS|ci.STYLE,["style","prefixCls"]))}):m$(h)&&a.push(q(SR,{style:i.value,prefixCls:c,key:`LoopKey${l+d}`},{default:()=>[h]},ci.PROPS|ci.STYLE,["style","prefixCls"]))}),a}return()=>{var r;const{spacer:l,direction:a}=e,c=ae(t,"default",{key:0},()=>[]);if(((r=c.children)!=null?r:[]).length===0)return null;if(ke(c.children)){let h=o(c.children);if(l){const d=h.length-1;h=h.reduce((p,g,m)=>{const f=[...p,g];return m!==d&&f.push(q("span",{style:[i.value,a==="vertical"?"width: 100%":null],key:m},[us(l)?l:_t(l,ci.TEXT)],ci.STYLE)),f},[])}return q("div",{class:s.value,style:n.value},h,ci.STYLE|ci.CLASS)}return c.children}}}),OJ=ft(PJ),_J=Oe({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:J([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:J([String,Object,Array])}}),MJ=j({name:"ElStatistic"}),IJ=j({...MJ,props:_J,setup(e,{expose:t}){const s=e,n=we("statistic"),i=R(()=>{const{value:o,formatter:r,precision:l,decimalSeparator:a,groupSeparator:c}=s;if(nt(r))return r(o);if(!tt(o))return o;let[h,d=""]=String(o).split(".");return d=d.padEnd(l,"0").slice(0,l>0?l:0),h=h.replace(/\B(?=(\d{3})+(?!\d))/g,c),[h,d].join(d?a:"")});return t({displayValue:i}),(o,r)=>(D(),$("div",{class:O(u(n).b())},[o.$slots.title||o.title?(D(),$("div",{key:0,class:O(u(n).e("head"))},[ae(o.$slots,"title",{},()=>[_t(Me(o.title),1)])],2)):se("v-if",!0),U("div",{class:O(u(n).e("content"))},[o.$slots.prefix||o.prefix?(D(),$("div",{key:0,class:O(u(n).e("prefix"))},[ae(o.$slots,"prefix",{},()=>[U("span",null,Me(o.prefix),1)])],2)):se("v-if",!0),U("span",{class:O(u(n).e("number")),style:je(o.valueStyle)},Me(u(i)),7),o.$slots.suffix||o.suffix?(D(),$("div",{key:1,class:O(u(n).e("suffix"))},[ae(o.$slots,"suffix",{},()=>[U("span",null,Me(o.suffix),1)])],2)):se("v-if",!0)],2)],2))}});var FJ=_e(IJ,[["__file","statistic.vue"]]);const I_=ft(FJ),LJ=Oe({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:J([Number,Object]),default:0},valueStyle:{type:J([String,Object,Array])}}),NJ={finish:()=>!0,[as]:e=>tt(e)},xJ=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],RR=e=>tt(e)?new Date(e).getTime():e.valueOf(),TR=(e,t)=>{let s=e;const n=/\[([^\]]*)]/g;return xJ.reduce((o,[r,l])=>{const a=new RegExp(`${r}+(?![^\\[\\]]*\\])`,"g");if(a.test(o)){const c=Math.floor(s/l);return s-=c*l,o.replace(a,h=>String(c).padStart(h.length,"0"))}return o},t).replace(n,"$1")},kJ=j({name:"ElCountdown"}),GJ=j({...kJ,props:LJ,emits:NJ,setup(e,{expose:t,emit:s}){const n=e;let i;const o=L(RR(n.value)-Date.now()),r=R(()=>TR(o.value,n.format)),l=h=>TR(h,n.format),a=()=>{i&&(Wl(i),i=void 0)},c=()=>{const h=RR(n.value),d=()=>{let p=h-Date.now();s("change",p),p<=0?(p=0,a(),s("finish")):i=Nr(d),o.value=p};i=Nr(d)};return ve(()=>[n.value,n.format],()=>{a(),c()},{immediate:!0}),Jt(()=>{a()}),t({displayValue:r}),(h,d)=>(D(),re(u(I_),{value:o.value,title:h.title,prefix:h.prefix,suffix:h.suffix,"value-style":h.valueStyle,formatter:l},Bo({_:2},[Dt(h.$slots,(p,g)=>({name:g,fn:Z(()=>[ae(h.$slots,g)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var VJ=_e(GJ,[["__file","countdown.vue"]]);const HJ=ft(VJ),BJ=Oe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),$J={[as]:(e,t)=>[e,t].every(tt)},WJ=j({name:"ElSteps"}),zJ=j({...WJ,props:BJ,emits:$J,setup(e,{emit:t}){const s=e,n=we("steps"),{children:i,addChild:o,removeChild:r}=Dw(ct(),"ElStep");return ve(i,()=>{i.value.forEach((l,a)=>{l.setIndex(a)})}),Et("ElSteps",{props:s,steps:i,addStep:o,removeStep:r}),ve(()=>s.active,(l,a)=>{t(as,l,a)}),(l,a)=>(D(),$("div",{class:O([u(n).b(),u(n).m(l.simple?"simple":l.direction)])},[ae(l.$slots,"default")],2))}});var UJ=_e(zJ,[["__file","steps.vue"]]);const KJ=Oe({title:{type:String,default:""},icon:{type:Kt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),jJ=j({name:"ElStep"}),YJ=j({...jJ,props:KJ,setup(e){const t=e,s=we("step"),n=L(-1),i=L({}),o=L(""),r=Be("ElSteps"),l=ct();at(()=>{ve([()=>r.props.active,()=>r.props.processStatus,()=>r.props.finishStatus],([E])=>{b(E)},{immediate:!0})}),Jt(()=>{r.removeStep(T.uid)});const a=R(()=>t.status||o.value),c=R(()=>{const E=r.steps.value[n.value-1];return E?E.currentStatus:"wait"}),h=R(()=>r.props.alignCenter),d=R(()=>r.props.direction==="vertical"),p=R(()=>r.props.simple),g=R(()=>r.steps.value.length),m=R(()=>{var E;return((E=r.steps.value[g.value-1])==null?void 0:E.uid)===(l==null?void 0:l.uid)}),f=R(()=>p.value?"":r.props.space),C=R(()=>[s.b(),s.is(p.value?"simple":r.props.direction),s.is("flex",m.value&&!f.value&&!h.value),s.is("center",h.value&&!d.value&&!p.value)]),v=R(()=>{const E={flexBasis:tt(f.value)?`${f.value}px`:f.value?f.value:`${100/(g.value-(h.value?0:1))}%`};return d.value||m.value&&(E.maxWidth=`${100/g.value}%`),E}),y=E=>{n.value=E},w=E=>{const P=E==="wait",A={transitionDelay:`${P?"-":""}${150*n.value}ms`},N=E===r.props.processStatus||P?0:100;A.borderWidth=N&&!p.value?"1px":0,A[r.props.direction==="vertical"?"height":"width"]=`${N}%`,i.value=A},b=E=>{E>n.value?o.value=r.props.finishStatus:E===n.value&&c.value!=="error"?o.value=r.props.processStatus:o.value="wait";const P=r.steps.value[n.value-1];P&&P.calcProgress(o.value)},T=Gt({uid:l.uid,currentStatus:a,setIndex:y,calcProgress:w});return r.addStep(T),(E,P)=>(D(),$("div",{style:je(u(v)),class:O(u(C))},[se(" icon & line "),U("div",{class:O([u(s).e("head"),u(s).is(u(a))])},[u(p)?se("v-if",!0):(D(),$("div",{key:0,class:O(u(s).e("line"))},[U("i",{class:O(u(s).e("line-inner")),style:je(i.value)},null,6)],2)),U("div",{class:O([u(s).e("icon"),u(s).is(E.icon||E.$slots.icon?"icon":"text")])},[ae(E.$slots,"icon",{},()=>[E.icon?(D(),re(u(Ue),{key:0,class:O(u(s).e("icon-inner"))},{default:Z(()=>[(D(),re(Ct(E.icon)))]),_:1},8,["class"])):u(a)==="success"?(D(),re(u(Ue),{key:1,class:O([u(s).e("icon-inner"),u(s).is("status")])},{default:Z(()=>[q(u(sh))]),_:1},8,["class"])):u(a)==="error"?(D(),re(u(Ue),{key:2,class:O([u(s).e("icon-inner"),u(s).is("status")])},{default:Z(()=>[q(u(zi))]),_:1},8,["class"])):u(p)?se("v-if",!0):(D(),$("div",{key:3,class:O(u(s).e("icon-inner"))},Me(n.value+1),3))])],2)],2),se(" title & description "),U("div",{class:O(u(s).e("main"))},[U("div",{class:O([u(s).e("title"),u(s).is(u(a))])},[ae(E.$slots,"title",{},()=>[_t(Me(E.title),1)])],2),u(p)?(D(),$("div",{key:0,class:O(u(s).e("arrow"))},null,2)):(D(),$("div",{key:1,class:O([u(s).e("description"),u(s).is(u(a))])},[ae(E.$slots,"description",{},()=>[_t(Me(E.description),1)])],2))],2)],6))}});var F_=_e(YJ,[["__file","item.vue"]]);const qJ=ft(UJ,{Step:F_}),XJ=hs(F_),QJ=Oe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:LA},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Kt},activeActionIcon:{type:Kt},activeIcon:{type:Kt},inactiveIcon:{type:Kt},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:J(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),ZJ={[vt]:e=>Os(e)||rt(e)||tt(e),[as]:e=>Os(e)||rt(e)||tt(e),[Sn]:e=>Os(e)||rt(e)||tt(e)},JJ=["onClick"],eee=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],tee=["aria-hidden"],see=["aria-hidden"],nee=["aria-hidden"],L_="ElSwitch",iee=j({name:L_}),oee=j({...iee,props:QJ,emits:ZJ,setup(e,{expose:t,emit:s}){const n=e,{formItem:i}=Dn(),o=xs(),r=we("switch"),{inputId:l}=To(n,{formItemContext:i}),a=Wn(R(()=>n.loading)),c=L(n.modelValue!==!1),h=L(),d=L(),p=R(()=>[r.b(),r.m(o.value),r.is("disabled",a.value),r.is("checked",v.value)]),g=R(()=>[r.e("label"),r.em("label","left"),r.is("active",!v.value)]),m=R(()=>[r.e("label"),r.em("label","right"),r.is("active",v.value)]),f=R(()=>({width:Ds(n.width)}));ve(()=>n.modelValue,()=>{c.value=!0});const C=R(()=>c.value?n.modelValue:!1),v=R(()=>C.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(C.value)||(s(vt,n.inactiveValue),s(as,n.inactiveValue),s(Sn,n.inactiveValue)),ve(v,T=>{var E;h.value.checked=T,n.validateEvent&&((E=i==null?void 0:i.validate)==null||E.call(i,"change").catch(P=>void 0))});const y=()=>{const T=v.value?n.inactiveValue:n.activeValue;s(vt,T),s(as,T),s(Sn,T),Xe(()=>{h.value.checked=v.value})},w=()=>{if(a.value)return;const{beforeChange:T}=n;if(!T){y();return}const E=T();[jc(E),Os(E)].includes(!0)||Ns(L_,"beforeChange must return type `Promise<boolean>` or `boolean`"),jc(E)?E.then(A=>{A&&y()}).catch(A=>{}):E&&y()},b=()=>{var T,E;(E=(T=h.value)==null?void 0:T.focus)==null||E.call(T)};return at(()=>{h.value.checked=v.value}),t({focus:b,checked:v}),(T,E)=>(D(),$("div",{class:O(u(p)),onClick:st(w,["prevent"])},[U("input",{id:u(l),ref_key:"input",ref:h,class:O(u(r).e("input")),type:"checkbox",role:"switch","aria-checked":u(v),"aria-disabled":u(a),"aria-label":T.label,name:T.name,"true-value":T.activeValue,"false-value":T.inactiveValue,disabled:u(a),tabindex:T.tabindex,onChange:y,onKeydown:Ut(w,["enter"])},null,42,eee),!T.inlinePrompt&&(T.inactiveIcon||T.inactiveText)?(D(),$("span",{key:0,class:O(u(g))},[T.inactiveIcon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(T.inactiveIcon)))]),_:1})):se("v-if",!0),!T.inactiveIcon&&T.inactiveText?(D(),$("span",{key:1,"aria-hidden":u(v)},Me(T.inactiveText),9,tee)):se("v-if",!0)],2)):se("v-if",!0),U("span",{ref_key:"core",ref:d,class:O(u(r).e("core")),style:je(u(f))},[T.inlinePrompt?(D(),$("div",{key:0,class:O(u(r).e("inner"))},[T.activeIcon||T.inactiveIcon?(D(),re(u(Ue),{key:0,class:O(u(r).is("icon"))},{default:Z(()=>[(D(),re(Ct(u(v)?T.activeIcon:T.inactiveIcon)))]),_:1},8,["class"])):T.activeText||T.inactiveText?(D(),$("span",{key:1,class:O(u(r).is("text")),"aria-hidden":!u(v)},Me(u(v)?T.activeText:T.inactiveText),11,see)):se("v-if",!0)],2)):se("v-if",!0),U("div",{class:O(u(r).e("action"))},[T.loading?(D(),re(u(Ue),{key:0,class:O(u(r).is("loading"))},{default:Z(()=>[q(u(Yr))]),_:1},8,["class"])):u(v)?ae(T.$slots,"active-action",{key:1},()=>[T.activeActionIcon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(T.activeActionIcon)))]),_:1})):se("v-if",!0)]):u(v)?se("v-if",!0):ae(T.$slots,"inactive-action",{key:2},()=>[T.inactiveActionIcon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(T.inactiveActionIcon)))]),_:1})):se("v-if",!0)])],2)],6),!T.inlinePrompt&&(T.activeIcon||T.activeText)?(D(),$("span",{key:1,class:O(u(m))},[T.activeIcon?(D(),re(u(Ue),{key:0},{default:Z(()=>[(D(),re(Ct(T.activeIcon)))]),_:1})):se("v-if",!0),!T.activeIcon&&T.activeText?(D(),$("span",{key:1,"aria-hidden":!u(v)},Me(T.activeText),9,nee)):se("v-if",!0)],2)):se("v-if",!0)],10,JJ))}});var ree=_e(oee,[["__file","switch.vue"]]);const lee=ft(ree),Um=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},aee=function(e,t,s,n,i){if(!t&&!n&&(!i||Array.isArray(i)&&!i.length))return e;typeof s=="string"?s=s==="descending"?-1:1:s=s&&s<0?-1:1;const o=n?null:function(l,a){return i?(Array.isArray(i)||(i=[i]),i.map(c=>typeof c=="string"?Ss(l,c):c(l,a,e))):(t!=="$key"&&yt(l)&&"$value"in l&&(l=l.$value),[yt(l)?Ss(l,t):l])},r=function(l,a){if(n)return n(l.value,a.value);for(let c=0,h=l.key.length;c<h;c++){if(l.key[c]<a.key[c])return-1;if(l.key[c]>a.key[c])return 1}return 0};return e.map((l,a)=>({value:l,index:a,key:o?o(l,a):null})).sort((l,a)=>{let c=r(l,a);return c||(c=l.index-a.index),c*+s}).map(l=>l.value)},N_=function(e,t){let s=null;return e.columns.forEach(n=>{n.id===t&&(s=n)}),s},uee=function(e,t){let s=null;for(let n=0;n<e.columns.length;n++){const i=e.columns[n];if(i.columnKey===t){s=i;break}}return s||Ns("ElTable",`No column matching with column-key: ${t}`),s},DR=function(e,t,s){const n=(t.className||"").match(new RegExp(`${s}-table_[^\\s]+`,"gm"));return n?N_(e,n[0]):null},tn=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const s=t.split(".");let n=e;for(const i of s)n=n[i];return`${n}`}else if(typeof t=="function")return t.call(null,e)},yl=function(e,t){const s={};return(e||[]).forEach((n,i)=>{s[tn(n,t)]={row:n,index:i}}),s};function cee(e,t){const s={};let n;for(n in e)s[n]=e[n];for(n in t)if(Ot(t,n)){const i=t[n];typeof i<"u"&&(s[n]=i)}return s}function Qw(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function x_(e){return e===""||e!==void 0&&(e=Qw(e),Number.isNaN(e)&&(e=80)),e}function dee(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function hee(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...n)=>t(s(...n)))}function Wc(e,t,s){let n=!1;const i=e.indexOf(t),o=i!==-1,r=l=>{l==="add"?e.push(t):e.splice(i,1),n=!0,ke(t.children)&&t.children.forEach(a=>{Wc(e,a,s??!o)})};return Os(s)?s&&!o?r("add"):!s&&o&&r("remove"):r(o?"remove":"add"),n}function pee(e,t,s="children",n="hasChildren"){const i=r=>!(Array.isArray(r)&&r.length);function o(r,l,a){t(r,l,a),l.forEach(c=>{if(c[n]){t(c,null,a+1);return}const h=c[s];i(h)||o(c,h,a+1)})}e.forEach(r=>{if(r[n]){t(r,null,0);return}const l=r[s];i(l)||o(r,l,0)})}let ai=null;function fee(e,t,s,n){if((ai==null?void 0:ai.trigger)===s)return;ai==null||ai();const i=n==null?void 0:n.refs.tableWrapper,o=i==null?void 0:i.dataset.prefix,r={strategy:"fixed",...e.popperOptions},l=q(hn,{content:t,virtualTriggering:!0,virtualRef:s,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...e,popperOptions:r,onHide:()=>{ai==null||ai()}});l.appContext={...n.appContext,...n};const a=document.createElement("div");po(l,a),l.component.exposed.onOpen();const c=i==null?void 0:i.querySelector(`.${o}-scrollbar__wrap`);ai=()=>{po(null,a),c==null||c.removeEventListener("scroll",ai),ai=null},ai.trigger=s,c==null||c.addEventListener("scroll",ai)}function k_(e){return e.children?IH(e.children,k_):[e]}function AR(e,t){return e+t.colSpan}const G_=(e,t,s,n)=>{let i=0,o=e;const r=s.states.columns.value;if(n){const a=k_(n[e]);i=r.slice(0,r.indexOf(a[0])).reduce(AR,0),o=i+a.reduce(AR,0)-1}else i=e;let l;switch(t){case"left":o<s.states.fixedLeafColumnsLength.value&&(l="left");break;case"right":i>=r.length-s.states.rightFixedLeafColumnsLength.value&&(l="right");break;default:o<s.states.fixedLeafColumnsLength.value?l="left":i>=r.length-s.states.rightFixedLeafColumnsLength.value&&(l="right")}return l?{direction:l,start:i,after:o}:{}},Zw=(e,t,s,n,i,o=0)=>{const r=[],{direction:l,start:a,after:c}=G_(t,s,n,i);if(l){const h=l==="left";r.push(`${e}-fixed-column--${l}`),h&&c+o===n.states.fixedLeafColumnsLength.value-1?r.push("is-last-column"):!h&&a-o===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&r.push("is-first-column")}return r};function PR(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const Jw=(e,t,s,n)=>{const{direction:i,start:o=0,after:r=0}=G_(e,t,s,n);if(!i)return;const l={},a=i==="left",c=s.states.columns.value;return a?l.left=c.slice(0,o).reduce(PR,0):l.right=c.slice(r+1).reverse().reduce(PR,0),l},Ru=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function gee(e){const t=ct(),s=L(!1),n=L([]);return{updateExpandRows:()=>{const a=e.data.value||[],c=e.rowKey.value;if(s.value)n.value=a.slice();else if(c){const h=yl(n.value,c);n.value=a.reduce((d,p)=>{const g=tn(p,c);return h[g]&&d.push(p),d},[])}else n.value=[]},toggleRowExpansion:(a,c)=>{Wc(n.value,a,c)&&t.emit("expand-change",a,n.value.slice())},setExpandRowKeys:a=>{t.store.assertRowKey();const c=e.data.value||[],h=e.rowKey.value,d=yl(c,h);n.value=a.reduce((p,g)=>{const m=d[g];return m&&p.push(m.row),p},[])},isRowExpanded:a=>{const c=e.rowKey.value;return c?!!yl(n.value,c)[tn(a,c)]:n.value.includes(a)},states:{expandRows:n,defaultExpandAll:s}}}function mee(e){const t=ct(),s=L(null),n=L(null),i=c=>{t.store.assertRowKey(),s.value=c,r(c)},o=()=>{s.value=null},r=c=>{const{data:h,rowKey:d}=e;let p=null;d.value&&(p=(u(h)||[]).find(g=>tn(g,d.value)===c)),n.value=p,t.emit("current-change",n.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:o,setCurrentRowByKey:r,updateCurrentRow:c=>{const h=n.value;if(c&&c!==h){n.value=c,t.emit("current-change",n.value,h);return}!c&&h&&(n.value=null,t.emit("current-change",null,h))},updateCurrentRowData:()=>{const c=e.rowKey.value,h=e.data.value||[],d=n.value;if(!h.includes(d)&&d){if(c){const p=tn(d,c);r(p)}else n.value=null;n.value===null&&t.emit("current-change",null,d)}else s.value&&(r(s.value),o())},states:{_currentRowKey:s,currentRow:n}}}function vee(e){const t=L([]),s=L({}),n=L(16),i=L(!1),o=L({}),r=L("hasChildren"),l=L("children"),a=ct(),c=R(()=>{if(!e.rowKey.value)return{};const v=e.data.value||[];return d(v)}),h=R(()=>{const v=e.rowKey.value,y=Object.keys(o.value),w={};return y.length&&y.forEach(b=>{if(o.value[b].length){const T={children:[]};o.value[b].forEach(E=>{const P=tn(E,v);T.children.push(P),E[r.value]&&!w[P]&&(w[P]={children:[]})}),w[b]=T}}),w}),d=v=>{const y=e.rowKey.value,w={};return pee(v,(b,T,E)=>{const P=tn(b,y);Array.isArray(T)?w[P]={children:T.map(A=>tn(A,y)),level:E}:i.value&&(w[P]={children:[],lazy:!0,level:E})},l.value,r.value),w},p=(v=!1,y=(w=>(w=a.store)==null?void 0:w.states.defaultExpandAll.value)())=>{var w;const b=c.value,T=h.value,E=Object.keys(b),P={};if(E.length){const A=u(s),N=[],x=(G,K)=>{if(v)return t.value?y||t.value.includes(K):!!(y||G!=null&&G.expanded);{const z=y||t.value&&t.value.includes(K);return!!(G!=null&&G.expanded||z)}};E.forEach(G=>{const K=A[G],z={...b[G]};if(z.expanded=x(K,G),z.lazy){const{loaded:W=!1,loading:k=!1}=K||{};z.loaded=!!W,z.loading=!!k,N.push(G)}P[G]=z});const F=Object.keys(T);i.value&&F.length&&N.length&&F.forEach(G=>{const K=A[G],z=T[G].children;if(N.includes(G)){if(P[G].children.length!==0)throw new Error("[ElTable]children must be an empty array.");P[G].children=z}else{const{loaded:W=!1,loading:k=!1}=K||{};P[G]={lazy:!0,loaded:!!W,loading:!!k,expanded:x(K,G),children:z,level:""}}})}s.value=P,(w=a.store)==null||w.updateTableScrollY()};ve(()=>t.value,()=>{p(!0)}),ve(()=>c.value,()=>{p()}),ve(()=>h.value,()=>{p()});const g=v=>{t.value=v,p()},m=(v,y)=>{a.store.assertRowKey();const w=e.rowKey.value,b=tn(v,w),T=b&&s.value[b];if(b&&T&&"expanded"in T){const E=T.expanded;y=typeof y>"u"?!T.expanded:y,s.value[b].expanded=y,E!==y&&a.emit("expand-change",v,y),a.store.updateTableScrollY()}},f=v=>{a.store.assertRowKey();const y=e.rowKey.value,w=tn(v,y),b=s.value[w];i.value&&b&&"loaded"in b&&!b.loaded?C(v,w,b):m(v,void 0)},C=(v,y,w)=>{const{load:b}=a.props;b&&!s.value[y].loaded&&(s.value[y].loading=!0,b(v,w,T=>{if(!Array.isArray(T))throw new TypeError("[ElTable] data must be an array");s.value[y].loading=!1,s.value[y].loaded=!0,s.value[y].expanded=!0,T.length&&(o.value[y]=T),a.emit("expand-change",v,!0)}))};return{loadData:C,loadOrToggle:f,toggleTreeExpansion:m,updateTreeExpandKeys:g,updateTreeData:p,normalize:d,states:{expandRowKeys:t,treeData:s,indent:n,lazy:i,lazyTreeNodeMap:o,lazyColumnIdentifier:r,childrenColumnName:l}}}const Cee=(e,t)=>{const s=t.sortingColumn;return!s||typeof s.sortable=="string"?e:aee(e,t.sortProp,t.sortOrder,s.sortMethod,s.sortBy)},Mp=e=>{const t=[];return e.forEach(s=>{s.children&&s.children.length>0?t.push.apply(t,Mp(s.children)):t.push(s)}),t};function yee(){var e;const t=ct(),{size:s}=Zs((e=t.proxy)==null?void 0:e.$props),n=L(null),i=L([]),o=L([]),r=L(!1),l=L([]),a=L([]),c=L([]),h=L([]),d=L([]),p=L([]),g=L([]),m=L([]),f=[],C=L(0),v=L(0),y=L(0),w=L(!1),b=L([]),T=L(!1),E=L(!1),P=L(null),A=L({}),N=L(null),x=L(null),F=L(null),G=L(null),K=L(null);ve(i,()=>t.state&&I(!1),{deep:!0});const z=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},W=Je=>{var me;(me=Je.children)==null||me.forEach(Ie=>{Ie.fixed=Je.fixed,W(Ie)})},k=()=>{l.value.forEach(de=>{W(de)}),h.value=l.value.filter(de=>de.fixed===!0||de.fixed==="left"),d.value=l.value.filter(de=>de.fixed==="right"),h.value.length>0&&l.value[0]&&l.value[0].type==="selection"&&!l.value[0].fixed&&(l.value[0].fixed=!0,h.value.unshift(l.value[0]));const Je=l.value.filter(de=>!de.fixed);a.value=[].concat(h.value).concat(Je).concat(d.value);const me=Mp(Je),Ie=Mp(h.value),ne=Mp(d.value);C.value=me.length,v.value=Ie.length,y.value=ne.length,c.value=[].concat(Ie).concat(me).concat(ne),r.value=h.value.length>0||d.value.length>0},I=(Je,me=!1)=>{Je&&k(),me?t.state.doLayout():t.state.debouncedUpdateLayout()},V=Je=>b.value.includes(Je),_=()=>{w.value=!1,b.value.length&&(b.value=[],t.emit("selection-change",[]))},B=()=>{let Je;if(n.value){Je=[];const me=yl(b.value,n.value),Ie=yl(i.value,n.value);for(const ne in me)Ot(me,ne)&&!Ie[ne]&&Je.push(me[ne].row)}else Je=b.value.filter(me=>!i.value.includes(me));if(Je.length){const me=b.value.filter(Ie=>!Je.includes(Ie));b.value=me,t.emit("selection-change",me.slice())}},Y=()=>(b.value||[]).slice(),Q=(Je,me=void 0,Ie=!0)=>{if(Wc(b.value,Je,me)){const de=(b.value||[]).slice();Ie&&t.emit("select",de,Je),t.emit("selection-change",de)}},ee=()=>{var Je,me;const Ie=E.value?!w.value:!(w.value||b.value.length);w.value=Ie;let ne=!1,de=0;const Pe=(me=(Je=t==null?void 0:t.store)==null?void 0:Je.states)==null?void 0:me.rowKey.value;i.value.forEach((oe,ze)=>{const ut=ze+de;P.value?P.value.call(null,oe,ut)&&Wc(b.value,oe,Ie)&&(ne=!0):Wc(b.value,oe,Ie)&&(ne=!0),de+=te(tn(oe,Pe))}),ne&&t.emit("selection-change",b.value?b.value.slice():[]),t.emit("select-all",b.value)},ce=()=>{const Je=yl(b.value,n.value);i.value.forEach(me=>{const Ie=tn(me,n.value),ne=Je[Ie];ne&&(b.value[ne.index]=me)})},Ee=()=>{var Je,me,Ie;if(((Je=i.value)==null?void 0:Je.length)===0){w.value=!1;return}let ne;n.value&&(ne=yl(b.value,n.value));const de=function(ut){return ne?!!ne[tn(ut,n.value)]:b.value.includes(ut)};let Pe=!0,oe=0,ze=0;for(let ut=0,Ht=(i.value||[]).length;ut<Ht;ut++){const Qt=(Ie=(me=t==null?void 0:t.store)==null?void 0:me.states)==null?void 0:Ie.rowKey.value,Ii=ut+ze,ys=i.value[ut],Bt=P.value&&P.value.call(null,ys,Ii);if(de(ys))oe++;else if(!P.value||Bt){Pe=!1;break}ze+=te(tn(ys,Qt))}oe===0&&(Pe=!1),w.value=Pe},te=Je=>{var me;if(!t||!t.store)return 0;const{treeData:Ie}=t.store.states;let ne=0;const de=(me=Ie.value[Je])==null?void 0:me.children;return de&&(ne+=de.length,de.forEach(Pe=>{ne+=te(Pe)})),ne},ue=(Je,me)=>{Array.isArray(Je)||(Je=[Je]);const Ie={};return Je.forEach(ne=>{A.value[ne.id]=me,Ie[ne.columnKey||ne.id]=me}),Ie},le=(Je,me,Ie)=>{x.value&&x.value!==Je&&(x.value.order=null),x.value=Je,F.value=me,G.value=Ie},Fe=()=>{let Je=u(o);Object.keys(A.value).forEach(me=>{const Ie=A.value[me];if(!Ie||Ie.length===0)return;const ne=N_({columns:c.value},me);ne&&ne.filterMethod&&(Je=Je.filter(de=>Ie.some(Pe=>ne.filterMethod.call(null,Pe,de,ne))))}),N.value=Je},pe=()=>{i.value=Cee(N.value,{sortingColumn:x.value,sortProp:F.value,sortOrder:G.value})},be=(Je=void 0)=>{Je&&Je.filter||Fe(),pe()},Le=Je=>{const{tableHeaderRef:me}=t.refs;if(!me)return;const Ie=Object.assign({},me.filterPanels),ne=Object.keys(Ie);if(ne.length)if(typeof Je=="string"&&(Je=[Je]),Array.isArray(Je)){const de=Je.map(Pe=>uee({columns:c.value},Pe));ne.forEach(Pe=>{const oe=de.find(ze=>ze.id===Pe);oe&&(oe.filteredValue=[])}),t.store.commit("filterChange",{column:de,values:[],silent:!0,multi:!0})}else ne.forEach(de=>{const Pe=c.value.find(oe=>oe.id===de);Pe&&(Pe.filteredValue=[])}),A.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},X=()=>{x.value&&(le(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:ie,toggleRowExpansion:Ce,updateExpandRows:Re,states:he,isRowExpanded:Se}=gee({data:i,rowKey:n}),{updateTreeExpandKeys:Te,toggleTreeExpansion:De,updateTreeData:ye,loadOrToggle:Ae,states:Ve}=vee({data:i,rowKey:n}),{updateCurrentRowData:Ke,updateCurrentRow:ge,setCurrentRowKey:$e,states:et}=mee({data:i,rowKey:n});return{assertRowKey:z,updateColumns:k,scheduleLayout:I,isSelected:V,clearSelection:_,cleanSelection:B,getSelectionRows:Y,toggleRowSelection:Q,_toggleAllSelection:ee,toggleAllSelection:null,updateSelectionByRowKey:ce,updateAllSelected:Ee,updateFilters:ue,updateCurrentRow:ge,updateSort:le,execFilter:Fe,execSort:pe,execQuery:be,clearFilter:Le,clearSort:X,toggleRowExpansion:Ce,setExpandRowKeysAdapter:Je=>{ie(Je),Te(Je)},setCurrentRowKey:$e,toggleRowExpansionAdapter:(Je,me)=>{c.value.some(({type:ne})=>ne==="expand")?Ce(Je,me):De(Je,me)},isRowExpanded:Se,updateExpandRows:Re,updateCurrentRowData:Ke,loadOrToggle:Ae,updateTreeData:ye,states:{tableSize:s,rowKey:n,data:i,_data:o,isComplex:r,_columns:l,originColumns:a,columns:c,fixedColumns:h,rightFixedColumns:d,leafColumns:p,fixedLeafColumns:g,rightFixedLeafColumns:m,updateOrderFns:f,leafColumnsLength:C,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:y,isAllSelected:w,selection:b,reserveSelection:T,selectOnIndeterminate:E,selectable:P,filters:A,filteredData:N,sortingColumn:x,sortProp:F,sortOrder:G,hoverRow:K,...he,...Ve,...et}}}function wC(e,t){return e.map(s=>{var n;return s.id===t.id?t:((n=s.children)!=null&&n.length&&(s.children=wC(s.children,t)),s)})}function bC(e){e.forEach(t=>{var s,n;t.no=(s=t.getColumnIndex)==null?void 0:s.call(t),(n=t.children)!=null&&n.length&&bC(t.children)}),e.sort((t,s)=>t.no-s.no)}function wee(){const e=ct(),t=yee();return{ns:we("table"),...t,mutations:{setData(r,l){const a=u(r._data)!==l;r.data.value=l,r._data.value=l,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),u(r.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):a?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(r,l,a,c){const h=u(r._columns);let d=[];a?(a&&!a.children&&(a.children=[]),a.children.push(l),d=wC(h,a)):(h.push(l),d=h),bC(d),r._columns.value=d,r.updateOrderFns.push(c),l.type==="selection"&&(r.selectable.value=l.selectable,r.reserveSelection.value=l.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(r,l){var a;((a=l.getColumnIndex)==null?void 0:a.call(l))!==l.no&&(bC(r._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(r,l,a,c){const h=u(r._columns)||[];if(a)a.children.splice(a.children.findIndex(p=>p.id===l.id),1),Xe(()=>{var p;((p=a.children)==null?void 0:p.length)===0&&delete a.children}),r._columns.value=wC(h,a);else{const p=h.indexOf(l);p>-1&&(h.splice(p,1),r._columns.value=h)}const d=r.updateOrderFns.indexOf(c);d>-1&&r.updateOrderFns.splice(d,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(r,l){const{prop:a,order:c,init:h}=l;if(a){const d=u(r.columns).find(p=>p.property===a);d&&(d.order=c,e.store.updateSort(d,a,c),e.store.commit("changeSortCondition",{init:h}))}},changeSortCondition(r,l){const{sortingColumn:a,sortProp:c,sortOrder:h}=r,d=u(a),p=u(c),g=u(h);g===null&&(r.sortingColumn.value=null,r.sortProp.value=null);const m={filter:!0};e.store.execQuery(m),(!l||!(l.silent||l.init))&&e.emit("sort-change",{column:d,prop:p,order:g}),e.store.updateTableScrollY()},filterChange(r,l){const{column:a,values:c,silent:h}=l,d=e.store.updateFilters(a,c);e.store.execQuery(),h||e.emit("filter-change",d),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(r,l){e.store.toggleRowSelection(l),e.store.updateAllSelected()},setHoverRow(r,l){r.hoverRow.value=l},setCurrentRow(r,l){e.store.updateCurrentRow(l)}},commit:function(r,...l){const a=e.store.mutations;if(a[r])a[r].apply(e,[e.store.states].concat(l));else throw new Error(`Action not found: ${r}`)},updateTableScrollY:function(){Xe(()=>e.layout.updateScrollY.apply(e.layout))}}}const zc={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function bee(e,t){if(!e)throw new Error("Table is required.");const s=wee();return s.toggleAllSelection=$n(s._toggleAllSelection,10),Object.keys(zc).forEach(n=>{V_(H_(t,n),n,s)}),See(s,t),s}function See(e,t){Object.keys(zc).forEach(s=>{ve(()=>H_(t,s),n=>{V_(n,s,e)})})}function V_(e,t,s){let n=e,i=zc[t];typeof zc[t]=="object"&&(i=i.key,n=n||zc[t].default),s.states[i].value=n}function H_(e,t){if(t.includes(".")){const s=t.split(".");let n=e;return s.forEach(i=>{n=n[i]}),n}else return e[t]}class Eee{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=L(null),this.scrollX=L(!1),this.scrollY=L(!1),this.bodyWidth=L(null),this.fixedWidth=L(null),this.rightFixedWidth=L(null),this.gutterWidth=0;for(const s in t)Ot(t,s)&&(ns(this[s])?this[s].value=t[s]:this[s]=t[s]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const s=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(s!=null&&s.wrapRef)){let n=!0;const i=this.scrollY.value;return n=s.wrapRef.scrollHeight>s.wrapRef.clientHeight,this.scrollY.value=n,i!==n}return!1}setHeight(t,s="height"){if(!At)return;const n=this.table.vnode.el;if(t=dee(t),this.height.value=Number(t),!n&&(t||t===0))return Xe(()=>this.setHeight(t,s));typeof t=="number"?(n.style[s]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(n.style[s]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?t.push.apply(t,n.columns):t.push(n)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let s=t;for(;s.tagName!=="DIV";){if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}updateColumnsWidth(){if(!At)return;const t=this.fit,s=this.table.vnode.el.clientWidth;let n=0;const i=this.getFlattenColumns(),o=i.filter(a=>typeof a.width!="number");if(i.forEach(a=>{typeof a.width=="number"&&a.realWidth&&(a.realWidth=null)}),o.length>0&&t){if(i.forEach(a=>{n+=Number(a.width||a.minWidth||80)}),n<=s){this.scrollX.value=!1;const a=s-n;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+a;else{const c=o.reduce((p,g)=>p+Number(g.minWidth||80),0),h=a/c;let d=0;o.forEach((p,g)=>{if(g===0)return;const m=Math.floor(Number(p.minWidth||80)*h);d+=m,p.realWidth=Number(p.minWidth||80)+m}),o[0].realWidth=Number(o[0].minWidth||80)+a-d}}else this.scrollX.value=!0,o.forEach(a=>{a.realWidth=Number(a.minWidth)});this.bodyWidth.value=Math.max(n,s),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(a=>{!a.width&&!a.minWidth?a.realWidth=80:a.realWidth=Number(a.width||a.minWidth),n+=a.realWidth}),this.scrollX.value=n>s,this.bodyWidth.value=n;const r=this.store.states.fixedColumns.value;if(r.length>0){let a=0;r.forEach(c=>{a+=Number(c.realWidth||c.width)}),this.fixedWidth.value=a}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let a=0;l.forEach(c=>{a+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=a}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const s=this.observers.indexOf(t);s!==-1&&this.observers.splice(s,1)}notifyObservers(t){this.observers.forEach(n=>{var i,o;switch(t){case"columns":(i=n.state)==null||i.onColumnsChange(this);break;case"scrollable":(o=n.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:Ree}=Ai,Tee=j({name:"ElTableFilterPanel",components:{ElCheckbox:Ai,ElCheckboxGroup:Ree,ElScrollbar:tr,ElTooltip:hn,ElIcon:Ue,ArrowDown:Jo,ArrowUp:Jy},directives:{ClickOutside:Uo},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=ct(),{t:s}=Ft(),n=we("table-filter"),i=t==null?void 0:t.parent;i.filterPanels.value[e.column.id]||(i.filterPanels.value[e.column.id]=t);const o=L(!1),r=L(null),l=R(()=>e.column&&e.column.filters),a=R(()=>e.column.filterClassName?`${n.b()} ${e.column.filterClassName}`:n.b()),c=R({get:()=>{var T;return(((T=e.column)==null?void 0:T.filteredValue)||[])[0]},set:T=>{h.value&&(typeof T<"u"&&T!==null?h.value.splice(0,1,T):h.value.splice(0,1))}}),h=R({get(){return e.column?e.column.filteredValue||[]:[]},set(T){e.column&&e.upDataColumn("filteredValue",T)}}),d=R(()=>e.column?e.column.filterMultiple:!0),p=T=>T.value===c.value,g=()=>{o.value=!1},m=T=>{T.stopPropagation(),o.value=!o.value},f=()=>{o.value=!1},C=()=>{w(h.value),g()},v=()=>{h.value=[],w(h.value),g()},y=T=>{c.value=T,w(typeof T<"u"&&T!==null?h.value:[]),g()},w=T=>{e.store.commit("filterChange",{column:e.column,values:T}),e.store.updateAllSelected()};ve(o,T=>{e.column&&e.upDataColumn("filterOpened",T)},{immediate:!0});const b=R(()=>{var T,E;return(E=(T=r.value)==null?void 0:T.popperRef)==null?void 0:E.contentRef});return{tooltipVisible:o,multiple:d,filterClassName:a,filteredValue:h,filterValue:c,filters:l,handleConfirm:C,handleReset:v,handleSelect:y,isActive:p,t:s,ns:n,showFilterPanel:m,hideFilterPanel:f,popperPaneRef:b,tooltip:r}}}),Dee={key:0},Aee=["disabled"],Pee=["label","onClick"];function Oee(e,t,s,n,i,o){const r=pt("el-checkbox"),l=pt("el-checkbox-group"),a=pt("el-scrollbar"),c=pt("arrow-up"),h=pt("arrow-down"),d=pt("el-icon"),p=pt("el-tooltip"),g=Jf("click-outside");return D(),re(p,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:""},{content:Z(()=>[e.multiple?(D(),$("div",Dee,[U("div",{class:O(e.ns.e("content"))},[q(a,{"wrap-class":e.ns.e("wrap")},{default:Z(()=>[q(l,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=m=>e.filteredValue=m),class:O(e.ns.e("checkbox-group"))},{default:Z(()=>[(D(!0),$(qe,null,Dt(e.filters,m=>(D(),re(r,{key:m.value,value:m.value},{default:Z(()=>[_t(Me(m.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),U("div",{class:O(e.ns.e("bottom"))},[U("button",{class:O({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...m)=>e.handleConfirm&&e.handleConfirm(...m))},Me(e.t("el.table.confirmFilter")),11,Aee),U("button",{type:"button",onClick:t[2]||(t[2]=(...m)=>e.handleReset&&e.handleReset(...m))},Me(e.t("el.table.resetFilter")),1)],2)])):(D(),$("ul",{key:1,class:O(e.ns.e("list"))},[U("li",{class:O([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||(t[3]=m=>e.handleSelect(null))},Me(e.t("el.table.clearFilter")),3),(D(!0),$(qe,null,Dt(e.filters,m=>(D(),$("li",{key:m.value,class:O([e.ns.e("list-item"),e.ns.is("active",e.isActive(m))]),label:m.value,onClick:f=>e.handleSelect(m.value)},Me(m.text),11,Pee))),128))],2))]),default:Z(()=>[lt((D(),$("span",{class:O([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...m)=>e.showFilterPanel&&e.showFilterPanel(...m))},[q(d,null,{default:Z(()=>[e.column.filterOpened?(D(),re(c,{key:0})):(D(),re(h,{key:1}))]),_:1})],2)),[[g,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var _ee=_e(Tee,[["render",Oee],["__file","filter-panel.vue"]]);function B_(e){const t=ct();sg(()=>{s.value.addObserver(t)}),at(()=>{n(s.value),i(s.value)}),Xo(()=>{n(s.value),i(s.value)}),Kr(()=>{s.value.removeObserver(t)});const s=R(()=>{const o=e.layout;if(!o)throw new Error("Can not find table layout.");return o}),n=o=>{var r;const l=((r=e.vnode.el)==null?void 0:r.querySelectorAll("colgroup > col"))||[];if(!l.length)return;const a=o.getFlattenColumns(),c={};a.forEach(h=>{c[h.id]=h});for(let h=0,d=l.length;h<d;h++){const p=l[h],g=p.getAttribute("name"),m=c[g];m&&p.setAttribute("width",m.realWidth||m.width)}},i=o=>{var r,l;const a=((r=e.vnode.el)==null?void 0:r.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let h=0,d=a.length;h<d;h++)a[h].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const c=((l=e.vnode.el)==null?void 0:l.querySelectorAll("th.gutter"))||[];for(let h=0,d=c.length;h<d;h++){const p=c[h];p.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",p.style.display=o.scrollY.value?"":"none"}};return{tableLayout:s.value,onColumnsChange:n,onScrollableChange:i}}const Do=Symbol("ElTable");function Mee(e,t){const s=ct(),n=Be(Do),i=f=>{f.stopPropagation()},o=(f,C)=>{!C.filters&&C.sortable?m(f,C,!1):C.filterable&&!C.sortable&&i(f),n==null||n.emit("header-click",C,f)},r=(f,C)=>{n==null||n.emit("header-contextmenu",C,f)},l=L(null),a=L(!1),c=L({}),h=(f,C)=>{if(At&&!(C.children&&C.children.length>0)&&l.value&&e.border){a.value=!0;const v=n;t("set-drag-visible",!0);const w=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,b=s.vnode.el.querySelector(`th.${C.id}`),T=b.getBoundingClientRect(),E=T.left-w+30;pi(b,"noclick"),c.value={startMouseLeft:f.clientX,startLeft:T.right-w,startColumnLeft:T.left-w,tableLeft:w};const P=v==null?void 0:v.refs.resizeProxy;P.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const A=x=>{const F=x.clientX-c.value.startMouseLeft,G=c.value.startLeft+F;P.style.left=`${Math.max(E,G)}px`},N=()=>{if(a.value){const{startColumnLeft:x,startLeft:F}=c.value,K=Number.parseInt(P.style.left,10)-x;C.width=C.realWidth=K,v==null||v.emit("header-dragend",C.width,F-x,C,f),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",a.value=!1,l.value=null,c.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",N),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{cn(b,"noclick")},0)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",N)}},d=(f,C)=>{if(C.children&&C.children.length>0)return;const v=f.target;if(!Ei(v))return;const y=v==null?void 0:v.closest("th");if(!(!C||!C.resizable)&&!a.value&&e.border){const w=y.getBoundingClientRect(),b=document.body.style;w.width>12&&w.right-f.pageX<8?(b.cursor="col-resize",vi(y,"is-sortable")&&(y.style.cursor="col-resize"),l.value=C):a.value||(b.cursor="",vi(y,"is-sortable")&&(y.style.cursor="pointer"),l.value=null)}},p=()=>{At&&(document.body.style.cursor="")},g=({order:f,sortOrders:C})=>{if(f==="")return C[0];const v=C.indexOf(f||null);return C[v>C.length-2?0:v+1]},m=(f,C,v)=>{var y;f.stopPropagation();const w=C.order===v?null:v||g(C),b=(y=f.target)==null?void 0:y.closest("th");if(b&&vi(b,"noclick")){cn(b,"noclick");return}if(!C.sortable)return;const T=e.store.states;let E=T.sortProp.value,P;const A=T.sortingColumn.value;(A!==C||A===C&&A.order===null)&&(A&&(A.order=null),T.sortingColumn.value=C,E=C.property),w?P=C.order=w:P=C.order=null,T.sortProp.value=E,T.sortOrder.value=P,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:r,handleMouseDown:h,handleMouseMove:d,handleMouseOut:p,handleSortClick:m,handleFilterClick:i}}function Iee(e){const t=Be(Do),s=we("table");return{getHeaderRowStyle:l=>{const a=t==null?void 0:t.props.headerRowStyle;return typeof a=="function"?a.call(null,{rowIndex:l}):a},getHeaderRowClass:l=>{const a=[],c=t==null?void 0:t.props.headerRowClassName;return typeof c=="string"?a.push(c):typeof c=="function"&&a.push(c.call(null,{rowIndex:l})),a.join(" ")},getHeaderCellStyle:(l,a,c,h)=>{var d;let p=(d=t==null?void 0:t.props.headerCellStyle)!=null?d:{};typeof p=="function"&&(p=p.call(null,{rowIndex:l,columnIndex:a,row:c,column:h}));const g=Jw(a,h.fixed,e.store,c);return Ru(g,"left"),Ru(g,"right"),Object.assign({},p,g)},getHeaderCellClass:(l,a,c,h)=>{const d=Zw(s.b(),a,h.fixed,e.store,c),p=[h.id,h.order,h.headerAlign,h.className,h.labelClassName,...d];h.children||p.push("is-leaf"),h.sortable&&p.push("is-sortable");const g=t==null?void 0:t.props.headerCellClassName;return typeof g=="string"?p.push(g):typeof g=="function"&&p.push(g.call(null,{rowIndex:l,columnIndex:a,row:c,column:h})),p.push(s.e("cell")),p.filter(m=>!!m).join(" ")}}}const $_=e=>{const t=[];return e.forEach(s=>{s.children?(t.push(s),t.push.apply(t,$_(s.children))):t.push(s)}),t},Fee=e=>{let t=1;const s=(o,r)=>{if(r&&(o.level=r.level+1,t<o.level&&(t=o.level)),o.children){let l=0;o.children.forEach(a=>{s(a,o),l+=a.colSpan}),o.colSpan=l}else o.colSpan=1};e.forEach(o=>{o.level=1,s(o,void 0)});const n=[];for(let o=0;o<t;o++)n.push([]);return $_(e).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(r=>r.isSubColumn=!0)):o.rowSpan=t-o.level+1,n[o.level-1].push(o)}),n};function Lee(e){const t=Be(Do),s=R(()=>Fee(e.store.states.originColumns.value));return{isGroup:R(()=>{const o=s.value.length>1;return o&&t&&(t.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:s}}var Nee=j({name:"ElTableHeader",components:{ElCheckbox:Ai},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const s=ct(),n=Be(Do),i=we("table"),o=L({}),{onColumnsChange:r,onScrollableChange:l}=B_(n);at(async()=>{await Xe(),await Xe();const{prop:E,order:P}=e.defaultSort;n==null||n.store.commit("sort",{prop:E,order:P,init:!0})});const{handleHeaderClick:a,handleHeaderContextMenu:c,handleMouseDown:h,handleMouseMove:d,handleMouseOut:p,handleSortClick:g,handleFilterClick:m}=Mee(e,t),{getHeaderRowStyle:f,getHeaderRowClass:C,getHeaderCellStyle:v,getHeaderCellClass:y}=Iee(e),{isGroup:w,toggleAllSelection:b,columnRows:T}=Lee(e);return s.state={onColumnsChange:r,onScrollableChange:l},s.filterPanels=o,{ns:i,filterPanels:o,onColumnsChange:r,onScrollableChange:l,columnRows:T,getHeaderRowClass:C,getHeaderRowStyle:f,getHeaderCellClass:y,getHeaderCellStyle:v,handleHeaderClick:a,handleHeaderContextMenu:c,handleMouseDown:h,handleMouseMove:d,handleMouseOut:p,handleSortClick:g,handleFilterClick:m,isGroup:w,toggleAllSelection:b}},render(){const{ns:e,isGroup:t,columnRows:s,getHeaderCellStyle:n,getHeaderCellClass:i,getHeaderRowClass:o,getHeaderRowStyle:r,handleHeaderClick:l,handleHeaderContextMenu:a,handleMouseDown:c,handleMouseMove:h,handleSortClick:d,handleMouseOut:p,store:g,$parent:m}=this;let f=1;return Qe("thead",{class:{[e.is("group")]:t}},s.map((C,v)=>Qe("tr",{class:o(v),key:v,style:r(v)},C.map((y,w)=>(y.rowSpan>f&&(f=y.rowSpan),Qe("th",{class:i(v,w,C,y),colspan:y.colSpan,key:`${y.id}-thead`,rowspan:y.rowSpan,style:n(v,w,C,y),onClick:b=>l(b,y),onContextmenu:b=>a(b,y),onMousedown:b=>c(b,y),onMousemove:b=>h(b,y),onMouseout:p},[Qe("div",{class:["cell",y.filteredValue&&y.filteredValue.length>0?"highlight":""]},[y.renderHeader?y.renderHeader({column:y,$index:w,store:g,_self:m}):y.label,y.sortable&&Qe("span",{onClick:b=>d(b,y),class:"caret-wrapper"},[Qe("i",{onClick:b=>d(b,y,"ascending"),class:"sort-caret ascending"}),Qe("i",{onClick:b=>d(b,y,"descending"),class:"sort-caret descending"})]),y.filterable&&Qe(_ee,{store:g,placement:y.filterPlacement||"bottom-start",column:y,upDataColumn:(b,T)=>{y[b]=T}})])]))))))}});function xee(e){const t=Be(Do),s=L(""),n=L(Qe("div")),i=(m,f,C)=>{var v;const y=t,w=Um(m);let b;const T=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;w&&(b=DR({columns:e.store.states.columns.value},w,T),b&&(y==null||y.emit(`cell-${C}`,f,b,w,m))),y==null||y.emit(`row-${C}`,f,b,m)},o=(m,f)=>{i(m,f,"dblclick")},r=(m,f)=>{e.store.commit("setCurrentRow",f),i(m,f,"click")},l=(m,f)=>{i(m,f,"contextmenu")},a=$n(m=>{e.store.commit("setHoverRow",m)},30),c=$n(()=>{e.store.commit("setHoverRow",null)},30),h=m=>{const f=window.getComputedStyle(m,null),C=Number.parseInt(f.paddingLeft,10)||0,v=Number.parseInt(f.paddingRight,10)||0,y=Number.parseInt(f.paddingTop,10)||0,w=Number.parseInt(f.paddingBottom,10)||0;return{left:C,right:v,top:y,bottom:w}},d=(m,f,C)=>{let v=f.target.parentNode;for(;m>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)C(v,"hover-row hover-fixed-row"),m--};return{handleDoubleClick:o,handleClick:r,handleContextMenu:l,handleMouseEnter:a,handleMouseLeave:c,handleCellMouseEnter:(m,f,C)=>{var v;const y=t,w=Um(m),b=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;if(w){const I=DR({columns:e.store.states.columns.value},w,b);w.rowSpan>1&&d(w.rowSpan,m,pi);const V=y.hoverState={cell:w,column:I,row:f};y==null||y.emit("cell-mouse-enter",V.row,V.column,V.cell,m)}if(!C)return;const T=m.target.querySelector(".cell");if(!(vi(T,`${b}-tooltip`)&&T.childNodes.length))return;const E=document.createRange();E.setStart(T,0),E.setEnd(T,T.childNodes.length);let P=E.getBoundingClientRect().width,A=E.getBoundingClientRect().height;P-Math.floor(P)<.001&&(P=Math.floor(P)),A-Math.floor(A)<.001&&(A=Math.floor(A));const{top:F,left:G,right:K,bottom:z}=h(T),W=G+K,k=F+z;(P+W>T.offsetWidth||A+k>T.offsetHeight||T.scrollWidth>T.offsetWidth)&&fee(C,w.innerText||w.textContent,w,y)},handleCellMouseLeave:m=>{const f=Um(m);if(!f)return;f.rowSpan>1&&d(f.rowSpan,m,cn);const C=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",C==null?void 0:C.row,C==null?void 0:C.column,C==null?void 0:C.cell,m)},tooltipContent:s,tooltipTrigger:n}}function kee(e){const t=Be(Do),s=we("table");return{getRowStyle:(c,h)=>{const d=t==null?void 0:t.props.rowStyle;return typeof d=="function"?d.call(null,{row:c,rowIndex:h}):d||null},getRowClass:(c,h)=>{const d=[s.e("row")];t!=null&&t.props.highlightCurrentRow&&c===e.store.states.currentRow.value&&d.push("current-row"),e.stripe&&h%2===1&&d.push(s.em("row","striped"));const p=t==null?void 0:t.props.rowClassName;return typeof p=="string"?d.push(p):typeof p=="function"&&d.push(p.call(null,{row:c,rowIndex:h})),d},getCellStyle:(c,h,d,p)=>{const g=t==null?void 0:t.props.cellStyle;let m=g??{};typeof g=="function"&&(m=g.call(null,{rowIndex:c,columnIndex:h,row:d,column:p}));const f=Jw(h,e==null?void 0:e.fixed,e.store);return Ru(f,"left"),Ru(f,"right"),Object.assign({},m,f)},getCellClass:(c,h,d,p,g)=>{const m=Zw(s.b(),h,e==null?void 0:e.fixed,e.store,void 0,g),f=[p.id,p.align,p.className,...m],C=t==null?void 0:t.props.cellClassName;return typeof C=="string"?f.push(C):typeof C=="function"&&f.push(C.call(null,{rowIndex:c,columnIndex:h,row:d,column:p})),f.push(s.e("cell")),f.filter(v=>!!v).join(" ")},getSpan:(c,h,d,p)=>{let g=1,m=1;const f=t==null?void 0:t.props.spanMethod;if(typeof f=="function"){const C=f({row:c,column:h,rowIndex:d,columnIndex:p});Array.isArray(C)?(g=C[0],m=C[1]):typeof C=="object"&&(g=C.rowspan,m=C.colspan)}return{rowspan:g,colspan:m}},getColspanRealWidth:(c,h,d)=>{if(h<1)return c[d].realWidth;const p=c.map(({realWidth:g,width:m})=>g||m).slice(d,d+h);return Number(p.reduce((g,m)=>Number(g)+Number(m),-1))}}}function Gee(e){const t=Be(Do),s=we("table"),{handleDoubleClick:n,handleClick:i,handleContextMenu:o,handleMouseEnter:r,handleMouseLeave:l,handleCellMouseEnter:a,handleCellMouseLeave:c,tooltipContent:h,tooltipTrigger:d}=xee(e),{getRowStyle:p,getRowClass:g,getCellStyle:m,getCellClass:f,getSpan:C,getColspanRealWidth:v}=kee(e),y=R(()=>e.store.states.columns.value.findIndex(({type:P})=>P==="default")),w=(P,A)=>{const N=t.props.rowKey;return N?tn(P,N):A},b=(P,A,N,x=!1)=>{const{tooltipEffect:F,tooltipOptions:G,store:K}=e,{indent:z,columns:W}=K.states,k=g(P,A);let I=!0;return N&&(k.push(s.em("row",`level-${N.level}`)),I=N.display),Qe("tr",{style:[I?null:{display:"none"},p(P,A)],class:k,key:w(P,A),onDblclick:_=>n(_,P),onClick:_=>i(_,P),onContextmenu:_=>o(_,P),onMouseenter:()=>r(A),onMouseleave:l},W.value.map((_,B)=>{const{rowspan:Y,colspan:Q}=C(P,_,A,B);if(!Y||!Q)return null;const ee=Object.assign({},_);ee.realWidth=v(W.value,Q,B);const ce={store:e.store,_self:e.context||t,column:ee,row:P,$index:A,cellIndex:B,expanded:x};B===y.value&&N&&(ce.treeNode={indent:N.level*z.value,level:N.level},typeof N.expanded=="boolean"&&(ce.treeNode.expanded=N.expanded,"loading"in N&&(ce.treeNode.loading=N.loading),"noLazyChildren"in N&&(ce.treeNode.noLazyChildren=N.noLazyChildren)));const Ee=`${A},${B}`,te=ee.columnKey||ee.rawColumnKey||"",ue=T(B,_,ce),le=_.showOverflowTooltip&&kH({effect:F},G,_.showOverflowTooltip);return Qe("td",{style:m(A,B,P,_),class:f(A,B,P,_,Q-1),key:`${te}${Ee}`,rowspan:Y,colspan:Q,onMouseenter:Fe=>a(Fe,P,le),onMouseleave:c},[ue])}))},T=(P,A,N)=>A.renderCell(N);return{wrappedRowRender:(P,A)=>{const N=e.store,{isRowExpanded:x,assertRowKey:F}=N,{treeData:G,lazyTreeNodeMap:K,childrenColumnName:z,rowKey:W}=N.states,k=N.states.columns.value;if(k.some(({type:V})=>V==="expand")){const V=x(P),_=b(P,A,void 0,V),B=t.renderExpanded;return V?B?[[_,Qe("tr",{key:`expanded-row__${_.key}`},[Qe("td",{colspan:k.length,class:`${s.e("cell")} ${s.e("expanded-cell")}`},[B({row:P,$index:A,store:N,expanded:V})])])]]:(console.error("[Element Error]renderExpanded is required."),_):[[_]]}else if(Object.keys(G.value).length){F();const V=tn(P,W.value);let _=G.value[V],B=null;_&&(B={expanded:_.expanded,level:_.level,display:!0},typeof _.lazy=="boolean"&&(typeof _.loaded=="boolean"&&_.loaded&&(B.noLazyChildren=!(_.children&&_.children.length)),B.loading=_.loading));const Y=[b(P,A,B)];if(_){let Q=0;const ee=(Ee,te)=>{Ee&&Ee.length&&te&&Ee.forEach(ue=>{const le={display:te.display&&te.expanded,level:te.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Fe=tn(ue,W.value);if(Fe==null)throw new Error("For nested data item, row-key is required.");if(_={...G.value[Fe]},_&&(le.expanded=_.expanded,_.level=_.level||le.level,_.display=!!(_.expanded&&le.display),typeof _.lazy=="boolean"&&(typeof _.loaded=="boolean"&&_.loaded&&(le.noLazyChildren=!(_.children&&_.children.length)),le.loading=_.loading)),Q++,Y.push(b(ue,A+Q,le)),_){const pe=K.value[Fe]||ue[z.value];ee(pe,_)}})};_.display=!0;const ce=K.value[V]||P[z.value];ee(ce,_)}return Y}else return b(P,A,void 0)},tooltipContent:h,tooltipTrigger:d}}const Vee={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Hee=j({name:"ElTableBody",props:Vee,setup(e){const t=ct(),s=Be(Do),n=we("table"),{wrappedRowRender:i,tooltipContent:o,tooltipTrigger:r}=Gee(e),{onColumnsChange:l,onScrollableChange:a}=B_(s),c=[];return ve(e.store.states.hoverRow,(h,d)=>{var p;const g=t==null?void 0:t.vnode.el,m=Array.from((g==null?void 0:g.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${n.e("row")}`));let f=h;const C=(p=m[f])==null?void 0:p.childNodes;C!=null&&C.length?Array.from(C).reduce((y,w,b)=>{var T,E;const P=((T=C[b-1])==null?void 0:T.colSpan)>1,A=((E=C[b+1])==null?void 0:E.colSpan)>1;return w.nodeName!=="TD"&&!P&&!A&&y.push(b),y},[]).forEach(y=>{for(var w;f>0;){const b=(w=m[f-1])==null?void 0:w.childNodes;if(b[y]&&b[y].nodeName==="TD"){pi(b[y],"hover-cell"),c.push(b[y]);break}f--}}):(c.forEach(v=>cn(v,"hover-cell")),c.length=0),!(!e.store.states.isComplex.value||!At)&&Nr(()=>{const v=m[d],y=m[h];v&&!v.classList.contains("hover-fixed-row")&&cn(v,"hover-row"),y&&pi(y,"hover-row")})}),Kr(()=>{var h;(h=ai)==null||h()}),{ns:n,onColumnsChange:l,onScrollableChange:a,wrappedRowRender:i,tooltipContent:o,tooltipTrigger:r}},render(){const{wrappedRowRender:e,store:t}=this,s=t.states.data.value||[];return Qe("tbody",{tabIndex:-1},[s.reduce((n,i)=>n.concat(e(i,n.length)),[])])}});function Bee(){const e=Be(Do),t=e==null?void 0:e.store,s=R(()=>t.states.fixedLeafColumnsLength.value),n=R(()=>t.states.rightFixedColumns.value.length),i=R(()=>t.states.columns.value.length),o=R(()=>t.states.fixedColumns.value.length),r=R(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:s,rightFixedLeafCount:n,columnsCount:i,leftFixedCount:o,rightFixedCount:r,columns:t.states.columns}}function $ee(e){const{columns:t}=Bee(),s=we("table");return{getCellClasses:(o,r)=>{const l=o[r],a=[s.e("cell"),l.id,l.align,l.labelClassName,...Zw(s.b(),r,l.fixed,e.store)];return l.className&&a.push(l.className),l.children||a.push(s.is("leaf")),a},getCellStyles:(o,r)=>{const l=Jw(r,o.fixed,e.store);return Ru(l,"left"),Ru(l,"right"),l},columns:t}}var Wee=j({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:s,columns:n}=$ee(e);return{ns:we("table"),getCellClasses:t,getCellStyles:s,columns:n}},render(){const{columns:e,getCellStyles:t,getCellClasses:s,summaryMethod:n,sumText:i}=this,o=this.store.states.data.value;let r=[];return n?r=n({columns:e,data:o}):e.forEach((l,a)=>{if(a===0){r[a]=i;return}const c=o.map(g=>Number(g[l.property])),h=[];let d=!0;c.forEach(g=>{if(!Number.isNaN(+g)){d=!1;const m=`${g}`.split(".")[1];h.push(m?m.length:0)}});const p=Math.max.apply(null,h);d?r[a]="":r[a]=c.reduce((g,m)=>{const f=Number(m);return Number.isNaN(+f)?g:Number.parseFloat((g+m).toFixed(Math.min(p,20)))},0)}),Qe(Qe("tfoot",[Qe("tr",{},[...e.map((l,a)=>Qe("td",{key:a,colspan:l.colSpan,rowspan:l.rowSpan,class:s(e,a),style:t(l,a)},[Qe("div",{class:["cell",l.labelClassName]},[r[a]])]))])]))}});function zee(e){return{setCurrentRow:h=>{e.commit("setCurrentRow",h)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(h,d)=>{e.toggleRowSelection(h,d,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:h=>{e.clearFilter(h)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(h,d)=>{e.toggleRowExpansionAdapter(h,d)},clearSort:()=>{e.clearSort()},sort:(h,d)=>{e.commit("sort",{prop:h,order:d})}}}function Uee(e,t,s,n){const i=L(!1),o=L(null),r=L(!1),l=_=>{r.value=_},a=L({width:null,height:null,headerHeight:null}),c=L(!1),h={display:"inline-block",verticalAlign:"middle"},d=L(),p=L(0),g=L(0),m=L(0),f=L(0),C=L(0);sn(()=>{t.setHeight(e.height)}),sn(()=>{t.setMaxHeight(e.maxHeight)}),ve(()=>[e.currentRowKey,s.states.rowKey],([_,B])=>{!u(B)||!u(_)||s.setCurrentRowKey(`${_}`)},{immediate:!0}),ve(()=>e.data,_=>{n.store.commit("setData",_)},{immediate:!0,deep:!0}),sn(()=>{e.expandRowKeys&&s.setExpandRowKeysAdapter(e.expandRowKeys)});const v=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},y=(_,B)=>{const{pixelX:Y,pixelY:Q}=B;Math.abs(Y)>=Math.abs(Q)&&(n.refs.bodyWrapper.scrollLeft+=B.pixelX/5)},w=R(()=>e.height||e.maxHeight||s.states.fixedColumns.value.length>0||s.states.rightFixedColumns.value.length>0),b=R(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),T=()=>{w.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(N)};at(async()=>{await Xe(),s.updateColumns(),x(),requestAnimationFrame(T);const _=n.vnode.el,B=n.refs.headerWrapper;e.flexible&&_&&_.parentElement&&(_.parentElement.style.minWidth="0"),a.value={width:d.value=_.offsetWidth,height:_.offsetHeight,headerHeight:e.showHeader&&B?B.offsetHeight:null},s.states.columns.value.forEach(Y=>{Y.filteredValue&&Y.filteredValue.length&&n.store.commit("filterChange",{column:Y,values:Y.filteredValue,silent:!0})}),n.$ready=!0});const E=(_,B)=>{if(!_)return;const Y=Array.from(_.classList).filter(Q=>!Q.startsWith("is-scrolling-"));Y.push(t.scrollX.value?B:"is-scrolling-none"),_.className=Y.join(" ")},P=_=>{const{tableWrapper:B}=n.refs;E(B,_)},A=_=>{const{tableWrapper:B}=n.refs;return!!(B&&B.classList.contains(_))},N=function(){if(!n.refs.scrollBarRef)return;if(!t.scrollX.value){const te="is-scrolling-none";A(te)||P(te);return}const _=n.refs.scrollBarRef.wrapRef;if(!_)return;const{scrollLeft:B,offsetWidth:Y,scrollWidth:Q}=_,{headerWrapper:ee,footerWrapper:ce}=n.refs;ee&&(ee.scrollLeft=B),ce&&(ce.scrollLeft=B);const Ee=Q-Y-1;B>=Ee?P("is-scrolling-right"):P(B===0?"is-scrolling-left":"is-scrolling-middle")},x=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&ls(n.refs.scrollBarRef.wrapRef,"scroll",N,{passive:!0}),e.fit?fs(n.vnode.el,F):ls(window,"resize",F),fs(n.refs.bodyWrapper,()=>{var _,B;F(),(B=(_=n.refs)==null?void 0:_.scrollBarRef)==null||B.update()}))},F=()=>{var _,B,Y,Q;const ee=n.vnode.el;if(!n.$ready||!ee)return;let ce=!1;const{width:Ee,height:te,headerHeight:ue}=a.value,le=d.value=ee.offsetWidth;Ee!==le&&(ce=!0);const Fe=ee.offsetHeight;(e.height||w.value)&&te!==Fe&&(ce=!0);const pe=e.tableLayout==="fixed"?n.refs.headerWrapper:(_=n.refs.tableHeaderRef)==null?void 0:_.$el;e.showHeader&&(pe==null?void 0:pe.offsetHeight)!==ue&&(ce=!0),p.value=((B=n.refs.tableWrapper)==null?void 0:B.scrollHeight)||0,m.value=(pe==null?void 0:pe.scrollHeight)||0,f.value=((Y=n.refs.footerWrapper)==null?void 0:Y.offsetHeight)||0,C.value=((Q=n.refs.appendWrapper)==null?void 0:Q.offsetHeight)||0,g.value=p.value-m.value-f.value-C.value,ce&&(a.value={width:le,height:Fe,headerHeight:e.showHeader&&(pe==null?void 0:pe.offsetHeight)||0},T())},G=xs(),K=R(()=>{const{bodyWidth:_,scrollY:B,gutterWidth:Y}=t;return _.value?`${_.value-(B.value?Y:0)}px`:""}),z=R(()=>e.maxHeight?"fixed":e.tableLayout),W=R(()=>{if(e.data&&e.data.length)return null;let _="100%";e.height&&g.value&&(_=`${g.value}px`);const B=d.value;return{width:B?`${B}px`:"",height:_}}),k=R(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),I=R(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${m.value+f.value}px)`}:{maxHeight:`${e.maxHeight-m.value-f.value}px`}:{});return{isHidden:i,renderExpanded:o,setDragVisible:l,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:y,tableSize:G,emptyBlockStyle:W,handleFixedMousewheel:(_,B)=>{const Y=n.refs.bodyWrapper;if(Math.abs(B.spinY)>0){const Q=Y.scrollTop;B.pixelY<0&&Q!==0&&_.preventDefault(),B.pixelY>0&&Y.scrollHeight-Y.clientHeight>Q&&_.preventDefault(),Y.scrollTop+=Math.ceil(B.pixelY/5)}else Y.scrollLeft+=Math.ceil(B.pixelX/5)},resizeProxyVisible:r,bodyWidth:K,resizeState:a,doLayout:T,tableBodyStyles:b,tableLayout:z,scrollbarViewStyle:h,tableInnerStyle:k,scrollbarStyle:I}}function Kee(e){const t=L(),s=()=>{const i=e.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},r=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{r.forEach(l=>l())}),t.value.observe(i,o)};at(()=>{s()}),Kr(()=>{var n;(n=t.value)==null||n.disconnect()})}var jee={data:{type:Array,default:()=>[]},size:Us,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function W_(e){const t=e.tableLayout==="auto";let s=e.columns||[];t&&s.every(i=>i.width===void 0)&&(s=[]);const n=i=>{const o={key:`${e.tableLayout}_${i.id}`,style:{},name:void 0};return t?o.style={width:`${i.width}px`}:o.name=i.id,o};return Qe("colgroup",{},s.map(i=>Qe("col",n(i))))}W_.props=["columns","tableLayout"];const Yee=()=>{const e=L(),t=(o,r)=>{const l=e.value;l&&l.scrollTo(o,r)},s=(o,r)=>{const l=e.value;l&&tt(r)&&["Top","Left"].includes(o)&&l[`setScroll${o}`](r)};return{scrollBarRef:e,scrollTo:t,setScrollTop:o=>s("Top",o),setScrollLeft:o=>s("Left",o)}};let qee=1;const Xee=j({name:"ElTable",directives:{Mousewheel:x8},components:{TableHeader:Nee,TableBody:Hee,TableFooter:Wee,ElScrollbar:tr,hColgroup:W_},props:jee,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=Ft(),s=we("table"),n=ct();Et(Do,n);const i=bee(n,e);n.store=i;const o=new Eee({store:n.store,table:n,fit:e.fit,showHeader:e.showHeader});n.layout=o;const r=R(()=>(i.states.data.value||[]).length===0),{setCurrentRow:l,getSelectionRows:a,toggleRowSelection:c,clearSelection:h,clearFilter:d,toggleAllSelection:p,toggleRowExpansion:g,clearSort:m,sort:f}=zee(i),{isHidden:C,renderExpanded:v,setDragVisible:y,isGroup:w,handleMouseLeave:b,handleHeaderFooterMousewheel:T,tableSize:E,emptyBlockStyle:P,handleFixedMousewheel:A,resizeProxyVisible:N,bodyWidth:x,resizeState:F,doLayout:G,tableBodyStyles:K,tableLayout:z,scrollbarViewStyle:W,tableInnerStyle:k,scrollbarStyle:I}=Uee(e,o,i,n),{scrollBarRef:V,scrollTo:_,setScrollLeft:B,setScrollTop:Y}=Yee(),Q=$n(G,50),ee=`${s.namespace.value}-table_${qee++}`;n.tableId=ee,n.state={isGroup:w,resizeState:F,doLayout:G,debouncedUpdateLayout:Q};const ce=R(()=>e.sumText||t("el.table.sumText")),Ee=R(()=>e.emptyText||t("el.table.emptyText"));return Kee(n),{ns:s,layout:o,store:i,handleHeaderFooterMousewheel:T,handleMouseLeave:b,tableId:ee,tableSize:E,isHidden:C,isEmpty:r,renderExpanded:v,resizeProxyVisible:N,resizeState:F,isGroup:w,bodyWidth:x,tableBodyStyles:K,emptyBlockStyle:P,debouncedUpdateLayout:Q,handleFixedMousewheel:A,setCurrentRow:l,getSelectionRows:a,toggleRowSelection:c,clearSelection:h,clearFilter:d,toggleAllSelection:p,toggleRowExpansion:g,clearSort:m,doLayout:G,sort:f,t,setDragVisible:y,context:n,computedSumText:ce,computedEmptyText:Ee,tableLayout:z,scrollbarViewStyle:W,tableInnerStyle:k,scrollbarStyle:I,scrollBarRef:V,scrollTo:_,setScrollLeft:B,setScrollTop:Y}}}),Qee=["data-prefix"],Zee={ref:"hiddenColumns",class:"hidden-columns"};function Jee(e,t,s,n,i,o){const r=pt("hColgroup"),l=pt("table-header"),a=pt("table-body"),c=pt("table-footer"),h=pt("el-scrollbar"),d=Jf("mousewheel");return D(),$("div",{ref:"tableWrapper",class:O([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:je(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=(...p)=>e.handleMouseLeave&&e.handleMouseLeave(...p))},[U("div",{class:O(e.ns.e("inner-wrapper")),style:je(e.tableInnerStyle)},[U("div",Zee,[ae(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?lt((D(),$("div",{key:0,ref:"headerWrapper",class:O(e.ns.e("header-wrapper"))},[U("table",{ref:"tableHeader",class:O(e.ns.e("header")),style:je(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[q(r,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),q(l,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):se("v-if",!0),U("div",{ref:"bodyWrapper",class:O(e.ns.e("body-wrapper"))},[q(h,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:Z(()=>[U("table",{ref:"tableBody",class:O(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:je({width:e.bodyWidth,tableLayout:e.tableLayout})},[q(r,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(D(),re(l,{key:0,ref:"tableHeaderRef",class:O(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):se("v-if",!0),q(a,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(D(),re(c,{key:1,class:O(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):se("v-if",!0)],6),e.isEmpty?(D(),$("div",{key:0,ref:"emptyBlock",style:je(e.emptyBlockStyle),class:O(e.ns.e("empty-block"))},[U("span",{class:O(e.ns.e("empty-text"))},[ae(e.$slots,"empty",{},()=>[_t(Me(e.computedEmptyText),1)])],2)],6)):se("v-if",!0),e.$slots.append?(D(),$("div",{key:1,ref:"appendWrapper",class:O(e.ns.e("append-wrapper"))},[ae(e.$slots,"append")],2)):se("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary&&e.tableLayout==="fixed"?lt((D(),$("div",{key:1,ref:"footerWrapper",class:O(e.ns.e("footer-wrapper"))},[U("table",{class:O(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:je(e.tableBodyStyles)},[q(r,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),q(c,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Lt,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):se("v-if",!0),e.border||e.isGroup?(D(),$("div",{key:2,class:O(e.ns.e("border-left-patch"))},null,2)):se("v-if",!0)],6),lt(U("div",{ref:"resizeProxy",class:O(e.ns.e("column-resize-proxy"))},null,2),[[Lt,e.resizeProxyVisible]])],46,Qee)}var ete=_e(Xee,[["render",Jee],["__file","table.vue"]]);const tte={selection:"table-column--selection",expand:"table__expand-column"},ste={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},nte=e=>tte[e]||"",ite={selection:{renderHeader({store:e,column:t}){function s(){return e.states.data.value&&e.states.data.value.length===0}return Qe(Ai,{disabled:s(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:s,$index:n}){return Qe(Ai,{disabled:t.selectable?!t.selectable.call(null,e,n):!1,size:s.states.tableSize.value,onChange:()=>{s.commit("rowSelectedChanged",e)},onClick:i=>i.stopPropagation(),modelValue:s.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let s=t+1;const n=e.index;return typeof n=="number"?s=t+n:typeof n=="function"&&(s=n(t)),Qe("div",{},[s])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:s}){const{ns:n}=t,i=[n.e("expand-icon")];return s&&i.push(n.em("expand-icon","expanded")),Qe("div",{class:i,onClick:function(r){r.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Qe(Ue,null,{default:()=>[Qe(bn)]})]})},sortable:!1,resizable:!1}};function ote({row:e,column:t,$index:s}){var n;const i=t.property,o=i&&vp(e,i).value;return t&&t.formatter?t.formatter(e,t,o,s):((n=o==null?void 0:o.toString)==null?void 0:n.call(o))||""}function rte({row:e,treeNode:t,store:s},n=!1){const{ns:i}=s;if(!t)return n?[Qe("span",{class:i.e("placeholder")})]:null;const o=[],r=function(l){l.stopPropagation(),!t.loading&&s.loadOrToggle(e)};if(t.indent&&o.push(Qe("span",{class:i.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const l=[i.e("expand-icon"),t.expanded?i.em("expand-icon","expanded"):""];let a=bn;t.loading&&(a=Yr),o.push(Qe("div",{class:l,onClick:r},{default:()=>[Qe(Ue,{class:{[i.is("loading")]:t.loading}},{default:()=>[Qe(a)]})]}))}else o.push(Qe("span",{class:i.e("placeholder")}));return o}function OR(e,t){return e.reduce((s,n)=>(s[n]=n,s),t)}function lte(e,t){const s=ct();return{registerComplexWatchers:()=>{const o=["fixed"],r={realWidth:"width",realMinWidth:"minWidth"},l=OR(o,r);Object.keys(l).forEach(a=>{const c=r[a];Ot(t,c)&&ve(()=>t[c],h=>{let d=h;c==="width"&&a==="realWidth"&&(d=Qw(h)),c==="minWidth"&&a==="realMinWidth"&&(d=x_(h)),s.columnConfig.value[c]=d,s.columnConfig.value[a]=d;const p=c==="fixed";e.value.store.scheduleLayout(p)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],r={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=OR(o,r);Object.keys(l).forEach(a=>{const c=r[a];Ot(t,c)&&ve(()=>t[c],h=>{s.columnConfig.value[a]=h})})}}}function ate(e,t,s){const n=ct(),i=L(""),o=L(!1),r=L(),l=L(),a=we("table");sn(()=>{r.value=e.align?`is-${e.align}`:null,r.value}),sn(()=>{l.value=e.headerAlign?`is-${e.headerAlign}`:r.value,l.value});const c=R(()=>{let b=n.vnode.vParent||n.parent;for(;b&&!b.tableId&&!b.columnId;)b=b.vnode.vParent||b.parent;return b}),h=R(()=>{const{store:b}=n.parent;if(!b)return!1;const{treeData:T}=b.states,E=T.value;return E&&Object.keys(E).length>0}),d=L(Qw(e.width)),p=L(x_(e.minWidth)),g=b=>(d.value&&(b.width=d.value),p.value&&(b.minWidth=p.value),!d.value&&p.value&&(b.width=void 0),b.minWidth||(b.minWidth=80),b.realWidth=Number(b.width===void 0?b.minWidth:b.width),b),m=b=>{const T=b.type,E=ite[T]||{};Object.keys(E).forEach(A=>{const N=E[A];A!=="className"&&N!==void 0&&(b[A]=N)});const P=nte(T);if(P){const A=`${u(a.namespace)}-${P}`;b.className=b.className?`${b.className} ${A}`:A}return b},f=b=>{Array.isArray(b)?b.forEach(E=>T(E)):T(b);function T(E){var P;((P=E==null?void 0:E.type)==null?void 0:P.name)==="ElTableColumn"&&(E.vParent=n)}};return{columnId:i,realAlign:r,isSubColumn:o,realHeaderAlign:l,columnOrTableParent:c,setColumnWidth:g,setColumnForcedProps:m,setColumnRenders:b=>{e.renderHeader||b.type!=="selection"&&(b.renderHeader=E=>(n.columnConfig.value.label,ae(t,"header",E,()=>[b.label])));let T=b.renderCell;return b.type==="expand"?(b.renderCell=E=>Qe("div",{class:"cell"},[T(E)]),s.value.renderExpanded=E=>t.default?t.default(E):t.default):(T=T||ote,b.renderCell=E=>{let P=null;if(t.default){const K=t.default(E);P=K.some(z=>z.type!==wn)?K:T(E)}else P=T(E);const{columns:A}=s.value.store.states,N=A.value.findIndex(K=>K.type==="default"),x=h.value&&E.cellIndex===N,F=rte(E,x),G={class:"cell",style:{}};return b.showOverflowTooltip&&(G.class=`${G.class} ${u(a.namespace)}-tooltip`,G.style={width:`${(E.column.realWidth||Number(E.column.width))-1}px`}),f(P),Qe("div",G,[F,P])}),b},getPropsData:(...b)=>b.reduce((T,E)=>(Array.isArray(E)&&E.forEach(P=>{T[P]=e[P]}),T),{}),getColumnElIndex:(b,T)=>Array.prototype.indexOf.call(b,T),updateColumnOrder:()=>{s.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var ute={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let cte=1;var z_=j({name:"ElTableColumn",components:{ElCheckbox:Ai},props:ute,setup(e,{slots:t}){const s=ct(),n=L({}),i=R(()=>{let w=s.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:o,registerComplexWatchers:r}=lte(i,e),{columnId:l,isSubColumn:a,realHeaderAlign:c,columnOrTableParent:h,setColumnWidth:d,setColumnForcedProps:p,setColumnRenders:g,getPropsData:m,getColumnElIndex:f,realAlign:C,updateColumnOrder:v}=ate(e,t,i),y=h.value;l.value=`${y.tableId||y.columnId}_column_${cte++}`,sg(()=>{a.value=i.value!==y;const w=e.type||"default",b=e.sortable===""?!0:e.sortable,T=Ps(e.showOverflowTooltip)?y.props.showOverflowTooltip:e.showOverflowTooltip,E={...ste[w],id:l.value,type:w,property:e.prop||e.property,align:C,headerAlign:c,showOverflowTooltip:T,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:b,index:e.index,rawColumnKey:s.vnode.key};let F=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);F=cee(E,F),F=hee(g,d,p)(F),n.value=F,o(),r()}),at(()=>{var w;const b=h.value,T=a.value?b.vnode.el.children:(w=b.refs.hiddenColumns)==null?void 0:w.children,E=()=>f(T||[],s.vnode.el);n.value.getColumnIndex=E,E()>-1&&i.value.store.commit("insertColumn",n.value,a.value?b.columnConfig.value:null,v)}),Jt(()=>{i.value.store.commit("removeColumn",n.value,a.value?y.columnConfig.value:null,v)}),s.columnId=l.value,s.columnConfig=n},render(){var e,t,s;try{const n=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(n))for(const r of n)((s=r.type)==null?void 0:s.name)==="ElTableColumn"||r.shapeFlag&2?i.push(r):r.type===qe&&Array.isArray(r.children)&&r.children.forEach(l=>{(l==null?void 0:l.patchFlag)!==1024&&!rt(l==null?void 0:l.children)&&i.push(l)});return Qe("div",i)}catch{return Qe("div",[])}}});const dte=ft(ete,{TableColumn:z_}),hte=hs(z_);var vd=(e=>(e.ASC="asc",e.DESC="desc",e))(vd||{}),Cd=(e=>(e.CENTER="center",e.RIGHT="right",e))(Cd||{}),U_=(e=>(e.LEFT="left",e.RIGHT="right",e))(U_||{});const SC={asc:"desc",desc:"asc"},yd=Symbol("placeholder"),pte=(e,t,s)=>{var n;const i={flexGrow:0,flexShrink:0,...s?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};s||(i.flexShrink=1);const o={...(n=e.style)!=null?n:{},...i,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function fte(e,t,s){const n=R(()=>u(t).filter(f=>!f.hidden)),i=R(()=>u(n).filter(f=>f.fixed==="left"||f.fixed===!0)),o=R(()=>u(n).filter(f=>f.fixed==="right")),r=R(()=>u(n).filter(f=>!f.fixed)),l=R(()=>{const f=[];return u(i).forEach(C=>{f.push({...C,placeholderSign:yd})}),u(r).forEach(C=>{f.push(C)}),u(o).forEach(C=>{f.push({...C,placeholderSign:yd})}),f}),a=R(()=>u(i).length||u(o).length),c=R(()=>u(t).reduce((C,v)=>(C[v.key]=pte(v,u(s),e.fixed),C),{})),h=R(()=>u(n).reduce((f,C)=>f+C.width,0)),d=f=>u(t).find(C=>C.key===f),p=f=>u(c)[f],g=(f,C)=>{f.width=C};function m(f){var C;const{key:v}=f.currentTarget.dataset;if(!v)return;const{sortState:y,sortBy:w}=e;let b=vd.ASC;yt(y)?b=SC[y[v]]:b=SC[w.order],(C=e.onColumnSort)==null||C.call(e,{column:d(v),key:v,order:b})}return{columns:t,columnsStyles:c,columnsTotalWidth:h,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,hasFixedColumns:a,mainColumns:l,normalColumns:r,visibleColumns:n,getColumn:d,getColumnStyle:p,updateColumnWidth:g,onColumnSorted:m}}const gte=(e,{mainTableRef:t,leftTableRef:s,rightTableRef:n,onMaybeEndReached:i})=>{const o=L({scrollLeft:0,scrollTop:0});function r(g){var m,f,C;const{scrollTop:v}=g;(m=t.value)==null||m.scrollTo(g),(f=s.value)==null||f.scrollToTop(v),(C=n.value)==null||C.scrollToTop(v)}function l(g){o.value=g,r(g)}function a(g){o.value.scrollTop=g,r(u(o))}function c(g){var m,f;o.value.scrollLeft=g,(f=(m=t.value)==null?void 0:m.scrollTo)==null||f.call(m,u(o))}function h(g){var m;l(g),(m=e.onScroll)==null||m.call(e,g)}function d({scrollTop:g}){const{scrollTop:m}=u(o);g!==m&&a(g)}function p(g,m="auto"){var f;(f=t.value)==null||f.scrollToRow(g,m)}return ve(()=>u(o).scrollTop,(g,m)=>{g>m&&i()}),{scrollPos:o,scrollTo:l,scrollToLeft:c,scrollToTop:a,scrollToRow:p,onScroll:h,onVerticalScroll:d}},mte=(e,{mainTableRef:t,leftTableRef:s,rightTableRef:n})=>{const i=ct(),{emit:o}=i,r=ts(!1),l=ts(null),a=L(e.defaultExpandedRowKeys||[]),c=L(-1),h=ts(null),d=L({}),p=L({}),g=ts({}),m=ts({}),f=ts({}),C=R(()=>tt(e.estimatedRowHeight));function v(A){var N;(N=e.onRowsRendered)==null||N.call(e,A),A.rowCacheEnd>u(c)&&(c.value=A.rowCacheEnd)}function y({hovered:A,rowKey:N}){l.value=A?N:null}function w({expanded:A,rowData:N,rowIndex:x,rowKey:F}){var G,K;const z=[...u(a)],W=z.indexOf(F);A?W===-1&&z.push(F):W>-1&&z.splice(W,1),a.value=z,o("update:expandedRowKeys",z),(G=e.onRowExpand)==null||G.call(e,{expanded:A,rowData:N,rowIndex:x,rowKey:F}),(K=e.onExpandedRowsChange)==null||K.call(e,z)}const b=$n(()=>{var A,N,x,F;r.value=!0,d.value={...u(d),...u(p)},T(u(h),!1),p.value={},h.value=null,(A=t.value)==null||A.forceUpdate(),(N=s.value)==null||N.forceUpdate(),(x=n.value)==null||x.forceUpdate(),(F=i.proxy)==null||F.$forceUpdate(),r.value=!1},0);function T(A,N=!1){u(C)&&[t,s,n].forEach(x=>{const F=u(x);F&&F.resetAfterRowIndex(A,N)})}function E(A,N,x){const F=u(h);(F===null||F>x)&&(h.value=x),p.value[A]=N}function P({rowKey:A,height:N,rowIndex:x},F){F?F===U_.RIGHT?f.value[A]=N:g.value[A]=N:m.value[A]=N;const G=Math.max(...[g,f,m].map(K=>K.value[A]||0));u(d)[A]!==G&&(E(A,G,x),b())}return{hoveringRowKey:l,expandedRowKeys:a,lastRenderedRowIndex:c,isDynamic:C,isResetting:r,rowHeights:d,resetAfterIndex:T,onRowExpanded:w,onRowHovered:y,onRowsRendered:v,onRowHeightChange:P}},vte=(e,{expandedRowKeys:t,lastRenderedRowIndex:s,resetAfterIndex:n})=>{const i=L({}),o=R(()=>{const l={},{data:a,rowKey:c}=e,h=u(t);if(!h||!h.length)return a;const d=[],p=new Set;h.forEach(m=>p.add(m));let g=a.slice();for(g.forEach(m=>l[m[c]]=0);g.length>0;){const m=g.shift();d.push(m),p.has(m[c])&&Array.isArray(m.children)&&m.children.length>0&&(g=[...m.children,...g],m.children.forEach(f=>l[f[c]]=l[m[c]]+1))}return i.value=l,d}),r=R(()=>{const{data:l,expandColumnKey:a}=e;return a?u(o):l});return ve(r,(l,a)=>{l!==a&&(s.value=-1,n(0,!0))}),{data:r,depthMap:i}},Cte=(e,t)=>e+t,Ip=e=>ke(e)?e.reduce(Cte,0):e,jl=(e,t,s={})=>nt(e)?e(t):e??s,Dr=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Ds(e[t])}),e),K_=e=>us(e)?t=>Qe(e,t):e,yte=(e,{columnsTotalWidth:t,data:s,fixedColumnsOnLeft:n,fixedColumnsOnRight:i})=>{const o=R(()=>{const{fixed:w,width:b,vScrollbarSize:T}=e,E=b-T;return w?Math.max(Math.round(u(t)),E):E}),r=R(()=>u(o)+e.vScrollbarSize),l=R(()=>{const{height:w=0,maxHeight:b=0,footerHeight:T,hScrollbarSize:E}=e;if(b>0){const P=u(m),A=u(a),x=u(g)+P+A+E;return Math.min(x,b-T)}return w-T}),a=R(()=>{const{rowHeight:w,estimatedRowHeight:b}=e,T=u(s);return tt(b)?T.length*b:T.length*w}),c=R(()=>{const{maxHeight:w}=e,b=u(l);if(tt(w)&&w>0)return b;const T=u(a)+u(g)+u(m);return Math.min(b,T)}),h=w=>w.width,d=R(()=>Ip(u(n).map(h))),p=R(()=>Ip(u(i).map(h))),g=R(()=>Ip(e.headerHeight)),m=R(()=>{var w;return(((w=e.fixedData)==null?void 0:w.length)||0)*e.rowHeight}),f=R(()=>u(l)-u(g)-u(m)),C=R(()=>{const{style:w={},height:b,width:T}=e;return Dr({...w,height:b,width:T})}),v=R(()=>Dr({height:e.footerHeight})),y=R(()=>({top:Ds(u(g)),bottom:Ds(e.footerHeight),width:Ds(e.width)}));return{bodyWidth:o,fixedTableHeight:c,mainTableHeight:l,leftTableWidth:d,rightTableWidth:p,headerWidth:r,rowsHeight:a,windowHeight:f,footerHeight:v,emptyStyle:y,rootStyle:C,headerHeight:g}},wte=e=>{const t=L(),s=L(0),n=L(0);let i;return at(()=>{i=fs(t,([o])=>{const{width:r,height:l}=o.contentRect,{paddingLeft:a,paddingRight:c,paddingTop:h,paddingBottom:d}=getComputedStyle(o.target),p=Number.parseInt(a)||0,g=Number.parseInt(c)||0,m=Number.parseInt(h)||0,f=Number.parseInt(d)||0;s.value=r-p-g,n.value=l-m-f}).stop}),Jt(()=>{i==null||i()}),ve([s,n],([o,r])=>{var l;(l=e.onResize)==null||l.call(e,{width:o,height:r})}),{sizer:t,width:s,height:n}};function bte(e){const t=L(),s=L(),n=L(),{columns:i,columnsStyles:o,columnsTotalWidth:r,fixedColumnsOnLeft:l,fixedColumnsOnRight:a,hasFixedColumns:c,mainColumns:h,onColumnSorted:d}=fte(e,Yt(e,"columns"),Yt(e,"fixed")),{scrollTo:p,scrollToLeft:g,scrollToTop:m,scrollToRow:f,onScroll:C,onVerticalScroll:v,scrollPos:y}=gte(e,{mainTableRef:t,leftTableRef:s,rightTableRef:n,onMaybeEndReached:Le}),{expandedRowKeys:w,hoveringRowKey:b,lastRenderedRowIndex:T,isDynamic:E,isResetting:P,rowHeights:A,resetAfterIndex:N,onRowExpanded:x,onRowHeightChange:F,onRowHovered:G,onRowsRendered:K}=mte(e,{mainTableRef:t,leftTableRef:s,rightTableRef:n}),{data:z,depthMap:W}=vte(e,{expandedRowKeys:w,lastRenderedRowIndex:T,resetAfterIndex:N}),{bodyWidth:k,fixedTableHeight:I,mainTableHeight:V,leftTableWidth:_,rightTableWidth:B,headerWidth:Y,rowsHeight:Q,windowHeight:ee,footerHeight:ce,emptyStyle:Ee,rootStyle:te,headerHeight:ue}=yte(e,{columnsTotalWidth:r,data:z,fixedColumnsOnLeft:l,fixedColumnsOnRight:a}),le=ts(!1),Fe=L(),pe=R(()=>{const X=u(z).length===0;return ke(e.fixedData)?e.fixedData.length===0&&X:X});function be(X){const{estimatedRowHeight:ie,rowHeight:Ce,rowKey:Re}=e;return ie?u(A)[u(z)[X][Re]]||ie:Ce}function Le(){const{onEndReached:X}=e;if(!X)return;const{scrollTop:ie}=u(y),Ce=u(Q),Re=u(ee),he=Ce-(ie+Re)+e.hScrollbarSize;u(T)>=0&&Ce===ie+u(V)-u(ue)&&X(he)}return ve(()=>e.expandedRowKeys,X=>w.value=X,{deep:!0}),{columns:i,containerRef:Fe,mainTableRef:t,leftTableRef:s,rightTableRef:n,isDynamic:E,isResetting:P,isScrolling:le,hoveringRowKey:b,hasFixedColumns:c,columnsStyles:o,columnsTotalWidth:r,data:z,expandedRowKeys:w,depthMap:W,fixedColumnsOnLeft:l,fixedColumnsOnRight:a,mainColumns:h,bodyWidth:k,emptyStyle:Ee,rootStyle:te,headerWidth:Y,footerHeight:ce,mainTableHeight:V,fixedTableHeight:I,leftTableWidth:_,rightTableWidth:B,showEmpty:pe,getRowHeight:be,onColumnSorted:d,onRowHovered:G,onRowExpanded:x,onRowsRendered:K,onRowHeightChange:F,scrollTo:p,scrollToLeft:g,scrollToTop:m,scrollToRow:f,onScroll:C,onVerticalScroll:v}}const eb=Symbol("tableV2"),j_=String,dh={type:J(Array),required:!0},tb={type:J(Array)},Y_={...tb,required:!0},Ste=String,_R={type:J(Array),default:()=>ds([])},pl={type:Number,required:!0},q_={type:J([String,Number,Symbol]),default:"id"},MR={type:J(Object)},wl=Oe({class:String,columns:dh,columnsStyles:{type:J(Object),required:!0},depth:Number,expandColumnKey:Ste,estimatedRowHeight:{..._l.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:J(Function)},onRowHover:{type:J(Function)},onRowHeightChange:{type:J(Function)},rowData:{type:J(Object),required:!0},rowEventHandlers:{type:J(Object)},rowIndex:{type:Number,required:!0},rowKey:q_,style:{type:J(Object)}}),Km={type:Number,required:!0},sb=Oe({class:String,columns:dh,fixedHeaderData:{type:J(Array)},headerData:{type:J(Array),required:!0},headerHeight:{type:J([Number,Array]),default:50},rowWidth:Km,rowHeight:{type:Number,default:50},height:Km,width:Km}),Fp=Oe({columns:dh,data:Y_,fixedData:tb,estimatedRowHeight:wl.estimatedRowHeight,width:pl,height:pl,headerWidth:pl,headerHeight:sb.headerHeight,bodyWidth:pl,rowHeight:pl,cache:v_.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:_l.scrollbarAlwaysOn,scrollbarStartGap:_l.scrollbarStartGap,scrollbarEndGap:_l.scrollbarEndGap,class:j_,style:MR,containerStyle:MR,getRowHeight:{type:J(Function),required:!0},rowKey:wl.rowKey,onRowsRendered:{type:J(Function)},onScroll:{type:J(Function)}}),Ete=Oe({cache:Fp.cache,estimatedRowHeight:wl.estimatedRowHeight,rowKey:q_,headerClass:{type:J([String,Function])},headerProps:{type:J([Object,Function])},headerCellProps:{type:J([Object,Function])},headerHeight:sb.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:J([String,Function])},rowProps:{type:J([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:J([Object,Function])},columns:dh,data:Y_,dataGetter:{type:J(Function)},fixedData:tb,expandColumnKey:wl.expandColumnKey,expandedRowKeys:_R,defaultExpandedRowKeys:_R,class:j_,fixed:Boolean,style:{type:J(Object)},width:pl,height:pl,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:_l.hScrollbarSize,vScrollbarSize:_l.vScrollbarSize,scrollbarAlwaysOn:w_.alwaysOn,sortBy:{type:J(Object),default:()=>({})},sortState:{type:J(Object),default:void 0},onColumnSort:{type:J(Function)},onExpandedRowsChange:{type:J(Function)},onEndReached:{type:J(Function)},onRowExpand:wl.onRowExpand,onScroll:Fp.onScroll,onRowsRendered:Fp.onRowsRendered,rowEventHandlers:wl.rowEventHandlers}),nb=(e,{slots:t})=>{var s;const{cellData:n,style:i}=e,o=((s=n==null?void 0:n.toString)==null?void 0:s.call(n))||"",r=ae(t,"default",e,()=>[o]);return q("div",{class:e.class,title:o,style:i},[r])};nb.displayName="ElTableV2Cell";nb.inheritAttrs=!1;const ib=(e,{slots:t})=>ae(t,"default",e,()=>{var s,n;return[q("div",{class:e.class,title:(s=e.column)==null?void 0:s.title},[(n=e.column)==null?void 0:n.title])]});ib.displayName="ElTableV2HeaderCell";ib.inheritAttrs=!1;const Rte=Oe({class:String,columns:dh,columnsStyles:{type:J(Object),required:!0},headerIndex:Number,style:{type:J(Object)}}),Tte=j({name:"ElTableV2HeaderRow",props:Rte,setup(e,{slots:t}){return()=>{const{columns:s,columnsStyles:n,headerIndex:i,style:o}=e;let r=s.map((l,a)=>t.cell({columns:s,column:l,columnIndex:a,headerIndex:i,style:n[l.key]}));return t.header&&(r=t.header({cells:r.map(l=>ke(l)&&l.length===1?l[0]:l),columns:s,headerIndex:i})),q("div",{class:e.class,style:o,role:"row"},[r])}}}),Dte="ElTableV2Header",Ate=j({name:Dte,props:sb,setup(e,{slots:t,expose:s}){const n=we("table-v2"),i=L(),o=R(()=>Dr({width:e.width,height:e.height})),r=R(()=>Dr({width:e.rowWidth,height:e.height})),l=R(()=>Bl(u(e.headerHeight))),a=d=>{const p=u(i);Xe(()=>{p!=null&&p.scroll&&p.scroll({left:d})})},c=()=>{const d=n.e("fixed-header-row"),{columns:p,fixedHeaderData:g,rowHeight:m}=e;return g==null?void 0:g.map((f,C)=>{var v;const y=Dr({height:m,width:"100%"});return(v=t.fixed)==null?void 0:v.call(t,{class:d,columns:p,rowData:f,rowIndex:-(C+1),style:y})})},h=()=>{const d=n.e("dynamic-header-row"),{columns:p}=e;return u(l).map((g,m)=>{var f;const C=Dr({width:"100%",height:g});return(f=t.dynamic)==null?void 0:f.call(t,{class:d,columns:p,headerIndex:m,style:C})})};return s({scrollToLeft:a}),()=>{if(!(e.height<=0))return q("div",{ref:i,class:e.class,style:u(o),role:"rowgroup"},[q("div",{style:u(r),class:n.e("header")},[h(),c()])])}}}),Pte=e=>{const{isScrolling:t}=Be(eb),s=L(!1),n=L(),i=R(()=>tt(e.estimatedRowHeight)&&e.rowIndex>=0),o=(a=!1)=>{const c=u(n);if(!c)return;const{columns:h,onRowHeightChange:d,rowKey:p,rowIndex:g,style:m}=e,{height:f}=c.getBoundingClientRect();s.value=!0,Xe(()=>{if(a||f!==Number.parseInt(m.height)){const C=h[0],v=(C==null?void 0:C.placeholderSign)===yd;d==null||d({rowKey:p,height:f,rowIndex:g},C&&!v&&C.fixed)}})},r=R(()=>{const{rowData:a,rowIndex:c,rowKey:h,onRowHover:d}=e,p=e.rowEventHandlers||{},g={};return Object.entries(p).forEach(([m,f])=>{nt(f)&&(g[m]=C=>{f({event:C,rowData:a,rowIndex:c,rowKey:h})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:m,hovered:f})=>{const C=g[m];g[m]=v=>{d({event:v,hovered:f,rowData:a,rowIndex:c,rowKey:h}),C==null||C(v)}}),g}),l=a=>{const{onRowExpand:c,rowData:h,rowIndex:d,rowKey:p}=e;c==null||c({expanded:a,rowData:h,rowIndex:d,rowKey:p})};return at(()=>{u(i)&&o(!0)}),{isScrolling:t,measurable:i,measured:s,rowRef:n,eventHandlers:r,onExpand:l}},Ote="ElTableV2TableRow",_te=j({name:Ote,props:wl,setup(e,{expose:t,slots:s,attrs:n}){const{eventHandlers:i,isScrolling:o,measurable:r,measured:l,rowRef:a,onExpand:c}=Pte(e);return t({onExpand:c}),()=>{const{columns:h,columnsStyles:d,expandColumnKey:p,depth:g,rowData:m,rowIndex:f,style:C}=e;let v=h.map((y,w)=>{const b=ke(m.children)&&m.children.length>0&&y.key===p;return s.cell({column:y,columns:h,columnIndex:w,depth:g,style:d[y.key],rowData:m,rowIndex:f,isScrolling:u(o),expandIconProps:b?{rowData:m,rowIndex:f,onExpand:c}:void 0})});if(s.row&&(v=s.row({cells:v.map(y=>ke(y)&&y.length===1?y[0]:y),style:C,columns:h,depth:g,rowData:m,rowIndex:f,isScrolling:u(o)})),u(r)){const{height:y,...w}=C||{},b=u(l);return q("div",bt({ref:a,class:e.class,style:b?C:w,role:"row"},n,u(i)),[v])}return q("div",bt(n,{ref:a,class:e.class,style:C,role:"row"},u(i)),[v])}}}),Mte=e=>{const{sortOrder:t}=e;return q(Ue,{size:14,class:e.class},{default:()=>[t===vd.ASC?q(t$,null,null):q(JB,null,null)]})},Ite=e=>{const{expanded:t,expandable:s,onExpand:n,style:i,size:o}=e,r={onClick:s?()=>n(!t):void 0,class:e.class};return q(Ue,bt(r,{size:o,style:i}),{default:()=>[q(bn,null,null)]})},Fte="ElTableV2Grid",Lte=e=>{const t=L(),s=L(),n=R(()=>{const{data:f,rowHeight:C,estimatedRowHeight:v}=e;if(!v)return f.length*C}),i=R(()=>{const{fixedData:f,rowHeight:C}=e;return((f==null?void 0:f.length)||0)*C}),o=R(()=>Ip(e.headerHeight)),r=R(()=>{const{height:f}=e;return Math.max(0,f-u(o)-u(i))}),l=R(()=>u(o)+u(i)>0),a=({data:f,rowIndex:C})=>f[C][e.rowKey];function c({rowCacheStart:f,rowCacheEnd:C,rowVisibleStart:v,rowVisibleEnd:y}){var w;(w=e.onRowsRendered)==null||w.call(e,{rowCacheStart:f,rowCacheEnd:C,rowVisibleStart:v,rowVisibleEnd:y})}function h(f,C){var v;(v=s.value)==null||v.resetAfterRowIndex(f,C)}function d(f,C){const v=u(t),y=u(s);!v||!y||(yt(f)?(v.scrollToLeft(f.scrollLeft),y.scrollTo(f)):(v.scrollToLeft(f),y.scrollTo({scrollLeft:f,scrollTop:C})))}function p(f){var C;(C=u(s))==null||C.scrollTo({scrollTop:f})}function g(f,C){var v;(v=u(s))==null||v.scrollToItem(f,1,C)}function m(){var f,C;(f=u(s))==null||f.$forceUpdate(),(C=u(t))==null||C.$forceUpdate()}return{bodyRef:s,forceUpdate:m,fixedRowHeight:i,gridHeight:r,hasHeader:l,headerHeight:o,headerRef:t,totalHeight:n,itemKey:a,onItemRendered:c,resetAfterRowIndex:h,scrollTo:d,scrollToTop:p,scrollToRow:g}},ob=j({name:Fte,props:Fp,setup(e,{slots:t,expose:s}){const{ns:n}=Be(eb),{bodyRef:i,fixedRowHeight:o,gridHeight:r,hasHeader:l,headerRef:a,headerHeight:c,totalHeight:h,forceUpdate:d,itemKey:p,onItemRendered:g,resetAfterRowIndex:m,scrollTo:f,scrollToTop:C,scrollToRow:v}=Lte(e);s({forceUpdate:d,totalHeight:h,scrollTo:f,scrollToTop:C,scrollToRow:v,resetAfterRowIndex:m});const y=()=>e.bodyWidth;return()=>{const{cache:w,columns:b,data:T,fixedData:E,useIsScrolling:P,scrollbarAlwaysOn:A,scrollbarEndGap:N,scrollbarStartGap:x,style:F,rowHeight:G,bodyWidth:K,estimatedRowHeight:z,headerWidth:W,height:k,width:I,getRowHeight:V,onScroll:_}=e,B=tt(z),Y=B?yZ:gZ,Q=u(c);return q("div",{role:"table",class:[n.e("table"),e.class],style:F},[q(Y,{ref:i,data:T,useIsScrolling:P,itemKey:p,columnCache:0,columnWidth:B?y:K,totalColumn:1,totalRow:T.length,rowCache:w,rowHeight:B?V:G,width:I,height:u(r),class:n.e("body"),role:"rowgroup",scrollbarStartGap:x,scrollbarEndGap:N,scrollbarAlwaysOn:A,onScroll:_,onItemRendered:g,perfMode:!1},{default:ee=>{var ce;const Ee=T[ee.rowIndex];return(ce=t.row)==null?void 0:ce.call(t,{...ee,columns:b,rowData:Ee})}}),u(l)&&q(Ate,{ref:a,class:n.e("header-wrapper"),columns:b,headerData:T,headerHeight:e.headerHeight,fixedHeaderData:E,rowWidth:W,rowHeight:G,width:I,height:Math.min(Q+u(o),k)},{dynamic:t.header,fixed:t.row})])}}});function Nte(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const xte=(e,{slots:t})=>{const{mainTableRef:s,...n}=e;return q(ob,bt({ref:s},n),Nte(t)?t:{default:()=>[t]})};function kte(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const Gte=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:s,...n}=e;return q(ob,bt({ref:s},n),kte(t)?t:{default:()=>[t]})};function Vte(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const Hte=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:s,...n}=e;return q(ob,bt({ref:s},n),Vte(t)?t:{default:()=>[t]})};function Bte(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const $te=(e,{slots:t})=>{const{columns:s,columnsStyles:n,depthMap:i,expandColumnKey:o,expandedRowKeys:r,estimatedRowHeight:l,hasFixedColumns:a,hoveringRowKey:c,rowData:h,rowIndex:d,style:p,isScrolling:g,rowProps:m,rowClass:f,rowKey:C,rowEventHandlers:v,ns:y,onRowHovered:w,onRowExpanded:b}=e,T=jl(f,{columns:s,rowData:h,rowIndex:d},""),E=jl(m,{columns:s,rowData:h,rowIndex:d}),P=h[C],A=i[P]||0,N=!!o,x=d<0,F=[y.e("row"),T,{[y.e(`row-depth-${A}`)]:N&&d>=0,[y.is("expanded")]:N&&r.includes(P),[y.is("hovered")]:!g&&P===c,[y.is("fixed")]:!A&&x,[y.is("customized")]:!!t.row}],G=a?w:void 0,K={...E,columns:s,columnsStyles:n,class:F,depth:A,expandColumnKey:o,estimatedRowHeight:x?void 0:l,isScrolling:g,rowIndex:d,rowData:h,rowKey:P,rowEventHandlers:v,style:p};return q(_te,bt(K,{onRowHover:G,onRowExpand:b}),Bte(t)?t:{default:()=>[t]})},EC=({columns:e,column:t,columnIndex:s,depth:n,expandIconProps:i,isScrolling:o,rowData:r,rowIndex:l,style:a,expandedRowKeys:c,ns:h,cellProps:d,expandColumnKey:p,indentSize:g,iconSize:m,rowKey:f},{slots:C})=>{const v=Dr(a);if(t.placeholderSign===yd)return q("div",{class:h.em("row-cell","placeholder"),style:v},null);const{cellRenderer:y,dataKey:w,dataGetter:b}=t,T=nt(b)?b({columns:e,column:t,columnIndex:s,rowData:r,rowIndex:l}):Ss(r,w??""),E=jl(d,{cellData:T,columns:e,column:t,columnIndex:s,rowIndex:l,rowData:r}),P={class:h.e("cell-text"),columns:e,column:t,columnIndex:s,cellData:T,isScrolling:o,rowData:r,rowIndex:l},A=K_(y),N=A?A(P):ae(C,"default",P,()=>[q(nb,P,null)]),x=[h.e("row-cell"),t.class,t.align===Cd.CENTER&&h.is("align-center"),t.align===Cd.RIGHT&&h.is("align-right")],F=l>=0&&p&&t.key===p,G=l>=0&&c.includes(r[f]);let K;const z=`margin-inline-start: ${n*g}px;`;return F&&(yt(i)?K=q(Ite,bt(i,{class:[h.e("expand-icon"),h.is("expanded",G)],size:m,expanded:G,style:z,expandable:!0}),null):K=q("div",{style:[z,`width: ${m}px; height: ${m}px;`].join(" ")},null)),q("div",bt({class:x,style:v},E,{role:"cell"}),[K,N])};EC.inheritAttrs=!1;function Wte(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const zte=({columns:e,columnsStyles:t,headerIndex:s,style:n,headerClass:i,headerProps:o,ns:r},{slots:l})=>{const a={columns:e,headerIndex:s},c=[r.e("header-row"),jl(i,a,""),{[r.is("customized")]:!!l.header}],h={...jl(o,a),columnsStyles:t,class:c,columns:e,headerIndex:s,style:n};return q(Tte,h,Wte(l)?l:{default:()=>[l]})},IR=(e,{slots:t})=>{const{column:s,ns:n,style:i,onColumnSorted:o}=e,r=Dr(i);if(s.placeholderSign===yd)return q("div",{class:n.em("header-row-cell","placeholder"),style:r},null);const{headerCellRenderer:l,headerClass:a,sortable:c}=s,h={...e,class:n.e("header-cell-text")},d=K_(l),p=d?d(h):ae(t,"default",h,()=>[q(ib,h,null)]),{sortBy:g,sortState:m,headerCellProps:f}=e;let C,v;if(m){const b=m[s.key];C=!!SC[b],v=C?b:vd.ASC}else C=s.key===g.key,v=C?g.order:vd.ASC;const y=[n.e("header-cell"),jl(a,e,""),s.align===Cd.CENTER&&n.is("align-center"),s.align===Cd.RIGHT&&n.is("align-right"),c&&n.is("sortable")],w={...jl(f,e),onClick:s.sortable?o:void 0,class:y,style:r,"data-key":s.key};return q("div",bt(w,{role:"columnheader"}),[p,c&&q(Mte,{class:[n.e("sort-icon"),C&&n.is("sorting")],sortOrder:v},null)])},X_=(e,{slots:t})=>{var s;return q("div",{class:e.class,style:e.style},[(s=t.default)==null?void 0:s.call(t)])};X_.displayName="ElTableV2Footer";const Q_=(e,{slots:t})=>{const s=ae(t,"default",{},()=>[q(t_,null,null)]);return q("div",{class:e.class,style:e.style},[s])};Q_.displayName="ElTableV2Empty";const Z_=(e,{slots:t})=>{var s;return q("div",{class:e.class,style:e.style},[(s=t.default)==null?void 0:s.call(t)])};Z_.displayName="ElTableV2Overlay";function Cc(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!us(e)}const Ute="ElTableV2",Kte=j({name:Ute,props:Ete,setup(e,{slots:t,expose:s}){const n=we("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:r,mainColumns:l,mainTableHeight:a,fixedTableHeight:c,leftTableWidth:h,rightTableWidth:d,data:p,depthMap:g,expandedRowKeys:m,hasFixedColumns:f,hoveringRowKey:C,mainTableRef:v,leftTableRef:y,rightTableRef:w,isDynamic:b,isResetting:T,isScrolling:E,bodyWidth:P,emptyStyle:A,rootStyle:N,headerWidth:x,footerHeight:F,showEmpty:G,scrollTo:K,scrollToLeft:z,scrollToTop:W,scrollToRow:k,getRowHeight:I,onColumnSorted:V,onRowHeightChange:_,onRowHovered:B,onRowExpanded:Y,onRowsRendered:Q,onScroll:ee,onVerticalScroll:ce}=bte(e);return s({scrollTo:K,scrollToLeft:z,scrollToTop:W,scrollToRow:k}),Et(eb,{ns:n,isResetting:T,hoveringRowKey:C,isScrolling:E}),()=>{const{cache:Ee,cellProps:te,estimatedRowHeight:ue,expandColumnKey:le,fixedData:Fe,headerHeight:pe,headerClass:be,headerProps:Le,headerCellProps:X,sortBy:ie,sortState:Ce,rowHeight:Re,rowClass:he,rowEventHandlers:Se,rowKey:Te,rowProps:De,scrollbarAlwaysOn:ye,indentSize:Ae,iconSize:Ve,useIsScrolling:Ke,vScrollbarSize:ge,width:$e}=e,et=u(p),dt={cache:Ee,class:n.e("main"),columns:u(l),data:et,fixedData:Fe,estimatedRowHeight:ue,bodyWidth:u(P)+ge,headerHeight:pe,headerWidth:u(x),height:u(a),mainTableRef:v,rowKey:Te,rowHeight:Re,scrollbarAlwaysOn:ye,scrollbarStartGap:2,scrollbarEndGap:ge,useIsScrolling:Ke,width:$e,getRowHeight:I,onRowsRendered:Q,onScroll:ee},wt=u(h),Je=u(c),me={cache:Ee,class:n.e("left"),columns:u(o),data:et,estimatedRowHeight:ue,leftTableRef:y,rowHeight:Re,bodyWidth:wt,headerWidth:wt,headerHeight:pe,height:Je,rowKey:Te,scrollbarAlwaysOn:ye,scrollbarStartGap:2,scrollbarEndGap:ge,useIsScrolling:Ke,width:wt,getRowHeight:I,onScroll:ce},ne=u(d)+ge,de={cache:Ee,class:n.e("right"),columns:u(r),data:et,estimatedRowHeight:ue,rightTableRef:w,rowHeight:Re,bodyWidth:ne,headerWidth:ne,headerHeight:pe,height:Je,rowKey:Te,scrollbarAlwaysOn:ye,scrollbarStartGap:2,scrollbarEndGap:ge,width:ne,style:`--${u(n.namespace)}-table-scrollbar-size: ${ge}px`,useIsScrolling:Ke,getRowHeight:I,onScroll:ce},Pe=u(i),oe={ns:n,depthMap:u(g),columnsStyles:Pe,expandColumnKey:le,expandedRowKeys:u(m),estimatedRowHeight:ue,hasFixedColumns:u(f),hoveringRowKey:u(C),rowProps:De,rowClass:he,rowKey:Te,rowEventHandlers:Se,onRowHovered:B,onRowExpanded:Y,onRowHeightChange:_},ze={cellProps:te,expandColumnKey:le,indentSize:Ae,iconSize:Ve,rowKey:Te,expandedRowKeys:u(m),ns:n},ut={ns:n,headerClass:be,headerProps:Le,columnsStyles:Pe},Ht={ns:n,sortBy:ie,sortState:Ce,headerCellProps:X,onColumnSorted:V},Qt={row:Bt=>q($te,bt(Bt,oe),{row:t.row,cell:ps=>{let Kn;return t.cell?q(EC,bt(ps,ze,{style:Pe[ps.column.key]}),Cc(Kn=t.cell(ps))?Kn:{default:()=>[Kn]}):q(EC,bt(ps,ze,{style:Pe[ps.column.key]}),null)}}),header:Bt=>q(zte,bt(Bt,ut),{header:t.header,cell:ps=>{let Kn;return t["header-cell"]?q(IR,bt(ps,Ht,{style:Pe[ps.column.key]}),Cc(Kn=t["header-cell"](ps))?Kn:{default:()=>[Kn]}):q(IR,bt(ps,Ht,{style:Pe[ps.column.key]}),null)}})},Ii=[e.class,n.b(),n.e("root"),{[n.is("dynamic")]:u(b)}],ys={class:n.e("footer"),style:u(F)};return q("div",{class:Ii,style:u(N)},[q(xte,dt,Cc(Qt)?Qt:{default:()=>[Qt]}),q(Gte,me,Cc(Qt)?Qt:{default:()=>[Qt]}),q(Hte,de,Cc(Qt)?Qt:{default:()=>[Qt]}),t.footer&&q(X_,ys,{default:t.footer}),u(G)&&q(Q_,{class:n.e("empty"),style:u(A)},{default:t.empty}),t.overlay&&q(Z_,{class:n.e("overlay")},{default:t.overlay})])}}}),jte=Oe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:J(Function)}}),Yte=j({name:"ElAutoResizer",props:jte,setup(e,{slots:t}){const s=we("auto-resizer"),{height:n,width:i,sizer:o}=wte(e),r={width:"100%",height:"100%"};return()=>{var l;return q("div",{ref:o,class:s.b(),style:r},[(l=t.default)==null?void 0:l.call(t,{height:n.value,width:i.value})])}}}),qte=ft(Kte),Xte=ft(Yte),_g=Symbol("tabsRootContextKey"),Qte=Oe({tabs:{type:J(Array),default:()=>ds([])}}),J_="ElTabBar",Zte=j({name:J_}),Jte=j({...Zte,props:Qte,setup(e,{expose:t}){const s=e,n=ct(),i=Be(_g);i||Ns(J_,"<el-tabs><el-tab-bar /></el-tabs>");const o=we("tabs"),r=L(),l=L(),a=()=>{let h=0,d=0;const p=["top","bottom"].includes(i.props.tabPosition)?"width":"height",g=p==="width"?"x":"y",m=g==="x"?"left":"top";return s.tabs.every(f=>{var C,v;const y=(v=(C=n.parent)==null?void 0:C.refs)==null?void 0:v[`tab-${f.uid}`];if(!y)return!1;if(!f.active)return!0;h=y[`offset${oo(m)}`],d=y[`client${oo(p)}`];const w=window.getComputedStyle(y);return p==="width"&&(s.tabs.length>1&&(d-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight)),h+=Number.parseFloat(w.paddingLeft)),!1}),{[p]:`${d}px`,transform:`translate${oo(g)}(${h}px)`}},c=()=>l.value=a();return ve(()=>s.tabs,async()=>{await Xe(),c()},{immediate:!0}),fs(r,()=>c()),t({ref:r,update:c}),(h,d)=>(D(),$("div",{ref_key:"barRef",ref:r,class:O([u(o).e("active-bar"),u(o).is(u(i).props.tabPosition)]),style:je(l.value)},null,6))}});var ese=_e(Jte,[["__file","tab-bar.vue"]]);const tse=Oe({panes:{type:J(Array),default:()=>ds([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),sse={tabClick:(e,t,s)=>s instanceof Event,tabRemove:(e,t)=>t instanceof Event},FR="ElTabNav",nse=j({name:FR,props:tse,emits:sse,setup(e,{expose:t,emit:s}){const n=ct(),i=Be(_g);i||Ns(FR,"<el-tabs><tab-nav /></el-tabs>");const o=we("tabs"),r=tk(),l=pk(),a=L(),c=L(),h=L(),d=L(),p=L(!1),g=L(0),m=L(!1),f=L(!0),C=R(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),v=R(()=>({transform:`translate${C.value==="width"?"X":"Y"}(-${g.value}px)`})),y=()=>{if(!a.value)return;const N=a.value[`offset${oo(C.value)}`],x=g.value;if(!x)return;const F=x>N?x-N:0;g.value=F},w=()=>{if(!a.value||!c.value)return;const N=c.value[`offset${oo(C.value)}`],x=a.value[`offset${oo(C.value)}`],F=g.value;if(N-F<=x)return;const G=N-F>x*2?F+x:N-x;g.value=G},b=async()=>{const N=c.value;if(!p.value||!h.value||!a.value||!N)return;await Xe();const x=h.value.querySelector(".is-active");if(!x)return;const F=a.value,G=["top","bottom"].includes(i.props.tabPosition),K=x.getBoundingClientRect(),z=F.getBoundingClientRect(),W=G?N.offsetWidth-z.width:N.offsetHeight-z.height,k=g.value;let I=k;G?(K.left<z.left&&(I=k-(z.left-K.left)),K.right>z.right&&(I=k+K.right-z.right)):(K.top<z.top&&(I=k-(z.top-K.top)),K.bottom>z.bottom&&(I=k+(K.bottom-z.bottom))),I=Math.max(I,0),g.value=Math.min(I,W)},T=()=>{var N;if(!c.value||!a.value)return;e.stretch&&((N=d.value)==null||N.update());const x=c.value[`offset${oo(C.value)}`],F=a.value[`offset${oo(C.value)}`],G=g.value;F<x?(p.value=p.value||{},p.value.prev=G,p.value.next=G+F<x,x-G<F&&(g.value=x-F)):(p.value=!1,G>0&&(g.value=0))},E=N=>{const x=N.code,{up:F,down:G,left:K,right:z}=Ye;if(![F,G,K,z].includes(x))return;const W=Array.from(N.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),k=W.indexOf(N.target);let I;x===K||x===F?k===0?I=W.length-1:I=k-1:k<W.length-1?I=k+1:I=0,W[I].focus({preventScroll:!0}),W[I].click(),P()},P=()=>{f.value&&(m.value=!0)},A=()=>m.value=!1;return ve(r,N=>{N==="hidden"?f.value=!1:N==="visible"&&setTimeout(()=>f.value=!0,50)}),ve(l,N=>{N?setTimeout(()=>f.value=!0,50):f.value=!1}),fs(h,T),at(()=>setTimeout(()=>b(),0)),Xo(()=>T()),t({scrollToActiveTab:b,removeFocus:A}),ve(()=>e.panes,()=>n.update(),{flush:"post",deep:!0}),()=>{const N=p.value?[q("span",{class:[o.e("nav-prev"),o.is("disabled",!p.value.prev)],onClick:y},[q(Ue,null,{default:()=>[q(xr,null,null)]})]),q("span",{class:[o.e("nav-next"),o.is("disabled",!p.value.next)],onClick:w},[q(Ue,null,{default:()=>[q(bn,null,null)]})])]:null,x=e.panes.map((F,G)=>{var K,z,W,k;const I=F.uid,V=F.props.disabled,_=(z=(K=F.props.name)!=null?K:F.index)!=null?z:`${G}`,B=!V&&(F.isClosable||e.editable);F.index=`${G}`;const Y=B?q(Ue,{class:"is-icon-close",onClick:ce=>s("tabRemove",F,ce)},{default:()=>[q(zi,null,null)]}):null,Q=((k=(W=F.slots).label)==null?void 0:k.call(W))||F.props.label,ee=!V&&F.active?0:-1;return q("div",{ref:`tab-${I}`,class:[o.e("item"),o.is(i.props.tabPosition),o.is("active",F.active),o.is("disabled",V),o.is("closable",B),o.is("focus",m.value)],id:`tab-${_}`,key:`tab-${I}`,"aria-controls":`pane-${_}`,role:"tab","aria-selected":F.active,tabindex:ee,onFocus:()=>P(),onBlur:()=>A(),onClick:ce=>{A(),s("tabClick",F,_,ce)},onKeydown:ce=>{B&&(ce.code===Ye.delete||ce.code===Ye.backspace)&&s("tabRemove",F,ce)}},[Q,Y])});return q("div",{ref:h,class:[o.e("nav-wrap"),o.is("scrollable",!!p.value),o.is(i.props.tabPosition)]},[N,q("div",{class:o.e("nav-scroll"),ref:a},[q("div",{class:[o.e("nav"),o.is(i.props.tabPosition),o.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:c,style:v.value,role:"tablist",onKeydown:E},[e.type?null:q(ese,{ref:d,tabs:[...e.panes]},null),x])])])}}}),ise=Oe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:J(Function),default:()=>!0},stretch:Boolean}),jm=e=>rt(e)||tt(e),ose={[vt]:e=>jm(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>jm(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>jm(e),tabAdd:()=>!0},rse=j({name:"ElTabs",props:ise,emits:ose,setup(e,{emit:t,slots:s,expose:n}){var i;const o=we("tabs"),{children:r,addChild:l,removeChild:a}=Dw(ct(),"ElTabPane"),c=L(),h=L((i=e.modelValue)!=null?i:"0"),d=async(f,C=!1)=>{var v,y,w;if(!(h.value===f||Ps(f)))try{await((v=e.beforeLeave)==null?void 0:v.call(e,f,h.value))!==!1&&(h.value=f,C&&(t(vt,f),t("tabChange",f)),(w=(y=c.value)==null?void 0:y.removeFocus)==null||w.call(y))}catch{}},p=(f,C,v)=>{f.props.disabled||(d(C,!0),t("tabClick",f,v))},g=(f,C)=>{f.props.disabled||Ps(f.props.name)||(C.stopPropagation(),t("edit",f.props.name,"remove"),t("tabRemove",f.props.name))},m=()=>{t("edit",void 0,"add"),t("tabAdd")};return ve(()=>e.modelValue,f=>d(f)),ve(h,async()=>{var f;await Xe(),(f=c.value)==null||f.scrollToActiveTab()}),Et(_g,{props:e,currentName:h,registerPane:l,unregisterPane:a}),n({currentName:h}),()=>{const f=s["add-icon"],C=e.editable||e.addable?q("span",{class:o.e("new-tab"),tabindex:"0",onClick:m,onKeydown:w=>{w.code===Ye.enter&&m()}},[f?ae(s,"add-icon"):q(Ue,{class:o.is("icon-plus")},{default:()=>[q(OA,null,null)]})]):null,v=q("div",{class:[o.e("header"),o.is(e.tabPosition)]},[C,q(nse,{ref:c,currentName:h.value,editable:e.editable,type:e.type,panes:r.value,stretch:e.stretch,onTabClick:p,onTabRemove:g},null)]),y=q("div",{class:o.e("content")},[ae(s,"default")]);return q("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[v,y]:[y,v]])}}}),lse=Oe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ase=["id","aria-hidden","aria-labelledby"],eM="ElTabPane",use=j({name:eM}),cse=j({...use,props:lse,setup(e){const t=e,s=ct(),n=Ys(),i=Be(_g);i||Ns(eM,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=we("tab-pane"),r=L(),l=R(()=>t.closable||i.props.closable),a=uE(()=>{var g;return i.currentName.value===((g=t.name)!=null?g:r.value)}),c=L(a.value),h=R(()=>{var g;return(g=t.name)!=null?g:r.value}),d=uE(()=>!t.lazy||c.value||a.value);ve(a,g=>{g&&(c.value=!0)});const p=Gt({uid:s.uid,slots:n,props:t,paneName:h,active:a,index:r,isClosable:l});return at(()=>{i.registerPane(p)}),Kr(()=>{i.unregisterPane(p.uid)}),(g,m)=>u(d)?lt((D(),$("div",{key:0,id:`pane-${u(h)}`,class:O(u(o).b()),role:"tabpanel","aria-hidden":!u(a),"aria-labelledby":`tab-${u(h)}`},[ae(g.$slots,"default")],10,ase)),[[Lt,u(a)]]):se("v-if",!0)}});var tM=_e(cse,[["__file","tab-pane.vue"]]);const dse=ft(rse,{TabPane:tM}),hse=hs(tM),pse=Oe({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Ro,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),fse=j({name:"ElText"}),gse=j({...fse,props:pse,setup(e){const t=e,s=xs(),n=we("text"),i=R(()=>[n.b(),n.m(t.type),n.m(s.value),n.is("truncated",t.truncated),n.is("line-clamp",!Ps(t.lineClamp))]);return(o,r)=>(D(),re(Ct(o.tag),{class:O(u(i)),style:je({"-webkit-line-clamp":o.lineClamp})},{default:Z(()=>[ae(o.$slots,"default")]),_:3},8,["class","style"]))}});var mse=_e(gse,[["__file","text.vue"]]);const vse=ft(mse),Cse=Oe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Us,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:J([String,Object]),default:()=>PA},clearIcon:{type:J([String,Object]),default:()=>jr}}),No=e=>{const t=(e||"").split(":");if(t.length>=2){let s=Number.parseInt(t[0],10);const n=Number.parseInt(t[1],10),i=e.toUpperCase();return i.includes("AM")&&s===12?s=0:i.includes("PM")&&s!==12&&(s+=12),{hours:s,minutes:n}}return null},Ym=(e,t)=>{const s=No(e);if(!s)return-1;const n=No(t);if(!n)return-1;const i=s.minutes+s.hours*60,o=n.minutes+n.hours*60;return i===o?0:i>o?1:-1},LR=e=>`${e}`.padStart(2,"0"),xa=e=>`${LR(e.hours)}:${LR(e.minutes)}`,yse=(e,t)=>{const s=No(e);if(!s)return"";const n=No(t);if(!n)return"";const i={hours:s.hours,minutes:s.minutes};return i.minutes+=n.minutes,i.hours+=n.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,xa(i)},wse=j({name:"ElTimeSelect"}),bse=j({...wse,props:Cse,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const s=e;ht.extend(Fw);const{Option:n}=Kl,i=we("input"),o=L(),r=Wn(),{lang:l}=Ft(),a=R(()=>s.modelValue),c=R(()=>{const v=No(s.start);return v?xa(v):null}),h=R(()=>{const v=No(s.end);return v?xa(v):null}),d=R(()=>{const v=No(s.step);return v?xa(v):null}),p=R(()=>{const v=No(s.minTime||"");return v?xa(v):null}),g=R(()=>{const v=No(s.maxTime||"");return v?xa(v):null}),m=R(()=>{const v=[];if(s.start&&s.end&&s.step){let y=c.value,w;for(;y&&h.value&&Ym(y,h.value)<=0;)w=ht(y,"HH:mm").locale(l.value).format(s.format),v.push({value:w,disabled:Ym(y,p.value||"-1:-1")<=0||Ym(y,g.value||"100:100")>=0}),y=yse(y,d.value)}return v});return t({blur:()=>{var v,y;(y=(v=o.value)==null?void 0:v.blur)==null||y.call(v)},focus:()=>{var v,y;(y=(v=o.value)==null?void 0:v.focus)==null||y.call(v)}}),(v,y)=>(D(),re(u(Kl),{ref_key:"select",ref:o,"model-value":u(a),disabled:u(r),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"onUpdate:modelValue":y[0]||(y[0]=w=>v.$emit("update:modelValue",w)),onChange:y[1]||(y[1]=w=>v.$emit("change",w)),onBlur:y[2]||(y[2]=w=>v.$emit("blur",w)),onFocus:y[3]||(y[3]=w=>v.$emit("focus",w))},{prefix:Z(()=>[v.prefixIcon?(D(),re(u(Ue),{key:0,class:O(u(i).e("prefix-icon"))},{default:Z(()=>[(D(),re(Ct(v.prefixIcon)))]),_:1},8,["class"])):se("v-if",!0)]),default:Z(()=>[(D(!0),$(qe,null,Dt(u(m),w=>(D(),re(u(n),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var Lp=_e(bse,[["__file","time-select.vue"]]);Lp.install=e=>{e.component(Lp.name,Lp)};const Sse=Lp,Ese=Sse,Rse=j({name:"ElTimeline",setup(e,{slots:t}){const s=we("timeline");return Et("timeline",t),()=>Qe("ul",{class:[s.b()]},[ae(t,"default")])}}),Tse=Oe({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Kt},hollow:{type:Boolean,default:!1}}),Dse=j({name:"ElTimelineItem"}),Ase=j({...Dse,props:Tse,setup(e){const t=e,s=we("timeline-item"),n=R(()=>[s.e("node"),s.em("node",t.size||""),s.em("node",t.type||""),s.is("hollow",t.hollow)]);return(i,o)=>(D(),$("li",{class:O([u(s).b(),{[u(s).e("center")]:i.center}])},[U("div",{class:O(u(s).e("tail"))},null,2),i.$slots.dot?se("v-if",!0):(D(),$("div",{key:0,class:O(u(n)),style:je({backgroundColor:i.color})},[i.icon?(D(),re(u(Ue),{key:0,class:O(u(s).e("icon"))},{default:Z(()=>[(D(),re(Ct(i.icon)))]),_:1},8,["class"])):se("v-if",!0)],6)),i.$slots.dot?(D(),$("div",{key:1,class:O(u(s).e("dot"))},[ae(i.$slots,"dot")],2)):se("v-if",!0),U("div",{class:O(u(s).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(D(),$("div",{key:0,class:O([u(s).e("timestamp"),u(s).is("top")])},Me(i.timestamp),3)):se("v-if",!0),U("div",{class:O(u(s).e("content"))},[ae(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(D(),$("div",{key:1,class:O([u(s).e("timestamp"),u(s).is("bottom")])},Me(i.timestamp),3)):se("v-if",!0)],2)],2))}});var sM=_e(Ase,[["__file","timeline-item.vue"]]);const Pse=ft(Rse,{TimelineItem:sM}),Ose=hs(sM),nM=Oe({nowrap:Boolean});var iM=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(iM||{});const _se=Object.values(iM),rb=Oe({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:J(Object),default:null}}),Mse=Oe({side:{type:J(String),values:_se,required:!0}}),Ise=["absolute","fixed"],Fse=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],lb=Oe({ariaLabel:String,arrowPadding:{type:J(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:J(String),values:Fse,default:"bottom"},reference:{type:J(Object),default:null},offset:{type:Number,default:8},strategy:{type:J(String),values:Ise,default:"absolute"},showArrow:{type:Boolean,default:!1}}),ab=Oe({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:J(Function)},"onUpdate:open":{type:J(Function)}}),Fa={type:J(Function)},ub=Oe({onBlur:Fa,onClick:Fa,onFocus:Fa,onMouseDown:Fa,onMouseEnter:Fa,onMouseLeave:Fa}),Lse=Oe({...ab,...rb,...ub,...lb,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:J(Object),default:null},teleported:Boolean,to:{type:J(String),default:"body"}}),Mg=Symbol("tooltipV2"),oM=Symbol("tooltipV2Content"),qm="tooltip_v2.open",Nse=j({name:"ElTooltipV2Root"}),xse=j({...Nse,props:ab,setup(e,{expose:t}){const s=e,n=L(s.defaultOpen),i=L(null),o=R({get:()=>$l(s.open)?n.value:s.open,set:C=>{var v;n.value=C,(v=s["onUpdate:open"])==null||v.call(s,C)}}),r=R(()=>tt(s.delayDuration)&&s.delayDuration>0),{start:l,stop:a}=Vl(()=>{o.value=!0},R(()=>s.delayDuration),{immediate:!1}),c=we("tooltip-v2"),h=dn(),d=()=>{a(),o.value=!0},p=()=>{u(r)?l():d()},g=d,m=()=>{a(),o.value=!1};return ve(o,C=>{var v;C&&(document.dispatchEvent(new CustomEvent(qm)),g()),(v=s.onOpenChange)==null||v.call(s,C)}),at(()=>{document.addEventListener(qm,m)}),Jt(()=>{a(),document.removeEventListener(qm,m)}),Et(Mg,{contentId:h,triggerRef:i,ns:c,onClose:m,onDelayOpen:p,onOpen:g}),t({onOpen:g,onClose:m}),(C,v)=>ae(C.$slots,"default",{open:u(o)})}});var kse=_e(xse,[["__file","root.vue"]]);const Gse=j({name:"ElTooltipV2Arrow"}),Vse=j({...Gse,props:{...rb,...Mse},setup(e){const t=e,{ns:s}=Be(Mg),{arrowRef:n}=Be(oM),i=R(()=>{const{style:o,width:r,height:l}=t,a=s.namespace.value;return{[`--${a}-tooltip-v2-arrow-width`]:`${r}px`,[`--${a}-tooltip-v2-arrow-height`]:`${l}px`,[`--${a}-tooltip-v2-arrow-border-width`]:`${r/2}px`,[`--${a}-tooltip-v2-arrow-cover-width`]:r/2-1,...o||{}}});return(o,r)=>(D(),$("span",{ref_key:"arrowRef",ref:n,style:je(u(i)),class:O(u(s).e("arrow"))},null,6))}});var NR=_e(Vse,[["__file","arrow.vue"]]);const Hse=Oe({style:{type:J([String,Object,Array]),default:()=>({})}}),Bse=j({name:"ElVisuallyHidden"}),$se=j({...Bse,props:Hse,setup(e){const t=e,s=R(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(n,i)=>(D(),$("span",bt(n.$attrs,{style:u(s)}),[ae(n.$slots,"default")],16))}});var Wse=_e($se,[["__file","visual-hidden.vue"]]);const zse=["data-side"],Use=j({name:"ElTooltipV2Content"}),Kse=j({...Use,props:{...lb,...nM},setup(e){const t=e,{triggerRef:s,contentId:n}=Be(Mg),i=L(t.placement),o=L(t.strategy),r=L(null),{referenceRef:l,contentRef:a,middlewareData:c,x:h,y:d,update:p}=Sz({placement:i,strategy:o,middleware:R(()=>{const w=[nP(t.offset)];return t.showArrow&&w.push(Ez({arrowRef:r})),w})}),g=Yu().nextZIndex(),m=we("tooltip-v2"),f=R(()=>i.value.split("-")[0]),C=R(()=>({position:u(o),top:`${u(d)||0}px`,left:`${u(h)||0}px`,zIndex:g})),v=R(()=>{if(!t.showArrow)return{};const{arrow:w}=u(c);return{[`--${m.namespace.value}-tooltip-v2-arrow-x`]:`${w==null?void 0:w.x}px`||"",[`--${m.namespace.value}-tooltip-v2-arrow-y`]:`${w==null?void 0:w.y}px`||""}}),y=R(()=>[m.e("content"),m.is("dark",t.effect==="dark"),m.is(u(o)),t.contentClass]);return ve(r,()=>p()),ve(()=>t.placement,w=>i.value=w),at(()=>{ve(()=>t.reference||s.value,w=>{l.value=w||void 0},{immediate:!0})}),Et(oM,{arrowRef:r}),(w,b)=>(D(),$("div",{ref_key:"contentRef",ref:a,style:je(u(C)),"data-tooltip-v2-root":""},[w.nowrap?se("v-if",!0):(D(),$("div",{key:0,"data-side":u(f),class:O(u(y))},[ae(w.$slots,"default",{contentStyle:u(C),contentClass:u(y)}),q(u(Wse),{id:u(n),role:"tooltip"},{default:Z(()=>[w.ariaLabel?(D(),$(qe,{key:0},[_t(Me(w.ariaLabel),1)],64)):ae(w.$slots,"default",{key:1})]),_:3},8,["id"]),ae(w.$slots,"arrow",{style:je(u(v)),side:u(f)})],10,zse))],4))}});var xR=_e(Kse,[["__file","content.vue"]]);const jse=Oe({setRef:{type:J(Function),required:!0},onlyChild:Boolean});var Yse=j({props:jse,setup(e,{slots:t}){const s=L(),n=gg(s,i=>{i?e.setRef(i.nextElementSibling):e.setRef(null)});return()=>{var i;const[o]=((i=t.default)==null?void 0:i.call(t))||[],r=e.onlyChild?C$(o.children):o.children;return q(qe,{ref:n},[r])}}});const qse=j({name:"ElTooltipV2Trigger"}),Xse=j({...qse,props:{...nM,...ub},setup(e){const t=e,{onClose:s,onOpen:n,onDelayOpen:i,triggerRef:o,contentId:r}=Be(Mg);let l=!1;const a=y=>{o.value=y},c=()=>{l=!1},h=ms(t.onMouseEnter,i),d=ms(t.onMouseLeave,s),p=ms(t.onMouseDown,()=>{s(),l=!0,document.addEventListener("mouseup",c,{once:!0})}),g=ms(t.onFocus,()=>{l||n()}),m=ms(t.onBlur,s),f=ms(t.onClick,y=>{y.detail===0&&s()}),C={blur:m,click:f,focus:g,mousedown:p,mouseenter:h,mouseleave:d},v=(y,w,b)=>{y&&Object.entries(w).forEach(([T,E])=>{y[b](T,E)})};return ve(o,(y,w)=>{v(y,C,"addEventListener"),v(w,C,"removeEventListener"),y&&y.setAttribute("aria-describedby",r.value)}),Jt(()=>{v(o.value,C,"removeEventListener"),document.removeEventListener("mouseup",c)}),(y,w)=>y.nowrap?(D(),re(u(Yse),{key:0,"set-ref":a,"only-child":""},{default:Z(()=>[ae(y.$slots,"default")]),_:3})):(D(),$("button",bt({key:1,ref_key:"triggerRef",ref:o},y.$attrs),[ae(y.$slots,"default")],16))}});var Qse=_e(Xse,[["__file","trigger.vue"]]);const Zse=j({name:"ElTooltipV2"}),Jse=j({...Zse,props:Lse,setup(e){const s=Zs(e),n=Gt(ko(s,Object.keys(rb))),i=Gt(ko(s,Object.keys(lb))),o=Gt(ko(s,Object.keys(ab))),r=Gt(ko(s,Object.keys(ub)));return(l,a)=>(D(),re(kse,xo(au(o)),{default:Z(({open:c})=>[q(Qse,bt(r,{nowrap:""}),{default:Z(()=>[ae(l.$slots,"trigger")]),_:3},16),(D(),re($u,{to:l.to,disabled:!l.teleported},[l.fullTransition?(D(),re(Ls,xo(bt({key:0},l.transitionProps)),{default:Z(()=>[l.alwaysOn||c?(D(),re(xR,xo(bt({key:0},i)),{arrow:Z(({style:h,side:d})=>[l.showArrow?(D(),re(NR,bt({key:0},n,{style:h,side:d}),null,16,["style","side"])):se("v-if",!0)]),default:Z(()=>[ae(l.$slots,"default")]),_:3},16)):se("v-if",!0)]),_:2},1040)):(D(),$(qe,{key:1},[l.alwaysOn||c?(D(),re(xR,xo(bt({key:0},i)),{arrow:Z(({style:h,side:d})=>[l.showArrow?(D(),re(NR,bt({key:0},n,{style:h,side:d}),null,16,["style","side"])):se("v-if",!0)]),default:Z(()=>[ae(l.$slots,"default")]),_:3},16)):se("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var ene=_e(Jse,[["__file","tooltip.vue"]]);const tne=ft(ene),rM="left-check-change",lM="right-check-change",ka=Oe({data:{type:J(Array),default:()=>[]},titles:{type:J(Array),default:()=>[]},buttonTexts:{type:J(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:J(Function)},leftDefaultChecked:{type:J(Array),default:()=>[]},rightDefaultChecked:{type:J(Array),default:()=>[]},renderContent:{type:J(Function)},modelValue:{type:J(Array),default:()=>[]},format:{type:J(Object),default:()=>({})},filterable:Boolean,props:{type:J(Object),default:()=>ds({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),RC=(e,t)=>[e,t].every(ke)||ke(e)&&Is(t),sne={[as]:(e,t,s)=>[e,s].every(ke)&&["left","right"].includes(t),[vt]:e=>ke(e),[rM]:RC,[lM]:RC},TC="checked-change",nne=Oe({data:ka.data,optionRender:{type:J(Function)},placeholder:String,title:String,filterable:Boolean,format:ka.format,filterMethod:ka.filterMethod,defaultChecked:ka.leftDefaultChecked,props:ka.props}),ine={[TC]:RC},hh=e=>{const t={label:"label",key:"key",disabled:"disabled"};return R(()=>({...t,...e.props}))},one=(e,t,s)=>{const n=hh(e),i=R(()=>e.data.filter(h=>nt(e.filterMethod)?e.filterMethod(t.query,h):String(h[n.value.label]||h[n.value.key]).toLowerCase().includes(t.query.toLowerCase()))),o=R(()=>i.value.filter(h=>!h[n.value.disabled])),r=R(()=>{const h=t.checked.length,d=e.data.length,{noChecked:p,hasChecked:g}=e.format;return p&&g?h>0?g.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,d.toString()):p.replace(/\${total}/g,d.toString()):`${h}/${d}`}),l=R(()=>{const h=t.checked.length;return h>0&&h<o.value.length}),a=()=>{const h=o.value.map(d=>d[n.value.key]);t.allChecked=h.length>0&&h.every(d=>t.checked.includes(d))},c=h=>{t.checked=h?o.value.map(d=>d[n.value.key]):[]};return ve(()=>t.checked,(h,d)=>{if(a(),t.checkChangeByUser){const p=h.concat(d).filter(g=>!h.includes(g)||!d.includes(g));s(TC,h,p)}else s(TC,h),t.checkChangeByUser=!0}),ve(o,()=>{a()}),ve(()=>e.data,()=>{const h=[],d=i.value.map(p=>p[n.value.key]);t.checked.forEach(p=>{d.includes(p)&&h.push(p)}),t.checkChangeByUser=!1,t.checked=h}),ve(()=>e.defaultChecked,(h,d)=>{if(d&&h.length===d.length&&h.every(m=>d.includes(m)))return;const p=[],g=o.value.map(m=>m[n.value.key]);h.forEach(m=>{g.includes(m)&&p.push(m)}),t.checkChangeByUser=!1,t.checked=p},{immediate:!0}),{filteredData:i,checkableData:o,checkedSummary:r,isIndeterminate:l,updateAllChecked:a,handleAllCheckedChange:c}},rne=(e,t)=>({onSourceCheckedChange:(i,o)=>{e.leftChecked=i,o&&t(rM,i,o)},onTargetCheckedChange:(i,o)=>{e.rightChecked=i,o&&t(lM,i,o)}}),lne=e=>{const t=hh(e),s=R(()=>e.data.reduce((o,r)=>(o[r[t.value.key]]=r)&&o,{})),n=R(()=>e.data.filter(o=>!e.modelValue.includes(o[t.value.key]))),i=R(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[t.value.key])):e.modelValue.reduce((o,r)=>{const l=s.value[r];return l&&o.push(l),o},[]));return{sourceData:n,targetData:i}},ane=(e,t,s)=>{const n=hh(e),i=(l,a,c)=>{s(vt,l),s(as,l,a,c)};return{addToLeft:()=>{const l=e.modelValue.slice();t.rightChecked.forEach(a=>{const c=l.indexOf(a);c>-1&&l.splice(c,1)}),i(l,"left",t.rightChecked)},addToRight:()=>{let l=e.modelValue.slice();const a=e.data.filter(c=>{const h=c[n.value.key];return t.leftChecked.includes(h)&&!e.modelValue.includes(h)}).map(c=>c[n.value.key]);l=e.targetOrder==="unshift"?a.concat(l):l.concat(a),e.targetOrder==="original"&&(l=e.data.filter(c=>l.includes(c[n.value.key])).map(c=>c[n.value.key])),i(l,"right",t.leftChecked)}}},une=j({name:"ElTransferPanel"}),cne=j({...une,props:nne,emits:ine,setup(e,{expose:t,emit:s}){const n=e,i=Ys(),o=({option:w})=>w,{t:r}=Ft(),l=we("transfer"),a=Gt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=hh(n),{filteredData:h,checkedSummary:d,isIndeterminate:p,handleAllCheckedChange:g}=one(n,a,s),m=R(()=>!hi(a.query)&&hi(h.value)),f=R(()=>!hi(i.default()[0].children)),{checked:C,allChecked:v,query:y}=Zs(a);return t({query:y}),(w,b)=>(D(),$("div",{class:O(u(l).b("panel"))},[U("p",{class:O(u(l).be("panel","header"))},[q(u(Ai),{modelValue:u(v),"onUpdate:modelValue":b[0]||(b[0]=T=>ns(v)?v.value=T:null),indeterminate:u(p),"validate-event":!1,onChange:u(g)},{default:Z(()=>[_t(Me(w.title)+" ",1),U("span",null,Me(u(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),U("div",{class:O([u(l).be("panel","body"),u(l).is("with-footer",u(f))])},[w.filterable?(D(),re(u(an),{key:0,modelValue:u(y),"onUpdate:modelValue":b[1]||(b[1]=T=>ns(y)?y.value=T:null),class:O(u(l).be("panel","filter")),size:"default",placeholder:w.placeholder,"prefix-icon":u(QB),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):se("v-if",!0),lt(q(u(hO),{modelValue:u(C),"onUpdate:modelValue":b[2]||(b[2]=T=>ns(C)?C.value=T:null),"validate-event":!1,class:O([u(l).is("filterable",w.filterable),u(l).be("panel","list")])},{default:Z(()=>[(D(!0),$(qe,null,Dt(u(h),T=>(D(),re(u(Ai),{key:T[u(c).key],class:O(u(l).be("panel","item")),value:T[u(c).key],disabled:T[u(c).disabled],"validate-event":!1},{default:Z(()=>{var E;return[q(o,{option:(E=w.optionRender)==null?void 0:E.call(w,T)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Lt,!u(m)&&!u(hi)(w.data)]]),lt(U("p",{class:O(u(l).be("panel","empty"))},Me(u(m)?u(r)("el.transfer.noMatch"):u(r)("el.transfer.noData")),3),[[Lt,u(m)||u(hi)(w.data)]])],2),u(f)?(D(),$("p",{key:0,class:O(u(l).be("panel","footer"))},[ae(w.$slots,"default")],2)):se("v-if",!0)],2))}});var kR=_e(cne,[["__file","transfer-panel.vue"]]);const dne={key:0},hne={key:0},pne=j({name:"ElTransfer"}),fne=j({...pne,props:ka,emits:sne,setup(e,{expose:t,emit:s}){const n=e,i=Ys(),{t:o}=Ft(),r=we("transfer"),{formItem:l}=Dn(),a=Gt({leftChecked:[],rightChecked:[]}),c=hh(n),{sourceData:h,targetData:d}=lne(n),{onSourceCheckedChange:p,onTargetCheckedChange:g}=rne(a,s),{addToLeft:m,addToRight:f}=ane(n,a,s),C=L(),v=L(),y=A=>{switch(A){case"left":C.value.query="";break;case"right":v.value.query="";break}},w=R(()=>n.buttonTexts.length===2),b=R(()=>n.titles[0]||o("el.transfer.titles.0")),T=R(()=>n.titles[1]||o("el.transfer.titles.1")),E=R(()=>n.filterPlaceholder||o("el.transfer.filterPlaceholder"));ve(()=>n.modelValue,()=>{var A;n.validateEvent&&((A=l==null?void 0:l.validate)==null||A.call(l,"change").catch(N=>void 0))});const P=R(()=>A=>n.renderContent?n.renderContent(Qe,A):i.default?i.default({option:A}):Qe("span",A[c.value.label]||A[c.value.key]));return t({clearQuery:y,leftPanel:C,rightPanel:v}),(A,N)=>(D(),$("div",{class:O(u(r).b())},[q(kR,{ref_key:"leftPanel",ref:C,data:u(h),"option-render":u(P),placeholder:u(E),title:u(b),filterable:A.filterable,format:A.format,"filter-method":A.filterMethod,"default-checked":A.leftDefaultChecked,props:n.props,onCheckedChange:u(p)},{default:Z(()=>[ae(A.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),U("div",{class:O(u(r).e("buttons"))},[q(u(zs),{type:"primary",class:O([u(r).e("button"),u(r).is("with-texts",u(w))]),disabled:u(hi)(a.rightChecked),onClick:u(m)},{default:Z(()=>[q(u(Ue),null,{default:Z(()=>[q(u(xr))]),_:1}),u(Ps)(A.buttonTexts[0])?se("v-if",!0):(D(),$("span",dne,Me(A.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),q(u(zs),{type:"primary",class:O([u(r).e("button"),u(r).is("with-texts",u(w))]),disabled:u(hi)(a.leftChecked),onClick:u(f)},{default:Z(()=>[u(Ps)(A.buttonTexts[1])?se("v-if",!0):(D(),$("span",hne,Me(A.buttonTexts[1]),1)),q(u(Ue),null,{default:Z(()=>[q(u(bn))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),q(kR,{ref_key:"rightPanel",ref:v,data:u(d),"option-render":u(P),placeholder:u(E),filterable:A.filterable,format:A.format,"filter-method":A.filterMethod,title:u(T),"default-checked":A.rightDefaultChecked,props:n.props,onCheckedChange:u(g)},{default:Z(()=>[ae(A.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var gne=_e(fne,[["__file","transfer.vue"]]);const mne=ft(gne),su="$treeNodeId",GR=function(e,t){!t||t[su]||Object.defineProperty(t,su,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},cb=function(e,t){return e?t[e]:t[su]},DC=(e,t,s)=>{const n=e.value.currentNode;s();const i=e.value.currentNode;n!==i&&t("current-change",i?i.data:null,i)},AC=e=>{let t=!0,s=!0,n=!0;for(let i=0,o=e.length;i<o;i++){const r=e[i];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(n=!1)),(r.checked!==!1||r.indeterminate)&&(s=!1)}return{all:t,none:s,allWithoutDisable:n,half:!t&&!s}},Ec=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:s,half:n}=AC(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):s&&(e.checked=!1,e.indeterminate=!1);const i=e.parent;!i||i.level===0||e.store.checkStrictly||Ec(i)},ip=function(e,t){const s=e.store.props,n=e.data||{},i=s[t];if(typeof i=="function")return i(n,e);if(typeof i=="string")return n[i];if(typeof i>"u"){const o=n[t];return o===void 0?"":o}};let vne=0,PC=class Np{constructor(t){this.id=vne++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const s in t)Ot(t,s)&&(this[s]=t[s]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const s=t.props;if(s&&typeof s.isLeaf<"u"){const o=ip(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||GR(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,i=t.key;i&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),i&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||GR(this,t),this.data=t,this.childNodes=[];let s;this.level===0&&Array.isArray(this.data)?s=this.data:s=ip(this,"children")||[];for(let n=0,i=s.length;n<i;n++)this.insertChild({data:s[n]})}get label(){return ip(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return ip(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const s=t.childNodes.indexOf(this);if(s>-1)return t.childNodes[s+1]}return null}get previousSibling(){const t=this.parent;if(t){const s=t.childNodes.indexOf(this);if(s>-1)return s>0?t.childNodes[s-1]:null}return null}contains(t,s=!0){return(this.childNodes||[]).some(n=>n===t||s&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,s,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Np)){if(!n){const i=this.getChildren(!0);i.includes(t.data)||(typeof s>"u"||s<0?i.push(t.data):i.splice(s,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Gt(new Np(t)),t instanceof Np&&t.initialize()}t.level=this.level+1,typeof s>"u"||s<0?this.childNodes.push(t):this.childNodes.splice(s,0,t),this.updateLeafState()}insertBefore(t,s){let n;s&&(n=this.childNodes.indexOf(s)),this.insertChild(t,n)}insertAfter(t,s){let n;s&&(n=this.childNodes.indexOf(s),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const s=this.getChildren()||[],n=s.indexOf(t.data);n>-1&&s.splice(n,1);const i=this.childNodes.indexOf(t);i>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(t){let s=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){s=this.childNodes[n];break}s&&this.removeChild(s)}expand(t,s){const n=()=>{if(s){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Array.isArray(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ec(this),n())}):n()}doCreateChildren(t,s={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},s),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,s,n,i){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:l}=AC(this.childNodes);!this.isLeaf&&!r&&l&&(this.checked=!1,t=!1);const a=()=>{if(s){const c=this.childNodes;for(let p=0,g=c.length;p<g;p++){const m=c[p];i=i||t!==!1;const f=m.disabled?m.checked:i;m.setChecked(f,s,!0,i)}const{half:h,all:d}=AC(c);d||(this.checked=d,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{a(),Ec(this)},{checked:t!==!1});return}else a()}const o=this.parent;!o||o.level===0||n||Ec(o)}getChildren(t=!1){if(this.level===0)return this.data;const s=this.data;if(!s)return null;const n=this.store.props;let i="children";return n&&(i=n.children||"children"),s[i]===void 0&&(s[i]=null),t&&!s[i]&&(s[i]=[]),s[i]}updateChildren(){const t=this.getChildren()||[],s=this.childNodes.map(o=>o.data),n={},i=[];t.forEach((o,r)=>{const l=o[su];!!l&&s.findIndex(c=>c[su]===l)>=0?n[l]={index:r,data:o}:i.push({index:r,data:o})}),this.store.lazy||s.forEach(o=>{n[o[su]]||this.removeChildByData(o)}),i.forEach(({index:o,data:r})=>{this.insertChild({data:r},o)}),this.updateLeafState()}loadData(t,s={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(s).length)){this.loading=!0;const n=o=>{this.childNodes=[],this.doCreateChildren(o,s),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)},i=()=>{this.loading=!1};this.store.load(this,n,i)}else t&&t.call(this)}eachNode(t){const s=[this];for(;s.length;){const n=s.shift();s.unshift(...n.childNodes),t(n)}}reInitChecked(){this.store.checkStrictly||Ec(this)}};class Cne{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const s in t)Ot(t,s)&&(this[s]=t[s]);this.nodesMap={}}initialize(){if(this.root=new PC({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,s=>{this.root.doCreateChildren(s),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const s=this.filterNodeMethod,n=this.lazy,i=function(o){const r=o.root?o.root.childNodes:o.childNodes;if(r.forEach(l=>{l.visible=s.call(l,t,l.data,l),i(l)}),!o.visible&&r.length){let l=!0;l=!r.some(a=>a.visible),o.root?o.root.visible=l===!1:o.visible=l===!1}t&&o.visible&&!o.isLeaf&&(!n||o.loaded)&&o.expand()};i(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof PC)return t;const s=yt(t)?cb(this.key,t):t;return this.nodesMap[s]||null}insertBefore(t,s){const n=this.getNode(s);n.parent.insertBefore({data:t},n)}insertAfter(t,s){const n=this.getNode(s);n.parent.insertAfter({data:t},n)}remove(t){const s=this.getNode(t);s&&s.parent&&(s===this.currentNode&&(this.currentNode=null),s.parent.removeChild(s))}append(t,s){const n=$l(s)?this.root:this.getNode(s);n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],s=this.nodesMap;t.forEach(n=>{const i=s[n];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const s=this.key;!t||!t.data||(s?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,s=!1){const n=[],i=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(l=>{(l.checked||s&&l.indeterminate)&&(!t||t&&l.isLeaf)&&n.push(l.data),i(l)})};return i(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(s=>(s||{})[this.key])}getHalfCheckedNodes(){const t=[],s=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(o=>{o.indeterminate&&t.push(o.data),s(o)})};return s(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],s=this.nodesMap;for(const n in s)Ot(s,n)&&t.push(s[n]);return t}updateChildren(t,s){const n=this.nodesMap[t];if(!n)return;const i=n.childNodes;for(let o=i.length-1;o>=0;o--){const r=i[o];this.remove(r.data)}for(let o=0,r=s.length;o<r;o++){const l=s[o];this.append(l,n.data)}}_setCheckedKeys(t,s=!1,n){const i=this._getAllNodes().sort((a,c)=>a.level-c.level),o=Object.create(null),r=Object.keys(n);i.forEach(a=>a.setChecked(!1,!1));const l=a=>{a.childNodes.forEach(c=>{var h;o[c.data[t]]=!0,(h=c.childNodes)!=null&&h.length&&l(c)})};for(let a=0,c=i.length;a<c;a++){const h=i[a],d=h.data[t].toString();if(!r.includes(d)){h.checked&&!o[d]&&h.setChecked(!1,!1);continue}if(h.childNodes.length&&l(h),h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),s){h.setChecked(!1,!1);const g=function(m){m.childNodes.forEach(C=>{C.isLeaf||C.setChecked(!1,!1),g(C)})};g(h)}}}setCheckedNodes(t,s=!1){const n=this.key,i={};t.forEach(o=>{i[(o||{})[n]]=!0}),this._setCheckedKeys(n,s,i)}setCheckedKeys(t,s=!1){this.defaultCheckedKeys=t;const n=this.key,i={};t.forEach(o=>{i[o]=!0}),this._setCheckedKeys(n,s,i)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(s=>{const n=this.getNode(s);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,s,n){const i=this.getNode(t);i&&i.setChecked(!!s,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const s=this.currentNode;s&&(s.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,s=!0){const n=t[this.key],i=this.nodesMap[n];this.setCurrentNode(i),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,s=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const yne=j({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=we("tree"),s=Be("NodeInstance"),n=Be("RootTree");return()=>{const i=e.node,{data:o,store:r}=i;return e.renderContent?e.renderContent(Qe,{_self:s,node:i,data:o,store:r}):ae(n.ctx.slots,"default",{node:i,data:o},()=>[Qe("span",{class:t.be("node","label")},[i.label])])}}});var wne=_e(yne,[["__file","tree-node-content.vue"]]);function aM(e){const t=Be("TreeNodeMap",null),s={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(s),Et("TreeNodeMap",s),{broadcastExpanded:n=>{if(e.accordion)for(const i of s.children)i.treeNodeExpand(n)}}}const uM=Symbol("dragEvents");function bne({props:e,ctx:t,el$:s,dropIndicator$:n,store:i}){const o=we("tree"),r=L({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Et(uM,{treeNodeDragStart:({event:h,treeNode:d})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(d.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=d,t.emit("node-drag-start",d.node,h)},treeNodeDragOver:({event:h,treeNode:d})=>{const p=d,g=r.value.dropNode;g&&g.node.id!==p.node.id&&cn(g.$el,o.is("drop-inner"));const m=r.value.draggingNode;if(!m||!p)return;let f=!0,C=!0,v=!0,y=!0;typeof e.allowDrop=="function"&&(f=e.allowDrop(m.node,p.node,"prev"),y=C=e.allowDrop(m.node,p.node,"inner"),v=e.allowDrop(m.node,p.node,"next")),h.dataTransfer.dropEffect=C||f||v?"move":"none",(f||C||v)&&(g==null?void 0:g.node.id)!==p.node.id&&(g&&t.emit("node-drag-leave",m.node,g.node,h),t.emit("node-drag-enter",m.node,p.node,h)),f||C||v?r.value.dropNode=p:r.value.dropNode=null,p.node.nextSibling===m.node&&(v=!1),p.node.previousSibling===m.node&&(f=!1),p.node.contains(m.node,!1)&&(C=!1),(m.node===p.node||m.node.contains(p.node))&&(f=!1,C=!1,v=!1);const w=p.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),b=s.value.getBoundingClientRect();let T;const E=f?C?.25:v?.45:1:-1,P=v?C?.75:f?.55:0:1;let A=-9999;const N=h.clientY-w.top;N<w.height*E?T="before":N>w.height*P?T="after":C?T="inner":T="none";const x=p.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),F=n.value;T==="before"?A=x.top-b.top:T==="after"&&(A=x.bottom-b.top),F.style.top=`${A}px`,F.style.left=`${x.right-b.left}px`,T==="inner"?pi(p.$el,o.is("drop-inner")):cn(p.$el,o.is("drop-inner")),r.value.showDropIndicator=T==="before"||T==="after",r.value.allowDrop=r.value.showDropIndicator||y,r.value.dropType=T,t.emit("node-drag-over",m.node,p.node,h)},treeNodeDragEnd:h=>{const{draggingNode:d,dropType:p,dropNode:g}=r.value;if(h.preventDefault(),h.dataTransfer.dropEffect="move",d&&g){const m={data:d.node.data};p!=="none"&&d.node.remove(),p==="before"?g.node.parent.insertBefore(m,g.node):p==="after"?g.node.parent.insertAfter(m,g.node):p==="inner"&&g.node.insertChild(m),p!=="none"&&(i.value.registerNode(m),i.value.key&&d.node.eachNode(f=>{var C;(C=i.value.nodesMap[f.data[i.value.key]])==null||C.setChecked(f.checked,!i.value.checkStrictly)})),cn(g.$el,o.is("drop-inner")),t.emit("node-drag-end",d.node,g.node,p,h),p!=="none"&&t.emit("node-drop",d.node,g.node,p,h)}d&&!g&&t.emit("node-drag-end",d.node,null,p,h),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Sne=j({name:"ElTreeNode",components:{ElCollapseTransition:Dg,ElCheckbox:Ai,NodeContent:wne,ElIcon:Ue,Loading:Yr},props:{node:{type:PC,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const s=we("tree"),{broadcastExpanded:n}=aM(e),i=Be("RootTree"),o=L(!1),r=L(!1),l=L(null),a=L(null),c=L(null),h=Be(uM),d=ct();Et("NodeInstance",d),e.node.expanded&&(o.value=!0,r.value=!0);const p=i.props.props.children||"children";ve(()=>{const N=e.node.data[p];return N&&[...N]},()=>{e.node.updateChildren()}),ve(()=>e.node.indeterminate,N=>{f(e.node.checked,N)}),ve(()=>e.node.checked,N=>{f(N,e.node.indeterminate)}),ve(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),ve(()=>e.node.expanded,N=>{Xe(()=>o.value=N),N&&(r.value=!0)});const g=N=>cb(i.props.nodeKey,N.data),m=N=>{const x=e.props.class;if(!x)return{};let F;if(nt(x)){const{data:G}=N;F=x(G,N)}else F=x;return rt(F)?{[F]:!0}:F},f=(N,x)=>{(l.value!==N||a.value!==x)&&i.ctx.emit("check-change",e.node.data,N,x),l.value=N,a.value=x},C=N=>{DC(i.store,i.ctx.emit,()=>i.store.value.setCurrentNode(e.node)),i.currentNode.value=e.node,i.props.expandOnClickNode&&y(),i.props.checkOnClickNode&&!e.node.disabled&&w(null,{target:{checked:!e.node.checked}}),i.ctx.emit("node-click",e.node.data,e.node,d,N)},v=N=>{i.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),i.ctx.emit("node-contextmenu",N,e.node.data,e.node,d)},y=()=>{e.node.isLeaf||(o.value?(i.ctx.emit("node-collapse",e.node.data,e.node,d),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,d)))},w=(N,x)=>{e.node.setChecked(x.target.checked,!i.props.checkStrictly),Xe(()=>{const F=i.store.value;i.ctx.emit("check",e.node.data,{checkedNodes:F.getCheckedNodes(),checkedKeys:F.getCheckedKeys(),halfCheckedNodes:F.getHalfCheckedNodes(),halfCheckedKeys:F.getHalfCheckedKeys()})})};return{ns:s,node$:c,tree:i,expanded:o,childNodeRendered:r,oldChecked:l,oldIndeterminate:a,getNodeKey:g,getNodeClass:m,handleSelectChange:f,handleClick:C,handleContextMenu:v,handleExpandIconClick:y,handleCheckChange:w,handleChildNodeExpand:(N,x,F)=>{n(x),i.ctx.emit("node-expand",N,x,F)},handleDragStart:N=>{i.props.draggable&&h.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),i.props.draggable&&h.treeNodeDragOver({event:N,treeNode:{$el:c.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{i.props.draggable&&h.treeNodeDragEnd(N)},CaretRight:AA}}}),Ene=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Rne=["aria-expanded"];function Tne(e,t,s,n,i,o){const r=pt("el-icon"),l=pt("el-checkbox"),a=pt("loading"),c=pt("node-content"),h=pt("el-tree-node"),d=pt("el-collapse-transition");return lt((D(),$("div",{ref:"node$",class:O([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=st((...p)=>e.handleClick&&e.handleClick(...p),["stop"])),onContextmenu:t[2]||(t[2]=(...p)=>e.handleContextMenu&&e.handleContextMenu(...p)),onDragstart:t[3]||(t[3]=st((...p)=>e.handleDragStart&&e.handleDragStart(...p),["stop"])),onDragover:t[4]||(t[4]=st((...p)=>e.handleDragOver&&e.handleDragOver(...p),["stop"])),onDragend:t[5]||(t[5]=st((...p)=>e.handleDragEnd&&e.handleDragEnd(...p),["stop"])),onDrop:t[6]||(t[6]=st((...p)=>e.handleDrop&&e.handleDrop(...p),["stop"]))},[U("div",{class:O(e.ns.be("node","content")),style:je({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(D(),re(r,{key:0,class:O([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:st(e.handleExpandIconClick,["stop"])},{default:Z(()=>[(D(),re(Ct(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):se("v-if",!0),e.showCheckbox?(D(),re(l,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=st(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):se("v-if",!0),e.node.loading?(D(),re(r,{key:2,class:O([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Z(()=>[q(a)]),_:1},8,["class"])):se("v-if",!0),q(c,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),q(d,null,{default:Z(()=>[!e.renderAfterExpand||e.childNodeRendered?lt((D(),$("div",{key:0,class:O(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(D(!0),$(qe,null,Dt(e.node.childNodes,p=>(D(),re(h,{key:e.getNodeKey(p),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:p,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Rne)),[[Lt,e.expanded]]):se("v-if",!0)]),_:1})],42,Ene)),[[Lt,e.node.visible]])}var Dne=_e(Sne,[["render",Tne],["__file","tree-node.vue"]]);function Ane({el$:e},t){const s=we("tree"),n=ts([]),i=ts([]);at(()=>{r()}),Xo(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),ve(i,l=>{l.forEach(a=>{a.setAttribute("tabindex","-1")})}),ls(e,"keydown",l=>{const a=l.target;if(!a.className.includes(s.b("node")))return;const c=l.code;n.value=Array.from(e.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`));const h=n.value.indexOf(a);let d;if([Ye.up,Ye.down].includes(c)){if(l.preventDefault(),c===Ye.up){d=h===-1?0:h!==0?h-1:n.value.length-1;const g=d;for(;!t.value.getNode(n.value[d].dataset.key).canFocus;){if(d--,d===g){d=-1;break}d<0&&(d=n.value.length-1)}}else{d=h===-1?0:h<n.value.length-1?h+1:0;const g=d;for(;!t.value.getNode(n.value[d].dataset.key).canFocus;){if(d++,d===g){d=-1;break}d>=n.value.length&&(d=0)}}d!==-1&&n.value[d].focus()}[Ye.left,Ye.right].includes(c)&&(l.preventDefault(),a.click());const p=a.querySelector('[type="checkbox"]');[Ye.enter,Ye.space].includes(c)&&p&&(l.preventDefault(),p.click())});const r=()=>{var l;n.value=Array.from(e.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`)),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const a=e.value.querySelectorAll(`.${s.is("checked")}[role=treeitem]`);if(a.length){a[0].setAttribute("tabindex","0");return}(l=n.value[0])==null||l.setAttribute("tabindex","0")}}const Pne=j({name:"ElTree",components:{ElTreeNode:Dne},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Kt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:s}=Ft(),n=we("tree"),i=L(new Cne({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const o=L(i.value.root),r=L(null),l=L(null),a=L(null),{broadcastExpanded:c}=aM(e),{dragState:h}=bne({props:e,ctx:t,el$:l,dropIndicator$:a,store:i});Ane({el$:l},i);const d=R(()=>{const{childNodes:I}=o.value;return!I||I.length===0||I.every(({visible:V})=>!V)});ve(()=>e.currentNodeKey,I=>{i.value.setCurrentNodeKey(I)}),ve(()=>e.defaultCheckedKeys,I=>{i.value.setDefaultCheckedKey(I)}),ve(()=>e.defaultExpandedKeys,I=>{i.value.setDefaultExpandedKeys(I)}),ve(()=>e.data,I=>{i.value.setData(I)},{deep:!0}),ve(()=>e.checkStrictly,I=>{i.value.checkStrictly=I});const p=I=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(I)},g=I=>cb(e.nodeKey,I.data),m=I=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const V=i.value.getNode(I);if(!V)return[];const _=[V.data];let B=V.parent;for(;B&&B!==o.value;)_.push(B.data),B=B.parent;return _.reverse()},f=(I,V)=>i.value.getCheckedNodes(I,V),C=I=>i.value.getCheckedKeys(I),v=()=>{const I=i.value.getCurrentNode();return I?I.data:null},y=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const I=v();return I?I[e.nodeKey]:null},w=(I,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(I,V)},b=(I,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(I,V)},T=(I,V,_)=>{i.value.setChecked(I,V,_)},E=()=>i.value.getHalfCheckedNodes(),P=()=>i.value.getHalfCheckedKeys(),A=(I,V=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");DC(i,t.emit,()=>i.value.setUserCurrentNode(I,V))},N=(I,V=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");DC(i,t.emit,()=>i.value.setCurrentNodeKey(I,V))},x=I=>i.value.getNode(I),F=I=>{i.value.remove(I)},G=(I,V)=>{i.value.append(I,V)},K=(I,V)=>{i.value.insertBefore(I,V)},z=(I,V)=>{i.value.insertAfter(I,V)},W=(I,V,_)=>{c(V),t.emit("node-expand",I,V,_)},k=(I,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(I,V)};return Et("RootTree",{ctx:t,props:e,store:i,root:o,currentNode:r,instance:ct()}),Et(vo,void 0),{ns:n,store:i,root:o,currentNode:r,dragState:h,el$:l,dropIndicator$:a,isEmpty:d,filter:p,getNodeKey:g,getNodePath:m,getCheckedNodes:f,getCheckedKeys:C,getCurrentNode:v,getCurrentKey:y,setCheckedNodes:w,setCheckedKeys:b,setChecked:T,getHalfCheckedNodes:E,getHalfCheckedKeys:P,setCurrentNode:A,setCurrentKey:N,t:s,getNode:x,remove:F,append:G,insertBefore:K,insertAfter:z,handleNodeExpand:W,updateKeyChildren:k}}});function One(e,t,s,n,i,o){const r=pt("el-tree-node");return D(),$("div",{ref:"el$",class:O([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(D(!0),$(qe,null,Dt(e.root.childNodes,l=>(D(),re(r,{key:e.getNodeKey(l),node:l,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(D(),$("div",{key:0,class:O(e.ns.e("empty-block"))},[ae(e.$slots,"empty",{},()=>{var l;return[U("span",{class:O(e.ns.e("empty-text"))},Me((l=e.emptyText)!=null?l:e.t("el.tree.emptyText")),3)]})],2)):se("v-if",!0),lt(U("div",{ref:"dropIndicator$",class:O(e.ns.e("drop-indicator"))},null,2),[[Lt,e.dragState.showDropIndicator]])],2)}var xp=_e(Pne,[["render",One],["__file","tree.vue"]]);xp.install=e=>{e.component(xp.name,xp)};const Rf=xp,_ne=Rf,Mne=(e,{attrs:t,emit:s},{select:n,tree:i,key:o})=>{const r=we("tree-select");return ve(()=>e.data,()=>{e.filterable&&Xe(()=>{var a,c;(c=i.value)==null||c.filter((a=n.value)==null?void 0:a.states.inputValue)})},{flush:"post"}),{...ko(Zs(e),Object.keys(Kl.props)),...t,"onUpdate:modelValue":a=>s(vt,a),valueKey:o,popperClass:R(()=>{const a=[r.e("popper")];return e.popperClass&&a.push(e.popperClass),a.join(" ")}),filterMethod:(a="")=>{var c;e.filterMethod?e.filterMethod(a):e.remoteMethod?e.remoteMethod(a):(c=i.value)==null||c.filter(a)}}},Ine=j({extends:mf,setup(e,t){const s=mf.setup(e,t);delete s.selectOptionClick;const n=ct().proxy;return Xe(()=>{s.select.states.cachedOptions.get(n.value)||s.select.onOptionCreate(n)}),s},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function OC(e){return e||e===0}function db(e){return Array.isArray(e)&&e.length}function yc(e){return Array.isArray(e)?e:OC(e)?[e]:[]}function kp(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];if(t(r,o,e,i))return n?n(r,o,e,i):r;{const l=s(r);if(db(l)){const a=kp(l,t,s,n,r);if(a)return a}}}}function _C(e,t,s,n){for(let i=0;i<e.length;i++){const o=e[i];t(o,i,e,n);const r=s(o);db(r)&&_C(r,t,s,o)}}const Fne=(e,{attrs:t,slots:s,emit:n},{select:i,tree:o,key:r})=>{ve(()=>e.modelValue,()=>{e.showCheckbox&&Xe(()=>{const d=o.value;d&&!un(d.getCheckedKeys(),yc(e.modelValue))&&d.setCheckedKeys(yc(e.modelValue))})},{immediate:!0,deep:!0});const l=R(()=>({value:r.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),a=(d,p)=>{var g;const m=l.value[d];return nt(m)?m(p,(g=o.value)==null?void 0:g.getNode(a("value",p))):p[m]},c=yc(e.modelValue).map(d=>kp(e.data||[],p=>a("value",p)===d,p=>a("children",p),(p,g,m,f)=>f&&a("value",f))).filter(d=>OC(d)),h=R(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return _C(e.data.concat(e.cacheData),p=>{const g=a("value",p);d.push({value:g,currentLabel:a("label",p),isDisabled:a("disabled",p)})},p=>a("children",p)),d});return{...ko(Zs(e),Object.keys(Rf.props)),...t,nodeKey:r,expandOnClickNode:R(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:R(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(c):c),renderContent:(d,{node:p,data:g,store:m})=>d(Ine,{value:a("value",g),label:a("label",g),disabled:a("disabled",g)},e.renderContent?()=>e.renderContent(d,{node:p,data:g,store:m}):s.default?()=>s.default({node:p,data:g,store:m}):void 0),filterNodeMethod:(d,p,g)=>e.filterNodeMethod?e.filterNodeMethod(d,p,g):d?new RegExp(Qy(d),"i").test(a("label",p)||""):!0,onNodeClick:(d,p,g)=>{var m,f,C,v;if((m=t.onNodeClick)==null||m.call(t,d,p,g),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||p.isLeaf)){if(!a("disabled",d)){const y=(f=i.value)==null?void 0:f.states.options.get(a("value",d));(C=i.value)==null||C.handleOptionSelect(y)}}else e.expandOnClickNode&&g.proxy.handleExpandIconClick();(v=i.value)==null||v.focus()}},onCheck:(d,p)=>{var g;if(!e.showCheckbox)return;const m=a("value",d),f={};_C([o.value.store.root],w=>f[w.key]=w,w=>w.childNodes);const C=p.checkedKeys,v=e.multiple?yc(e.modelValue).filter(w=>!(w in f)&&!C.includes(w)):[],y=v.concat(C);if(e.checkStrictly)n(vt,e.multiple?y:y.includes(m)?m:void 0);else if(e.multiple)n(vt,v.concat(o.value.getCheckedKeys(!0)));else{const w=kp([d],E=>!db(a("children",E))&&!a("disabled",E),E=>a("children",E)),b=w?a("value",w):void 0,T=OC(e.modelValue)&&!!kp([d],E=>a("value",E)===e.modelValue,E=>a("children",E));n(vt,b===e.modelValue||T?void 0:b)}Xe(()=>{var w;const b=yc(e.modelValue);o.value.setCheckedKeys(b),(w=t.onCheck)==null||w.call(t,d,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(g=i.value)==null||g.focus()},cacheOptions:h}};var Lne=j({props:{data:{type:Array,default:()=>[]}},setup(e){const t=Be(ch);return ve(()=>e.data,()=>{var s;e.data.forEach(i=>{t.states.cachedOptions.has(i.value)||t.states.cachedOptions.set(i.value,i)});const n=((s=t.selectRef)==null?void 0:s.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Nne=j({name:"ElTreeSelect",inheritAttrs:!1,props:{...Kl.props,...Rf.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:s,expose:n}=t,i=L(),o=L(),r=R(()=>e.nodeKey||e.valueKey||"value"),l=Mne(e,t,{select:i,tree:o,key:r}),{cacheOptions:a,...c}=Fne(e,t,{select:i,tree:o,key:r}),h=Gt({});return n(h),at(()=>{Object.assign(h,{...ko(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...ko(i.value,["focus","blur"])})}),()=>Qe(Kl,Gt({...l,ref:d=>i.value=d}),{...s,default:()=>[Qe(Lne,{data:a.value}),Qe(Rf,Gt({...c,ref:d=>o.value=d}))]})}});var Gp=_e(Nne,[["__file","tree-select.vue"]]);Gp.install=e=>{e.component(Gp.name,Gp)};const xne=Gp,kne=xne,hb=Symbol(),Gne={key:-1,level:-1,data:{}};var Rc=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Rc||{}),MC=(e=>(e.ADD="add",e.DELETE="delete",e))(MC||{});const cM={type:Number,default:26},Vne=Oe({data:{type:J(Array),default:()=>ds([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:J(Object),default:()=>ds({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:J(Array),default:()=>ds([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:J(Array),default:()=>ds([])},indent:{type:Number,default:16},itemSize:cM,icon:{type:Kt},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:J([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:J(Function)},perfMode:{type:Boolean,default:!0}}),Hne=Oe({node:{type:J(Object),default:()=>ds(Gne)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:cM}),Bne=Oe({node:{type:J(Object),required:!0}}),dM="node-click",hM="node-expand",pM="node-collapse",fM="current-change",gM="check",mM="check-change",vM="node-contextmenu",$ne={[dM]:(e,t,s)=>e&&t&&s,[hM]:(e,t)=>e&&t,[pM]:(e,t)=>e&&t,[fM]:(e,t)=>e&&t,[gM]:(e,t)=>e&&t,[mM]:(e,t)=>e&&typeof t=="boolean",[vM]:(e,t,s)=>e&&t&&s},Wne={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function zne(e,t){const s=L(new Set),n=L(new Set),{emit:i}=ct();ve([()=>t.value,()=>e.defaultCheckedKeys],()=>Xe(()=>{y(e.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:b}=t.value,T=s.value,E=new Set;for(let P=b-1;P>=1;--P){const A=w.get(P);A&&A.forEach(N=>{const x=N.children;if(x){let F=!0,G=!1;for(const K of x){const z=K.key;if(T.has(z))G=!0;else if(E.has(z)){F=!1,G=!0;break}else F=!1}F?T.add(N.key):G?(E.add(N.key),T.delete(N.key)):(T.delete(N.key),E.delete(N.key))}})}n.value=E},r=w=>s.value.has(w.key),l=w=>n.value.has(w.key),a=(w,b,T=!0)=>{const E=s.value,P=(A,N)=>{E[N?MC.ADD:MC.DELETE](A.key);const x=A.children;!e.checkStrictly&&x&&x.forEach(F=>{F.disabled||P(F,N)})};P(w,b),o(),T&&c(w,b)},c=(w,b)=>{const{checkedNodes:T,checkedKeys:E}=m(),{halfCheckedNodes:P,halfCheckedKeys:A}=f();i(gM,w.data,{checkedKeys:E,checkedNodes:T,halfCheckedKeys:A,halfCheckedNodes:P}),i(mM,w.data,b)};function h(w=!1){return m(w).checkedKeys}function d(w=!1){return m(w).checkedNodes}function p(){return f().halfCheckedKeys}function g(){return f().halfCheckedNodes}function m(w=!1){const b=[],T=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:E}=t.value;s.value.forEach(P=>{const A=E.get(P);A&&(!w||w&&A.isLeaf)&&(T.push(P),b.push(A.data))})}return{checkedKeys:T,checkedNodes:b}}function f(){const w=[],b=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:T}=t.value;n.value.forEach(E=>{const P=T.get(E);P&&(b.push(E),w.push(P.data))})}return{halfCheckedNodes:w,halfCheckedKeys:b}}function C(w){s.value.clear(),n.value.clear(),Xe(()=>{y(w)})}function v(w,b){if(t!=null&&t.value&&e.showCheckbox){const T=t.value.treeNodeMap.get(w);T&&a(T,b,!1)}}function y(w){if(t!=null&&t.value){const{treeNodeMap:b}=t.value;if(e.showCheckbox&&b&&w)for(const T of w){const E=b.get(T);E&&!r(E)&&a(E,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:a,isChecked:r,isIndeterminate:l,getCheckedKeys:h,getCheckedNodes:d,getHalfCheckedKeys:p,getHalfCheckedNodes:g,setChecked:v,setCheckedKeys:C}}function Une(e,t){const s=L(new Set([])),n=L(new Set([])),i=R(()=>nt(e.filterMethod));function o(l){var a;if(!i.value)return;const c=new Set,h=n.value,d=s.value,p=[],g=((a=t.value)==null?void 0:a.treeNodes)||[],m=e.filterMethod;d.clear();function f(C){C.forEach(v=>{p.push(v),m!=null&&m(l,v.data)?p.forEach(w=>{c.add(w.key)}):v.isLeaf&&d.add(v.key);const y=v.children;if(y&&f(y),!v.isLeaf){if(!c.has(v.key))d.add(v.key);else if(y){let w=!0;for(const b of y)if(!d.has(b.key)){w=!1;break}w?h.add(v.key):h.delete(v.key)}}p.pop()})}return f(g),c}function r(l){return n.value.has(l.key)}return{hiddenExpandIconKeySet:n,hiddenNodeKeySet:s,doFilter:o,isForceHiddenExpandIcon:r}}function Kne(e,t){const s=L(new Set(e.defaultExpandedKeys)),n=L(),i=ts();ve(()=>e.currentNodeKey,le=>{n.value=le},{immediate:!0}),ve(()=>e.data,le=>{te(le)},{immediate:!0});const{isIndeterminate:o,isChecked:r,toggleCheckbox:l,getCheckedKeys:a,getCheckedNodes:c,getHalfCheckedKeys:h,getHalfCheckedNodes:d,setChecked:p,setCheckedKeys:g}=zne(e,i),{doFilter:m,hiddenNodeKeySet:f,isForceHiddenExpandIcon:C}=Une(e,i),v=R(()=>{var le;return((le=e.props)==null?void 0:le.value)||Rc.KEY}),y=R(()=>{var le;return((le=e.props)==null?void 0:le.children)||Rc.CHILDREN}),w=R(()=>{var le;return((le=e.props)==null?void 0:le.disabled)||Rc.DISABLED}),b=R(()=>{var le;return((le=e.props)==null?void 0:le.label)||Rc.LABEL}),T=R(()=>{const le=s.value,Fe=f.value,pe=[],be=i.value&&i.value.treeNodes||[];function Le(){const X=[];for(let ie=be.length-1;ie>=0;--ie)X.push(be[ie]);for(;X.length;){const ie=X.pop();if(ie&&(Fe.has(ie.key)||pe.push(ie),le.has(ie.key))){const Ce=ie.children;if(Ce){const Re=Ce.length;for(let he=Re-1;he>=0;--he)X.push(Ce[he])}}}}return Le(),pe}),E=R(()=>T.value.length>0);function P(le){const Fe=new Map,pe=new Map;let be=1;function Le(ie,Ce=1,Re=void 0){var he;const Se=[];for(const Te of ie){const De=x(Te),ye={level:Ce,key:De,data:Te};ye.label=G(Te),ye.parent=Re;const Ae=N(Te);ye.disabled=F(Te),ye.isLeaf=!Ae||Ae.length===0,Ae&&Ae.length&&(ye.children=Le(Ae,Ce+1,ye)),Se.push(ye),Fe.set(De,ye),pe.has(Ce)||pe.set(Ce,[]),(he=pe.get(Ce))==null||he.push(ye)}return Ce>be&&(be=Ce),Se}const X=Le(le);return{treeNodeMap:Fe,levelTreeNodeMap:pe,maxLevel:be,treeNodes:X}}function A(le){const Fe=m(le);Fe&&(s.value=Fe)}function N(le){return le[y.value]}function x(le){return le?le[v.value]:""}function F(le){return le[w.value]}function G(le){return le[b.value]}function K(le){s.value.has(le.key)?_(le):V(le)}function z(le){s.value=new Set(le)}function W(le,Fe){t(dM,le.data,le,Fe),k(le),e.expandOnClickNode&&K(le),e.showCheckbox&&e.checkOnClickNode&&!le.disabled&&l(le,!r(le),!0)}function k(le){Q(le)||(n.value=le.key,t(fM,le.data,le))}function I(le,Fe){l(le,Fe)}function V(le){const Fe=s.value;if(i.value&&e.accordion){const{treeNodeMap:pe}=i.value;Fe.forEach(be=>{const Le=pe.get(be);le&&le.level===(Le==null?void 0:Le.level)&&Fe.delete(be)})}Fe.add(le.key),t(hM,le.data,le)}function _(le){s.value.delete(le.key),t(pM,le.data,le)}function B(le){return s.value.has(le.key)}function Y(le){return!!le.disabled}function Q(le){const Fe=n.value;return Fe!==void 0&&Fe===le.key}function ee(){var le,Fe;if(n.value)return(Fe=(le=i.value)==null?void 0:le.treeNodeMap.get(n.value))==null?void 0:Fe.data}function ce(){return n.value}function Ee(le){n.value=le}function te(le){Xe(()=>i.value=P(le))}function ue(le){var Fe;const pe=yt(le)?x(le):le;return(Fe=i.value)==null?void 0:Fe.treeNodeMap.get(pe)}return{tree:i,flattenTree:T,isNotEmpty:E,getKey:x,getChildren:N,toggleExpand:K,toggleCheckbox:l,isExpanded:B,isChecked:r,isIndeterminate:o,isDisabled:Y,isCurrent:Q,isForceHiddenExpandIcon:C,handleNodeClick:W,handleNodeCheck:I,getCurrentNode:ee,getCurrentKey:ce,setCurrentKey:Ee,getCheckedKeys:a,getCheckedNodes:c,getHalfCheckedKeys:h,getHalfCheckedNodes:d,setChecked:p,setCheckedKeys:g,filter:A,setData:te,getNode:ue,expandNode:V,collapseNode:_,setExpandedKeys:z}}var jne=j({name:"ElTreeNodeContent",props:Bne,setup(e){const t=Be(hb),s=we("tree");return()=>{const n=e.node,{data:i}=n;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:n,data:i}):Qe("span",{class:s.be("node","label")},[n==null?void 0:n.label])}}});const Yne=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],qne=j({name:"ElTreeNode"}),Xne=j({...qne,props:Hne,emits:Wne,setup(e,{emit:t}){const s=e,n=Be(hb),i=we("tree"),o=R(()=>{var d;return(d=n==null?void 0:n.props.indent)!=null?d:16}),r=R(()=>{var d;return(d=n==null?void 0:n.props.icon)!=null?d:AA}),l=d=>{t("click",s.node,d)},a=()=>{t("toggle",s.node)},c=d=>{t("check",s.node,d)},h=d=>{var p,g,m,f;(m=(g=(p=n==null?void 0:n.instance)==null?void 0:p.vnode)==null?void 0:g.props)!=null&&m.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),n==null||n.ctx.emit(vM,d,(f=s.node)==null?void 0:f.data,s.node)};return(d,p)=>{var g,m,f;return D(),$("div",{ref:"node$",class:O([u(i).b("node"),u(i).is("expanded",d.expanded),u(i).is("current",d.current),u(i).is("focusable",!d.disabled),u(i).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(g=d.node)==null?void 0:g.key,onClick:st(l,["stop"]),onContextmenu:h},[U("div",{class:O(u(i).be("node","content")),style:je({paddingLeft:`${(d.node.level-1)*u(o)}px`,height:d.itemSize+"px"})},[u(r)?(D(),re(u(Ue),{key:0,class:O([u(i).is("leaf",!!((m=d.node)!=null&&m.isLeaf)),u(i).is("hidden",d.hiddenExpandIcon),{expanded:!((f=d.node)!=null&&f.isLeaf)&&d.expanded},u(i).be("node","expand-icon")]),onClick:st(a,["stop"])},{default:Z(()=>[(D(),re(Ct(u(r))))]),_:1},8,["class","onClick"])):se("v-if",!0),d.showCheckbox?(D(),re(u(Ai),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:c,onClick:p[0]||(p[0]=st(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):se("v-if",!0),q(u(jne),{node:d.node},null,8,["node"])],6)],42,Yne)}}});var Qne=_e(Xne,[["__file","tree-node.vue"]]);const Zne=j({name:"ElTreeV2"}),Jne=j({...Zne,props:Vne,emits:$ne,setup(e,{expose:t,emit:s}){const n=e,i=Ys(),o=R(()=>n.itemSize);Et(hb,{ctx:{emit:s,slots:i},props:n,instance:ct()}),Et(vo,void 0);const{t:r}=Ft(),l=we("tree"),{flattenTree:a,isNotEmpty:c,toggleExpand:h,isExpanded:d,isIndeterminate:p,isChecked:g,isDisabled:m,isCurrent:f,isForceHiddenExpandIcon:C,handleNodeClick:v,handleNodeCheck:y,toggleCheckbox:w,getCurrentNode:b,getCurrentKey:T,setCurrentKey:E,getCheckedKeys:P,getCheckedNodes:A,getHalfCheckedKeys:N,getHalfCheckedNodes:x,setChecked:F,setCheckedKeys:G,filter:K,setData:z,getNode:W,expandNode:k,collapseNode:I,setExpandedKeys:V}=Kne(n,s);return t({toggleCheckbox:w,getCurrentNode:b,getCurrentKey:T,setCurrentKey:E,getCheckedKeys:P,getCheckedNodes:A,getHalfCheckedKeys:N,getHalfCheckedNodes:x,setChecked:F,setCheckedKeys:G,filter:K,setData:z,getNode:W,expandNode:k,collapseNode:I,setExpandedKeys:V}),(_,B)=>{var Y;return D(),$("div",{class:O([u(l).b(),{[u(l).m("highlight-current")]:_.highlightCurrent}]),role:"tree"},[u(c)?(D(),re(u(S_),{key:0,"class-name":u(l).b("virtual-list"),data:u(a),total:u(a).length,height:_.height,"item-size":u(o),"perf-mode":_.perfMode},{default:Z(({data:Q,index:ee,style:ce})=>[(D(),re(Qne,{key:Q[ee].key,style:je(ce),node:Q[ee],expanded:u(d)(Q[ee]),"show-checkbox":_.showCheckbox,checked:u(g)(Q[ee]),indeterminate:u(p)(Q[ee]),"item-size":u(o),disabled:u(m)(Q[ee]),current:u(f)(Q[ee]),"hidden-expand-icon":u(C)(Q[ee]),onClick:u(v),onToggle:u(h),onCheck:u(y)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(D(),$("div",{key:1,class:O(u(l).e("empty-block"))},[U("span",{class:O(u(l).e("empty-text"))},Me((Y=_.emptyText)!=null?Y:u(r)("el.tree.emptyText")),3)],2))],2)}}});var eie=_e(Jne,[["__file","tree.vue"]]);const tie=ft(eie),CM=Symbol("uploadContextKey"),sie="ElUpload";class nie extends Error{constructor(t,s,n,i){super(t),this.name="UploadAjaxError",this.status=s,this.method=n,this.url=i}}function VR(e,t,s){let n;return s.response?n=`${s.response.error||s.response}`:s.responseText?n=`${s.responseText}`:n=`fail to ${t.method} ${e} ${s.status}`,new nie(n,s.status,t.method,e)}function iie(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const oie=e=>{typeof XMLHttpRequest>"u"&&Ns(sie,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,s=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const r=o;r.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(r)});const n=new FormData;if(e.data)for(const[o,r]of Object.entries(e.data))ke(r)&&r.length?n.append(o,...r):n.append(o,r);n.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(VR(s,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(VR(s,e,t));e.onSuccess(iie(t))}),t.open(e.method,s,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const i=e.headers||{};if(i instanceof Headers)i.forEach((o,r)=>t.setRequestHeader(r,o));else for(const[o,r]of Object.entries(i))Is(r)||t.setRequestHeader(o,String(r));return t.send(n),t},yM=["text","picture","picture-card"];let rie=1;const IC=()=>Date.now()+rie++,wM=Oe({action:{type:String,default:"#"},headers:{type:J(Object)},method:{type:String,default:"post"},data:{type:J([Object,Function,Promise]),default:()=>ds({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:J(Array),default:()=>ds([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:yM,default:"text"},httpRequest:{type:J(Function),default:oie},disabled:Boolean,limit:Number}),lie=Oe({...wM,beforeUpload:{type:J(Function),default:$t},beforeRemove:{type:J(Function)},onRemove:{type:J(Function),default:$t},onChange:{type:J(Function),default:$t},onPreview:{type:J(Function),default:$t},onSuccess:{type:J(Function),default:$t},onProgress:{type:J(Function),default:$t},onError:{type:J(Function),default:$t},onExceed:{type:J(Function),default:$t},crossorigin:{type:J(String)}}),aie=Oe({files:{type:J(Array),default:()=>ds([])},disabled:{type:Boolean,default:!1},handlePreview:{type:J(Function),default:$t},listType:{type:String,values:yM,default:"text"},crossorigin:{type:J(String)}}),uie={remove:e=>!!e},cie=["onKeydown"],die=["src","crossorigin"],hie=["onClick"],pie=["title"],fie=["onClick"],gie=["onClick"],mie=j({name:"ElUploadList"}),vie=j({...mie,props:aie,emits:uie,setup(e,{emit:t}){const s=e,{t:n}=Ft(),i=we("upload"),o=we("icon"),r=we("list"),l=Wn(),a=L(!1),c=R(()=>[i.b("list"),i.bm("list",s.listType),i.is("disabled",s.disabled)]),h=d=>{t("remove",d)};return(d,p)=>(D(),re(RD,{tag:"ul",class:O(u(c)),name:u(r).b()},{default:Z(()=>[(D(!0),$(qe,null,Dt(d.files,g=>(D(),$("li",{key:g.uid||g.name,class:O([u(i).be("list","item"),u(i).is(g.status),{focusing:a.value}]),tabindex:"0",onKeydown:Ut(m=>!u(l)&&h(g),["delete"]),onFocus:p[0]||(p[0]=m=>a.value=!0),onBlur:p[1]||(p[1]=m=>a.value=!1),onClick:p[2]||(p[2]=m=>a.value=!1)},[ae(d.$slots,"default",{file:g},()=>[d.listType==="picture"||g.status!=="uploading"&&d.listType==="picture-card"?(D(),$("img",{key:0,class:O(u(i).be("list","item-thumbnail")),src:g.url,crossorigin:d.crossorigin,alt:""},null,10,die)):se("v-if",!0),g.status==="uploading"||d.listType!=="picture-card"?(D(),$("div",{key:1,class:O(u(i).be("list","item-info"))},[U("a",{class:O(u(i).be("list","item-name")),onClick:st(m=>d.handlePreview(g),["prevent"])},[q(u(Ue),{class:O(u(o).m("document"))},{default:Z(()=>[q(u(AB))]),_:1},8,["class"]),U("span",{class:O(u(i).be("list","item-file-name")),title:g.name},Me(g.name),11,pie)],10,hie),g.status==="uploading"?(D(),re(u(p_),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:je(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):se("v-if",!0)],2)):se("v-if",!0),U("label",{class:O(u(i).be("list","item-status-label"))},[d.listType==="text"?(D(),re(u(Ue),{key:0,class:O([u(o).m("upload-success"),u(o).m("circle-check")])},{default:Z(()=>[q(u(ew))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(D(),re(u(Ue),{key:1,class:O([u(o).m("upload-success"),u(o).m("check")])},{default:Z(()=>[q(u(sh))]),_:1},8,["class"])):se("v-if",!0)],2),u(l)?se("v-if",!0):(D(),re(u(Ue),{key:2,class:O(u(o).m("close")),onClick:m=>h(g)},{default:Z(()=>[q(u(zi))]),_:2},1032,["class","onClick"])),se(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),se(" This is a bug which needs to be fixed "),se(" TODO: Fix the incorrect navigation interaction "),u(l)?se("v-if",!0):(D(),$("i",{key:3,class:O(u(o).m("close-tip"))},Me(u(n)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(D(),$("span",{key:4,class:O(u(i).be("list","item-actions"))},[U("span",{class:O(u(i).be("list","item-preview")),onClick:m=>d.handlePreview(g)},[q(u(Ue),{class:O(u(o).m("zoom-in"))},{default:Z(()=>[q(u(MA))]),_:1},8,["class"])],10,fie),u(l)?se("v-if",!0):(D(),$("span",{key:0,class:O(u(i).be("list","item-delete")),onClick:m=>h(g)},[q(u(Ue),{class:O(u(o).m("delete"))},{default:Z(()=>[q(u(TB))]),_:1},8,["class"])],10,gie))],2)):se("v-if",!0)])],42,cie))),128)),ae(d.$slots,"append")]),_:3},8,["class","name"]))}});var HR=_e(vie,[["__file","upload-list.vue"]]);const Cie=Oe({disabled:{type:Boolean,default:!1}}),yie={file:e=>ke(e)},wie=["onDrop","onDragover"],bM="ElUploadDrag",bie=j({name:bM}),Sie=j({...bie,props:Cie,emits:yie,setup(e,{emit:t}){Be(CM)||Ns(bM,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=we("upload"),i=L(!1),o=Wn(),r=a=>{if(o.value)return;i.value=!1,a.stopPropagation();const c=Array.from(a.dataTransfer.files);t("file",c)},l=()=>{o.value||(i.value=!0)};return(a,c)=>(D(),$("div",{class:O([u(n).b("dragger"),u(n).is("dragover",i.value)]),onDrop:st(r,["prevent"]),onDragover:st(l,["prevent"]),onDragleave:c[0]||(c[0]=st(h=>i.value=!1,["prevent"]))},[ae(a.$slots,"default")],42,wie))}});var Eie=_e(Sie,[["__file","upload-dragger.vue"]]);const Rie=Oe({...wM,beforeUpload:{type:J(Function),default:$t},onRemove:{type:J(Function),default:$t},onStart:{type:J(Function),default:$t},onSuccess:{type:J(Function),default:$t},onProgress:{type:J(Function),default:$t},onError:{type:J(Function),default:$t},onExceed:{type:J(Function),default:$t}}),Tie=["onKeydown"],Die=["name","multiple","accept"],Aie=j({name:"ElUploadContent",inheritAttrs:!1}),Pie=j({...Aie,props:Rie,setup(e,{expose:t}){const s=e,n=we("upload"),i=Wn(),o=ts({}),r=ts(),l=f=>{if(f.length===0)return;const{autoUpload:C,limit:v,fileList:y,multiple:w,onStart:b,onExceed:T}=s;if(v&&y.length+f.length>v){T(f,y);return}w||(f=f.slice(0,1));for(const E of f){const P=E;P.uid=IC(),b(P),C&&a(P)}},a=async f=>{if(r.value.value="",!s.beforeUpload)return h(f);let C,v={};try{const w=s.data,b=s.beforeUpload(f);v=Yp(s.data)?lf(s.data):s.data,C=await b,Yp(s.data)&&un(w,v)&&(v=lf(s.data))}catch{C=!1}if(C===!1){s.onRemove(f);return}let y=f;C instanceof Blob&&(C instanceof File?y=C:y=new File([C],f.name,{type:f.type})),h(Object.assign(y,{uid:f.uid}),v)},c=async(f,C)=>nt(f)?f(C):f,h=async(f,C)=>{const{headers:v,data:y,method:w,withCredentials:b,name:T,action:E,onProgress:P,onSuccess:A,onError:N,httpRequest:x}=s;try{C=await c(C??y,f)}catch{s.onRemove(f);return}const{uid:F}=f,G={headers:v||{},withCredentials:b,file:f,data:C,method:w,filename:T,action:E,onProgress:z=>{P(z,f)},onSuccess:z=>{A(z,f),delete o.value[F]},onError:z=>{N(z,f),delete o.value[F]}},K=x(G);o.value[F]=K,K instanceof Promise&&K.then(G.onSuccess,G.onError)},d=f=>{const C=f.target.files;C&&l(Array.from(C))},p=()=>{i.value||(r.value.value="",r.value.click())},g=()=>{p()};return t({abort:f=>{JH(o.value).filter(f?([v])=>String(f.uid)===v:()=>!0).forEach(([v,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[v]})},upload:a}),(f,C)=>(D(),$("div",{class:O([u(n).b(),u(n).m(f.listType),u(n).is("drag",f.drag)]),tabindex:"0",onClick:p,onKeydown:Ut(st(g,["self"]),["enter","space"])},[f.drag?(D(),re(Eie,{key:0,disabled:u(i),onFile:l},{default:Z(()=>[ae(f.$slots,"default")]),_:3},8,["disabled"])):ae(f.$slots,"default",{key:1}),U("input",{ref_key:"inputRef",ref:r,class:O(u(n).e("input")),name:f.name,multiple:f.multiple,accept:f.accept,type:"file",onChange:d,onClick:C[0]||(C[0]=st(()=>{},["stop"]))},null,42,Die)],42,Tie))}});var BR=_e(Pie,[["__file","upload-content.vue"]]);const $R="ElUpload",WR=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Oie=(e,t)=>{const s=xD(e,"fileList",void 0,{passive:!0}),n=p=>s.value.find(g=>g.uid===p.uid);function i(p){var g;(g=t.value)==null||g.abort(p)}function o(p=["ready","uploading","success","fail"]){s.value=s.value.filter(g=>!p.includes(g.status))}const r=(p,g)=>{const m=n(g);m&&(console.error(p),m.status="fail",s.value.splice(s.value.indexOf(m),1),e.onError(p,m,s.value),e.onChange(m,s.value))},l=(p,g)=>{const m=n(g);m&&(e.onProgress(p,m,s.value),m.status="uploading",m.percentage=Math.round(p.percent))},a=(p,g)=>{const m=n(g);m&&(m.status="success",m.response=p,e.onSuccess(p,m,s.value),e.onChange(m,s.value))},c=p=>{Is(p.uid)&&(p.uid=IC());const g={name:p.name,percentage:0,status:"ready",size:p.size,raw:p,uid:p.uid};if(e.listType==="picture-card"||e.listType==="picture")try{g.url=URL.createObjectURL(p)}catch(m){m.message,e.onError(m,g,s.value)}s.value=[...s.value,g],e.onChange(g,s.value)},h=async p=>{const g=p instanceof File?n(p):p;g||Ns($R,"file to be removed not found");const m=f=>{i(f);const C=s.value;C.splice(C.indexOf(f),1),e.onRemove(f,C),WR(f)};e.beforeRemove?await e.beforeRemove(g,s.value)!==!1&&m(g):m(g)};function d(){s.value.filter(({status:p})=>p==="ready").forEach(({raw:p})=>{var g;return p&&((g=t.value)==null?void 0:g.upload(p))})}return ve(()=>e.listType,p=>{p!=="picture-card"&&p!=="picture"||(s.value=s.value.map(g=>{const{raw:m,url:f}=g;if(!f&&m)try{g.url=URL.createObjectURL(m)}catch(C){e.onError(C,g,s.value)}return g}))}),ve(s,p=>{for(const g of p)g.uid||(g.uid=IC()),g.status||(g.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:i,clearFiles:o,handleError:r,handleProgress:l,handleStart:c,handleSuccess:a,handleRemove:h,submit:d,revokeFileObjectURL:WR}},_ie=j({name:"ElUpload"}),Mie=j({..._ie,props:lie,setup(e,{expose:t}){const s=e,n=Wn(),i=ts(),{abort:o,submit:r,clearFiles:l,uploadFiles:a,handleStart:c,handleError:h,handleRemove:d,handleSuccess:p,handleProgress:g,revokeFileObjectURL:m}=Oie(s,i),f=R(()=>s.listType==="picture-card"),C=R(()=>({...s,fileList:a.value,onStart:c,onProgress:g,onSuccess:p,onError:h,onRemove:d}));return Jt(()=>{a.value.forEach(m)}),Et(CM,{accept:Yt(s,"accept")}),t({abort:o,submit:r,clearFiles:l,handleStart:c,handleRemove:d}),(v,y)=>(D(),$("div",null,[u(f)&&v.showFileList?(D(),re(HR,{key:0,disabled:u(n),"list-type":v.listType,files:u(a),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:u(d)},Bo({append:Z(()=>[q(BR,bt({ref_key:"uploadRef",ref:i},u(C)),{default:Z(()=>[v.$slots.trigger?ae(v.$slots,"trigger",{key:0}):se("v-if",!0),!v.$slots.trigger&&v.$slots.default?ae(v.$slots,"default",{key:1}):se("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:Z(({file:w})=>[ae(v.$slots,"file",{file:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):se("v-if",!0),!u(f)||u(f)&&!v.showFileList?(D(),re(BR,bt({key:1,ref_key:"uploadRef",ref:i},u(C)),{default:Z(()=>[v.$slots.trigger?ae(v.$slots,"trigger",{key:0}):se("v-if",!0),!v.$slots.trigger&&v.$slots.default?ae(v.$slots,"default",{key:1}):se("v-if",!0)]),_:3},16)):se("v-if",!0),v.$slots.trigger?ae(v.$slots,"default",{key:2}):se("v-if",!0),ae(v.$slots,"tip"),!u(f)&&v.showFileList?(D(),re(HR,{key:3,disabled:u(n),"list-type":v.listType,files:u(a),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:u(d)},Bo({_:2},[v.$slots.file?{name:"default",fn:Z(({file:w})=>[ae(v.$slots,"file",{file:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):se("v-if",!0)]))}});var Iie=_e(Mie,[["__file","upload.vue"]]);const Fie=ft(Iie),Lie=Oe({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:J([String,Array]),default:"Element Plus"},font:{type:J(Object)},gap:{type:J(Array),default:()=>[100,100]},offset:{type:J(Array)}});function Nie(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function xie(e){return Object.keys(e).map(t=>`${Nie(t)}: ${e[t]};`).join(" ")}function kie(){return window.devicePixelRatio||1}const Gie=(e,t)=>{let s=!1;return e.removedNodes.length&&t&&(s=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(s=!0),s},SM=3;function Xm(e,t,s=1){const n=document.createElement("canvas"),i=n.getContext("2d"),o=e*s,r=t*s;return n.setAttribute("width",`${o}px`),n.setAttribute("height",`${r}px`),i.save(),[i,n,o,r]}function Vie(){function e(t,s,n,i,o,r,l,a){const[c,h,d,p]=Xm(i,o,n);if(t instanceof HTMLImageElement)c.drawImage(t,0,0,d,p);else{const{color:Y,fontSize:Q,fontStyle:ee,fontWeight:ce,fontFamily:Ee,textAlign:te,textBaseline:ue}=r,le=Number(Q)*n;c.font=`${ee} normal ${ce} ${le}px/${o}px ${Ee}`,c.fillStyle=Y,c.textAlign=te,c.textBaseline=ue;const Fe=Array.isArray(t)?t:[t];Fe==null||Fe.forEach((pe,be)=>{c.fillText(pe??"",d/2,be*(le+SM*n))})}const g=Math.PI/180*Number(s),m=Math.max(i,o),[f,C,v]=Xm(m,m,n);f.translate(v/2,v/2),f.rotate(g),d>0&&p>0&&f.drawImage(h,-d/2,-p/2);function y(Y,Q){const ee=Y*Math.cos(g)-Q*Math.sin(g),ce=Y*Math.sin(g)+Q*Math.cos(g);return[ee,ce]}let w=0,b=0,T=0,E=0;const P=d/2,A=p/2;[[0-P,0-A],[0+P,0-A],[0+P,0+A],[0-P,0+A]].forEach(([Y,Q])=>{const[ee,ce]=y(Y,Q);w=Math.min(w,ee),b=Math.max(b,ee),T=Math.min(T,ce),E=Math.max(E,ce)});const x=w+v/2,F=T+v/2,G=b-w,K=E-T,z=l*n,W=a*n,k=(G+z)*2,I=K+W,[V,_]=Xm(k,I);function B(Y=0,Q=0){V.drawImage(C,x,F,G,K,Y,Q,G,K)}return B(),B(G+z,-K/2-W/2),B(G+z,+K/2+W/2),[_.toDataURL(),k/n,I/n]}return e}const Hie=j({name:"ElWatermark"}),Bie=j({...Hie,props:Lie,setup(e){const t=e,s={position:"relative"},n=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.color)!=null?F:"rgba(0,0,0,.15)"}),i=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.fontSize)!=null?F:16}),o=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.fontWeight)!=null?F:"normal"}),r=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.fontStyle)!=null?F:"normal"}),l=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.fontFamily)!=null?F:"sans-serif"}),a=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.textAlign)!=null?F:"center"}),c=R(()=>{var x,F;return(F=(x=t.font)==null?void 0:x.textBaseline)!=null?F:"top"}),h=R(()=>t.gap[0]),d=R(()=>t.gap[1]),p=R(()=>h.value/2),g=R(()=>d.value/2),m=R(()=>{var x,F;return(F=(x=t.offset)==null?void 0:x[0])!=null?F:p.value}),f=R(()=>{var x,F;return(F=(x=t.offset)==null?void 0:x[1])!=null?F:g.value}),C=()=>{const x={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let F=m.value-p.value,G=f.value-g.value;return F>0&&(x.left=`${F}px`,x.width=`calc(100% - ${F}px)`,F=0),G>0&&(x.top=`${G}px`,x.height=`calc(100% - ${G}px)`,G=0),x.backgroundPosition=`${F}px ${G}px`,x},v=ts(null),y=ts(),w=L(!1),b=()=>{y.value&&(y.value.remove(),y.value=void 0)},T=(x,F)=>{var G;v.value&&y.value&&(w.value=!0,y.value.setAttribute("style",xie({...C(),backgroundImage:`url('${x}')`,backgroundSize:`${Math.floor(F)}px`})),(G=v.value)==null||G.append(y.value),setTimeout(()=>{w.value=!1}))},E=x=>{let F=120,G=64;const K=t.image,z=t.content,W=t.width,k=t.height;if(!K&&x.measureText){x.font=`${Number(i.value)}px ${l.value}`;const I=Array.isArray(z)?z:[z],V=I.map(_=>{const B=x.measureText(_);return[B.width,B.fontBoundingBoxAscent!==void 0?B.fontBoundingBoxAscent+B.fontBoundingBoxDescent:B.actualBoundingBoxAscent+B.actualBoundingBoxDescent]});F=Math.ceil(Math.max(...V.map(_=>_[0]))),G=Math.ceil(Math.max(...V.map(_=>_[1])))*I.length+(I.length-1)*SM}return[W??F,k??G]},P=Vie(),A=()=>{const F=document.createElement("canvas").getContext("2d"),G=t.image,K=t.content,z=t.rotate;if(F){y.value||(y.value=document.createElement("div"));const W=kie(),[k,I]=E(F),V=_=>{const[B,Y]=P(_||"",z,W,k,I,{color:n.value,fontSize:i.value,fontStyle:r.value,fontWeight:o.value,fontFamily:l.value,textAlign:a.value,textBaseline:c.value},h.value,d.value);T(B,Y)};if(G){const _=new Image;_.onload=()=>{V(_)},_.onerror=()=>{V(K)},_.crossOrigin="anonymous",_.referrerPolicy="no-referrer",_.src=G}else V(K)}};return at(()=>{A()}),ve(()=>t,()=>{A()},{deep:!0,flush:"post"}),Jt(()=>{b()}),ND(v,x=>{w.value||x.forEach(F=>{Gie(F,y.value)&&(b(),A())})},{attributes:!0,subtree:!0,childList:!0}),(x,F)=>(D(),$("div",{ref_key:"containerRef",ref:v,style:je([s])},[ae(x.$slots,"default")],4))}});var $ie=_e(Bie,[["__file","watermark.vue"]]);const Wie=ft($ie),zie=Oe({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:J(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Uie=(e,t,s,n,i)=>{const o=L(null),r=()=>{let d;return rt(e.value)?d=document.querySelector(e.value):nt(e.value)?d=e.value():d=e.value,d},l=()=>{const d=r();if(!d||!t.value){o.value=null;return}!Kie(d)&&t.value&&d.scrollIntoView(i.value);const{left:p,top:g,width:m,height:f}=d.getBoundingClientRect();o.value={left:p,top:g,width:m,height:f,radius:0}};at(()=>{ve([t,e],()=>{l()},{immediate:!0}),window.addEventListener("resize",l)}),Jt(()=>{window.removeEventListener("resize",l)});const a=d=>{var p;return(p=ke(s.value.offset)?s.value.offset[d]:s.value.offset)!=null?p:6},c=R(()=>{var d;if(!o.value)return o.value;const p=a(0),g=a(1),m=((d=s.value)==null?void 0:d.radius)||2;return{left:o.value.left-p,top:o.value.top-g,width:o.value.width+p*2,height:o.value.height+g*2,radius:m}}),h=R(()=>{const d=r();return!n.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var p,g,m,f;return window.DOMRect.fromRect({width:((p=c.value)==null?void 0:p.width)||0,height:((g=c.value)==null?void 0:g.height)||0,x:((m=c.value)==null?void 0:m.left)||0,y:((f=c.value)==null?void 0:f.top)||0})}}});return{mergedPosInfo:c,triggerTarget:h}},Ig=Symbol("ElTour");function Kie(e){const t=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,{top:n,right:i,bottom:o,left:r}=e.getBoundingClientRect();return n>=0&&r>=0&&i<=t&&o<=s}const jie=(e,t,s,n,i,o,r,l)=>{const a=L(),c=L(),h=L({}),d={x:a,y:c,placement:n,strategy:i,middlewareData:h},p=R(()=>{const v=[nP(u(o)),wz(),yz(),Yie()];return u(l)&&u(s)&&v.push(hP({element:u(s)})),v}),g=async()=>{if(!At)return;const v=u(e),y=u(t);if(!v||!y)return;const w=await pP(v,y,{placement:u(n),strategy:u(i),middleware:u(p)});pu(d).forEach(b=>{d[b].value=w[b]})},m=R(()=>{if(!u(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:u(r)};const{overflow:v}=u(h);return{position:u(i),zIndex:u(r),top:u(c)!=null?`${u(c)}px`:"",left:u(a)!=null?`${u(a)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),f=R(()=>{if(!u(l))return{};const{arrow:v}=u(h);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let C;return at(()=>{const v=u(e),y=u(t);v&&y&&(C=Cz(v,y,g)),sn(()=>{g()})}),Jt(()=>{C&&C()}),{update:g,contentStyle:m,arrowStyle:f}},Yie=()=>({name:"overflow",async fn(e){const t=await Sw(e);let s=0;return t.left>0&&(s=t.left),t.right>0&&(s=t.right),{data:{maxWidth:e.rects.floating.width-s}}}}),qie={style:{width:"100%",height:"100%"}},Xie=["d"],Qie=j({name:"ElTourMask",inheritAttrs:!1}),Zie=j({...Qie,props:zie,setup(e){const t=e,{ns:s}=Be(Ig),n=R(()=>{var l,a;return(a=(l=t.pos)==null?void 0:l.radius)!=null?a:2}),i=R(()=>{const l=n.value,a=`a${l},${l} 0 0 1`;return{topRight:`${a} ${l},${l}`,bottomRight:`${a} ${-l},${l}`,bottomLeft:`${a} ${-l},${-l}`,topLeft:`${a} ${l},${-l}`}}),o=R(()=>{const l=window.innerWidth,a=window.innerHeight,c=i.value,h=`M${l},0 L0,0 L0,${a} L${l},${a} L${l},0 Z`,d=n.value;return t.pos?`${h} M${t.pos.left+d},${t.pos.top} h${t.pos.width-d*2} ${c.topRight} v${t.pos.height-d*2} ${c.bottomRight} h${-t.pos.width+d*2} ${c.bottomLeft} v${-t.pos.height+d*2} ${c.topLeft} z`:h}),r=R(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return uw(Yt(t,"visible"),{ns:s}),(l,a)=>l.visible?(D(),$("div",bt({key:0,class:u(s).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:l.zIndex,pointerEvents:l.pos&&l.targetAreaClickable?"none":"auto"}},l.$attrs),[(D(),$("svg",qie,[U("path",{class:O(u(s).e("hollow")),style:je(u(r)),d:u(o)},null,14,Xie)]))],16)):se("v-if",!0)}});var Jie=_e(Zie,[["__file","mask.vue"]]);const eoe=["absolute","fixed"],toe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],pb=Oe({placement:{type:J(String),values:toe,default:"bottom"},reference:{type:J(Object),default:null},strategy:{type:J(String),values:eoe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),soe={close:()=>!0},noe=["data-side"],ioe=j({name:"ElTourContent"}),ooe=j({...ioe,props:pb,emits:soe,setup(e,{emit:t}){const s=e,n=L(s.placement),i=L(s.strategy),o=L(null),r=L(null);ve(()=>s.placement,()=>{n.value=s.placement});const{contentStyle:l,arrowStyle:a}=jie(Yt(s,"reference"),o,r,n,i,Yt(s,"offset"),Yt(s,"zIndex"),Yt(s,"showArrow")),c=R(()=>n.value.split("-")[0]),{ns:h}=Be(Ig),d=()=>{t("close")},p=g=>{g.detail.focusReason==="pointer"&&g.preventDefault()};return(g,m)=>(D(),$("div",{ref_key:"contentRef",ref:o,style:je(u(l)),class:O(u(h).e("content")),"data-side":u(c),tabindex:"-1"},[q(u(uh),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:d,onFocusoutPrevented:p},{default:Z(()=>[ae(g.$slots,"default")]),_:3},8,["focus-trap-el"]),g.showArrow?(D(),$("span",{key:0,ref_key:"arrowRef",ref:r,style:je(u(a)),class:O(u(h).e("arrow"))},null,6)):se("v-if",!0)],14,noe))}});var roe=_e(ooe,[["__file","content.vue"]]),loe=j({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:s}){let n=0;return()=>{var i,o;const r=(i=t.default)==null?void 0:i.call(t),l=[];let a=0;function c(h){ke(h)&&h.forEach(d=>{var p;((p=(d==null?void 0:d.type)||{})==null?void 0:p.name)==="ElTourStep"&&(l.push(d),a+=1)})}return r.length&&c(Or((o=r[0])==null?void 0:o.children)),n!==a&&(n=a,s("update-total",a)),l.length?l[e.current]:null}}});const aoe=Oe({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Kt},placement:pb.placement,contentStyle:{type:J([Object])},mask:{type:J([Boolean,Object]),default:!0},gap:{type:J(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:J([Boolean,Object]),default:()=>({block:"center"})},type:{type:J(String)},appendTo:{type:J([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),uoe={[vt]:e=>Os(e),"update:current":e=>tt(e),close:e=>tt(e),finish:()=>!0,change:e=>tt(e)},coe=j({name:"ElTour"}),doe=j({...coe,props:aoe,emits:uoe,setup(e,{emit:t}){const s=e,n=we("tour"),i=L(0),o=L(),r=xD(s,"current",t,{passive:!0}),l=R(()=>{var N;return(N=o.value)==null?void 0:N.target}),a=R(()=>[n.b(),C.value==="primary"?n.m("primary"):""]),c=R(()=>{var N;return((N=o.value)==null?void 0:N.placement)||s.placement}),h=R(()=>{var N,x;return(x=(N=o.value)==null?void 0:N.contentStyle)!=null?x:s.contentStyle}),d=R(()=>{var N,x;return(x=(N=o.value)==null?void 0:N.mask)!=null?x:s.mask}),p=R(()=>!!d.value&&s.modelValue),g=R(()=>Os(d.value)?void 0:d.value),m=R(()=>{var N,x;return!!l.value&&((x=(N=o.value)==null?void 0:N.showArrow)!=null?x:s.showArrow)}),f=R(()=>{var N,x;return(x=(N=o.value)==null?void 0:N.scrollIntoViewOptions)!=null?x:s.scrollIntoViewOptions}),C=R(()=>{var N,x;return(x=(N=o.value)==null?void 0:N.type)!=null?x:s.type}),{nextZIndex:v}=Yu(),y=v(),w=R(()=>{var N;return(N=s.zIndex)!=null?N:y}),{mergedPosInfo:b,triggerTarget:T}=Uie(l,Yt(s,"modelValue"),Yt(s,"gap"),d,f);ve(()=>s.modelValue,N=>{N||(r.value=0)});const E=()=>{s.closeOnPressEscape&&(t("update:modelValue",!1),t("close",r.value))},P=N=>{i.value=N},A=Ys();return Et(Ig,{currentStep:o,current:r,total:i,showClose:Yt(s,"showClose"),closeIcon:Yt(s,"closeIcon"),mergedType:C,ns:n,slots:A,updateModelValue(N){t("update:modelValue",N)},onClose(){t("close",r.value)},onFinish(){t("finish")},onChange(){t("change",r.value)}}),(N,x)=>{var F,G;return D(),$(qe,null,[(D(),re($u,{to:N.appendTo},[U("div",bt({class:u(a)},N.$attrs),[q(Jie,{visible:u(p),fill:(F=u(g))==null?void 0:F.color,style:je((G=u(g))==null?void 0:G.style),pos:u(b),"z-index":u(w),"target-area-clickable":N.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),N.modelValue?(D(),re(roe,{key:u(r),reference:u(T),placement:u(c),"show-arrow":u(m),"z-index":u(w),style:je(u(h)),onClose:E},{default:Z(()=>[q(u(loe),{current:u(r),onUpdateTotal:P},{default:Z(()=>[ae(N.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):se("v-if",!0)],16)],8,["to"])),se(" just for IDE "),se("v-if",!0)],64)}}});var hoe=_e(doe,[["__file","tour.vue"]]);const poe=Oe({target:{type:J([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Kt},showArrow:{type:Boolean,default:void 0},placement:pb.placement,mask:{type:J([Boolean,Object]),default:void 0},contentStyle:{type:J([Object])},prevButtonProps:{type:J(Object)},nextButtonProps:{type:J(Object)},scrollIntoViewOptions:{type:J([Boolean,Object]),default:void 0},type:{type:J(String)}}),foe={close:()=>!0},goe=j({name:"ElTourStep"}),moe=j({...goe,props:poe,emits:foe,setup(e,{emit:t}){const s=e,{Close:n}=nw,{t:i}=Ft(),{currentStep:o,current:r,total:l,showClose:a,closeIcon:c,mergedType:h,ns:d,slots:p,updateModelValue:g,onClose:m,onFinish:f,onChange:C}=Be(Ig);ve(s,A=>{o.value=A},{immediate:!0});const v=R(()=>{var A;return(A=s.showClose)!=null?A:a.value}),y=R(()=>{var A,N;return(N=(A=s.closeIcon)!=null?A:c.value)!=null?N:n}),w=A=>{if(A)return WH(A,["children","onClick"])},b=()=>{var A,N;r.value-=1,(A=s.prevButtonProps)!=null&&A.onClick&&((N=s.prevButtonProps)==null||N.onClick()),C()},T=()=>{var A;r.value>=l.value-1?E():r.value+=1,(A=s.nextButtonProps)!=null&&A.onClick&&s.nextButtonProps.onClick(),C()},E=()=>{P(),f()},P=()=>{g(!1),m(),t("close")};return(A,N)=>(D(),$(qe,null,[u(v)?(D(),$("button",{key:0,"aria-label":"Close",class:O(u(d).e("closebtn")),type:"button",onClick:P},[q(u(Ue),{class:O(u(d).e("close"))},{default:Z(()=>[(D(),re(Ct(u(y))))]),_:1},8,["class"])],2)):se("v-if",!0),U("header",{class:O([u(d).e("header"),{"show-close":u(a)}])},[ae(A.$slots,"header",{},()=>[U("span",{role:"heading",class:O(u(d).e("title"))},Me(A.title),3)])],2),U("div",{class:O(u(d).e("body"))},[ae(A.$slots,"default",{},()=>[U("span",null,Me(A.description),1)])],2),U("footer",{class:O(u(d).e("footer"))},[U("div",{class:O(u(d).b("indicators"))},[u(p).indicators?(D(),re(Ct(u(p).indicators),{key:0,current:u(r),total:u(l)},null,8,["current","total"])):(D(!0),$(qe,{key:1},Dt(u(l),(x,F)=>(D(),$("span",{key:x,class:O([u(d).b("indicator"),F===u(r)?"is-active":""])},null,2))),128))],2),U("div",{class:O(u(d).b("buttons"))},[u(r)>0?(D(),re(u(zs),bt({key:0,size:"small",type:u(h)},w(A.prevButtonProps),{onClick:b}),{default:Z(()=>{var x,F;return[_t(Me((F=(x=A.prevButtonProps)==null?void 0:x.children)!=null?F:u(i)("el.tour.previous")),1)]}),_:1},16,["type"])):se("v-if",!0),u(r)<=u(l)-1?(D(),re(u(zs),bt({key:1,size:"small",type:u(h)==="primary"?"default":"primary"},w(A.nextButtonProps),{onClick:T}),{default:Z(()=>{var x,F;return[_t(Me((F=(x=A.nextButtonProps)==null?void 0:x.children)!=null?F:u(r)===u(l)-1?u(i)("el.tour.finish"):u(i)("el.tour.next")),1)]}),_:1},16,["type"])):se("v-if",!0)],2)],2)],64))}});var EM=_e(moe,[["__file","step.vue"]]);const voe=ft(hoe,{TourStep:EM}),Coe=hs(EM),yoe=Oe({container:{type:J([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:J(String),default:"default"},direction:{type:J(String),default:"vertical"}}),woe={change:e=>rt(e),click:(e,t)=>e instanceof MouseEvent&&(rt(t)||Ps(t))},RM=Symbol("anchor"),boe=j({name:"ElAnchor"}),Soe=j({...boe,props:yoe,emits:woe,setup(e,{expose:t,emit:s}){const n=e,i=L(""),o=L(null),r=L(null),l=L(),a={};let c=!1,h=0;const d=we("anchor"),p=R(()=>[d.b(),n.type==="underline"?d.m("underline"):"",d.m(n.direction)]),g=A=>{a[A.href]=A.el},m=A=>{delete a[A]},f=A=>{i.value!==A&&(i.value=A,s("change",A))};let C=null;const v=A=>{if(!l.value)return;const N=zh(A);if(!N)return;C&&C(),c=!0;const x=ZE(N,l.value),F=Av(N,x),G=x.scrollHeight-x.clientHeight,K=Math.min(F-n.offset,G);C=sB(l.value,h,K,n.duration,()=>{setTimeout(()=>{c=!1},20)})},y=A=>{A&&(f(A),v(A))},w=(A,N)=>{s("click",A,N),y(N)},b=y$(()=>{l.value&&(h=JE(l.value));const A=T();c||Ps(A)||f(A)}),T=()=>{if(!l.value)return;const A=JE(l.value),N=[];for(const x of Object.keys(a)){const F=zh(x);if(!F)continue;const G=ZE(F,l.value),K=Av(F,G);N.push({top:K-n.offset-n.bound,href:x})}N.sort((x,F)=>x.top-F.top);for(let x=0;x<N.length;x++){const F=N[x],G=N[x+1];if(x===0&&A===0)return"";if(F.top<=A&&(!G||G.top>A))return F.href}},E=()=>{const A=zh(n.container);!A||pg(A)?l.value=window:l.value=A};ls(l,"scroll",b);const P=R(()=>{if(!o.value||!r.value||!i.value)return{};const A=a[i.value];if(!A)return{};const N=o.value.getBoundingClientRect(),x=r.value.getBoundingClientRect(),F=A.getBoundingClientRect();return n.direction==="horizontal"?{left:`${F.left-N.left}px`,width:`${F.width}px`,opacity:1}:{top:`${F.top-N.top+(F.height-x.height)/2}px`,opacity:1}});return at(()=>{E();const A=decodeURIComponent(window.location.hash);zh(A)?y(A):b()}),ve(()=>n.container,()=>{E()}),Et(RM,{ns:d,direction:n.direction,currentAnchor:i,addLink:g,removeLink:m,handleClick:w}),t({scrollTo:y}),(A,N)=>(D(),$("div",{ref_key:"anchorRef",ref:o,class:O(u(p))},[A.marker?(D(),$("div",{key:0,ref_key:"markerRef",ref:r,class:O(u(d).e("marker")),style:je(u(P))},null,6)):se("v-if",!0),U("div",{class:O(u(d).e("list"))},[ae(A.$slots,"default")],2)],2))}});var Eoe=_e(Soe,[["__file","anchor.vue"]]);const Roe=Oe({title:String,href:String}),Toe=["href"],Doe=j({name:"ElAnchorLink"}),Aoe=j({...Doe,props:Roe,setup(e){const t=e,s=L(null),{ns:n,direction:i,currentAnchor:o,addLink:r,removeLink:l,handleClick:a}=Be(RM),c=R(()=>[n.e("link"),n.is("active",o.value===t.href)]),h=d=>{a(d,t.href)};return ve(()=>t.href,(d,p)=>{Xe(()=>{p&&l(p),d&&r({href:d,el:s.value})})}),at(()=>{const{href:d}=t;d&&r({href:d,el:s.value})}),Jt(()=>{const{href:d}=t;d&&l(d)}),(d,p)=>(D(),$("div",{class:O(u(n).e("item"))},[U("a",{ref_key:"linkRef",ref:s,class:O(u(c)),href:d.href,onClick:h},[ae(d.$slots,"default",{},()=>[_t(Me(d.title),1)])],10,Toe),d.$slots["sub-link"]&&u(i)==="vertical"?(D(),$("div",{key:0,class:O(u(n).e("list"))},[ae(d.$slots,"sub-link")],2)):se("v-if",!0)],2))}});var TM=_e(Aoe,[["__file","anchor-link.vue"]]);const Poe=ft(Eoe,{AnchorLink:TM}),Ooe=hs(TM);var _oe=[Gz,qz,bU,Xte,PU,NU,MP,qU,XU,zs,GP,g6,w6,H6,B6,JK,VK,o5,Ai,oK,hO,v5,N5,x5,A5,hj,_z,Rj,Tj,Dj,Aj,Pj,Y9,oY,rY,SY,KO,xY,Aq,Pq,Oq,t_,$3,W3,Ue,b7,s_,an,n_,N7,tX,sX,nX,iX,dX,vQ,EQ,IQ,PP,p_,yO,bK,wK,qQ,eZ,h5,tr,Kl,mf,WX,VZ,jZ,YZ,RJ,OJ,I_,HJ,qJ,XJ,lee,dte,hte,qte,dse,hse,dd,vse,j8,Ese,Pse,Ose,hn,tne,mne,_ne,kne,tie,Fie,Wie,voe,Coe,Poe,Ooe];const xi="ElInfiniteScroll",Moe=50,Ioe=200,Foe=0,Loe={delay:{type:Number,default:Ioe},distance:{type:Number,default:Foe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},fb=(e,t)=>Object.entries(Loe).reduce((s,[n,i])=>{var o,r;const{type:l,default:a}=i,c=e.getAttribute(`infinite-scroll-${n}`);let h=(r=(o=t[c])!=null?o:c)!=null?r:a;return h=h==="false"?!1:h,h=l(h),s[n]=Number.isNaN(h)?a:h,s},{}),DM=e=>{const{observer:t}=e[xi];t&&(t.disconnect(),delete e[xi].observer)},Noe=(e,t)=>{const{container:s,containerEl:n,instance:i,observer:o,lastScrollTop:r}=e[xi],{disabled:l,distance:a}=fb(e,i),{clientHeight:c,scrollHeight:h,scrollTop:d}=n,p=d-r;if(e[xi].lastScrollTop=d,o||l||p<0)return;let g=!1;if(s===e)g=h-(c+d)<=a;else{const{clientTop:m,scrollHeight:f}=e,C=Av(e,n);g=d+c>=C+m+f-a}g&&t.call(i)};function Qm(e,t){const{containerEl:s,instance:n}=e[xi],{disabled:i}=fb(e,n);i||s.clientHeight===0||(s.scrollHeight<=s.clientHeight?t.call(n):DM(e))}const xoe={async mounted(e,t){const{instance:s,value:n}=t;nt(n)||Ns(xi,"'v-infinite-scroll' binding value must be a function"),await Xe();const{delay:i,immediate:o}=fb(e,s),r=Zy(e,!0),l=r===window?document.documentElement:r,a=Dl(Noe.bind(null,e,n),i);if(r){if(e[xi]={instance:s,container:r,containerEl:l,delay:i,cb:n,onScroll:a,lastScrollTop:l.scrollTop},o){const c=new MutationObserver(Dl(Qm.bind(null,e,n),Moe));e[xi].observer=c,c.observe(e,{childList:!0,subtree:!0}),Qm(e,n)}r.addEventListener("scroll",a)}},unmounted(e){const{container:t,onScroll:s}=e[xi];t==null||t.removeEventListener("scroll",s),DM(e)},async updated(e){if(!e[xi])await Xe();else{const{containerEl:t,cb:s,observer:n}=e[xi];t.clientHeight&&n&&Qm(e,s)}}},FC=xoe;FC.install=e=>{e.directive("InfiniteScroll",FC)};const koe=FC;function Goe(e){let t;const s=L(!1),n=Gt({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(p){n.text=p}function o(){const p=n.parent,g=d.ns;if(!p.vLoadingAddClassList){let m=p.getAttribute("loading-number");m=Number.parseInt(m)-1,m?p.setAttribute("loading-number",m.toString()):(cn(p,g.bm("parent","relative")),p.removeAttribute("loading-number")),cn(p,g.bm("parent","hidden"))}r(),h.unmount()}function r(){var p,g;(g=(p=d.$el)==null?void 0:p.parentNode)==null||g.removeChild(d.$el)}function l(){var p;e.beforeClose&&!e.beforeClose()||(s.value=!0,clearTimeout(t),t=window.setTimeout(a,400),n.visible=!1,(p=e.closed)==null||p.call(e))}function a(){if(!s.value)return;const p=n.parent;s.value=!1,p.vLoadingAddClassList=void 0,o()}const h=OD(j({name:"ElLoading",setup(p,{expose:g}){const{ns:m,zIndex:f}=Sg("loading");return g({ns:m,zIndex:f}),()=>{const C=n.spinner||n.svg,v=Qe("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...C?{innerHTML:C}:{}},[Qe("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=n.text?Qe("p",{class:m.b("text")},[n.text]):void 0;return Qe(Ls,{name:m.b("fade"),onAfterLeave:a},{default:Z(()=>[lt(q("div",{style:{backgroundColor:n.background||""},class:[m.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[Qe("div",{class:m.b("spinner")},[v,y])]),[[Lt,n.visible]])])})}}})),d=h.mount(document.createElement("div"));return{...Zs(n),setText:i,removeElLoadingChild:r,close:l,handleAfterLeave:a,vm:d,get $el(){return d.$el}}}let op;const LC=function(e={}){if(!At)return;const t=Voe(e);if(t.fullscreen&&op)return op;const s=Goe({...t,closed:()=>{var i;(i=t.closed)==null||i.call(t),t.fullscreen&&(op=void 0)}});Hoe(t,t.parent,s),zR(t,t.parent,s),t.parent.vLoadingAddClassList=()=>zR(t,t.parent,s);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(s.$el),Xe(()=>s.visible.value=t.visible),t.fullscreen&&(op=s),s},Voe=e=>{var t,s,n,i;let o;return rt(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((s=e.fullscreen)!=null?s:!0),lock:(n=e.lock)!=null?n:!1,customClass:e.customClass||"",visible:(i=e.visible)!=null?i:!0,target:o}},Hoe=async(e,t,s)=>{const{nextZIndex:n}=s.vm.zIndex||s.vm._.exposed.zIndex,i={};if(e.fullscreen)s.originalPosition.value=Er(document.body,"position"),s.originalOverflow.value=Er(document.body,"overflow"),i.zIndex=n();else if(e.parent===document.body){s.originalPosition.value=Er(document.body,"position"),await Xe();for(const o of["top","left"]){const r=o==="top"?"scrollTop":"scrollLeft";i[o]=`${e.target.getBoundingClientRect()[o]+document.body[r]+document.documentElement[r]-Number.parseInt(Er(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])i[o]=`${e.target.getBoundingClientRect()[o]}px`}else s.originalPosition.value=Er(t,"position");for(const[o,r]of Object.entries(i))s.$el.style[o]=r},zR=(e,t,s)=>{const n=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?cn(t,n.bm("parent","relative")):pi(t,n.bm("parent","relative")),e.fullscreen&&e.lock?pi(t,n.bm("parent","hidden")):cn(t,n.bm("parent","hidden"))},Vp=Symbol("ElLoading"),UR=(e,t)=>{var s,n,i,o;const r=t.instance,l=p=>yt(t.value)?t.value[p]:void 0,a=p=>{const g=rt(p)&&(r==null?void 0:r[p])||p;return g&&L(g)},c=p=>a(l(p)||e.getAttribute(`element-loading-${Ur(p)}`)),h=(s=l("fullscreen"))!=null?s:t.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:h,target:(n=l("target"))!=null?n:h?void 0:e,body:(i=l("body"))!=null?i:t.modifiers.body,lock:(o=l("lock"))!=null?o:t.modifiers.lock};e[Vp]={options:d,instance:LC(d)}},Boe=(e,t)=>{for(const s of Object.keys(t))ns(t[s])&&(t[s].value=e[s])},KR={mounted(e,t){t.value&&UR(e,t)},updated(e,t){const s=e[Vp];t.oldValue!==t.value&&(t.value&&!t.oldValue?UR(e,t):t.value&&t.oldValue?yt(t.value)&&Boe(t.value,s.options):s==null||s.instance.close())},unmounted(e){var t;(t=e[Vp])==null||t.instance.close(),e[Vp]=null}},$oe={install(e){e.directive("loading",KR),e.config.globalProperties.$loading=LC},directive:KR,service:LC},AM=["success","info","warning","error"],on=ds({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:At?document.body:void 0}),Woe=Oe({customClass:{type:String,default:on.customClass},center:{type:Boolean,default:on.center},dangerouslyUseHTMLString:{type:Boolean,default:on.dangerouslyUseHTMLString},duration:{type:Number,default:on.duration},icon:{type:Kt,default:on.icon},id:{type:String,default:on.id},message:{type:J([String,Object,Function]),default:on.message},onClose:{type:J(Function),default:on.onClose},showClose:{type:Boolean,default:on.showClose},type:{type:String,values:AM,default:on.type},plain:{type:Boolean,default:on.plain},offset:{type:Number,default:on.offset},zIndex:{type:Number,default:on.zIndex},grouping:{type:Boolean,default:on.grouping},repeatNum:{type:Number,default:on.repeatNum}}),zoe={destroy:()=>!0},Gi=IT([]),Uoe=e=>{const t=Gi.findIndex(i=>i.id===e),s=Gi[t];let n;return t>0&&(n=Gi[t-1]),{current:s,prev:n}},Koe=e=>{const{prev:t}=Uoe(e);return t?t.vm.exposed.bottom.value:0},joe=(e,t)=>Gi.findIndex(n=>n.id===e)>0?16:t,Yoe=["id"],qoe=["innerHTML"],Xoe=j({name:"ElMessage"}),Qoe=j({...Xoe,props:Woe,emits:zoe,setup(e,{expose:t}){const s=e,{Close:n}=iw,{ns:i,zIndex:o}=Sg("message"),{currentZIndex:r,nextZIndex:l}=o,a=L(),c=L(!1),h=L(0);let d;const p=R(()=>s.type?s.type==="error"?"danger":s.type:"info"),g=R(()=>{const P=s.type;return{[i.bm("icon",P)]:P&&kr[P]}}),m=R(()=>s.icon||kr[s.type]||""),f=R(()=>Koe(s.id)),C=R(()=>joe(s.id,s.offset)+f.value),v=R(()=>h.value+C.value),y=R(()=>({top:`${C.value}px`,zIndex:r.value}));function w(){s.duration!==0&&({stop:d}=Vl(()=>{T()},s.duration))}function b(){d==null||d()}function T(){c.value=!1}function E({code:P}){P===Ye.esc&&T()}return at(()=>{w(),l(),c.value=!0}),ve(()=>s.repeatNum,()=>{b(),w()}),ls(document,"keydown",E),fs(a,()=>{h.value=a.value.getBoundingClientRect().height}),t({visible:c,bottom:v,close:T}),(P,A)=>(D(),re(Ls,{name:u(i).b("fade"),onBeforeLeave:P.onClose,onAfterLeave:A[0]||(A[0]=N=>P.$emit("destroy")),persisted:""},{default:Z(()=>[lt(U("div",{id:P.id,ref_key:"messageRef",ref:a,class:O([u(i).b(),{[u(i).m(P.type)]:P.type},u(i).is("center",P.center),u(i).is("closable",P.showClose),u(i).is("plain",P.plain),P.customClass]),style:je(u(y)),role:"alert",onMouseenter:b,onMouseleave:w},[P.repeatNum>1?(D(),re(u(MP),{key:0,value:P.repeatNum,type:u(p),class:O(u(i).e("badge"))},null,8,["value","type","class"])):se("v-if",!0),u(m)?(D(),re(u(Ue),{key:1,class:O([u(i).e("icon"),u(g)])},{default:Z(()=>[(D(),re(Ct(u(m))))]),_:1},8,["class"])):se("v-if",!0),ae(P.$slots,"default",{},()=>[P.dangerouslyUseHTMLString?(D(),$(qe,{key:1},[se(" Caution here, message could've been compromised, never use user's input as message "),U("p",{class:O(u(i).e("content")),innerHTML:P.message},null,10,qoe)],2112)):(D(),$("p",{key:0,class:O(u(i).e("content"))},Me(P.message),3))]),P.showClose?(D(),re(u(Ue),{key:2,class:O(u(i).e("closeBtn")),onClick:st(T,["stop"])},{default:Z(()=>[q(u(n))]),_:1},8,["class","onClick"])):se("v-if",!0)],46,Yoe),[[Lt,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Zoe=_e(Qoe,[["__file","message.vue"]]);let Joe=1;const PM=e=>{const t=!e||rt(e)||us(e)||nt(e)?{message:e}:e,s={...on,...t};if(!s.appendTo)s.appendTo=document.body;else if(rt(s.appendTo)){let n=document.querySelector(s.appendTo);Ei(n)||(n=document.body),s.appendTo=n}return s},ere=e=>{const t=Gi.indexOf(e);if(t===-1)return;Gi.splice(t,1);const{handler:s}=e;s.close()},tre=({appendTo:e,...t},s)=>{const n=`message_${Joe++}`,i=t.onClose,o=document.createElement("div"),r={...t,id:n,onClose:()=>{i==null||i(),ere(h)},onDestroy:()=>{po(null,o)}},l=q(Zoe,r,nt(r.message)||us(r.message)?{default:nt(r.message)?r.message:()=>r.message}:null);l.appContext=s||Tu._context,po(l,o),e.appendChild(o.firstElementChild);const a=l.component,h={id:n,vnode:l,vm:a,handler:{close:()=>{a.exposed.visible.value=!1}},props:l.component.props};return h},Tu=(e={},t)=>{if(!At)return{close:()=>{}};if(tt(Vv.max)&&Gi.length>=Vv.max)return{close:()=>{}};const s=PM(e);if(s.grouping&&Gi.length){const i=Gi.find(({vnode:o})=>{var r;return((r=o.props)==null?void 0:r.message)===s.message});if(i)return i.props.repeatNum+=1,i.props.type=s.type,i.handler}const n=tre(s,t);return Gi.push(n),n.handler};AM.forEach(e=>{Tu[e]=(t={},s)=>{const n=PM(t);return Tu({...n,type:e},s)}});function sre(e){for(const t of Gi)(!e||e===t.props.type)&&t.handler.close()}Tu.closeAll=sre;Tu._context=null;const nre=FA(Tu,"$message"),ire=j({name:"ElMessageBox",directives:{TrapFocus:O8},components:{ElButton:zs,ElFocusTrap:uh,ElInput:an,ElOverlay:Hw,ElIcon:Ue,...iw},inheritAttrs:!1,props:{buttonSize:{type:String,validator:LA},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:s,zIndex:n,ns:i,size:o}=Sg("message-box",R(()=>e.buttonSize)),{t:r}=s,{nextZIndex:l}=n,a=L(!1),c=Gt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:l()}),h=R(()=>{const k=c.type;return{[i.bm("icon",k)]:k&&kr[k]}}),d=dn(),p=dn(),g=R(()=>c.icon||kr[c.type]||""),m=R(()=>!!c.message),f=L(),C=L(),v=L(),y=L(),w=L(),b=R(()=>c.confirmButtonClass);ve(()=>c.inputValue,async k=>{await Xe(),e.boxType==="prompt"&&k!==null&&G()},{immediate:!0}),ve(()=>a.value,k=>{var I,V;k&&(e.boxType!=="prompt"&&(c.autofocus?v.value=(V=(I=w.value)==null?void 0:I.$el)!=null?V:f.value:v.value=f.value),c.zIndex=l()),e.boxType==="prompt"&&(k?Xe().then(()=>{var _;y.value&&y.value.$el&&(c.autofocus?v.value=(_=K())!=null?_:f.value:v.value=f.value)}):(c.editorErrorMessage="",c.validateError=!1))});const T=R(()=>e.draggable),E=R(()=>e.overflow);NA(f,C,T,E),at(async()=>{await Xe(),e.closeOnHashChange&&window.addEventListener("hashchange",P)}),Jt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){a.value&&(a.value=!1,Xe(()=>{c.action&&t("action",c.action)}))}const A=()=>{e.closeOnClickModal&&F(c.distinguishCancelAndClose?"close":"cancel")},N=Cw(A),x=k=>{if(c.inputType!=="textarea")return k.preventDefault(),F("confirm")},F=k=>{var I;e.boxType==="prompt"&&k==="confirm"&&!G()||(c.action=k,c.beforeClose?(I=c.beforeClose)==null||I.call(c,k,c,P):P())},G=()=>{if(e.boxType==="prompt"){const k=c.inputPattern;if(k&&!k.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||r("el.messagebox.error"),c.validateError=!0,!1;const I=c.inputValidator;if(typeof I=="function"){const V=I(c.inputValue);if(V===!1)return c.editorErrorMessage=c.inputErrorMessage||r("el.messagebox.error"),c.validateError=!0,!1;if(typeof V=="string")return c.editorErrorMessage=V,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},K=()=>{const k=y.value.$refs;return k.input||k.textarea},z=()=>{F("close")},W=()=>{e.closeOnPressEscape&&z()};return e.lockScroll&&uw(a),{...Zs(c),ns:i,overlayEvent:N,visible:a,hasMessage:m,typeClass:h,contentId:d,inputId:p,btnSize:o,iconComponent:g,confirmButtonClasses:b,rootRef:f,focusStartRef:v,headerRef:C,inputRef:y,confirmRef:w,doClose:P,handleClose:z,onCloseRequested:W,handleWrapperClick:A,handleInputEnter:x,handleAction:F,t:r}}}),ore=["aria-label","aria-describedby"],rre=["aria-label"],lre=["id"];function are(e,t,s,n,i,o){const r=pt("el-icon"),l=pt("close"),a=pt("el-input"),c=pt("el-button"),h=pt("el-focus-trap"),d=pt("el-overlay");return D(),re(Ls,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=p=>e.$emit("vanish")),persisted:""},{default:Z(()=>[lt(q(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:Z(()=>[U("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:O(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...p)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...p)),onMousedown:t[9]||(t[9]=(...p)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...p)),onMouseup:t[10]||(t[10]=(...p)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...p))},[q(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Z(()=>[U("div",{ref:"rootRef",class:O([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:je(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=st(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(D(),$("div",{key:0,ref:"headerRef",class:O([e.ns.e("header"),{"show-close":e.showClose}])},[U("div",{class:O(e.ns.e("title"))},[e.iconComponent&&e.center?(D(),re(r,{key:0,class:O([e.ns.e("status"),e.typeClass])},{default:Z(()=>[(D(),re(Ct(e.iconComponent)))]),_:1},8,["class"])):se("v-if",!0),U("span",null,Me(e.title),1)],2),e.showClose?(D(),$("button",{key:0,type:"button",class:O(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Ut(st(p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[q(r,{class:O(e.ns.e("close"))},{default:Z(()=>[q(l)]),_:1},8,["class"])],42,rre)):se("v-if",!0)],2)):se("v-if",!0),U("div",{id:e.contentId,class:O(e.ns.e("content"))},[U("div",{class:O(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(D(),re(r,{key:0,class:O([e.ns.e("status"),e.typeClass])},{default:Z(()=>[(D(),re(Ct(e.iconComponent)))]),_:1},8,["class"])):se("v-if",!0),e.hasMessage?(D(),$("div",{key:1,class:O(e.ns.e("message"))},[ae(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(D(),re(Ct(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(D(),re(Ct(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:Z(()=>[_t(Me(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):se("v-if",!0)],2),lt(U("div",{class:O(e.ns.e("input"))},[q(a,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=p=>e.inputValue=p),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:O({invalid:e.validateError}),onKeydown:Ut(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),U("div",{class:O(e.ns.e("errormsg")),style:je({visibility:e.editorErrorMessage?"visible":"hidden"})},Me(e.editorErrorMessage),7)],2),[[Lt,e.showInput]])],10,lre),U("div",{class:O(e.ns.e("btns"))},[e.showCancelButton?(D(),re(c,{key:0,loading:e.cancelButtonLoading,class:O([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=p=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Ut(st(p=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:Z(()=>[_t(Me(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):se("v-if",!0),lt(q(c,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:O([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=p=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Ut(st(p=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:Z(()=>[_t(Me(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Lt,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,ore)]),_:3},8,["z-index","overlay-class","mask"]),[[Lt,e.visible]])]),_:3})}var ure=_e(ire,[["render",are],["__file","index.vue"]]);const wd=new Map,cre=e=>{let t=document.body;return e.appendTo&&(rt(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ei(e.appendTo)&&(t=e.appendTo),Ei(t)||(t=document.body)),t},dre=(e,t,s=null)=>{const n=q(ure,e,nt(e.message)||us(e.message)?{default:nt(e.message)?e.message:()=>e.message}:null);return n.appContext=s,po(n,t),cre(e).appendChild(t.firstElementChild),n.component},hre=()=>document.createElement("div"),pre=(e,t)=>{const s=hre();e.onVanish=()=>{po(null,s),wd.delete(i)},e.onAction=o=>{const r=wd.get(i);let l;e.showInput?l={value:i.inputValue,action:o}:l=o,e.callback?e.callback(l,n.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?r.reject("close"):r.reject("cancel"):r.resolve(l)};const n=dre(e,s,t),i=n.proxy;for(const o in e)Ot(e,o)&&!Ot(i.$props,o)&&(i[o]=e[o]);return i.visible=!0,i};function Xu(e,t=null){if(!At)return Promise.reject();let s;return rt(e)||us(e)?e={message:e}:s=e.callback,new Promise((n,i)=>{const o=pre(e,t??Xu._context);wd.set(o,{options:e,callback:s,resolve:n,reject:i})})}const fre=["alert","confirm","prompt"],gre={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};fre.forEach(e=>{Xu[e]=mre(e)});function mre(e){return(t,s,n,i)=>{let o="";return yt(s)?(n=s,o=""):Ps(s)?o="":o=s,Xu(Object.assign({title:o,message:t,type:"",...gre[e]},n,{boxType:e}),i)}}Xu.close=()=>{wd.forEach((e,t)=>{t.doClose()}),wd.clear()};Xu._context=null;const vr=Xu;vr.install=e=>{vr._context=e._context,e.config.globalProperties.$msgbox=vr,e.config.globalProperties.$messageBox=vr,e.config.globalProperties.$alert=vr.alert,e.config.globalProperties.$confirm=vr.confirm,e.config.globalProperties.$prompt=vr.prompt};const vre=vr,OM=["success","info","warning","error"],Cre=Oe({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Kt},id:{type:String,default:""},message:{type:J([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:J(Function),default:()=>{}},onClose:{type:J(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...OM,""],default:""},zIndex:Number}),yre={destroy:()=>!0},wre=["id"],bre=["textContent"],Sre={key:0},Ere=["innerHTML"],Rre=j({name:"ElNotification"}),Tre=j({...Rre,props:Cre,emits:yre,setup(e,{expose:t}){const s=e,{ns:n,zIndex:i}=Sg("notification"),{nextZIndex:o,currentZIndex:r}=i,{Close:l}=nw,a=L(!1);let c;const h=R(()=>{const w=s.type;return w&&kr[s.type]?n.m(w):""}),d=R(()=>s.type&&kr[s.type]||s.icon),p=R(()=>s.position.endsWith("right")?"right":"left"),g=R(()=>s.position.startsWith("top")?"top":"bottom"),m=R(()=>{var w;return{[g.value]:`${s.offset}px`,zIndex:(w=s.zIndex)!=null?w:r.value}});function f(){s.duration>0&&({stop:c}=Vl(()=>{a.value&&v()},s.duration))}function C(){c==null||c()}function v(){a.value=!1}function y({code:w}){w===Ye.delete||w===Ye.backspace?C():w===Ye.esc?a.value&&v():f()}return at(()=>{f(),o(),a.value=!0}),ls(document,"keydown",y),t({visible:a,close:v}),(w,b)=>(D(),re(Ls,{name:u(n).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:b[1]||(b[1]=T=>w.$emit("destroy")),persisted:""},{default:Z(()=>[lt(U("div",{id:w.id,class:O([u(n).b(),w.customClass,u(p)]),style:je(u(m)),role:"alert",onMouseenter:C,onMouseleave:f,onClick:b[0]||(b[0]=(...T)=>w.onClick&&w.onClick(...T))},[u(d)?(D(),re(u(Ue),{key:0,class:O([u(n).e("icon"),u(h)])},{default:Z(()=>[(D(),re(Ct(u(d))))]),_:1},8,["class"])):se("v-if",!0),U("div",{class:O(u(n).e("group"))},[U("h2",{class:O(u(n).e("title")),textContent:Me(w.title)},null,10,bre),lt(U("div",{class:O(u(n).e("content")),style:je(w.title?void 0:{margin:0})},[ae(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(D(),$(qe,{key:1},[se(" Caution here, message could've been compromised, never use user's input as message "),U("p",{innerHTML:w.message},null,8,Ere)],2112)):(D(),$("p",Sre,Me(w.message),1))])],6),[[Lt,w.message]]),w.showClose?(D(),re(u(Ue),{key:0,class:O(u(n).e("closeBtn")),onClick:st(v,["stop"])},{default:Z(()=>[q(u(l))]),_:1},8,["class","onClick"])):se("v-if",!0)],2)],46,wre),[[Lt,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Dre=_e(Tre,[["__file","notification.vue"]]);const Tf={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},NC=16;let Are=1;const Du=function(e={},t=null){if(!At)return{close:()=>{}};(typeof e=="string"||us(e))&&(e={message:e});const s=e.position||"top-right";let n=e.offset||0;Tf[s].forEach(({vm:h})=>{var d;n+=(((d=h.el)==null?void 0:d.offsetHeight)||0)+NC}),n+=NC;const i=`notification_${Are++}`,o=e.onClose,r={...e,offset:n,id:i,onClose:()=>{Pre(i,s,o)}};let l=document.body;Ei(e.appendTo)?l=e.appendTo:rt(e.appendTo)&&(l=document.querySelector(e.appendTo)),Ei(l)||(l=document.body);const a=document.createElement("div"),c=q(Dre,r,us(r.message)?{default:()=>r.message}:null);return c.appContext=t??Du._context,c.props.onDestroy=()=>{po(null,a)},po(c,a),Tf[s].push({vm:c}),l.appendChild(a.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};OM.forEach(e=>{Du[e]=(t={})=>((typeof t=="string"||us(t))&&(t={message:t}),Du({...t,type:e}))});function Pre(e,t,s){const n=Tf[t],i=n.findIndex(({vm:c})=>{var h;return((h=c.component)==null?void 0:h.props.id)===e});if(i===-1)return;const{vm:o}=n[i];if(!o)return;s==null||s(o);const r=o.el.offsetHeight,l=t.split("-")[0];n.splice(i,1);const a=n.length;if(!(a<1))for(let c=i;c<a;c++){const{el:h,component:d}=n[c].vm,p=Number.parseInt(h.style[l],10)-r-NC;d.props.offset=p}}function Ore(){for(const e of Object.values(Tf))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Du.closeAll=Ore;Du._context=null;const _re=FA(Du,"$notify");var Mre=[koe,$oe,nre,vre,_re,h_],Ire=Iz([..._oe,...Mre]),gb=Object.defineProperty,Fre=Object.defineProperties,Lre=Object.getOwnPropertyDescriptor,Nre=Object.getOwnPropertyDescriptors,Df=Object.getOwnPropertySymbols,_M=Object.prototype.hasOwnProperty,MM=Object.prototype.propertyIsEnumerable,jR=(e,t,s)=>t in e?gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,mt=(e,t)=>{for(var s in t||(t={}))_M.call(t,s)&&jR(e,s,t[s]);if(Df)for(var s of Df(t))MM.call(t,s)&&jR(e,s,t[s]);return e},vs=(e,t)=>Fre(e,Nre(t)),xre=(e,t)=>{var s={};for(var n in e)_M.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Df)for(var n of Df(e))t.indexOf(n)<0&&MM.call(e,n)&&(s[n]=e[n]);return s},Js=(e,t)=>{for(var s in t)gb(e,s,{get:t[s],enumerable:!0})},S=(e,t,s,n)=>{for(var i=n>1?void 0:n?Lre(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(i=(n?r(t,s,i):r(i))||i);return n&&i&&gb(t,s,i),i},Vi=(e,t)=>(s,n)=>t(s,n,e),IM={};Js(IM,{attrToBoolean:()=>Af,attrToNumber:()=>Mr,attrToString:()=>kre,defaultComparator:()=>Gre,exists:()=>Ge,jsonEquals:()=>xC,makeNull:()=>co,missing:()=>Rt,missingOrEmpty:()=>Xn,toStringOrNull:()=>bd,values:()=>Ml});function co(e){return e==null||e===""?null:e}function Ge(e,t=!1){return e!=null&&(e!==""||t)}function Rt(e){return!Ge(e)}function Xn(e){return e==null||e.length===0}function bd(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Mr(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Af(e){if(e!==void 0)return e===null||e===""?!1:typeof e=="boolean"?e:/true/i.test(e)}function kre(e){if(!(e==null||e===""))return e}function xC(e,t){const s=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return s===n}function Gre(e,t,s=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(r,l){return r>l?1:r<l?-1:0}if(typeof e!="string"||!s)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}function Ml(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(s=>t.push(s)),t}return Object.values(e)}var Vre=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=bd(e);let s=0;for(;;){let n;if(e?(n=e,s!==0&&(n+="_"+s)):t?(n=t,s!==0&&(n+="_"+s)):n=s,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);s++}}},FM={};Js(FM,{cloneObject:()=>mb,deepCloneDefinition:()=>Pf,getAllValuesInObject:()=>Hr,getValueUsingField:()=>nu,isNonNullObject:()=>Of,iterateObject:()=>ln,mergeDeep:()=>Jn,removeAllReferences:()=>LM});function ln(e,t){if(e!=null){if(Array.isArray(e)){for(let s=0;s<e.length;s++)t(s.toString(),e[s]);return}for(const[s,n]of Object.entries(e))t(s,n)}}function mb(e){const t={},s=Object.keys(e);for(let n=0;n<s.length;n++){const i=s[n],o=e[i];t[i]=o}return t}function Pf(e,t){if(!e)return;const s=e,n={};return Object.keys(s).forEach(i=>{if(t&&t.indexOf(i)>=0)return;const o=s[i];Of(o)&&o.constructor===Object?n[i]=Pf(o):n[i]=o}),n}function Hr(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const s=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&s.push(e[n]);return s}function Jn(e,t,s=!0,n=!1){Ge(t)&&ln(t,(i,o)=>{let r=e[i];r!==o&&(n&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[i]=r),Of(o)&&Of(r)&&!Array.isArray(r)?Jn(r,o,s,n):(s||o!==void 0)&&(e[i]=o))})}function nu(e,t,s){if(!t||!e)return;if(!s)return e[t];const n=t.split(".");let i=e;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}function LM(e,t=[],s){Object.keys(e).forEach(r=>{typeof e[r]=="object"&&!t.includes(r)&&(e[r]=void 0)});const n=Object.getPrototypeOf(e),i={},o=r=>`AG Grid: Grid API function ${r}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`;Object.getOwnPropertyNames(n).forEach(r=>{if(typeof n[r]=="function"&&!t.includes(r)){const a=()=>{console.warn(o(r))};i[r]={value:a,writable:!0}}}),Object.defineProperties(e,i)}function Of(e){return typeof e=="object"&&e!==null}var NM={};Js(NM,{compose:()=>Hre,debounce:()=>yn,doOnce:()=>Il,errorOnce:()=>lo,executeAfter:()=>kM,executeInAWhile:()=>xM,executeNextVMTurn:()=>kC,getFunctionName:()=>Fg,isFunction:()=>Lg,noop:()=>Bre,throttle:()=>GC,waitUntil:()=>vb,warnOnce:()=>St});var YR={};function Il(e,t){YR[t]||(e(),YR[t]=!0)}function St(e){Il(()=>console.warn("AG Grid: "+e),e)}function lo(e){Il(()=>console.error("AG Grid: "+e),e)}function Fg(e){if(e.name)return e.name;const t=/function\s+([^\(]+)/.exec(e.toString());return t&&t.length===2?t[1].trim():null}function Lg(e){return!!(e&&e.constructor&&e.call&&e.apply)}function xM(e){kM(e,400)}var Zm=[],Jm=!1;function kC(e){Zm.push(e),!Jm&&(Jm=!0,window.setTimeout(()=>{const t=Zm.slice();Zm.length=0,Jm=!1,t.forEach(s=>s())},0))}function kM(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(s=>s()),t)}function yn(e,t){let s;return function(...n){const i=this;window.clearTimeout(s),s=window.setTimeout(function(){e.apply(i,n)},t)}}function GC(e,t){let s=0;return function(...n){const i=this,o=new Date().getTime();o-s<t||(s=o,e.apply(i,n))}}function vb(e,t,s=100,n){const i=new Date().getTime();let o=null,r=!1;const l=()=>{const a=new Date().getTime()-i>s;(e()||a)&&(t(),r=!0,o!=null&&(window.clearInterval(o),o=null),a&&n&&console.warn(n))};l(),r||(o=window.setInterval(l,10))}function Hre(...e){return t=>e.reduce((s,n)=>n(s),t)}var Bre=()=>{},GM=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(GM||{}),Ng=class ss{static register(t){ss.__register(t,!0,void 0)}static registerModules(t){ss.__registerModules(t,!0,void 0)}static __register(t,s,n){ss.runVersionChecks(t),n!==void 0?(ss.areGridScopedModules=!0,ss.gridModulesMap[n]===void 0&&(ss.gridModulesMap[n]={}),ss.gridModulesMap[n][t.moduleName]=t):ss.globalModulesMap[t.moduleName]=t,ss.setModuleBased(s)}static __unRegisterGridModules(t){delete ss.gridModulesMap[t]}static __registerModules(t,s,n){ss.setModuleBased(s),t&&t.forEach(i=>ss.__register(i,s,n))}static isValidModuleVersion(t){const[s,n]=t.version.split(".")||[],[i,o]=ss.currentModuleVersion.split(".")||[];return s===i&&n===o}static runVersionChecks(t){if(ss.currentModuleVersion||(ss.currentModuleVersion=t.version),t.version?ss.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const s=t.validate();s.isValid||console.error(`AG Grid: ${s.message}`)}}static setModuleBased(t){ss.moduleBased===void 0?ss.moduleBased=t:ss.moduleBased!==t&&Il(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){ss.isBundled=!0}static __assertRegistered(t,s,n){var i;if(this.__isRegistered(t,n))return!0;const o=s+t;let r;if(ss.isBundled)r=`AG Grid: unable to use ${s} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ss.moduleBased||ss.moduleBased===void 0){let l=(i=Object.entries(GM).find(([a,c])=>c===t))==null?void 0:i[0];r=`AG Grid: unable to use ${s} as the ${l} is not registered${ss.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${l} } from '${t}';
    
    ModuleRegistry.registerModules([ ${l} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${s} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Il(()=>{console.warn(r)},o),!1}static __warnEnterpriseChartDisabled(t){const n="ag-charts-enterprise"+":"+t,o=`AG Grid: the '${t}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;Il(()=>{console.warn(o)},n)}static __isRegistered(t,s){var n;return!!ss.globalModulesMap[t]||!!((n=ss.gridModulesMap[s])!=null&&n[t])}static __getRegisteredModules(t){return[...Ml(ss.globalModulesMap),...Ml(ss.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var s;return Ml((s=ss.gridModulesMap[t])!=null?s:{})||[]}static __isPackageBased(){return!ss.moduleBased}};Ng.globalModulesMap={};Ng.gridModulesMap={};Ng.areGridScopedModules=!1;var es=Ng,$re=class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Ml(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),Ge(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),ln(this.beanWrappers,(t,s)=>{let n;s.bean.__agBeanMetaData&&s.bean.__agBeanMetaData.autowireMethods&&s.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=s.bean.__agBeanMetaData.autowireMethods.agConstructor);const i=this.getBeansForParameters(n,s.bean.name),o=new(s.bean.bind.apply(s.bean,[null,...i]));s.beanInstance=o});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let n;e.prototype.constructor?n=Fg(e.prototype.constructor):n=""+e,console.error(`Context item ${n} is not a bean`);return}const s={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=s}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(s,n)=>{const i=s.agClassAttributes;i&&i.forEach(o=>{const r=this.lookupBeanInstance(n,o.beanName,o.optional);t[o.attributeName]=r})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(s,n)=>{ln(s.autowireMethods,(i,o)=>{if(i==="agConstructor")return;const r=this.getBeansForParameters(o,n);t[i].apply(t,r)})})})}forEachMetaDataInHierarchy(e,t){let s=Object.getPrototypeOf(e);for(;s!=null;){const n=s.constructor;if(n.hasOwnProperty("__agBeanMetaData")){const i=n.__agBeanMetaData,o=this.getBeanName(n);t(i,o)}s=Object.getPrototypeOf(s)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const s=[];return e&&ln(e,(n,i)=>{const o=this.lookupBeanInstance(t,i);s[Number(n)]=o}),s}lookupBeanInstance(e,t,s=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const n=this.beanWrappers[t];return n?n.beanInstance:(s||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(s=>this.callLifeCycleMethodsOnBean(s,t))}callLifeCycleMethodsOnBean(e,t,s){const n={};this.forEachMetaDataInHierarchy(e,o=>{const r=o[t];r&&r.forEach(l=>{l!=s&&(n[l]=!0)})}),Object.keys(n).forEach(o=>e[o]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,es.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");const s=t;typeof s.destroy=="function"&&s.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function VM(e,t,s){const n=Yl(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function We(e,t,s){const n=Yl(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function An(e,t,s){const n=Yl(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function ot(e){return t=>{const s=Yl(t);s.beanName=e}}function H(e){return(t,s,n)=>{HM(t,e,!1,t,s,null)}}function qt(e){return(t,s,n)=>{HM(t,e,!0,t,s,null)}}function HM(e,t,s,n,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const r=Yl(e.constructor);r.agClassAttributes||(r.agClassAttributes=[]),r.agClassAttributes.push({attributeName:i,beanName:t,optional:s})}function gi(e){return(t,s,n)=>{const i=typeof t=="function"?t:t.constructor;let o;if(typeof n=="number"){let r;s?(o=Yl(i),r=s):(o=Yl(i),r="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[r]||(o.autowireMethods[r]={}),o.autowireMethods[r][n]=e}}}function Yl(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var Ui=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,s=null,n=null){if(this.frameworkOverrides=t,this.gridOptionsService=e,s){const i=e.useAsyncEvents();this.addGlobalListener(s,i)}n&&this.addGlobalListener(n,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,s){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&s&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,s=!1){this.getListeners(e,s,!0).add(t)}removeEventListener(e,t,s=!1){const n=this.getListeners(e,s,!1);n&&(n.delete(t),n.size===0&&(s?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var s;const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const i=(a,c)=>a.forEach(h=>{if(!c.has(h))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>h(e)):()=>h(e);t?this.dispatchAsync(d):d()}),o=(s=this.getListeners(n,t,!1))!=null?s:new Set,r=new Set(o);r.size>0&&i(r,o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(c):c()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};S([Vi(0,gi("gridOptionsService")),Vi(1,gi("frameworkOverrides")),Vi(2,gi("globalEventListener")),Vi(3,gi("globalSyncEventListener"))],Ui.prototype,"setBeans",1);Ui=S([ot("eventService")],Ui);var Cb=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=s=>{this.frameworkOverrides.wrapOutgoing(()=>e(s))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(s,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(s,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return(t=this.wrappedListeners.get(e))!=null?t:e}unwrapGlobal(e){var t;return(t=this.wrappedGlobalListeners.get(e))!=null?t:e}},Wre={resizable:!0,sortable:!0},zre=0;function BM(){return zre++}var ks=class $M{constructor(t,s,n,i){this.instanceId=BM(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Ui,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=s,this.colId=n,this.primary=i,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);const s=t.sortIndex,n=t.initialSortIndex;s!==void 0?s!==null&&(this.sortIndex=s):n!==null&&(this.sortIndex=n);const i=t.hide,o=t.initialHide;i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);const r=t.flex,l=t.initialFlex;r!==void 0?this.flex=r:l!==void 0&&(this.flex=l)}setColDef(t,s,n){this.colDef=t,this.userProvidedColDef=s,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=Ge(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Ge(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)}initTooltip(){this.tooltipEnabled=Ge(this.colDef.tooltipField)||Ge(this.colDef.tooltipValueGetter)||Ge(this.colDef.tooltipComponent)}resetActualWidth(t){const s=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(s,t,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(Rt(this.colDef)||Rt(this.colDef.showRowGroup))return!1;const s=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===t;return s||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(t,s){var n,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Cb(this.frameworkOverrides));const o=(i=(n=this.frameworkEventListenerService)==null?void 0:n.wrap(s))!=null?i:s;this.eventService.addEventListener(t,o)}removeEventListener(t,s){var n,i;const o=(i=(n=this.frameworkEventListenerService)==null?void 0:n.unwrap(s))!=null?i:s;this.eventService.removeEventListener(t,o)}createColumnFunctionCallbackParams(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const s=this.createColumnFunctionCallbackParams(t),n=this.colDef.suppressNavigable;return n(s)}return!1}isCellEditable(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){var s;return(s=this.colDef[t])!=null?s:Wre[t]}isColumnFunc(t,s){if(typeof s=="boolean")return s;if(typeof s=="function"){const n=this.createColumnFunctionCallbackParams(t);return s(n)}return!1}setMoving(t,s){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",s))}createColumnEvent(t,s){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:s})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,s){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",s))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(t,s){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",s)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Rt(this.sort)}isSorting(){return Ge(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,s){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",s)))}isFilterActive(){return this.filterActive}setFilterActive(t,s,n){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",s)));const i=this.createColumnEvent("filterChanged",s);n&&Jn(i,n),this.eventService.dispatchEvent(i)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,s){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",s)))}setLastLeftPinned(t,s){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",s)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,s){const n=t===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",s))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const s=t.getPaddingLevel()+1;let n=!0;for(;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:s,isSpanningTotal:n}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const s=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,s}createBaseColDefParams(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(Rt(this.colDef.colSpan))return 1;const s=this.createBaseColDefParams(t),n=this.colDef.colSpan(s);return Math.max(n,1)}getRowSpan(t){if(Rt(this.colDef.rowSpan))return 1;const s=this.createBaseColDefParams(t),n=this.colDef.rowSpan(s);return Math.max(n,1)}setActualWidth(t,s,n=!1){this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&s!=="flex"&&s!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(s)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return this.maxWidth!=null?t>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){Ge(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,s){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",s))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,s){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",s))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,s){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",s)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(t){St("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let s=this.getColDef().menuTabs;return s==null&&(s=t),s}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:$M.EVENT_STATE_UPDATED,key:t})}};ks.EVENT_MOVING_CHANGED="movingChanged";ks.EVENT_LEFT_CHANGED="leftChanged";ks.EVENT_WIDTH_CHANGED="widthChanged";ks.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";ks.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";ks.EVENT_VISIBLE_CHANGED="visibleChanged";ks.EVENT_FILTER_CHANGED="filterChanged";ks.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";ks.EVENT_SORT_CHANGED="sortChanged";ks.EVENT_COL_DEF_CHANGED="colDefChanged";ks.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";ks.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";ks.EVENT_PIVOT_CHANGED="columnPivotChanged";ks.EVENT_VALUE_CHANGED="columnValueChanged";ks.EVENT_STATE_UPDATED="columnStateUpdated";S([H("gridOptionsService")],ks.prototype,"gridOptionsService",2);S([H("columnUtils")],ks.prototype,"columnUtils",2);S([H("columnHoverService")],ks.prototype,"columnHoverService",2);S([H("frameworkOverrides")],ks.prototype,"frameworkOverrides",2);S([We],ks.prototype,"initialise",1);var rs=ks,xg=class Tc{constructor(t,s,n,i){this.localEventService=new Ui,this.expandable=!1,this.instanceId=BM(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=s,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,s){this.colGroupDef=t,this.level=s,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t;const s={type:Tc.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(s)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(s=>{s instanceof rs?t.push(s):s instanceof Tc&&s.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(s=>s.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(s=>s.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,s=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let r=0,l=i.length;r<l;r++){const a=i[r];if(!a.isVisible())continue;const c=a.getColumnGroupShow();c==="open"?(t=!0,n=!0):c==="closed"?(s=!0,n=!0):(t=!0,s=!0)}const o=t&&s&&n;if(this.expandable!==o){this.expandable=o;const r={type:Tc.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(r)}}findChildrenRemovingPadding(){const t=[],s=n=>{n.forEach(i=>{i instanceof Tc&&i.isPadding()?s(i.children):t.push(i)})};return s(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,s){this.localEventService.addEventListener(t,s)}removeEventListener(t,s){this.localEventService.removeEventListener(t,s)}};xg.EVENT_EXPANDED_CHANGED="expandedChanged";xg.EVENT_EXPANDABLE_CHANGED="expandableChanged";S([An],xg.prototype,"destroy",1);var _s=xg,Ure={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},WM={};Js(WM,{addSafePassiveEventListener:()=>JM,createEventPath:()=>QM,getCtrlForEventTarget:()=>_f,getEventPath:()=>ZM,isElementInEventPath:()=>Mf,isEventSupported:()=>wb,isStopPropagationForAgGrid:()=>Wi,stopPropagationForAgGrid:()=>Ki});var zM={};Js(zM,{areEqual:()=>ao,existsAndNotEmpty:()=>UM,flatten:()=>qM,forEachReverse:()=>qre,includes:()=>ni,insertArrayIntoArray:()=>VC,insertIntoArray:()=>Sd,last:()=>Xt,moveInArray:()=>HC,pushAll:()=>BC,removeAllFromArray:()=>YM,removeAllFromUnorderedArray:()=>jM,removeFromArray:()=>Ln,removeFromUnorderedArray:()=>yb,removeRepeatsFromArray:()=>jre,shallowCompare:()=>Kre,sortNumerically:()=>KM,toStrings:()=>Yre});function UM(e){return e!=null&&e.length>0}function Xt(e){if(!(!e||!e.length))return e[e.length-1]}function ao(e,t,s){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>s?s(n,t[i]):t[i]===n)}function Kre(e,t){return ao(e,t)}function KM(e){return e.sort((t,s)=>t-s)}function jre(e,t){if(e)for(let s=e.length-2;s>=0;s--){const n=e[s]===t,i=e[s+1]===t;n&&i&&e.splice(s+1,1)}}function yb(e,t){const s=e.indexOf(t);s>=0&&(e[s]=e[e.length-1],e.pop())}function Ln(e,t){const s=e.indexOf(t);s>=0&&e.splice(s,1)}function jM(e,t){for(let s=0;s<t.length;s++)yb(e,t[s])}function YM(e,t){for(let s=0;s<t.length;s++)Ln(e,t[s])}function Sd(e,t,s){e.splice(s,0,t)}function VC(e,t,s){if(!(e==null||t==null))for(let n=t.length-1;n>=0;n--){const i=t[n];Sd(e,i,s)}}function HC(e,t,s){YM(e,t),t.slice().reverse().forEach(n=>Sd(e,n,s))}function ni(e,t){return e.indexOf(t)>-1}function qM(e){return[].concat.apply([],e)}function BC(e,t){t==null||e==null||t.forEach(s=>e.push(s))}function Yre(e){return e.map(bd)}function qre(e,t){if(e!=null)for(let s=e.length-1;s>=0;s--)t(e[s],s)}var XM="__ag_Grid_Stop_Propagation",Xre=["touchstart","touchend","touchmove","touchcancel","scroll"],ev={};function Ki(e){e[XM]=!0}function Wi(e){return e[XM]===!0}var wb=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return s=>{if(typeof ev[s]=="boolean")return ev[s];const n=document.createElement(e[s]||"div");return s="on"+s,ev[s]=s in n}})();function _f(e,t,s){let n=t;for(;n;){const i=e.getDomData(n,s);if(i)return i;n=n.parentElement}return null}function Mf(e,t){return!t||!e?!1:ZM(t).indexOf(e)>=0}function QM(e){const t=[];let s=e.target;for(;s;)t.push(s),s=s.parentElement;return t}function ZM(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():QM(t)}function JM(e,t,s,n){const o=ni(Xre,s)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,s,n,o)}var ir=class eI{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(t=>t()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:eI.EVENT_DESTROYED})}addEventListener(t,s){this.localEventService||(this.localEventService=new Ui),this.localEventService.addEventListener(t,s)}removeEventListener(t,s){this.localEventService&&this.localEventService.removeEventListener(t,s)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,s,n){if(this.destroyed)return;t instanceof HTMLElement?JM(this.getFrameworkOverrides(),t,s,n):t.addEventListener(s,n);const i=()=>(t.removeEventListener(s,n),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==i),null);return this.destroyFunctions.push(i),i}setupGridOptionListener(t,s){this.gridOptionsService.addEventListener(t,s);const n=()=>(this.gridOptionsService.removeEventListener(t,s),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null);return this.destroyFunctions.push(n),n}addManagedPropertyListener(t,s){return this.destroyed?()=>null:this.setupGridOptionListener(t,s)}addManagedPropertyListeners(t,s){if(this.destroyed)return;const n=t.join("-")+this.propertyListenerId++,i=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=o.changeSet.id}const r={type:"gridPropertyChanged",changeSet:o.changeSet,source:o.source};s(r)};t.forEach(o=>this.setupGridOptionListener(o,i))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,s){const n=this.createBean(t,s);return this.addDestroyFunc(this.destroyBean.bind(this,t,s)),n}createBean(t,s,n){return(s||this.getContext()).createBean(t,n)}destroyBean(t,s){return(s||this.getContext()).destroyBean(t)}destroyBeans(t,s){return t&&t.forEach(n=>this.destroyBean(n,s)),[]}};ir.EVENT_DESTROYED="destroyed";S([H("frameworkOverrides")],ir.prototype,"frameworkOverrides",2);S([H("context")],ir.prototype,"context",2);S([H("eventService")],ir.prototype,"eventService",2);S([H("gridOptionsService")],ir.prototype,"gridOptionsService",2);S([H("localeService")],ir.prototype,"localeService",2);S([H("environment")],ir.prototype,"environment",2);S([An],ir.prototype,"destroy",1);var He=ir,Au=class extends He{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,s,n){const i=new Vre,{existingCols:o,existingGroups:r,existingColKeys:l}=this.extractExistingTreeData(s);i.addExistingKeys(l);const a=this.recursivelyCreateColumns(e,0,t,o,i,r,n),c=this.findMaxDept(a,0);this.logger.log("Number of levels for grouped columns is "+c);const h=this.balanceColumnTree(a,0,c,i),d=(p,g)=>{p instanceof _s&&p.setupExpandable(),p.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,d),{columnTree:h,treeDept:c}}extractExistingTreeData(e){const t=[],s=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,i=>{if(i instanceof _s){const o=i;s.push(o)}else{const o=i;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:s,existingColKeys:n}}createForAutoGroups(e,t){return e.map(s=>this.createAutoGroupTreeItem(t,s))}createAutoGroupTreeItem(e,t){const s=this.findDepth(e);let n=t;for(let i=s-1;i>=0;i--){const o=new _s(null,`FAKE_PATH_${t.getId()}}_${i}`,!0,i);this.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return s===0&&t.setOriginalParent(null),n}findDepth(e){let t=0,s=e;for(;s&&s[0]&&s[0]instanceof _s;)t++,s=s[0].getChildren();return t}balanceColumnTree(e,t,s,n){const i=[];for(let o=0;o<e.length;o++){const r=e[o];if(r instanceof _s){const l=r,a=this.balanceColumnTree(l.getChildren(),t+1,s,n);l.setChildren(a),i.push(l)}else{let l,a;for(let c=s-1;c>=t;c--){const h=n.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),p=new _s(d,h,!0,t);this.createBean(p),a&&a.setChildren([p]),a=p,l||(l=a)}if(l&&a)if(i.push(l),e.some(h=>h instanceof _s)){a.setChildren([r]);continue}else{a.setChildren(e);break}i.push(r)}}return i}findMaxDept(e,t){let s=t;for(let n=0;n<e.length;n++){const i=e[n];if(i instanceof _s){const o=i,r=this.findMaxDept(o.getChildren(),t+1);s<r&&(s=r)}}return s}recursivelyCreateColumns(e,t,s,n,i,o,r){if(!e)return[];const l=new Array(e.length);for(let a=0;a<l.length;a++){const c=e[a];this.isColumnGroup(c)?l[a]=this.createColumnGroup(s,c,t,n,i,o,r):l[a]=this.createColumn(s,c,n,i,r)}return l}createColumnGroup(e,t,s,n,i,o,r){const l=this.createMergedColGroupDef(t),a=i.getUniqueKey(l.groupId||null,null),c=new _s(l,a,!1,s);this.createBean(c);const h=this.findExistingGroup(t,o);h&&o.splice(h.idx,1);let d=h==null?void 0:h.group;d&&c.setExpanded(d.isExpanded());const p=this.recursivelyCreateColumns(l.children,s+1,e,n,i,o,r);return c.setChildren(p),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,s,n,i){const o=this.findExistingColumn(t,s);o&&(s==null||s.splice(o.idx,1));let r=o==null?void 0:o.column;if(r){const l=this.addColumnDefaultAndTypes(t,r.getColId());r.setColDef(l,t,i),this.applyColumnState(r,l,i)}else{const l=n.getUniqueKey(t.colId,t.field),a=this.addColumnDefaultAndTypes(t,l);r=new rs(a,t,l,e),this.context.createBean(r)}return this.dataTypeService.addColumnListeners(r),r}applyColumnState(e,t,s){const n=Mr(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const l=Mr(t.width);if(l!=null)e.setActualWidth(l,s);else{const a=e.getActualWidth();e.setActualWidth(a,s)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,s):e.setSort(void 0,s));const o=Mr(t.sortIndex);o!==void 0&&e.setSortIndex(o);const r=Af(t.hide);r!==void 0&&e.setVisible(!r,s),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let s=0;s<t.length;s++){const n=t[s].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[s].getId()===e.colId)return{idx:s,column:t[s]};continue}if(e.field!=null){if(n.field===e.field)return{idx:s,column:t[s]};continue}if(n===e)return{idx:s,column:t[s]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}addColumnDefaultAndTypes(e,t){const s={},n=this.gridOptionsService.get("defaultColDef");Jn(s,n,!1,!0);const i=this.dataTypeService.updateColDefAndGetColumnType(s,e,t);i&&this.assignColumnTypes(i,s),Jn(s,e,!1,!0);const o=this.gridOptionsService.get("autoGroupColumnDef"),r=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&r&&Jn(s,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(s),s}assignColumnTypes(e,t){if(!e.length)return;const s=Object.assign({},Ure),n=this.gridOptionsService.get("columnTypes")||{};ln(n,(i,o)=>{i in s?console.warn(`AG Grid: the column type '${i}' is a default column type and cannot be overridden.`):(o.type&&St("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),s[i]=o)}),e.forEach(i=>{const o=s[i.trim()];o?Jn(t,o,!1,!0):console.warn("AG Grid: colDef.type '"+i+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};S([H("columnUtils")],Au.prototype,"columnUtils",2);S([H("dataTypeService")],Au.prototype,"dataTypeService",2);S([Vi(0,gi("loggerFactory"))],Au.prototype,"setBeans",1);Au=S([ot("columnFactory")],Au);var kg=class to{constructor(t,s,n,i){this.displayedChildren=[],this.localEventService=new Ui,this.groupId=s,this.partId=n,this.providedColumnGroup=t,this.pinned=i}static createUniqueId(t,s){return t+"_"+s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return to.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(s=>s.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof to&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const s=Xt(this.displayedChildren).getLeft();this.setLeft(s)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(to.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,s){this.localEventService.addEventListener(t,s)}removeEventListener(t,s){this.localEventService.removeEventListener(t,s)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let s=!1;return this.children.forEach(n=>{t===n&&(s=!0),n instanceof to&&n.isChildInThisGroupDeepSearch(t)&&(s=!0)}),s}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(s=>{t+=s.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(s=>{s.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(s=>{t+=s.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(s=>{s instanceof rs?t.push(s):s instanceof to&&s.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(s=>{s instanceof rs?t.push(s):s instanceof to&&s.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(to.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(n=>{if(n instanceof to&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.localEventService.dispatchEvent(this.createAgEvent(to.EVENT_DISPLAYED_CHILDREN_CHANGED))}};kg.EVENT_LEFT_CHANGED="leftChanged";kg.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";S([H("gridOptionsService")],kg.prototype,"gridOptionsService",2);var Vs=kg,M=class{};M.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";M.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";M.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";M.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";M.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";M.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";M.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";M.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";M.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";M.EVENT_COLUMN_MOVED="columnMoved";M.EVENT_COLUMN_VISIBLE="columnVisible";M.EVENT_COLUMN_PINNED="columnPinned";M.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";M.EVENT_COLUMN_RESIZED="columnResized";M.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";M.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";M.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";M.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";M.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";M.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";M.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";M.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";M.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";M.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";M.EVENT_ROW_GROUP_OPENED="rowGroupOpened";M.EVENT_ROW_DATA_UPDATED="rowDataUpdated";M.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";M.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";M.EVENT_CHART_CREATED="chartCreated";M.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";M.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";M.EVENT_CHART_DESTROYED="chartDestroyed";M.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";M.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";M.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";M.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";M.EVENT_MODEL_UPDATED="modelUpdated";M.EVENT_CUT_START="cutStart";M.EVENT_CUT_END="cutEnd";M.EVENT_PASTE_START="pasteStart";M.EVENT_PASTE_END="pasteEnd";M.EVENT_FILL_START="fillStart";M.EVENT_FILL_END="fillEnd";M.EVENT_RANGE_DELETE_START="rangeDeleteStart";M.EVENT_RANGE_DELETE_END="rangeDeleteEnd";M.EVENT_UNDO_STARTED="undoStarted";M.EVENT_UNDO_ENDED="undoEnded";M.EVENT_REDO_STARTED="redoStarted";M.EVENT_REDO_ENDED="redoEnded";M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";M.EVENT_CELL_CLICKED="cellClicked";M.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";M.EVENT_CELL_MOUSE_DOWN="cellMouseDown";M.EVENT_CELL_CONTEXT_MENU="cellContextMenu";M.EVENT_CELL_VALUE_CHANGED="cellValueChanged";M.EVENT_CELL_EDIT_REQUEST="cellEditRequest";M.EVENT_ROW_VALUE_CHANGED="rowValueChanged";M.EVENT_CELL_FOCUSED="cellFocused";M.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";M.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";M.EVENT_ROW_SELECTED="rowSelected";M.EVENT_SELECTION_CHANGED="selectionChanged";M.EVENT_TOOLTIP_SHOW="tooltipShow";M.EVENT_TOOLTIP_HIDE="tooltipHide";M.EVENT_CELL_KEY_DOWN="cellKeyDown";M.EVENT_CELL_MOUSE_OVER="cellMouseOver";M.EVENT_CELL_MOUSE_OUT="cellMouseOut";M.EVENT_FILTER_CHANGED="filterChanged";M.EVENT_FILTER_MODIFIED="filterModified";M.EVENT_FILTER_OPENED="filterOpened";M.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";M.EVENT_SORT_CHANGED="sortChanged";M.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";M.EVENT_ROW_CLICKED="rowClicked";M.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";M.EVENT_GRID_READY="gridReady";M.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";M.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";M.EVENT_VIEWPORT_CHANGED="viewportChanged";M.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";M.EVENT_FIRST_DATA_RENDERED="firstDataRendered";M.EVENT_DRAG_STARTED="dragStarted";M.EVENT_DRAG_STOPPED="dragStopped";M.EVENT_CHECKBOX_CHANGED="checkboxChanged";M.EVENT_ROW_EDITING_STARTED="rowEditingStarted";M.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";M.EVENT_CELL_EDITING_STARTED="cellEditingStarted";M.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";M.EVENT_BODY_SCROLL="bodyScroll";M.EVENT_BODY_SCROLL_END="bodyScrollEnd";M.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";M.EVENT_PAGINATION_CHANGED="paginationChanged";M.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";M.EVENT_STORE_REFRESHED="storeRefreshed";M.EVENT_STATE_UPDATED="stateUpdated";M.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";M.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";M.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";M.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";M.EVENT_FLASH_CELLS="flashCells";M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";M.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";M.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";M.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";M.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";M.EVENT_ROW_DRAG_ENTER="rowDragEnter";M.EVENT_ROW_DRAG_MOVE="rowDragMove";M.EVENT_ROW_DRAG_LEAVE="rowDragLeave";M.EVENT_ROW_DRAG_END="rowDragEnd";M.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";M.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";M.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";M.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";M.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";M.EVENT_STORE_UPDATED="storeUpdated";M.EVENT_FILTER_DESTROYED="filterDestroyed";M.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";M.EVENT_ROW_COUNT_READY="rowCountReady";M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";M.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";M.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";M.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";M.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var Hp=new Set([M.EVENT_GRID_PRE_DESTROYED]),tI=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let s;return typeof t!="number"?s=0:s=t+1,this.existingIds[e]=s,s}},Pu="ag-Grid-AutoColumn",Ed=class extends He{createAutoGroupColumns(e){const t=[],s=this.gridOptionsService.get("treeData");let n=this.gridOptionsService.isGroupMultiAutoColumn();return s&&n&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),n=!1),n?e.forEach((i,o)=>{t.push(this.createOneAutoGroupColumn(i,o))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach((s,n)=>this.updateOneAutoGroupColumn(s,n,t))}createOneAutoGroupColumn(e,t){let s;e?s=`${Pu}-${e.getId()}`:s=Pu;const n=this.createAutoGroupColDef(s,e,t);n.colId=s;const i=new rs(n,null,s,!0);return this.context.createBean(i),i}updateOneAutoGroupColumn(e,t,s){const n=e.getColDef(),i=typeof n.showRowGroup=="string"?n.showRowGroup:void 0,o=i!=null?this.columnModel.getPrimaryColumn(i):void 0,r=this.createAutoGroupColDef(e.getId(),o??void 0,t);e.setColDef(r,null,s),this.columnFactory.applyColumnState(e,r,s)}createAutoGroupColDef(e,t,s){let n=this.createBaseColDef(t);const i=this.gridOptionsService.get("autoGroupColumnDef");Jn(n,i),n=this.columnFactory.addColumnDefaultAndTypes(n,e),this.gridOptionsService.get("treeData")||Rt(n.field)&&Rt(n.valueGetter)&&Rt(n.filterValueGetter)&&n.filter!=="agGroupColumnFilter"&&(n.filter=!1),s&&s>0&&(n.headerCheckboxSelection=!1);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=n.valueGetter||n.field!=null;return o&&!r&&(n.sortIndex=void 0,n.initialSort=void 0),n}createBaseColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){const o=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n}};S([H("columnModel")],Ed.prototype,"columnModel",2);S([H("columnFactory")],Ed.prototype,"columnFactory",2);Ed=S([ot("autoGroupColService")],Ed);var sI={};Js(sI,{camelCaseToHumanText:()=>nI,camelCaseToHyphenated:()=>iI,capitalise:()=>ele,escapeString:()=>Hs,utf8_encode:()=>Jre});var Qre=/[&<>"']/g,Zre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jre(e){const t=String.fromCharCode;function s(d){const p=[];if(!d)return[];const g=d.length;let m=0,f,C;for(;m<g;)f=d.charCodeAt(m++),f>=55296&&f<=56319&&m<g?(C=d.charCodeAt(m++),(C&64512)==56320?p.push(((f&1023)<<10)+(C&1023)+65536):(p.push(f),m--)):p.push(f);return p}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,p){return t(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return t(d);let p="";return d&4294965248?d&4294901760?d&4292870144||(p=t(d>>18&7|240),p+=i(d,12),p+=i(d,6)):(n(d),p=t(d>>12&15|224),p+=i(d,6)):p=t(d>>6&31|192),p+=t(d&63|128),p}const r=s(e),l=r.length;let a=-1,c,h="";for(;++a<l;)c=r[a],h+=o(c);return h}function ele(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function Hs(e,t){if(e==null)return null;const s=e.toString().toString();return t?s:s.replace(Qre,n=>Zre[n])}function nI(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,s=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(s,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}function iI(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var oI={};Js(oI,{convertToMap:()=>Rr,keys:()=>sle,mapById:()=>tle});function Rr(e){const t=new Map;return e.forEach(s=>t.set(s[0],s[1])),t}function tle(e,t){const s=new Map;return e.forEach(n=>s.set(t(n),n)),s}function sle(e){const t=[];return e.forEach((s,n)=>t.push(n)),t}var js=class extends He{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const e=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.buildAutoGroupColumns(Ua(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Ua(t.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],t=>this.onSharedColDefChanged(Ua(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),Ua(t.source))),this.addManagedListener(this.eventService,M.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){const s=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(s,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const s={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,i=>{s[i.getInstanceId()]=i}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,i=>{s[i.getInstanceId()]=null});const n=Object.values(s).filter(i=>i!=null);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){const s=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,i=this.primaryColumnTree,o=this.columnFactory.createColumnTree(this.columnDefs,!0,i,t);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(a=>this.primaryColumnsMap[a.getId()]=a),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0;const r=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||r||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,s&&s(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const t={type:M.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t),e==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(e){const t={type:M.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(n=>this.gridColumns.indexOf(n)>=0),s=this.gridColumns.filter(n=>t.indexOf(n)<0);this.gridColumns=[...s,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const s=[];for(;t!=null;)s.push(t),t=this.getDisplayedColAfter(t);return s}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const s={type:M.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(s)}setViewportPosition(e,t,s=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(s))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,t){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const s={type:M.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(s)}getSecondaryPivotColumn(e,t){if(Rt(this.secondaryColumns))return null;const s=this.getPrimaryColumn(t);let n=null;return this.secondaryColumns.forEach(i=>{const o=i.getColDef().pivotKeys,r=i.getColDef().pivotValueColumn;ao(o,e)&&r===s&&(n=i)}),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,s;this.gridOptionsService.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,s=this.displayedColumnsRight?Xt(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Xt(this.displayedColumnsLeft):null,s=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===s,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:s,skipHeaderGroups:n,stopAtGroup:i,source:o="api"}=e;this.animationFrameService.flushAllFrames();const r=[];let l=-1;const a=s??this.gridOptionsService.get("skipHeaderOnAutoSize"),c=n??a;for(;l!==0;)l=0,this.actionOnGridColumns(t,h=>{if(r.indexOf(h)>=0)return!1;const d=this.autoWidthCalculator.getPreferredWidthForColumn(h,a);if(d>0){const p=this.normaliseColumnWidth(h,d);h.setActualWidth(p,o),r.push(h),l++}return!0},o);c||this.autoSizeColumnGroupsByColumns(t,o,i),this.dispatchColumnResizedEvent(r,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,s,n=null){if(e&&e.length){const i={type:M.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:s};this.eventService.dispatchEvent(i)}}dispatchColumnChangedEvent(e,t,s){const n={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:s};this.eventService.dispatchEvent(n)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:s,toIndex:n,finished:i}=e,o={type:M.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:i,source:s};this.eventService.dispatchEvent(o)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const s=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.getPinned()),i={type:M.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:s,source:t};this.eventService.dispatchEvent(i)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const s=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.isVisible()),i={type:M.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:s,source:t};this.eventService.dispatchEvent(i)}autoSizeColumn(e,t,s){e&&this.autoSizeColumns({columns:[e],skipHeader:s,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,s){const n=new Set;this.getGridColumns(e).forEach(l=>{let a=l.getParent();for(;a&&a!=s;)a.isPadding()||n.add(a),a=a.getParent()});let o;const r=[];for(const l of n){for(const a of this.ctrlsService.getHeaderRowContainerCtrls())if(o=a.getHeaderCtrlForColumn(l),o)break;o&&o.resizeLeafColumnsToFit(t)}return r}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const s=this.getAllDisplayedColumns();this.autoSizeColumns({columns:s,skipHeader:t,source:e})}getColumnsFromTree(e){const t=[],s=n=>{for(let i=0;i<n.length;i++){const o=n[i];o instanceof rs?t.push(o):o instanceof _s&&s(o.getChildren())}};return s(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,s,n){const i=[];let o=null;for(let r=0;r<t.length;r++){const l=t[r],a=t.length-r,c=Math.min(l.getColSpan(e),a),h=[l];if(c>1){const p=c-1;for(let g=1;g<=p;g++)h.push(t[r+g]);r+=p}let d;s?(d=!1,h.forEach(p=>{s(p)&&(d=!0)})):d=!0,d&&(i.length===0&&o&&(n&&n(l))&&i.push(o),i.push(l)),o=l}return i}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=n=>{const i=n.getLeft();return Ge(i)&&i>this.viewportLeft},s=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,s,t)}isColumnAtEdge(e,t){const s=this.getAllDisplayedColumns();if(!s.length)return!1;const n=t==="first";let i;if(e instanceof Vs){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=n?o[0]:Xt(o)}else i=e;return(n?s[0]:Xt(s))===i}getAriaColumnIndex(e){let t;return e instanceof Vs?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,s=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,o=t<n&&s<n,r=t>i&&s>i;return!o&&!r}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,s,n,i,o){if(!e||Xn(e))return;let r=!1;if(e.forEach(a=>{if(!a)return;const c=this.getPrimaryColumn(a);if(c){if(s){if(t.indexOf(c)>=0)return;t.push(c)}else{if(t.indexOf(c)<0)return;Ln(t,c)}n(c),r=!0}}),!r)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o);const l={type:i,columns:t,column:t.length===1?t[0]:null,source:o};this.eventService.dispatchEvent(l)}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,M.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,s){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,s),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,s),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([t],!0,s))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),M.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),M.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,s=>s.setPivotActive(!0,t),M.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,M.EVENT_COLUMN_PIVOT_CHANGED,!0,(s,n)=>{n.setPivotActive(s,t)},t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,s=>s.setPivotActive(!1,t),M.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,s,n,i,o){if(!this.gridColumns)return;const r=new Map;t.forEach((l,a)=>r.set(l,a)),t.length=0,Ge(e)&&e.forEach(l=>{const a=this.getPrimaryColumn(l);a&&t.push(a)}),t.forEach((l,a)=>{const c=r.get(l);if(c===void 0){r.set(l,0);return}n&&c!==a||r.delete(l)}),(this.primaryColumns||[]).forEach(l=>{const a=t.indexOf(l)>=0;i(a,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.dispatchColumnChangedEvent(s,[...r.keys()],o)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,M.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,s){if(e!==t.isValueActive()&&(t.setValueActive(e,s),e&&!t.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),M.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),M.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const s=e.getMinWidth();Ge(s)&&t<s&&(t=s);const n=e.getMaxWidth();return Ge(n)&&e.isGreaterThanMax(t)&&(t=n),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,s,n){const i=[];e.forEach(o=>{const r=this.getPrimaryOrGridColumn(o.key);if(!r)return;if(i.push({width:o.newWidth,ratios:[1],columns:[r]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(t=!t),t){const a=this.getDisplayedColAfter(r);if(!a)return;const c=r.getActualWidth()-o.newWidth,h=a.getActualWidth()+c;i.push({width:h,ratios:[1],columns:[a]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:s,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:s}=e;let n=0,i=0,o=!0;t.forEach(a=>{const c=a.getMinWidth();n+=c||0;const h=a.getMaxWidth();Ge(h)&&h>0?i+=h:o=!1});const r=s>=n,l=!o||s<=i;return r&&l}resizeColumnSets(e){const{resizeSets:t,finished:s,source:n}=e;if(!(!t||t.every(h=>this.checkMinAndMaxWidthsForSet(h)))){if(s){const h=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(h,s,n)}return}const o=[],r=[];t.forEach(h=>{const{width:d,columns:p,ratios:g}=h,m={},f={};p.forEach(y=>r.push(y));let C=!0,v=0;for(;C;){if(v++,v>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}C=!1;const y=[];let w=0,b=d;p.forEach((E,P)=>{if(f[E.getId()])b-=m[E.getId()];else{y.push(E);const N=g[P];w+=N}});const T=1/w;y.forEach((E,P)=>{const A=P===y.length-1;let N;A?N=b:(N=Math.round(g[P]*d*T),b-=N);const x=E.getMinWidth(),F=E.getMaxWidth();Ge(x)&&N<x?(N=x,f[E.getId()]=!0,C=!0):Ge(F)&&F>0&&N>F&&(N=F,f[E.getId()]=!0,C=!0),m[E.getId()]=N})}p.forEach(y=>{const w=m[y.getId()];y.getActualWidth()!==w&&(y.setActualWidth(w,n),o.push(y))})});const l=o.length>0;let a=[];l&&(a=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const c=r.concat(a);(l||s)&&this.dispatchColumnResizedEvent(c,s,n,a)}setColumnAggFunc(e,t,s){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,[n],s))}moveRowGroupColumn(e,t,s){if(this.isRowGroupEmpty())return;const n=this.rowGroupColumns[e],i=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n);const o={type:M.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:i,column:i.length===1?i[0]:null,source:s};this.eventService.dispatchEvent(o)}moveColumns(e,t,s,n=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const i=this.getGridColumns(e);this.doesMovePassRules(i,t)&&(HC(this.gridColumns,i,t),this.updateDisplayedColumns(s),this.dispatchColumnMovedEvent({movedColumns:i,source:s,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const s=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(s)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const s=this.gridColumns.slice();return HC(s,e,t),s}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(s=>this.gridColumns.indexOf(s)<0).length>0||e.sort((s,n)=>{const i=this.gridColumns.indexOf(s),o=this.gridColumns.indexOf(n);return i-o})}doesMovePassLockedPositions(e){let t=0,s=!0;const n=i=>i?i===!0||i==="left"?0:2:1;return e.forEach(i=>{const o=n(i.getColDef().lockPosition);o<t&&(s=!1),t=o}),s}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,s=>{if(!(s instanceof _s))return;const n=s,i=n.getColGroupDef();if(!(i&&i.marryChildren))return;const r=[];n.getLeafColumns().forEach(d=>{const p=e.indexOf(d);r.push(p)});const l=Math.max.apply(Math,r),a=Math.min.apply(Math,r),c=l-a,h=n.getLeafColumns().length-1;c>h&&(t=!1)}),t}moveColumnByIndex(e,t,s){if(!this.gridColumns)return;const n=this.gridColumns[e];this.moveColumns([n],t,s)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,s)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(s)):this.lastPrimaryOrder&&e.sort((t,s)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(s)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),s=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==s){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=s;const i={type:M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(i);const o={type:M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return(e=this.gridColumns)!=null?e:[]}isEmpty(){return Xn(this.gridColumns)}isRowGroupEmpty(){return Xn(this.rowGroupColumns)}setColumnsVisible(e,t=!1,s){this.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},s)}setColumnsPinned(e,t,s){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null,this.actionOnGridColumns(e,i=>i.getPinned()!==n?(i.setPinned(n),!0):!1,s,()=>({type:M.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:s})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,s,n){if(Xn(e))return;const i=[];if(e.forEach(o=>{if(!o)return;const r=this.getGridColumn(o);if(!r)return;t(r)!==!1&&i.push(r)}),!!i.length&&(this.updateDisplayedColumns(s),Ge(n)&&n)){const o=n();o.columns=i,o.column=i.length===1?i[0]:null,this.eventService.dispatchEvent(o)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),s=t.indexOf(e);return s>0?t[s-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),s=t.indexOf(e);return s<t.length-1?t[s+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const s=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?Xt(n):n[0],o=`getDisplayedCol${t}`;for(;;){const r=this[o](i);if(!r)return null;const l=this.getColumnGroupAtLevel(r,s);if(l!==e)return l}}getColumnGroupAtLevel(e,t){let s=e.getParent(),n,i;for(;n=s.getProvidedColumnGroup().getLevel(),i=s.getPaddingLevel(),!(n+i<=t);)s=s.getParent();return s}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,s=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,i=e.getSort()!=null?e.getSort():null,o=e.getSortIndex()!=null?e.getSortIndex():null,r=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:i,sortIndex:o,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:s,flex:r}}getColumnState(){if(Rt(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=Rr(this.gridColumns.map((s,n)=>[s.getColId(),n]));e.sort((s,n)=>{const i=t.has(s.colId)?t.get(s.colId):-1,o=t.has(n.colId)?t.get(n.colId):-1;return i-o})}resetColumnState(e){if(Xn(this.primaryColumns))return;const t=this.getColumnsFromTree(this.primaryColumnTree),s=[];let n=1e3,i=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),t&&(o=o.concat(t)),o.forEach(r=>{const l=this.getColumnStateFromColDef(r);Rt(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=n++),Rt(l.pivotIndex)&&l.pivot&&(l.pivotIndex=i++),s.push(l)}),this.applyColumnState({state:s,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(m,f)=>m??f??null,s=e.getColDef(),n=t(s.sort,s.initialSort),i=t(s.sortIndex,s.initialSortIndex),o=t(s.hide,s.initialHide),r=t(s.pinned,s.initialPinned),l=t(s.width,s.initialWidth),a=t(s.flex,s.initialFlex);let c=t(s.rowGroupIndex,s.initialRowGroupIndex),h=t(s.rowGroup,s.initialRowGroup);c==null&&(h==null||h==!1)&&(c=null,h=null);let d=t(s.pivotIndex,s.initialPivotIndex),p=t(s.pivot,s.initialPivot);d==null&&(p==null||p==!1)&&(d=null,p=null);const g=t(s.aggFunc,s.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:o,pinned:r,width:l,flex:a,rowGroup:h,rowGroupIndex:c,pivot:p,pivotIndex:d,aggFunc:g}}applyColumnState(e,t){if(Xn(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=(o,r,l)=>{const a=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const c=r.slice(),h={},d={},p=[],g=[];let m=0;const f=this.rowGroupColumns.slice(),C=this.pivotColumns.slice();o.forEach(b=>{const T=b.colId||"";if(T.startsWith(Pu)){p.push(b),g.push(b);return}const P=l(T);P?(this.syncColumnWithStateItem(P,b,e.defaultState,h,d,!1,t),Ln(c,P)):(g.push(b),m+=1)});const v=b=>this.syncColumnWithStateItem(b,null,e.defaultState,h,d,!1,t);c.forEach(v);const y=(b,T,E,P)=>{const A=b[E.getId()],N=b[P.getId()],x=A!=null,F=N!=null;if(x&&F)return A-N;if(x)return-1;if(F)return 1;const G=T.indexOf(E),K=T.indexOf(P),z=G>=0,W=K>=0;return z&&W?G-K:z?-1:1};this.rowGroupColumns.sort(y.bind(this,h,f)),this.pivotColumns.sort(y.bind(this,d,C)),this.updateGridColumns();const w=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(b=>{const T=this.getAutoColumn(b.colId);Ln(w,T),this.syncColumnWithStateItem(T,b,e.defaultState,null,null,!0,t)}),w.forEach(v),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),a(),{unmatchedAndAutoStates:g,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:i}=s(e.state||[],this.primaryColumns||[],o=>this.getPrimaryColumn(o));return(n.length>0||Ge(e.defaultState))&&(i=s(n,this.secondaryColumns||[],o=>this.getSecondaryColumn(o)).unmatchedCount),this.columnAnimationService.finish(),i===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const s={};e.state.forEach(i=>{if(!i.colId||s[i.colId])return;const o=this.gridColumnsMap[i.colId];o&&(t.push(o),s[i.colId]=!0)});let n=0;if(this.gridColumns.forEach(i=>{const o=i.getColId();if(s[o]!=null)return;o.startsWith(Pu)?Sd(t,i,n++):t.push(i)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},s=this.getColumnState(),n={};return s.forEach(i=>{n[i.colId]=i}),()=>{const i=this.getPrimaryAndSecondaryAndAutoColumns(),o=(f,C,v,y)=>{const w=C.map(y),b=v.map(y);if(ao(w,b))return;const E=new Set(C);v.forEach(N=>{E.delete(N)||E.add(N)});const P=[...E],A={type:f,columns:P,column:P.length===1?P[0]:null,source:e};this.eventService.dispatchEvent(A)},r=f=>{const C=[];return i.forEach(v=>{const y=n[v.getColId()];y&&f(y,v)&&C.push(v)}),C},l=f=>f.getColId();o(M.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,l),o(M.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,l);const c=r((f,C)=>{const v=f.aggFunc!=null,y=v!=C.isValueActive(),w=v&&f.aggFunc!=C.getAggFunc();return y||w});c.length>0&&this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,c,e);const h=(f,C)=>f.width!=C.getActualWidth();this.dispatchColumnResizedEvent(r(h),!0,e);const d=(f,C)=>f.pinned!=C.getPinned();this.dispatchColumnPinnedEvent(r(d),e);const p=(f,C)=>f.hide==C.isVisible();this.dispatchColumnVisibleEvent(r(p),e);const m=r((f,C)=>f.sort!=C.getSort()||f.sortIndex!=C.getSortIndex());m.length>0&&this.sortController.dispatchSortChangedEvents(e,m),this.normaliseColumnMovedEventForColumnState(s,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const s=t(e[0]);for(let n=1;n<e.length;n++)if(s!==t(e[n]))return;return s}normaliseColumnMovedEventForColumnState(e,t){const s=this.getColumnState(),n={};s.forEach(a=>n[a.colId]=a);const i={};e.forEach(a=>{n[a.colId]&&(i[a.colId]=!0)});const o=e.filter(a=>i[a.colId]),r=s.filter(a=>i[a.colId]),l=[];r.forEach((a,c)=>{const h=o&&o[c];if(h&&h.colId!==a.colId){const d=this.getGridColumn(h.colId);d&&l.push(d)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})}syncColumnWithStateItem(e,t,s,n,i,o,r){if(!e)return;const l=(w,b)=>{const T={value1:void 0,value2:void 0};let E=!1;return t&&(t[w]!==void 0&&(T.value1=t[w],E=!0),Ge(b)&&t[b]!==void 0&&(T.value2=t[b],E=!0)),!E&&s&&(s[w]!==void 0&&(T.value1=s[w]),Ge(b)&&s[b]!==void 0&&(T.value2=s[b])),T},a=l("hide").value1;a!==void 0&&e.setVisible(!a,r);const c=l("pinned").value1;c!==void 0&&e.setPinned(c);const h=this.columnUtils.calculateColMinWidth(e.getColDef()),d=l("flex").value1;if(d!==void 0&&e.setFlex(d),d==null){const w=l("width").value1;w!=null&&h!=null&&w>=h&&e.setActualWidth(w,r)}const p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,r):e.setSort(void 0,r));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),o||!e.isPrimary())return;const m=l("aggFunc").value1;m!==void 0&&(typeof m=="string"?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,r),this.valueColumns.push(e))):(Ge(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,r),Ln(this.valueColumns,e))));const{value1:f,value2:C}=l("rowGroup","rowGroupIndex");(f!==void 0||C!==void 0)&&(typeof C=="number"||f?(e.isRowGroupActive()||(e.setRowGroupActive(!0,r),this.rowGroupColumns.push(e)),n&&typeof C=="number"&&(n[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,r),Ln(this.rowGroupColumns,e)));const{value1:v,value2:y}=l("pivot","pivotIndex");(v!==void 0||y!==void 0)&&(typeof y=="number"||v?(e.isPivotActive()||(e.setPivotActive(!0,r),this.pivotColumns.push(e)),i&&typeof y=="number"&&(i[e.getId()]=y)):e.isPivotActive()&&(e.setPivotActive(!1,r),Ln(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const s=[];return e&&e.forEach(n=>{const i=t(n);i&&s.push(i)}),s}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,s){if(!e||!s)return null;if(typeof e=="string"&&s[e])return s[e];for(let n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const s=this.getPrimaryColumn(t);return s?[s]:null}getAutoColumn(e){return!this.groupAutoColumns||!Ge(this.groupAutoColumns)||Rt(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const s=e===t,n=e.getColDef()===t,i=e.getColId()==t;return s||n||i}getDisplayNameForColumn(e,t,s=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return s?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,s){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,s):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,s,n,i){const o=e.headerValueGetter;if(o){const r=this.gridOptionsService.addGridCommonParams({colDef:e,column:t,columnGroup:s,providedColumnGroup:n,location:i});return typeof o=="function"?o(r):typeof o=="string"?this.expressionService.evaluate(o,r):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return nI(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return t;const s=e.getColDef().pivotValueColumn,n=Ge(s);let i=null,o;if(n){const r=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(r&&!l)return t;i=s?s.getAggFunc():null,o=!0}else{const r=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();r&&l?(i=e.getAggFunc(),o=!0):o=!1}if(o){const r=typeof i=="string"?i:"func";return`${this.localeService.getLocaleTextFunc()(r,r)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Vs)return e;const s=this.getAllDisplayedTrees(),n=typeof t=="number";let i=null;return this.columnUtils.depthFirstAllColumnTreeSearch(s,o=>{if(o instanceof Vs){const r=o;let l;n?l=e===r.getGroupId()&&t===r.getPartId():l=e===r.getGroupId(),l&&(i=r)}}),i}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(s,n)=>s.setValueActive(n,e),()=>{},()=>{},s=>{const n=s.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},s=>s.initialAggFunc!=null&&s.initialAggFunc!=""),this.valueColumns.forEach(s=>{const n=s.getColDef();n.aggFunc!=null&&n.aggFunc!=""?s.setAggFunc(n.aggFunc):s.getAggFunc()||s.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(s,n)=>s.setRowGroupActive(n,e),s=>s.rowGroupIndex,s=>s.initialRowGroupIndex,s=>s.rowGroup,s=>s.initialRowGroup)}extractColumns(e=[],t=[],s,n,i,o,r){const l=[],a=[];(this.primaryColumns||[]).forEach(d=>{const p=e.indexOf(d)<0,g=d.getColDef(),m=Af(o(g)),f=Af(r(g)),C=Mr(n(g)),v=Mr(i(g));let y;m!==void 0?y=m:C!==void 0?C===null?y=!1:y=C>=0:p?f!==void 0?y=f:v!==void 0?y=v!=null&&v>=0:y=!1:y=t.indexOf(d)>=0,y&&((p?C!=null||v!=null:C!=null)?l.push(d):a.push(d))});const c=d=>{const p=n(d.getColDef()),g=i(d.getColDef());return p??g};l.sort((d,p)=>{const g=c(d),m=c(p);return g===m?0:g<m?-1:1});const h=[].concat(l);return t.forEach(d=>{a.indexOf(d)>=0&&h.push(d)}),a.forEach(d=>{h.indexOf(d)<0&&h.push(d)}),t.forEach(d=>{h.indexOf(d)<0&&s(d,!1)}),h.forEach(d=>{t.indexOf(d)<0&&s(d,!0)}),h}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(s,n)=>s.setPivotActive(n,e),s=>s.pivotIndex,s=>s.initialPivotIndex,s=>s.pivot,s=>s.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,s=>{if(s instanceof _s){const n=s.getColGroupDef(),i={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};t.push(i)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof _s&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const s=[];if(e.forEach(n=>{const i=n.groupId,o=n.open,r=this.getProvidedColumnGroup(i);r&&r.isExpanded()!==o&&(this.logger.log("columnGroupOpened("+r.getGroupId()+","+o+")"),r.setExpanded(o),s.push(r))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),s.length){const n={type:M.EVENT_COLUMN_GROUP_OPENED,columnGroup:_s.length===1?s[0]:void 0,columnGroups:s};this.eventService.dispatchEvent(n)}this.columnAnimationService.finish()}setColumnGroupOpened(e,t,s){let n;e instanceof _s?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],s)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,s=>{s instanceof _s&&s.getId()===e&&(t=s)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&Rt(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const s=this.groupAutoColumns&&ni(this.groupAutoColumns,t),n=this.valueColumns&&ni(this.valueColumns,t);return s||n}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&ni(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(s=>{Ge(s.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const s=t.getColDef(),n=s.showRowGroup;s&&Ge(n)&&(this.groupDisplayColumns.push(t),typeof n=="string"?this.groupDisplayColumnsMap[n]=t:n===!0&&this.getRowGroupColumns().forEach(i=>{this.groupDisplayColumnsMap[i.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return Ge(this.secondaryColumns)}setSecondaryColumns(e,t){if(!this.gridColumns)return;const s=e;if(!(!s&&Rt(this.secondaryColumns))){if(s){this.processSecondaryColumnDefinitions(e);const n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(i=>this.secondaryColumnsMap[i.getId()]=i),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef"),s=this.gridOptionsService.get("processPivotResultColGroupDef");if(!t&&!s)return;const n=i=>{i.forEach(o=>{if(Ge(o.children)){const l=o;s&&s(l),n(l.children)}else t&&t(o)})};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const n=Rr(this.groupAutoColumns.map(i=>[i,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(i=>!n.has(i)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(i=>!n.has(i)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let s;if(this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.some(i=>this.gridColumnsMap[i.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(s=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,s=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(s),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),!ao(e,this.gridBalancedTree)){const n={type:M.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||St("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(Rt(e))return;const t=Rr(e.map((a,c)=>[a,c]));let s=!0;if(this.gridColumns.forEach(a=>{t.has(a)&&(s=!1)}),s)return;const n=Rr(this.gridColumns.map(a=>[a,!0])),i=e.filter(a=>n.has(a)),o=Rr(i.map(a=>[a,!0])),r=this.gridColumns.filter(a=>!o.has(a)),l=i.slice();r.forEach(a=>{let c=a.getOriginalParent();if(!c){l.push(a);return}const h=[];for(;!h.length&&c;)c.getLeafColumns().forEach(m=>{const f=l.indexOf(m)>=0,C=h.indexOf(m)<0;f&&C&&h.push(m)}),c=c.getOriginalParent();if(!h.length){l.push(a);return}const d=h.map(g=>l.indexOf(g)),p=Math.max(...d);Sd(l,a,p+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!=null?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?t:t.filter(s=>s.isVisible()||s.isRowGroupActive())}placeLockedColumns(e){const t=[],s=[],n=[];return e.forEach(i=>{const o=i.getColDef().lockPosition;o==="right"?n.push(i):o==="left"||o===!0?t.push(i):s.push(i)}),[...t,...s,...n]}addAutoGroupToGridColumns(){if(Rt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:M.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),t=[],s=[],n=[];for(const i of e){const o=i.getPinned();o?o===!0||o==="left"?t.push(i):n.push(i):s.push(i)}this.ariaOrderColumns=t.concat(s).concat(n)}joinDisplayedColumns(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),s=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(s){let i=this.getWidthOfColsInList(n);n.forEach(o=>{i-=o.getActualWidth(),o.setLeft(i,e)})}else{let i=0;n.forEach(o=>{o.setLeft(i,e),i+=o.getActualWidth()})}jM(t,n)}),t.forEach(n=>{n.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof Vs&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,s=>{s instanceof rs&&t.push(s)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let s;switch(e){case"left":s=this.viewportRowLeft[t];break;case"right":s=this.viewportRowRight[t];break;default:s=this.viewportRowCenter[t];break}return Rt(s)&&(s=[]),s}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(s=>e[s.getId()]=!0);const t=(s,n,i)=>{let o=!1;for(let r=0;r<s.length;r++){const l=s[r];let a=!1;if(l instanceof rs)a=e[l.getId()]===!0;else{const h=l.getDisplayedChildren();h&&(a=t(h,n,i+1))}a&&(o=!0,n[i]||(n[i]=[]),n[i].push(l))}return o};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),s=this.viewportColumnsHash!==t;return s&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),s}refreshFlexedColumns(e={}){var t;const s=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){const p=new Set(e.resizingCols);let g=this.displayedColumnsCenter;for(let m=g.length-1;m>=0;m--)if(p.has(g[m])){n=m;break}}let i=0,o=[],r=0,l=0;for(let p=0;p<this.displayedColumnsCenter.length;p++)this.displayedColumnsCenter[p].getFlex()&&p>n?(o.push(this.displayedColumnsCenter[p]),l+=this.displayedColumnsCenter[p].getFlex(),r+=(t=this.displayedColumnsCenter[p].getMinWidth())!=null?t:0):i+=this.displayedColumnsCenter[p].getActualWidth();if(!o.length)return[];let a=[];i+r>this.flexViewportWidth&&(o.forEach(p=>{var g;return p.setActualWidth((g=p.getMinWidth())!=null?g:0,s)}),a=o,o=[]);const c=[];let h;e:for(;;){h=this.flexViewportWidth-i;const p=h/l;for(let g=0;g<o.length;g++){const m=o[g],f=p*m.getFlex();let C=0;const v=m.getMinWidth(),y=m.getMaxWidth();if(Ge(v)&&f<v?C=v:Ge(y)&&f>y&&(C=y),C){m.setActualWidth(C,s),yb(o,m),l-=m.getFlex(),a.push(m),i+=m.getActualWidth();continue e}c[g]=Math.round(f)}break}let d=h;return o.forEach((p,g)=>{p.setActualWidth(Math.min(c[g],d),s),a.push(p),d-=c[g]}),e.skipSetLeft||this.setLeftValues(s),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(a,!0,s,o),o}sizeColumnsToFit(e,t="sizeColumnsToFit",s,n){var i,o,r,l,a;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,s,n));return}const c={};n&&((i=n==null?void 0:n.columnLimits)==null||i.forEach(v=>{var y=v,{key:w}=y,b=xre(y,["key"]);c[typeof w=="string"?w:w.getColId()]=b}));const h=this.getAllDisplayedColumns(),d=e===this.getWidthOfColsInList(h);if(e<=0||!h.length||d)return;const p=[],g=[];h.forEach(v=>{v.getColDef().suppressSizeToFit===!0?g.push(v):p.push(v)});const m=p.slice(0);let f=!1;const C=v=>{Ln(p,v),g.push(v)};for(p.forEach(v=>{var y,w;v.resetActualWidth(t);const b=c==null?void 0:c[v.getId()],T=(y=b==null?void 0:b.minWidth)!=null?y:n==null?void 0:n.defaultMinWidth,E=(w=b==null?void 0:b.maxWidth)!=null?w:n==null?void 0:n.defaultMaxWidth,P=v.getActualWidth();typeof T=="number"&&P<T?v.setActualWidth(T,t,!0):typeof E=="number"&&P>E&&v.setActualWidth(E,t,!0)});!f;){f=!0;const v=e-this.getWidthOfColsInList(g);if(v<=0)p.forEach(y=>{var w,b;const T=(b=(w=c==null?void 0:c[y.getId()])==null?void 0:w.minWidth)!=null?b:n==null?void 0:n.defaultMinWidth;if(typeof T=="number"){y.setActualWidth(T,t,!0);return}y.setMinimum(t)});else{const y=v/this.getWidthOfColsInList(p);let w=v;for(let b=p.length-1;b>=0;b--){const T=p[b],E=c==null?void 0:c[T.getId()],P=(o=E==null?void 0:E.minWidth)!=null?o:n==null?void 0:n.defaultMinWidth,A=(r=E==null?void 0:E.maxWidth)!=null?r:n==null?void 0:n.defaultMaxWidth,N=(l=T.getMinWidth())!=null?l:0,x=(a=T.getMaxWidth())!=null?a:Number.MAX_VALUE,F=typeof P=="number"&&P>N?P:T.getMinWidth(),G=typeof A=="number"&&A<x?A:T.getMaxWidth();let K=Math.round(T.getActualWidth()*y);Ge(F)&&K<F?(K=F,C(T),f=!1):Ge(G)&&K>G?(K=G,C(T),f=!1):b===0&&(K=w),T.setActualWidth(K,t,!0),w-=K}}}m.forEach(v=>{v.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!s&&this.dispatchColumnResizedEvent(m,!0,t)}buildDisplayedTrees(e){const t=[],s=[],n=[];e.forEach(o=>{switch(o.getPinned()){case"left":t.push(o);break;case"right":s.push(o);break;default:n.push(o);break}});const i=new tI;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,i,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(s,i,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,i,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof Vs&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!s&&!t){const o=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||e)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gridOptionsService.get("groupDisplayType")==="custom"?!0:this.gridOptionsService.get("treeDataDisplayType")==="custom"}autoColsEqual(e,t){return ao(e,t,(s,n)=>s.getColId()===n.getColId())}getWidthOfColsInList(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gridOptionsService.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let s=0;s<t.length;s++){const n=this[t[s]]();if(n.length)return e?Xt(n):n[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const n={type:M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gridOptionsService.get("headerHeight"))!=null?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!=null?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!=null?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){const s=e.getUserProvidedColDef();if(!s)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(s,e.getColId());return e.setColDef(n,s,t),!0}isColumnGroupingLocked(e){const t=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const s=this.rowGroupColumns.findIndex(n=>n.getColId()===e.getColId());return t>s}generateColumnStateForRowGroupAndPivotIndexes(e,t){let s={};const n=(i,o,r,l,a,c)=>{if(!o.length||!this.primaryColumns)return[];const h=Object.keys(i),d=new Set(h),p=new Set(h),g=new Set(o.map(T=>{const E=T.getColId();return p.delete(E),E}).concat(h)),m=[],f={};let C=0;for(let T=0;T<this.primaryColumns.length;T++){const E=this.primaryColumns[T].getColId();g.has(E)&&(m.push(E),f[E]=C++)}let v=1e3,y=!1,w=0;const b=T=>{const E=f[T];for(let P=w;P<E;P++){const A=m[P];p.has(A)&&(i[A][a]=v++,p.delete(A))}w=E};o.forEach(T=>{const E=T.getColId();if(d.has(E))b(E),i[E][a]=v++;else{const P=T.getColDef();(P[a]===null||P[a]===void 0&&P[c]==null)&&(y||(P[r]||P[r]===void 0&&P[l]?b(E):(p.forEach(x=>{i[x][a]=v+f[x]}),v+=m.length,y=!0)),s[E]||(s[E]={colId:E}),s[E][a]=v++)}})};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(s)}onColumnsReady(){const e=this.gridOptionsService.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:s,defaultMinWidth:n,defaultMaxWidth:i}=e,o=s==null?void 0:s.map(({colId:r,minWidth:l,maxWidth:a})=>({key:r,minWidth:l,maxWidth:a}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gridOptionsService.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:s}=e;setTimeout(()=>{t?this.autoSizeColumns({columns:t,skipHeader:s,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",s)})}};S([H("expressionService")],js.prototype,"expressionService",2);S([H("columnFactory")],js.prototype,"columnFactory",2);S([H("displayedGroupCreator")],js.prototype,"displayedGroupCreator",2);S([H("ctrlsService")],js.prototype,"ctrlsService",2);S([H("autoWidthCalculator")],js.prototype,"autoWidthCalculator",2);S([H("columnUtils")],js.prototype,"columnUtils",2);S([H("columnAnimationService")],js.prototype,"columnAnimationService",2);S([H("autoGroupColService")],js.prototype,"autoGroupColService",2);S([qt("aggFuncService")],js.prototype,"aggFuncService",2);S([qt("valueCache")],js.prototype,"valueCache",2);S([qt("animationFrameService")],js.prototype,"animationFrameService",2);S([H("sortController")],js.prototype,"sortController",2);S([H("columnDefFactory")],js.prototype,"columnDefFactory",2);S([We],js.prototype,"init",1);S([An],js.prototype,"destroyColumns",1);S([Vi(0,gi("loggerFactory"))],js.prototype,"setBeans",1);js=S([ot("columnModel")],js);function Ua(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}var $C=class extends He{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),s=this.calculateColMaxWidth(e);let n;const i=Mr(e.width),o=Mr(e.initialWidth);return i!=null?n=i:o!=null?n=o:n=200,Math.max(Math.min(n,s),t)}getOriginalPathForColumn(e,t){const s=[];let n=!1;const i=(o,r)=>{for(let l=0;l<o.length;l++){if(n)return;const a=o[l];a instanceof _s?(i(a.getChildren(),r+1),s[r]=a):a===e&&(n=!0)}};return i(t,0),n?s:null}depthFirstOriginalTreeSearch(e,t,s){t&&t.forEach(n=>{n instanceof _s&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),s),s(n,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(s=>{s instanceof Vs&&this.depthFirstAllColumnTreeSearch(s.getChildren(),t),t(s)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(s=>{s instanceof Vs&&this.depthFirstDisplayedColumnTreeSearch(s.getDisplayedChildren(),t),t(s)})}};$C=S([ot("columnUtils")],$C);var WC=class extends He{createDisplayedGroups(e,t,s,n){const i=this.mapOldGroupsById(n),o=[];let r=e;for(;r.length;){const l=r;r=[];let a=0;const c=h=>{const d=a;a=h;const p=l[d],m=(p instanceof Vs?p.getProvidedColumnGroup():p).getOriginalParent();if(m==null){for(let C=d;C<h;C++)o.push(l[C]);return}const f=this.createColumnGroup(m,t,i,s);for(let C=d;C<h;C++)f.addChild(l[C]);r.push(f)};for(let h=1;h<l.length;h++){const d=l[h],g=(d instanceof Vs?d.getProvidedColumnGroup():d).getOriginalParent(),m=l[a],C=(m instanceof Vs?m.getProvidedColumnGroup():m).getOriginalParent();g!==C&&c(h)}a<l.length&&c(l.length)}return this.setupParentsIntoColumns(o,null),o}createColumnGroup(e,t,s,n){const i=e.getGroupId(),o=t.getInstanceIdForKey(i),r=Vs.createUniqueId(i,o);let l=s[r];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ge(l)?l.reset():(l=new Vs(e,i,o,n),this.context.createBean(l)),l}mapOldGroupsById(e){const t={},s=n=>{n.forEach(i=>{if(i instanceof Vs){const o=i;t[i.getUniqueId()]=o,s(o.getChildren())}})};return e&&s(e),t}setupParentsIntoColumns(e,t){e.forEach(s=>{if(s.setParent(t),s instanceof Vs){const n=s;this.setupParentsIntoColumns(n.getChildren(),n)}})}};WC=S([ot("displayedGroupCreator")],WC);var nle={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Xs=class{};Xs.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"];Xs.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];Xs.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Xs.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Xs.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"];Xs.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];Xs.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"];Xs.FUNCTION_PROPERTIES=[...Xs.FUNCTIONAL_PROPERTIES,...Xs.CALLBACK_PROPERTIES];Xs.ALL_PROPERTIES=[...Xs.ARRAY_PROPERTIES,...Xs.OBJECT_PROPERTIES,...Xs.STRING_PROPERTIES,...Xs.NUMBER_PROPERTIES,...Xs.FUNCTION_PROPERTIES,...Xs.BOOLEAN_PROPERTIES];var Co=Xs,Ms=class Bp{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,s){typeof t!="object"&&(t={});const n=mt({},t);return Bp.getGridOptionKeys().forEach(o=>{const r=s[o];typeof r<"u"&&r!==Bp.VUE_OMITTED_PROPERTY&&(n[o]=r)}),n}static processOnChange(t,s){if(!t)return;const n={};let i=!1;if(Object.keys(t).filter(r=>Bp.ALL_PROPERTIES_AND_CALLBACKS_SET.has(r)).forEach(r=>{n[r]=t[r],i=!0}),!i)return;s.__internalUpdateGridOptions(n);const o={type:M.EVENT_COMPONENT_STATE_CHANGED};ln(n,(r,l)=>{o[r]=l}),s.dispatchEvent(o)}};Ms.EVENTS=Ml(M);Ms.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Ms.EXCLUDED_INTERNAL_EVENTS=[M.EVENT_SCROLLBAR_WIDTH_CHANGED,M.EVENT_CHECKBOX_CHANGED,M.EVENT_HEIGHT_SCALE_CHANGED,M.EVENT_BODY_HEIGHT_CHANGED,M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,M.EVENT_SCROLL_VISIBILITY_CHANGED,M.EVENT_COLUMN_HOVER_CHANGED,M.EVENT_FLASH_CELLS,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,M.EVENT_DISPLAYED_ROWS_CHANGED,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,M.EVENT_STORE_UPDATED,M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,M.EVENT_COLUMN_PANEL_ITEM_DRAG_END,M.EVENT_FILL_START,M.EVENT_FILL_END,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,M.EVENT_FULL_WIDTH_ROW_FOCUSED,M.EVENT_HEADER_HEIGHT_CHANGED,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,M.EVENT_CELL_FOCUS_CLEARED,M.EVENT_GRID_STYLES_CHANGED,M.EVENT_FILTER_DESTROYED,M.EVENT_ROW_DATA_UPDATE_STARTED,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,M.EVENT_DATA_TYPES_INFERRED,M.EVENT_FIELD_VALUE_CHANGED,M.EVENT_FIELD_PICKER_VALUE_SELECTED,M.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,M.EVENT_SUPPRESS_MENU_HIDE_CHANGED,M.EVENT_SUPPRESS_FIELD_DOT_NOTATION,M.EVENT_ROW_COUNT_READY,M.EVENT_SIDE_BAR_UPDATED];Ms.PUBLIC_EVENTS=Ms.EVENTS.filter(e=>!ni(Ms.EXCLUDED_INTERNAL_EVENTS,e));Ms.EVENT_CALLBACKS=Ms.EVENTS.map(e=>Ms.getCallbackForEvent(e));Ms.STRING_PROPERTIES=Co.STRING_PROPERTIES;Ms.OBJECT_PROPERTIES=Co.OBJECT_PROPERTIES;Ms.ARRAY_PROPERTIES=Co.ARRAY_PROPERTIES;Ms.NUMBER_PROPERTIES=Co.NUMBER_PROPERTIES;Ms.BOOLEAN_PROPERTIES=Co.BOOLEAN_PROPERTIES;Ms.FUNCTION_PROPERTIES=Co.FUNCTION_PROPERTIES;Ms.ALL_PROPERTIES=Co.ALL_PROPERTIES;Ms.ALL_PROPERTIES_AND_CALLBACKS=[...Ms.ALL_PROPERTIES,...Ms.EVENT_CALLBACKS];Ms.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Ms.ALL_PROPERTIES_AND_CALLBACKS);var di=Ms,zC=class extends He{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const s=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[s]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};zC=S([ot("agStackComponentsRegistry")],zC);var rI={};Js(rI,{getAriaCheckboxStateName:()=>Hg,getAriaLabel:()=>cI,getAriaLevel:()=>ile,getAriaPosInSet:()=>uI,getAriaSortState:()=>aI,removeAriaExpanded:()=>fI,removeAriaSort:()=>wI,setAriaActiveDescendant:()=>Rb,setAriaAtomic:()=>dI,setAriaChecked:()=>rle,setAriaColCount:()=>vI,setAriaColIndex:()=>Db,setAriaColSpan:()=>CI,setAriaControls:()=>Ab,setAriaDescribedBy:()=>ole,setAriaDisabled:()=>Eb,setAriaExpanded:()=>Ko,setAriaHidden:()=>ph,setAriaLabel:()=>ji,setAriaLabelledBy:()=>If,setAriaLevel:()=>pI,setAriaLive:()=>Sb,setAriaMultiSelectable:()=>gI,setAriaPosInSet:()=>Vg,setAriaRelevant:()=>hI,setAriaRole:()=>Ts,setAriaRowCount:()=>mI,setAriaRowIndex:()=>Tb,setAriaSelected:()=>Ou,setAriaSetSize:()=>Gg,setAriaSort:()=>yI});function _i(e,t,s){s==null||typeof s=="string"&&s==""?bb(e,t):Mi(e,t,s)}function Mi(e,t,s){e.setAttribute(lI(t),s.toString())}function bb(e,t){e.removeAttribute(lI(t))}function lI(e){return`aria-${e}`}function Ts(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function aI(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function ile(e){return parseInt(e.getAttribute("aria-level"),10)}function uI(e){return parseInt(e.getAttribute("aria-posinset"),10)}function cI(e){return e.getAttribute("aria-label")}function ji(e,t){_i(e,"label",t)}function If(e,t){_i(e,"labelledby",t)}function ole(e,t){_i(e,"describedby",t)}function Sb(e,t){_i(e,"live",t)}function dI(e,t){_i(e,"atomic",t)}function hI(e,t){_i(e,"relevant",t)}function pI(e,t){_i(e,"level",t)}function Eb(e,t){_i(e,"disabled",t)}function ph(e,t){_i(e,"hidden",t)}function Rb(e,t){_i(e,"activedescendant",t)}function Ko(e,t){Mi(e,"expanded",t)}function fI(e){bb(e,"expanded")}function Gg(e,t){Mi(e,"setsize",t)}function Vg(e,t){Mi(e,"posinset",t)}function gI(e,t){Mi(e,"multiselectable",t)}function mI(e,t){Mi(e,"rowcount",t)}function Tb(e,t){Mi(e,"rowindex",t)}function vI(e,t){Mi(e,"colcount",t)}function Db(e,t){Mi(e,"colindex",t)}function CI(e,t){Mi(e,"colspan",t)}function yI(e,t){Mi(e,"sort",t)}function wI(e){bb(e,"sort")}function Ou(e,t){_i(e,"selected",t)}function rle(e,t){Mi(e,"checked",t===void 0?"mixed":t)}function Ab(e,t){_i(e,"controls",t.id),If(t,e.id)}function Hg(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var bI={};Js(bI,{browserSupportsPreventScroll:()=>Mb,getBodyHeight:()=>RI,getBodyWidth:()=>EI,getMaxDivHeight:()=>SI,getSafariVersion:()=>Pb,getScrollbarWidth:()=>TI,getTabIndex:()=>Ff,isBrowserChrome:()=>Bg,isBrowserFirefox:()=>Ob,isBrowserSafari:()=>yo,isIOSUserAgent:()=>or,isInvisibleScrollbar:()=>Ib,isMacOsUserAgent:()=>_b});var tv,rp,sv,nv,iv,ov,UC,KC;function yo(){return tv===void 0&&(tv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),tv}function Pb(){if(rp===void 0)if(yo()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(rp=e[1]!=null?parseFloat(e[1]):0)}else rp=0;return rp}function Bg(){if(sv===void 0){const e=window;sv=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return sv}function Ob(){return nv===void 0&&(nv=/(firefox)/i.test(navigator.userAgent)),nv}function _b(){return iv===void 0&&(iv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),iv}function or(){return ov===void 0&&(ov=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),ov}function Mb(){return!yo()||Pb()>=15}function Ff(e){if(!e)return null;const t=e.tabIndex,s=e.getAttribute("tabIndex");return t===-1&&(s===null||s===""&&!Ob())?null:t.toString()}function SI(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,s=document.createElement("div");for(document.body.appendChild(s);;){const n=e*2;if(s.style.height=n+"px",n>t||s.clientHeight!==n)break;e=n}return document.body.removeChild(s),e}function EI(){var e,t,s;return(s=(e=document.body)==null?void 0:e.clientWidth)!=null?s:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1}function RI(){var e,t,s;return(s=(e=document.body)==null?void 0:e.clientHeight)!=null?s:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1}function TI(){return KC==null&&DI(),KC}function DI(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;s===0&&t.clientWidth===0&&(s=null),t.parentNode&&t.parentNode.removeChild(t),s!=null&&(KC=s,UC=s===0)}function Ib(){return UC==null&&DI(),UC}var AI={};Js(AI,{dateToFormattedString:()=>ou,parseDateTimeFromString:()=>xn,serialiseDate:()=>yi});var PI={};Js(PI,{cleanNumber:()=>lle,createArrayOfNumbers:()=>OI,decToHex:()=>ale,formatNumberCommas:()=>Fb,formatNumberTwoDecimalPlacesAndCommas:()=>ule,padStartWidthZeros:()=>iu,sum:()=>cle});function iu(e,t){return e.toString().padStart(t,"0")}function OI(e,t){const s=[];for(let n=e;n<=t;n++)s.push(n);return s}function lle(e){return typeof e=="string"&&(e=parseInt(e,10)),typeof e=="number"?Math.floor(e):null}function ale(e,t){let s="";for(let n=0;n<t;n++)s+=String.fromCharCode(e&255),e>>>=8;return s}function ule(e,t,s){return typeof e!="number"?"":Fb(Math.round(e*100)/100,t,s)}function Fb(e,t,s){return typeof e!="number"?"":e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function cle(e){return e==null?null:e.reduce((t,s)=>t+s,0)}function yi(e,t=!0,s="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>iu(i,2)).join(s);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>iu(i,2)).join(":")),n}var rv=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ou(e,t="YYYY-MM-DD"){const s=iu(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>s.slice(s.length-4,s.length),YY:()=>s.slice(s.length-2,s.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>iu(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${rv(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${rv(e.getDate())}`,DD:()=>iu(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${rv(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,l=>l in o?o[l]():l)}function xn(e){if(!e)return null;const[t,s]=e.split(" ");if(!t)return null;const n=t.split("-").map(d=>parseInt(d,10));if(n.filter(d=>!isNaN(d)).length!==3)return null;const[i,o,r]=n,l=new Date(i,o-1,r);if(l.getFullYear()!==i||l.getMonth()!==o-1||l.getDate()!==r)return null;if(!s||s==="00:00:00")return l;const[a,c,h]=s.split(":").map(d=>parseInt(d,10));return a>=0&&a<24&&l.setHours(a),c>=0&&c<60&&l.setMinutes(c),h>=0&&h<60&&l.setSeconds(h),l}var _I={};Js(_I,{FOCUSABLE_EXCLUDE:()=>Lb,FOCUSABLE_SELECTOR:()=>MI,addOrRemoveAttribute:()=>ho,addStylesToElement:()=>Bb,bindCellRendererToHtmlElement:()=>Wb,clearElement:()=>Fs,copyNodeList:()=>xI,ensureDomOrder:()=>Vb,formatSize:()=>$g,getAbsoluteHeight:()=>xb,getAbsoluteWidth:()=>Rd,getElementRectWithOffset:()=>kb,getElementSize:()=>Xr,getInnerHeight:()=>fh,getInnerWidth:()=>pa,getScrollLeft:()=>Dd,insertWithDomOrder:()=>FI,isElementChildOfClass:()=>Fl,isFocusableFormField:()=>Nb,isHorizontalScrollShowing:()=>LI,isInDOM:()=>Gb,isNodeOrElement:()=>gh,isRtlNegativeScroll:()=>Td,isVerticalScrollShowing:()=>NI,isVisible:()=>ii,iterateNamedNodeMap:()=>kI,loadTemplate:()=>kn,nodeListForEach:()=>$b,radioCssClass:()=>jC,removeFromParent:()=>Hi,setDisabled:()=>_u,setDisplayed:()=>Wt,setDomChildOrder:()=>Hb,setElementHeight:()=>dle,setElementWidth:()=>Pd,setFixedHeight:()=>Ll,setFixedWidth:()=>wi,setScrollLeft:()=>Ad,setVisible:()=>II});var lp;function jC(e,t,s){const n=e.parentElement;let i=n&&n.firstChild;for(;i;)t&&i.classList.toggle(t,i===e),s&&i.classList.toggle(s,i!==e),i=i.nextSibling}var MI="[tabindex], input, select, button, textarea, [href]",Lb="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Nb(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,Lb),o=ii(e);return n&&!i&&o}function Wt(e,t,s={}){const{skipAriaHidden:n}=s;e.classList.toggle("ag-hidden",!t),n||ph(e,!t)}function II(e,t,s={}){const{skipAriaHidden:n}=s;e.classList.toggle("ag-invisible",!t),n||ph(e,!t)}function _u(e,t){const s="disabled",n=t?i=>i.setAttribute(s,""):i=>i.removeAttribute(s);n(e),$b(e.querySelectorAll("input"),i=>n(i))}function Fl(e,t,s){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof s=="number"){if(++n>s)break}else if(e===s)break}return!1}function Xr(e){const{height:t,width:s,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:r,paddingTop:l,paddingRight:a,paddingBottom:c,paddingLeft:h,marginTop:d,marginRight:p,marginBottom:g,marginLeft:m,boxSizing:f}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(s||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(a||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(m||"0"),boxSizing:f}}function fh(e){const t=Xr(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function pa(e){const t=Xr(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function xb(e){const t=Xr(e),s=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+s)}function Rd(e){const t=Xr(e),s=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+s)}function kb(e){const t=e.getBoundingClientRect(),{borderTopWidth:s,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=Xr(e);return{top:t.top+(s||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function Td(){if(typeof lp=="boolean")return lp;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,lp=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),lp}function Dd(e,t){let s=e.scrollLeft;return t&&(s=Math.abs(s),Bg()&&!Td()&&(s=e.scrollWidth-e.clientWidth-s)),s}function Ad(e,t,s){s&&(Td()?t*=-1:(yo()||Bg())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Fs(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Hi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Gb(e){return!!e.offsetParent}function ii(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Gb(e)||window.getComputedStyle(e).visibility!=="visible")}function kn(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Vb(e,t,s){s&&s.nextSibling===t||(s?s.nextSibling?e.insertBefore(t,s.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function Hb(e,t){for(let s=0;s<t.length;s++){const n=t[s],i=e.children[s];i!==n&&e.insertBefore(n,i)}}function FI(e,t,s){s?s.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function Bb(e,t){if(t)for(const[s,n]of Object.entries(t)){if(!s||!s.length||n==null)continue;const i=iI(s),o=n.toString(),r=o.replace(/\s*!important/g,""),l=r.length!=o.length?"important":void 0;e.style.setProperty(i,r,l)}}function LI(e){return e.clientWidth<e.scrollWidth}function NI(e){return e.clientHeight<e.scrollHeight}function Pd(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):wi(e,t)}function wi(e,t){t=$g(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function dle(e,t){t==="flex"?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):Ll(e,t)}function Ll(e,t){t=$g(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function $g(e){return typeof e=="number"?`${e}px`:e}function gh(e){return e instanceof Node||e instanceof HTMLElement}function xI(e){if(e==null)return[];const t=[];return $b(e,s=>t.push(s)),t}function kI(e,t){if(e)for(let s=0;s<e.length;s++){const n=e[s];t(n.name,n.value)}}function ho(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s.toString())}function $b(e,t){if(e!=null)for(let s=0;s<e.length;s++)t(e[s])}function Wb(e,t){e.then(s=>{const n=s.getGui();n!=null&&(typeof n=="object"?t.appendChild(n):t.innerHTML=n)})}var GI={};Js(GI,{fuzzyCheckStrings:()=>VI,fuzzySuggestions:()=>mh});function VI(e,t,s){const n={},i=e.filter(o=>!t.some(r=>r===o));return i.length>0&&i.forEach(o=>n[o]=mh(o,s).values),n}function mh(e,t,s,n){let i=t.map((l,a)=>({value:l,relevance:hle(e.toLowerCase(),l.toLocaleLowerCase()),idx:a}));if(i.sort((l,a)=>a.relevance-l.relevance),s&&(i=i.filter(l=>l.relevance!==0)),i.length>0&&n&&n>0){const a=i[0].relevance*n;i=i.filter(c=>a-c.relevance<0)}const o=[],r=[];for(const l of i)o.push(l.value),r.push(l.idx);return{values:o,indices:r}}function hle(e,t){const s=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let i=0,o=-1;for(let r=0;r<s.length;r++){const l=n.indexOf(s[r],o+1);l!==-1&&(o=l,i+=100-o*100/1e4*100)}return i}var HI={};Js(HI,{createIcon:()=>ui,createIconNoSpan:()=>Es,iconNameClassMap:()=>BI});var BI={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function ui(e,t,s){const n=Es(e,t,s);if(n){const{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function Es(e,t,s,n){let i=null;const o=s&&s.getColDef().icons;if(o&&(i=o[e]),t&&!i){const r=t.get("icons");r&&(i=r[e])}if(i){let r;if(typeof i=="function")r=i();else if(typeof i=="string")r=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof r=="string")return kn(r);if(gh(r))return r;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const r=document.createElement("span");let l=BI[e];return l||(n?l=e:(console.warn(`AG Grid: Did not find icon ${e}`),l="")),r.setAttribute("class",`ag-icon ag-icon-${l}`),r.setAttribute("unselectable","on"),Ts(r,"presentation"),r}}var $I={};Js($I,{isDeleteKey:()=>UI,isEventFromPrintableCharacter:()=>Wg,isUserSuppressingHeaderKeyboardEvent:()=>WI,isUserSuppressingKeyboardEvent:()=>Lf,normaliseQwertyAzerty:()=>zI});var fe=class{};fe.BACKSPACE="Backspace";fe.TAB="Tab";fe.ENTER="Enter";fe.ESCAPE="Escape";fe.SPACE=" ";fe.LEFT="ArrowLeft";fe.UP="ArrowUp";fe.RIGHT="ArrowRight";fe.DOWN="ArrowDown";fe.DELETE="Delete";fe.F2="F2";fe.PAGE_UP="PageUp";fe.PAGE_DOWN="PageDown";fe.PAGE_HOME="Home";fe.PAGE_END="End";fe.A="KeyA";fe.C="KeyC";fe.D="KeyD";fe.V="KeyV";fe.X="KeyX";fe.Y="KeyY";fe.Z="KeyZ";var ple=65,fle=67,gle=86,mle=68,vle=90,Cle=89;function Wg(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key.length===1}function Lf(e,t,s,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r=e.addGridCommonParams({event:t,editing:i,column:n,node:s,data:s.data,colDef:n.getColDef()});return!!(o&&o(r))}function WI(e,t,s,n){const i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!Ge(o))return!1;const r=e.addGridCommonParams({colDef:i,column:n,headerRowIndex:s,event:t});return!!o(r)}function zI(e){const{keyCode:t}=e;let s;switch(t){case ple:s=fe.A;break;case fle:s=fe.C;break;case gle:s=fe.V;break;case mle:s=fe.D;break;case vle:s=fe.Z;break;case Cle:s=fe.Y;break;default:s=e.code}return s}function UI(e,t=!1){return e===fe.DELETE?!0:!t&&e===fe.BACKSPACE?_b():!1}var KI={};Js(KI,{areEventsNear:()=>zb});function zb(e,t,s){if(s===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=s}var jI={};Js(jI,{sortRowNodesByOrder:()=>yle});function yle(e,t){if(!e)return!1;const s=(r,l)=>{const a=t[r.id],c=t[l.id],h=a!==void 0,d=c!==void 0,p=h&&d,g=!h&&!d;return p?a-c:g?r.__objectId-l.__objectId:h?1:-1};let n,i,o=!1;for(let r=0;r<e.length-1;r++)if(n=e[r],i=e[r+1],s(n,i)>0){o=!0;break}return o?(e.sort(s),!0):!1}var YI={};Js(YI,{convertToSet:()=>Ub});function Ub(e){const t=new Set;return e.forEach(s=>t.add(s)),t}var wle=mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt({},rI),zM),bI),AI),_I),WM),NM),GI),IM),HI),$I),oI),KI),PI),FM),jI),YI),sI),xt=wle,Mu=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Qn=class $p{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(s=>this.onDone(s),s=>this.onReject(s))}static all(t){return new $p(s=>{let n=t.length;const i=new Array(n);t.forEach((o,r)=>{o.then(l=>{i[r]=l,n--,n===0&&s(i)})})})}static resolve(t=null){return new $p(s=>s(t))}then(t){return new $p(s=>{this.status===1?s(t(this.resolution)):this.waiters.push(n=>s(t(n)))})}resolveNow(t,s){return this.status===1?s(this.resolution):t}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(s=>s(t))}onReject(t){console.warn("TBI")}},ble=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},vh=class al extends He{constructor(t,s,n,i){super(),this.parentComp=t,this.tooltipShowDelayOverride=s,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=i,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(t){const s=this.gridOptionsService.get(t);return s<0&&St(`${t} should not be lower than 0`),Math.max(200,s)}getTooltipDelay(t){var s,n;return t==="show"?(s=this.tooltipShowDelayOverride)!=null?s:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(n=this.tooltipHideDelayOverride)!=null?n:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!or()&&(al.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var s;const n=t.relatedTarget,i=this.parentComp.getGui(),o=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&(o!=null&&o.contains(n))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||al.isLocked)return;let s=0;t&&(s=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),s=al.lastTooltipHideTime;return t-s<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t=mt({},this.parentComp.getTooltipParams());if(!Ge(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(s)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),al.lastTooltipHideTime=new Date().getTime());const s={type:M.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(s),this.state=0}newTooltipComponentCallback(t,s){if(this.state!==2||this.tooltipInstanceCount!==t){this.getContext().destroyBean(s);return}const i=s.getGui();this.tooltipComp=s,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));const l={type:M.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(t){var s;const n=this.parentComp.getGui(),i=(s=this.tooltipComp)==null?void 0:s.getGui(),o=t.relatedTarget;i!=null&&i.contains(o)||(this.isInteractingWithTooltip=!1,n.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(vs(mt({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(vs(mt({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,s=this.tooltipComp,n=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{t(),this.getContext().destroyBean(s)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){al.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){al.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};vh.isLocked=!1;S([H("popupService")],vh.prototype,"popupService",2);S([H("userComponentFactory")],vh.prototype,"userComponentFactory",2);S([We],vh.prototype,"postConstruct",1);var Sle=vh,rr=class extends He{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",s=this.ctrl.getGui();s&&(e!=null&&e!=""?s.setAttribute(t,e):s.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,s,n;if(this.tooltipManager!=null)return;const i={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new Sle(i,(t=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:t.call(e),(n=(s=this.ctrl).getTooltipHideDelayOverride)==null?void 0:n.call(s),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,s=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:s,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var i;return(i=this.tooltipManager)==null?void 0:i.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};S([H("beans")],rr.prototype,"beans",2);S([We],rr.prototype,"postConstruct",1);var Ele=new Mu,Ch=class YC extends He{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=Ele.next(),this.cssClassManager=new ble(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:s,showDelayOverride:n,hideDelayOverride:i,location:o,shouldDisplayTooltip:r}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==s&&(this.tooltipText=s);const l=()=>this.tooltipText;s!=null&&(this.tooltipFeature=this.createBean(new rr({getTooltipValue:l,getGui:()=>this.getGui(),getLocation:()=>o??"UNKNOWN",getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:i!=null?()=>i:void 0,shouldDisplayTooltip:r})))}createChildComponentsFromTags(t,s){xI(t.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const o=this.createComponentFromElement(i,r=>{r.getGui()&&this.copyAttributesFromNode(i,r.getGui())},s);if(o){if(o.addItems&&i.children.length){this.createChildComponentsFromTags(i,s);const r=Array.prototype.slice.call(i.children);o.addItems(r)}this.swapComponentForNode(o,t,i)}else i.childNodes&&this.createChildComponentsFromTags(i,s)})}createComponentFromElement(t,s,n){const i=t.nodeName,o=n?n[t.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(i);if(r){YC.elementGettingCreated=t;const l=new r(o);return l.setParentComponent(this),this.createBean(l,null,s),l}return null}copyAttributesFromNode(t,s){kI(t.attributes,(n,i)=>s.setAttribute(n,i))}swapComponentForNode(t,s,n){const i=t.getGui();s.replaceChild(i,n),s.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)}swapInComponentForQuerySelectors(t,s){const n=this;this.iterateOverQuerySelectors(i=>{n[i.attributeName]===s&&(n[i.attributeName]=t)})}iterateOverQuerySelectors(t){let s=Object.getPrototypeOf(this);for(;s!=null;){const n=s.__agComponentMetaData,i=Fg(s.constructor);n&&n[i]&&n[i].querySelectors&&n[i].querySelectors.forEach(o=>t(o)),s=Object.getPrototypeOf(s)}}activateTabIndex(t){const s=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",s.toString()))}setTemplate(t,s){const n=kn(t);this.setTemplateFromElement(n,s)}setTemplateFromElement(t,s){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(s=>{const n=o=>t[s.attributeName]=o;if(s.refSelector&&this.getAttribute("ref")===s.refSelector)n(this.eGui);else{const o=this.eGui.querySelector(s.querySelector);o&&n(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,s){if(t!=null)if(s||(s=this.eGui),gh(t))s.appendChild(t);else{const n=t;s.appendChild(n.getGui())}}isDisplayed(){return this.displayed}setVisible(t,s={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=s;II(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,s={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=s;Wt(this.eGui,t,{skipAriaHidden:n});const i={type:YC.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,s,n){this.eGui.addEventListener(t,s,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,s))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,s){this.cssClassManager.addOrRemoveCssClass(t,s)}getAttribute(t){const{eGui:s}=this;return s?s.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}};Ch.EVENT_DISPLAYED_CHANGED="displayedChanged";S([H("agStackComponentsRegistry")],Ch.prototype,"agStackComponentsRegistry",2);S([VM],Ch.prototype,"preConstructOnComponent",1);S([VM],Ch.prototype,"createChildComponentsPreConstruct",1);var Mt=Ch;function Ze(e){return Rle.bind(this,`[ref=${e}]`,e)}function Rle(e,t,s,n,i){if(e===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}Tle(s,"querySelectors",{attributeName:n,querySelector:e,refSelector:t})}function Tle(e,t,s){const n=Dle(e,Fg(e.constructor));n[t]||(n[t]=[]),n[t].push(s)}function Dle(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}var Kb=class extends Mt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),s=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${s("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const s=t.getModelAsString(e);this.eFloatingFilterText.setValue(s)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};S([Ze("eFloatingFilterText")],Kb.prototype,"eFloatingFilterText",2);S([H("columnModel")],Kb.prototype,"columnModel",2);var qI=class{constructor(e,t,s,n){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(s).newAgStackInstance().then(r=>{if(!this.alive){e.destroyBean(r);return}this.dateComp=r,r&&(n.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached(),this.tempValue&&r.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Wt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,s;let n=!1;(t=this.dateComp)!=null&&t.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(n=!0),!n&&((s=this.dateComp)!=null&&s.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&St("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},XI=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],s=n=>n.some(i=>e[i]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(s)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},QI={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},zg=class ZI extends He{constructor(t,s={}){super(),this.eFocusableElement=t,this.callbacks=s,this.callbacks=mt({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},s)}postConstruct(){this.eFocusableElement.classList.add(ZI.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",s=>{if(!(s.defaultPrevented||Wi(s))){if(this.callbacks.shouldStopEventPropagation(s)){Ki(s);return}s.key===fe.TAB?this.callbacks.onTabKeyDown(s):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(s)}})}};zg.FOCUS_MANAGED_CLASS="ag-focus-managed";S([H("focusService")],zg.prototype,"focusService",2);S([We],zg.prototype,"postConstruct",1);var Qr=zg,JI="ag-resizer-wrapper",Ale=`<div class="${JI}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,Qu=class extends He{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,s=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(s,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:s,width:n,minHeight:i,height:o,x:r,y:l}=this.config;this.offsetParent||this.setOffsetParent();let a=0,c=0;const h=ii(this.element);if(h){const d=this.findBoundaryElement(),p=window.getComputedStyle(d);if(p.minWidth!=null){const g=d.offsetWidth-this.element.offsetWidth;c=parseInt(p.minWidth,10)-g}if(p.minHeight!=null){const g=d.offsetHeight-this.element.offsetHeight;a=parseInt(p.minHeight,10)-g}}if(this.minHeight=i||a,this.minWidth=s||c,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(r||l)this.offsetElement(r,l);else if(h&&t){let d=this.boundaryEl,p=!0;if(d||(d=this.findBoundaryElement(),p=!1),d){const g=parseFloat(d.style.top),m=parseFloat(d.style.left);p?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const s=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(s),this.moveElementDragListener=s):(this.dragService.removeDragSource(s),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:r=>this.onResizeStart(r,t),onDragging:this.onResize.bind(this),onDragStop:r=>this.onResizeEnd(r,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,s=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ll(s,e),e=xb(s),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(s.style.maxHeight="unset",s.style.minHeight="unset"):t?Ll(s,e):(s.style.height=`${e}px`,s.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:s}=this.offsetParent;if(!s)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,r=e?0:i.top;let l=0;if(t){const c=this.element.parentElement;if(c){const{bottom:h}=c.getBoundingClientRect();l=h-n.bottom}}return s+r-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:s}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)wi(t,e),e=Rd(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=s?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?wi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:s}=this.config,n=s?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const s=this.getAvailableHeight();this.element.style.setProperty("max-height",`${s}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:s,isTop:n,anywhereWithin:i,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,a=this.shouldSkipX(t,!!s,!!i,r)?0:r,c=this.shouldSkipY(t,!!n,o,l)?0:l;return{movementX:a,movementY:c}}shouldSkipX(e,t,s,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:i.left;let a=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return a?!0:(t?a=n<0&&e.clientX>l+o.left||n>0&&e.clientX<l+o.left:s?a=n<0&&e.clientX>r.right||n>0&&e.clientX<l+o.left:a=n<0&&e.clientX>r.right||n>0&&e.clientX<r.right,a)}shouldSkipY(e,t,s=0,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:i.top;let a=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return a?!0:(t?a=n<0&&e.clientY>l+o.top+s||n>0&&e.clientY<l+o.top:a=n<0&&e.clientY>r.bottom||n>0&&e.clientY<r.bottom,a)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const s=new DOMParser().parseFromString(Ale,"text/html").body;e.appendChild(s.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${JI}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:s,forcePopupParentAsOffsetParent:n}=this.config;!s&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(s=>!s.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,s=0;for(let n=0;n<e.length;n++){const i=e[n],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let r=this.minHeight||0,l=this.minWidth||0;if(o){const a=window.getComputedStyle(i);a.minHeight&&(r=parseInt(a.minHeight,10)),a.minWidth&&(l=parseInt(a.minWidth,10))}else r=i.offsetHeight,l=i.offsetWidth;t+=r,s+=l}return{height:t,width:s}}applySizeToSiblings(e){let t=null;const s=this.getSiblings();if(s){for(let n=0;n<s.length;n++){const i=s[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=s[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:s}=this.config,{isTop:n,isRight:i,isBottom:o,isLeft:r}=this.currentResizer,l=i||r,a=o||n,{movementX:c,movementY:h}=this.calculateMouseMovement({e,isLeft:r,isTop:n}),d=this.position.x,p=this.position.y;let g=0,m=0;if(l&&c){const f=r?-1:1,C=this.getWidth(),v=C+c*f;let y=!1;r&&(g=C-v,(d+g<=0||v<=this.minWidth)&&(y=!0,g=0)),y||this.setWidth(v)}if(a&&h){const f=n?-1:1,C=this.getHeight(),v=C+h*f;let y=!1;n?(m=C-v,(p+m<=0||v<=this.minHeight)&&(y=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<v&&this.getMinSizeOfSiblings().height+v>this.element.parentElement.offsetHeight&&(y=!0),y||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),((t||s)&&g||m)&&this.offsetElement(d+g,p+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const s={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(s)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:s}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,s+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};S([H("popupService")],Qu.prototype,"popupService",2);S([H("resizeObserverService")],Qu.prototype,"resizeObserverService",2);S([H("dragService")],Qu.prototype,"dragService",2);var Ug=class Dc extends Mt{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new Qr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Qu(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let s=this.getGui();s&&s.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,t),s=this.getGui(),s&&s.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=Dc.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=Dc.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:t}=this.providedFilterParams,s=t&&t.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Fs(this.eButtonsPanel),this.buttonListeners.forEach(o=>o==null?void 0:o()),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s){this.eButtonsPanel&&Hi(this.eButtonsPanel);return}const n=document.createDocumentFragment(),i=o=>{let r,l;switch(o){case"apply":r=this.translate("applyFilter"),l=h=>this.onBtApply(!1,!1,h);break;case"clear":r=this.translate("clearFilter"),l=()=>this.onBtClear();break;case"reset":r=this.translate("resetFilter"),l=()=>this.onBtReset();break;case"cancel":r=this.translate("cancelFilter"),l=h=>{this.onBtCancel(h)};break;default:console.warn("AG Grid: Unknown button type specified");return}const c=kn(`<button
                    type="${o==="apply"?"submit":"button"}"
                    ref="${o}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${r}
                </button>`);this.buttonListeners.push(this.addManagedListener(c,"click",l)),n.append(c)};Ub(t).forEach(o=>i(o)),this.eButtonsPanel.append(n),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=Dc.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),s=yn(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,s()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,s){const n=()=>{this.onUiChanged(!1,"prevent"),s==null||s()};t!=null?this.setModelIntoUi(t).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const s=this.getModelFromUi();if(!this.isModelValid(s))return!1;const n=this.appliedModel;return this.appliedModel=s,!this.areModelsEqual(n,s)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,s=!1,n){n&&n.preventDefault(),this.applyModel(s?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:s,source:"columnFilter"});const{closeOnApply:i}=this.providedFilterParams;i&&this.applyActive&&!t&&!s&&this.close(n)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const s=t,n=s&&s.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:s}),this.hidePopup(i),this.hidePopup=null}onUiChanged(t=!1,s){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.getRefElement("applyFilterButton");i&&_u(i,!n)}t&&!s||s==="immediately"?this.onBtApply(t):(!this.applyActive&&!s||s==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;const s=t==="floatingFilter"||t==="columnFilter",{positionableFeature:n,gridOptionsService:i}=this;s?(n.restoreLastSize(),n.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,s){return Dc.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:s}static isUseApplyButton(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}refresh(t){return this.providedFilterParams=t,!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,QI[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}};S([H("rowModel")],Ug.prototype,"rowModel",2);S([Ze("eFilterBody")],Ug.prototype,"eFilterBody",2);S([We],Ug.prototype,"postConstruct",1);var Nf=Ug,jb=class extends Mt{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:s,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),s!=null&&this.setLabelWidth(s),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Fs(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Wt(this.eLabel,!1),Ts(this.eLabel,"presentation")):(Wt(this.eLabel,!0),Ts(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const s=this.getGui().classList;return s.toggle("ag-label-align-left",e==="left"),s.toggle("ag-label-align-right",e==="right"),s.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Pd(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return _u(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};S([We],jb.prototype,"postConstruct",1);var eF=class extends jb{constructor(e,t,s){super(e,t),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:s}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),s!=null&&this.onValueChange(s),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId();cI(e)!==null?If(e,""):If(e,t??"")}setAriaLabel(e){return ji(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,M.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return wi(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this)}},Ple=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,fa=class extends eF{constructor(e){if(super(e,(e==null?void 0:e.template)||Ple,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:s,variableWidth:n,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,s!=null&&this.setPickerMaxHeight(s),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:s,inputWidth:n}=this.config;if(s){const i=Es(s,this.gridOptionsService);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Ko(e,!1),this.ariaRole&&Ts(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case fe.UP:case fe.DOWN:case fe.ENTER:case fe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case fe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),t=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const s=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:o=!0}=this.config,r={modal:o,eChild:t,closeOnEsc:!0,closedCallback:()=>{const g=e.activeElement===e.body;this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:s(n,i)},l=this.popupService.addPopup(r),{maxPickerHeight:a,minPickerWidth:c,maxPickerWidth:h,variableWidth:d}=this;d?(c&&(t.style.minWidth=c),t.style.width=$g(Rd(this.eWrapper)),h&&(t.style.maxWidth=h)):Pd(t,h??Rd(this.eWrapper));const p=a??`${fh(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",p),t.style.position="absolute",this.alignPickerToComponent(),l.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,s=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Ko(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Pd(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};S([H("popupService")],fa.prototype,"popupService",2);S([Ze("eLabel")],fa.prototype,"eLabel",2);S([Ze("eWrapper")],fa.prototype,"eWrapper",2);S([Ze("eDisplayField")],fa.prototype,"eDisplayField",2);S([Ze("eIcon")],fa.prototype,"eIcon",2);var Kg=class Wp extends Mt{constructor(t="default",s=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=s,this.options=[],this.itemEls=[]}init(){const t=this.getGui();this.addManagedListener(t,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(t,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const s=t.key;switch(s){case fe.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case fe.DOWN:case fe.UP:const n=s===fe.DOWN;let i;if(t.preventDefault(),!this.highlightedEl)i=this.itemEls[n?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i);break}}addOptions(t){return t.forEach(s=>this.addOption(s)),this}addOption(t){const{value:s,text:n}=t,i=n||s;return this.options.push({value:s,text:i}),this.renderOption(s,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{Hi(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((s,n)=>{Vg(s,n+1),Gg(s,t.length)})}renderOption(t,s){const n=this.gridOptionsService.getDocument(),i=n.createElement("div");Ts(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const o=n.createElement("span");i.appendChild(o),o.innerText=s,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListener(i,"mousemove",()=>this.highlightItem(i)),this.addManagedListener(i,"mousedown",r=>{r.preventDefault(),this.setValue(t)}),this.createManagedBean(new rr({getTooltipValue:()=>s,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})),this.getGui().appendChild(i)}setValue(t,s){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(s),this;const n=this.options.findIndex(i=>i.value===t);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),s||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(s=>s.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!ii(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(Wp.ACTIVE_CLASS),Ou(this.highlightedEl,!0);const s=this.getGui(),n=s.getBoundingClientRect(),i=n.top+s.scrollTop,o=n.height,{offsetTop:r,offsetHeight:l}=t;(r+l>i+o||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!ii(this.highlightedEl)||(this.highlightedEl.classList.remove(Wp.ACTIVE_CLASS),Ou(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:Wp.EVENT_ITEM_SELECTED})}};Kg.EVENT_ITEM_SELECTED="selectedItem";Kg.ACTIVE_CLASS="ag-active-item";S([We],Kg.prototype,"init",1);var qR=Kg,tF=class sF extends fa{constructor(t){super(mt({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:t,value:s,placeholder:n}=this.config;t!=null&&this.addOptions(t),s!=null&&this.setValue(s,!0),n&&s==null&&(this.eDisplayField.textContent=n),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new qR("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),s=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",s),Ab(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,qR.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:sF.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,M.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(t){var s;const{key:n}=t;n===fe.TAB?this.hidePicker():!this.isPickerDisplayed||n!==fe.ENTER&&n!==fe.UP&&n!==fe.DOWN?super.onKeyDown(t):(s=this.listComponent)==null||s.handleKeyDown(t)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(s=>this.addOption(s)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return(t=this.listComponent)==null||t.clearOptions(),this}setValue(t,s,n){if(this.value===t||!this.listComponent)return this;if(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let o=this.listComponent.getDisplayValue();return o==null&&this.config.placeholder&&(o=this.config.placeholder),this.eDisplayField.innerHTML=o,this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,s)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};tF.EVENT_ITEM_SELECTED="selectedItem";var jg=tF,Bi=class extends eF{constructor(e,t,s="text",n="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,t),this.inputType=s,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Pd(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return ho(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return ji(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return _u(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)ho(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";ho(this.eInput,"autocomplete",t)}return this}};S([Ze("eLabel")],Bi.prototype,"eLabel",2);S([Ze("eWrapper")],Bi.prototype,"eWrapper",2);S([Ze("eInput")],Bi.prototype,"eInput",2);var Yg=class extends Bi{constructor(e,t="ag-checkbox",s="checkbox"){super(e,t,s),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,s){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:s});const n=this.getInputElement(),i={type:M.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:t};this.eventService.dispatchEvent(i)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),s=this.selected=e.target.checked;this.refreshSelectedClass(s),this.dispatchChange(s,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},nF=class extends Yg{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,M.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Yb=class{constructor(e,t,s){this.localeService=e,this.optionsFactory=t,this.valueFormatter=s}getModelAsString(e){if(!e)return null;const t=e.operator!=null,s=this.localeService.getLocaleTextFunc();if(t){const n=e;let{conditions:i}=n;if(!i){const{condition1:l,condition2:a}=n;i=[l,a]}const o=i.map(l=>this.getModelAsString(l)),r=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${s(r,QI[r])} `)}else{if(e.type===Rs.BLANK||e.type===Rs.NOT_BLANK)return s(e.type,e.type);{const n=e,i=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:r,numberOfInputs:l}=i||{};return o&&r&&l===0?(s(o,r),r):this.conditionToString(n,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!=null?t:"":String(e)}},Pn=class Ga extends Nf{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const s=this.optionsFactory.getCustomOption(t);if(s){const{numberOfInputs:i}=s;return i??1}const n=[Ga.EMPTY,Ga.NOT_BLANK,Ga.BLANK];return t&&n.indexOf(t)>=0?0:t===Ga.IN_RANGE?2:1}onFloatingFilterChanged(t,s){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((s,n)=>{n===0?s.setValue(t,!0):s.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,s){if(!t&&!s)return!0;if(!t&&s||t&&!s)return!1;const n=!t.operator,i=!s.operator;if(!n&&i||n&&!i)return!1;let r;if(n){const l=t,a=s;r=this.areSimpleModelsEqual(l,a)}else{const l=t,a=s;r=l.operator===a.operator&&ao(l.conditions,a.conditions,(c,h)=>this.areSimpleModelsEqual(c,h))}return r}shouldRefresh(t){var s,n,i;const o=this.getModel(),r=o?(s=o.conditions)!=null?s:[o]:null,l=(i=(n=t.filterOptions)==null?void 0:n.map(c=>typeof c=="string"?c:c.displayKey))!=null?i:this.getDefaultFilterOptions();return!(!(!r||r.every(c=>l.find(h=>h===c.type)!==void 0))||typeof t.maxNumConditions=="number"&&r&&r.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){let n=t;n.conditions||(n.conditions=[n.condition1,n.condition2]);const i=this.validateAndUpdateConditions(n.conditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let l=o;l<i;l++)this.createJoinOperatorPanel(),this.createOption();const r=n.operator==="OR";this.eJoinOperatorsAnd.forEach(l=>l.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(r,!0)),n.conditions.forEach((l,a)=>{this.eTypes[a].setValue(l.type,!0),this.setConditionIntoUi(l,a)})}else{const n=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Qn.resolve()}validateAndUpdateConditions(t){let s=t.length;return s>this.maxNumConditions&&(t.splice(this.maxNumConditions),St('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),s=this.maxNumConditions),s}doesFilterPass(t){var s;const n=this.getModel();if(n==null)return!0;const{operator:i}=n,o=[];if(i){const l=n;o.push(...(s=l.conditions)!=null?s:[])}else o.push(n);return o[i&&i==="OR"?"some":"every"](l=>this.individualConditionPasses(t,l))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new XI,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){var s,n;t.suppressAndOrCondition!=null&&St('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&St('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(s=t.maxNumConditions)!=null?s:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(St('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(n=t.numAlwaysVisibleConditions)!=null?n:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(St('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(St('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new jg);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const s=this.createValueElement();this.eConditionBodies.push(s),this.eFilterBody.appendChild(s),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const s=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const i=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(s,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(s.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(t,s,n){const i=this.createManagedBean(new nF);return t.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass(`ag-filter-condition-operator-${n}`),s.appendChild(i.getGui()),i}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(s=>typeof s=="string"?this.createBoilerplateListOption(s):this.createCustomListOption(s))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(s=>{t.addOption(s)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:s}=t,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:s,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(s)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let s=-1,n=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?s=i:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{const i=(t=this.lastUiCompletePosition)!=null?t:this.getNumConditions()-2;if(s<i){this.removeConditionsAndOperators(i+1);const o=s+1,r=i-o;r>0&&this.removeConditionsAndOperators(o,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=s}updateConditionStatusesAndValues(t,s){this.eTypes.forEach((i,o)=>{const r=this.isConditionDisabled(o,t);i.setDisabled(r||this.filterListOptions.length<=1),o===1&&(_u(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((i,o)=>{Wt(i,this.isConditionBodyVisible(o))});const n=(s??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((i,o)=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach((i,o)=>{i.setValue(n,!0)}),this.forEachInput((i,o,r,l)=>{this.setElementDisplayed(i,o<l),this.setElementDisabled(i,this.isConditionDisabled(r,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,s){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,s),this.removeElements(this.eConditionBodies,t,s),this.removeValueElements(t,s);const n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,s),this.removeComponents(this.eJoinOperatorsAnd,n,s),this.removeComponents(this.eJoinOperatorsOr,n,s)}removeElements(t,s,n){this.removeItems(t,s,n).forEach(o=>Hi(o))}removeComponents(t,s,n){this.removeItems(t,s,n).forEach(o=>{Hi(o.getGui()),this.destroyBean(o)})}removeItems(t,s,n){return n==null?t.splice(s):t.splice(s,n)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const s=this.getInputs(0)[0];if(!s)return;s instanceof Bi&&s.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let s=-1,n=-1,i=!1;const o=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))s===-1&&(s=l,n=l);else{const a=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),c=l<s;(a||c)&&(this.removeConditionsAndOperators(l,1),i=!0,c&&n--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(n,o),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(t,s){let n=this.translate(t);if(Lg(this.filterPlaceholder)){const i=this.filterPlaceholder,o=this.eTypes[s].getValue(),r=this.translate(o);n=i({filterOptionKey:o,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((s,n,i,o)=>{if(!(s instanceof Bi))return;const r=n===0&&o>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",l=n===0&&o>1?t("ariaFilterFromValue","Filter from value"):n===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");s.setInputPlaceholder(this.getPlaceholderText(r,i)),s.setInputAriaLabel(l)})}setElementValue(t,s,n){t instanceof Bi&&t.setValue(s!=null?String(s):null,!0)}setElementDisplayed(t,s){t instanceof Mt&&Wt(t.getGui(),s)}setElementDisabled(t,s){t instanceof Mt&&_u(t.getGui(),s)}attachElementOnChange(t,s){t instanceof Bi&&t.onValueChange(s)}forEachInput(t){this.getConditionTypes().forEach((s,n)=>{this.forEachPositionTypeInput(n,s,t)})}forEachPositionInput(t,s){const n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,s)}forEachPositionTypeInput(t,s,n){const i=this.getNumberOfInputs(s),o=this.getInputs(t);for(let r=0;r<o.length;r++){const l=o[r];l!=null&&n(l,r,t,i)}}isConditionDisabled(t,s){return this.isReadOnly()?!0:t===0?!1:t>s+1}isConditionBodyVisible(t){const s=this.getConditionType(t);return this.getNumberOfInputs(s)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===Ga.EMPTY||this.getValues(t).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)&&t.push(this.createCondition(s));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(s=>this.resetType(s)),this.eJoinOperatorsAnd.forEach((s,n)=>this.resetJoinOperatorAnd(s,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((s,n)=>this.resetJoinOperatorOr(s,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(s=>this.resetInput(s)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Qn.resolve()}resetType(t){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,s,n){this.resetJoinOperator(t,s,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(t,s,n){this.resetJoinOperator(t,s,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(t,s,n,i,o){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(i),s)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,s)=>this.updateJoinOperatorDisabled(t,s)),this.eJoinOperatorsOr.forEach((t,s)=>this.updateJoinOperatorDisabled(t,s))}updateJoinOperatorDisabled(t,s){t.setDisabled(this.isReadOnly()||s>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,s){const n=this.mapValuesFromModel(t);this.forEachInput((i,o,r,l)=>{r===s&&this.setElementValue(i,n[o]!=null?n[o]:null)})}setValueFromFloatingFilter(t){this.forEachInput((s,n,i,o)=>{this.setElementValue(s,n===0&&i===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,s){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(s,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(t,s){const n=this.getCellValue(t.node),i=this.mapValuesFromModel(s),o=this.optionsFactory.getCustomOption(s.type),r=this.evaluateCustomFilter(o,i,n);return r??(n==null?this.evaluateNullValue(s.type):this.evaluateNonNullValue(i,n,s,t))}evaluateCustomFilter(t,s,n){if(t==null)return;const{predicate:i}=t;if(i!=null&&!s.some(o=>o==null))return i(s,n)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}};Pn.EMPTY="empty";Pn.BLANK="blank";Pn.NOT_BLANK="notBlank";Pn.EQUALS="equals";Pn.NOT_EQUAL="notEqual";Pn.LESS_THAN="lessThan";Pn.LESS_THAN_OR_EQUAL="lessThanOrEqual";Pn.GREATER_THAN="greaterThan";Pn.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Pn.IN_RANGE="inRange";Pn.CONTAINS="contains";Pn.NOT_CONTAINS="notContains";Pn.STARTS_WITH="startsWith";Pn.ENDS_WITH="endsWith";var Rs=Pn,Gs=class $s extends Rs{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case $s.EQUALS:case $s.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case $s.GREATER_THAN:case $s.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case $s.LESS_THAN:case $s.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case $s.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case $s.BLANK:return!0;case $s.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,s,n){const i=this.comparator(),o=t[0]!=null?i(t[0],s):0;switch(n.type){case $s.EQUALS:return o===0;case $s.NOT_EQUAL:return o!==0;case $s.GREATER_THAN:return o>0;case $s.GREATER_THAN_OR_EQUAL:return o>=0;case $s.LESS_THAN:return o<0;case $s.LESS_THAN_OR_EQUAL:return o<=0;case $s.IN_RANGE:{const r=i(t[1],s);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case $s.BLANK:return this.isBlank(s);case $s.NOT_BLANK:return!this.isBlank(s);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},XR=1e3,QR=1/0,iF=class extends Yb{constructor(e,t,s){super(t,s),this.dateFilterParams=e}conditionToString(e,t){const{type:s}=e,{numberOfInputs:n}=t||{},i=s==Rs.IN_RANGE||n===2,o=xn(e.dateFrom),r=xn(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const a=o!==null?ou(o,l):"null",c=r!==null?ou(r,l):"null";return`${a}-${c}`}return o!=null?ou(o,l):`${s}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},qb=class oF extends Gs{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=XR,this.maxValidYear=QR,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:s,dateTo:n,type:i}=t||{};return[s&&xn(s)||null,n&&xn(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,s){const n=s;return s==null||n<t?-1:n>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const s=(n,i)=>{if(t[n]!=null)if(isNaN(t[n]))console.warn(`AG Grid: DateFilter ${n} is not a number`);else return t[n]==null?i:Number(t[n]);return i};this.minValidYear=s("minValidYear",XR),this.maxValidYear=s("maxValidYear",QR),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:xn(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:xn(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new iF(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const s=new qI(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(t,s){t.setDate(s)}setElementDisplayed(t,s){t.setDisplayed(s)}setElementDisabled(t,s){t.setDisabled(s)}getDefaultFilterOptions(){return oF.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(t,s,n,i){const o=document.createElement("div");o.classList.add(`ag-filter-${i}`),o.classList.add(`ag-filter-date-${i}`),s.push(o),t.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(t,s){this.removeDateComps(this.dateConditionFromComps,t,s),this.removeDateComps(this.dateConditionToComps,t,s),this.removeItems(this.eConditionPanelsFrom,t,s),this.removeItems(this.eConditionPanelsTo,t,s)}removeDateComps(t,s,n){this.removeItems(t,s,n).forEach(o=>o.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let s=!0;return this.forEachInput((n,i,o,r)=>{o!==t||!s||i>=r||(s=s&&this.isValidDateValue(n.getDate()))}),s}areSimpleModelsEqual(t,s){return t.dateFrom===s.dateFrom&&t.dateTo===s.dateTo&&t.type===s.type}getFilterType(){return"date"}createCondition(t){const s=this.getConditionType(t),n={},i=this.getValues(t);return i.length>0&&(n.dateFrom=yi(i[0])),i.length>1&&(n.dateTo=yi(i[1])),mt({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},n)}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(s),i.setInputAriaLabel(n)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const s=[];return this.forEachPositionInput(t,(n,i,o,r)=>{i<r&&s.push(n.getDate())}),s}translate(t){return t===Gs.LESS_THAN?super.translate("before"):t===Gs.GREATER_THAN?super.translate("after"):super.translate(t)}getModelAsString(t){var s;return(s=this.filterModelFormatter.getModelAsString(t))!=null?s:""}};qb.DEFAULT_FILTER_OPTIONS=[Gs.EQUALS,Gs.NOT_EQUAL,Gs.LESS_THAN,Gs.GREATER_THAN,Gs.IN_RANGE,Gs.BLANK,Gs.NOT_BLANK];S([H("userComponentFactory")],qb.prototype,"userComponentFactory",2);var rF=qb,lF=class extends Mt{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let s;t?s=e.conditions[0]:s=e,this.lastType=s.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const s=e;return this.isTypeEditable(s.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new XI,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const s=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(s)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:s}=t||{};return s==null||s==1}isTypeEditable(e){const t=[Rs.IN_RANGE,Rs.EMPTY,Rs.BLANK,Rs.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}},qg=class extends lF{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return rF.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new iF(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const s=e;this.dateComp.setDate(xn(s.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Wt(this.eDateWrapper,e),Wt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=yi(e);this.params.parentFilterInstance(s=>{if(s){const n=xn(t);s.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=Nf.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:yn(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new qI(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};S([H("userComponentFactory")],qg.prototype,"userComponentFactory",2);S([Ze("eReadOnlyText")],qg.prototype,"eReadOnlyText",2);S([Ze("eDateWrapper")],qg.prototype,"eDateWrapper",2);var aF=class extends Mt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.gridOptionsService.getDocument(),s=this.eDateInput.getInputElement();this.addManagedListener(s,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||s.focus()}),this.addManagedListener(s,"input",n=>{n.target===t.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=s&&yo(),t.type=s?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:o,maxValidDate:r}=e.filterParams||{};if(o&&n&&St("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),r&&i&&St("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&r){const[l,a]=[o,r].map(c=>c instanceof Date?c:xn(c));l&&a&&l.getTime()>a.getTime()&&St("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=ou(o):t.min=o:n&&(t.min=`${n}-01-01`),r?r instanceof Date?t.max=ou(r):t.max=r:i&&(t.max=`${i}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return xn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(yi(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Bg()||Ob()||yo()&&Pb()>=14.1}};S([Ze("eDateInput")],aF.prototype,"eDateInput",2);var ga=class extends Bi{constructor(e,t="ag-text-field",s="text"){super(e,t,s)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Ge(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=s=>{Wg(s)&&s.key&&!e.test(s.key)&&s.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",s=>{var n;const i=(n=s.clipboardData)==null?void 0:n.getData("text");i&&i.split("").some(o=>!e.test(o))&&s.preventDefault()})}},Xb=class extends ga{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const i=parseFloat(this.eInput.value),o=isNaN(i)?"":this.normalizeValue(i.toString());this.value!==o&&this.setValue(o)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:t,max:s,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof s=="number"&&this.setMax(s),typeof n=="number"&&this.setStep(n)}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const s=String(e).split(".");if(s.length>1){if(s[1].length<=this.precision)return e;if(this.precision>0)return`${s[0]}.${s[1].slice(0,this.precision)}`}return s[0]}setMin(e){return this.min===e?this:(this.min=e,ho(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,ho(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,ho(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(s=>super.setValue(s,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,s){if(Ge(s)){let n=this.isScientificNotation(s);if(n&&this.eInput.validity.valid)return e(s);if(!n){s=this.adjustPrecision(s);const i=this.normalizeValue(s);n=s!=i}if(n)return t(s)}return e(s)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},uF=class extends Yb{conditionToString(e,t){const{numberOfInputs:s}=t||{};return e.type==Rs.IN_RANGE||s===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function qC(e){const{allowedCharPattern:t}=e??{};return t??null}var cF=class dF extends Gs{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){const{filter:s,filterTo:n,type:i}=t||{};return[this.processValue(s),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}getDefaultDebounceMs(){return 500}comparator(){return(t,s)=>t===s?0:t<s?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new uF(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return dF.DEFAULT_FILTER_OPTIONS}setElementValue(t,s,n){const i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(s??null):s;super.setElementValue(t,i)}createValueElement(){const t=qC(this.numberFilterParams),s=document.createElement("div");return s.classList.add("ag-filter-body"),Ts(s,"presentation"),this.createFromToElement(s,this.eValuesFrom,"from",t),this.createFromToElement(s,this.eValuesTo,"to",t),s}createFromToElement(t,s,n,i){const o=this.createManagedBean(i?new ga({allowedCharPattern:i}):new Xb);o.addCssClass(`ag-filter-${n}`),o.addCssClass("ag-filter-filter"),s.push(o),t.appendChild(o.getGui())}removeValueElements(t,s){this.removeComponents(this.eValuesFrom,t,s),this.removeComponents(this.eValuesTo,t,s)}getValues(t){const s=[];return this.forEachPositionInput(t,(n,i,o,r)=>{i<r&&s.push(this.processValue(this.stringToFloat(n.getValue())))}),s}areSimpleModelsEqual(t,s){return t.filter===s.filter&&t.filterTo===s.filterTo&&t.type===s.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let s=co(t);return s!=null&&s.trim()===""&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):s==null||s.trim()==="-"?null:parseFloat(s)}createCondition(t){const s=this.getConditionType(t),n={filterType:this.getFilterType(),type:s},i=this.getValues(t);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){var s;return(s=this.filterModelFormatter.getModelAsString(t))!=null?s:""}hasInvalidInputs(){let t=!1;return this.forEachInput(s=>{if(!s.getInputElement().validity.valid){t=!0;return}}),t}};cF.DEFAULT_FILTER_OPTIONS=[Gs.EQUALS,Gs.NOT_EQUAL,Gs.GREATER_THAN,Gs.GREATER_THAN_OR_EQUAL,Gs.LESS_THAN,Gs.LESS_THAN_OR_EQUAL,Gs.IN_RANGE,Gs.BLANK,Gs.NOT_BLANK];var hF=cF,pF=class extends Yb{conditionToString(e,t){const{numberOfInputs:s}=t||{};return e.type==Rs.IN_RANGE||s===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},Ni=class Va extends Rs{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(t){const s=t&&t.trim();return s===""?t:s}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Va.DEFAULT_FORMATTER:Va.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new pF(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(xt.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:s,value:n,filterText:i})=>t(s,n,i)):this.textFilterParams.textMatcher||Va.DEFAULT_MATCHER}createCondition(t){const s=this.getConditionType(t),n={filterType:this.getFilterType(),type:s},i=this.getValuesWithSideEffects(t,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(t,s){return t.filter===s.filter&&t.filterTo===s.filterTo&&t.type===s.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,s){const n=[];return this.forEachPositionInput(t,(i,o,r,l)=>{var a;if(o<l){let c=co(i.getValue());s&&this.textFilterParams.trimInput&&(c=(a=Va.trimInput(c))!=null?a:null,i.setValue(c,!0)),n.push(c)}}),n}getDefaultFilterOptions(){return Va.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),Ts(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,s,n){const i=this.createManagedBean(new ga);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),s.push(i),t.appendChild(i.getGui())}removeValueElements(t,s){this.removeComponents(this.eValuesFrom,t,s),this.removeComponents(this.eValuesTo,t,s)}mapValuesFromModel(t){const{filter:s,filterTo:n,type:i}=t||{};return[s||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(t){const s=[Rs.NOT_EQUAL,Rs.NOT_CONTAINS,Rs.BLANK];return t?s.indexOf(t)>=0:!1}evaluateNonNullValue(t,s,n,i){const o=t.map(m=>this.formatter(m))||[],r=this.formatter(s),{api:l,colDef:a,column:c,columnApi:h,context:d,textFormatter:p}=this.textFilterParams;if(n.type===Rs.BLANK)return this.isBlank(s);if(n.type===Rs.NOT_BLANK)return!this.isBlank(s);const g={api:l,colDef:a,column:c,columnApi:h,context:d,node:i.node,data:i.data,filterOption:n.type,value:r,textFormatter:p};return o.some(m=>this.matcher(vs(mt({},g),{filterText:m})))}getModelAsString(t){var s;return(s=this.filterModelFormatter.getModelAsString(t))!=null?s:""}};Ni.DEFAULT_FILTER_OPTIONS=[Rs.CONTAINS,Rs.NOT_CONTAINS,Rs.EQUALS,Rs.NOT_EQUAL,Rs.STARTS_WITH,Rs.ENDS_WITH,Rs.BLANK,Rs.NOT_BLANK];Ni.DEFAULT_FORMATTER=e=>e;Ni.DEFAULT_LOWERCASE_FORMATTER=e=>e==null?null:e.toString().toLowerCase();Ni.DEFAULT_MATCHER=({filterOption:e,value:t,filterText:s})=>{if(s==null)return!1;switch(e){case Ni.CONTAINS:return t.indexOf(s)>=0;case Ni.NOT_CONTAINS:return t.indexOf(s)<0;case Ni.EQUALS:return t===s;case Ni.NOT_EQUAL:return t!=s;case Ni.STARTS_WITH:return t.indexOf(s)===0;case Ni.ENDS_WITH:const n=t.lastIndexOf(s);return n>=0&&n===t.length-s.length;default:return!1}};var Qb=Ni,fF=class extends He{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new ga((t=this.params)==null?void 0:t.config));const s=this.eFloatingFilterTextInput.getGui();e.appendChild(s),this.addManagedListener(s,"input",n=>this.valueChangedListener(n)),this.addManagedListener(s,"keydown",n=>this.valueChangedListener(n))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},yh=class extends lF{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const s=(t=e.browserAutoComplete)!=null?t:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:s}),this.applyActive=Nf.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const n=Nf.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i=yn(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(i)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Fs(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),s=this.localeService.getLocaleTextFunc();return`${t} ${s("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const t=e.key===fe.ENTER;if(this.applyActive&&!t)return;let s=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(s=Qb.trimInput(s),this.floatingFilterInputService.setValue(s,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,s||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};S([H("columnModel")],yh.prototype,"columnModel",2);S([Ze("eFloatingFilterInputContainer")],yh.prototype,"eFloatingFilterInputContainer",2);S([We],yh.prototype,"postConstruct",1);var Ole=class extends He{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Xb),this.eFloatingFilterTextInput=this.createManagedBean(new ga),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),s=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(s),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(s,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},_le=class extends yh{init(e){var t;super.init(e),this.filterModelFormatter=new uF(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){qC(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return hF.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=qC(e.filterParams),this.allowedCharPattern?this.createManagedBean(new fF({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Ole)}},Mle=class extends yh{init(e){super.init(e),this.filterModelFormatter=new pF(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Qb.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new fF)}},wh=class Ac{constructor(t,s=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Ui,this.eElement=t,this.preventMouseClick=s;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",i,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(t){for(let s=0;s<t.length;s++)if(t[s].identifier===this.touchStart.identifier)return t[s];return null}addEventListener(t,s){this.eventService.addEventListener(t,s)}removeEventListener(t,s){this.eventService.removeEventListener(t,s)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const s=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===s;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:Ac.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t};this.eventService.dispatchEvent(i)}},500)}onTouchMove(t){if(!this.touching)return;const s=this.getActiveTouch(t.touches);if(!s)return;!zb(s,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const s={type:Ac.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(s),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>Ac.DOUBLE_TAP_MILLIS){const n={type:Ac.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};wh.EVENT_TAP="tap";wh.EVENT_DOUBLE_TAP="doubleTap";wh.EVENT_LONG_TAP="longTap";wh.DOUBLE_TAP_MILLIS=500;var Qs=wh,lr=class gF extends Mt{constructor(t){super(),t||this.setTemplate(gF.TEMPLATE)}attachCustomElements(t,s,n,i,o){this.eSortOrder=t,this.eSortAsc=s,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o}setupSort(t,s=!1){this.column=t,this.suppressOrder=s,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,s,n){if(s==null)return;const i=Es(t,this.gridOptionsService,n);i&&s.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const s=t==="asc";Wt(this.eSortAsc,s,{skipAriaHidden:!0})}if(this.eSortDesc){const s=t==="desc";Wt(this.eSortDesc,s,{skipAriaHidden:!0})}if(this.eSortNone){const s=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),n=t==null;Wt(this.eSortNone,!s&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Wt(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const s=this.sortController.getColumnsWithSortingOrdered(),n=(t=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?t:-1,i=s.some(r=>{var l;return(l=this.sortController.getDisplaySortIndexForColumn(r))!=null?l:!1}),o=n>=0&&i;Wt(this.eSortOrder,o,{skipAriaHidden:!0}),n>=0?this.eSortOrder.textContent=(n+1).toString():Fs(this.eSortOrder)}};lr.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;S([Ze("eSortOrder")],lr.prototype,"eSortOrder",2);S([Ze("eSortAsc")],lr.prototype,"eSortAsc",2);S([Ze("eSortDesc")],lr.prototype,"eSortDesc",2);S([Ze("eSortMixed")],lr.prototype,"eSortMixed",2);S([Ze("eSortNone")],lr.prototype,"eSortNone",2);S([H("columnModel")],lr.prototype,"columnModel",2);S([H("sortController")],lr.prototype,"sortController",2);var Zb=lr,gn=class mF extends Mt{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(t),!0)}workOutTemplate(){var t;let s=(t=this.params.template)!=null?t:mF.TEMPLATE;return s=s&&s.trim?s.trim():s,s}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const s=Hs(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=s)}}addInIcon(t,s,n){if(s==null)return;const i=Es(t,this.gridOptionsService,n);i&&s.appendChild(i)}setupTap(){const{gridOptionsService:t}=this;if(t.get("suppressTouch"))return;const s=new Qs(this.getGui(),!0),n=this.shouldSuppressMenuHide(),i=n&&Ge(this.eMenu),o=i?new Qs(this.eMenu,!0):s;if(this.params.enableMenu){const r=i?"EVENT_TAP":"EVENT_LONG_TAP",l=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListener(o,Qs[r],l)}if(this.params.enableSorting){const r=l=>{var a,c;const h=l.touchStart.target;n&&((a=this.eMenu)!=null&&a.contains(h)||(c=this.eFilterButton)!=null&&c.contains(h))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(s,Qs.EVENT_TAP,r)}if(this.params.enableFilterButton){const r=new Qs(this.eFilterButton,!0);this.addManagedListener(r,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>r.destroy())}this.addDestroyFunc(()=>s.destroy()),i&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Hi(this.eMenu),this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){var s,n,i,o;const{column:r}=this.params,l=this.menuService.isLegacyMenuEnabled();if(t&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(r))return this.params.showFilter((n=(s=this.eFilterButton)!=null?s:this.eMenu)!=null?n:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((o=(i=this.eMenu)!=null?i:this.eFilterButton)!=null?o:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Zb(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,rs.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",s=>{const n=this.params.column.isMoving(),o=new Date().getTime()-this.lastMovingChanged<50;if(!(n||o)){const a=this.gridOptionsService.get("multiSortKey")==="ctrl"?s.ctrlKey||s.metaKey:s.shiftKey;this.params.progressSort(a)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const s=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),i=!(s==null?void 0:s.every(o=>this.params.column.getSort()==o.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(t,s,n){if(!t)return Hi(s),!1;const{column:i}=this.params;return this.addInIcon("filter",s,i),this.addManagedListener(i,rs.EVENT_FILTER_CHANGED,n),n(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();Wt(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){var s,n,i,o;return t?(n=(s=this.eFilterButton)!=null?s:this.eMenu)!=null?n:this.getGui():(o=(i=this.eMenu)!=null?i:this.eFilterButton)!=null?o:this.getGui()}};gn.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;S([H("sortController")],gn.prototype,"sortController",2);S([H("menuService")],gn.prototype,"menuService",2);S([H("columnModel")],gn.prototype,"columnModel",2);S([Ze("eFilter")],gn.prototype,"eFilter",2);S([Ze("eFilterButton")],gn.prototype,"eFilterButton",2);S([Ze("eSortIndicator")],gn.prototype,"eSortIndicator",2);S([Ze("eMenu")],gn.prototype,"eMenu",2);S([Ze("eLabel")],gn.prototype,"eLabel",2);S([Ze("eText")],gn.prototype,"eText",2);S([Ze("eSortOrder")],gn.prototype,"eSortOrder",2);S([Ze("eSortAsc")],gn.prototype,"eSortAsc",2);S([Ze("eSortDesc")],gn.prototype,"eSortDesc",2);S([Ze("eSortMixed")],gn.prototype,"eSortMixed",2);S([Ze("eSortNone")],gn.prototype,"eSortNone",2);var XC=gn,bh=class vF extends Mt{constructor(){super(vF.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&St("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=i=>{if(Wi(i))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const s=i=>{Ki(i)};this.addManagedListener(this.eCloseIcon,"dblclick",s),this.addManagedListener(this.eOpenIcon,"dblclick",s),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,_s.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,_s.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,s){const n=new Qs(t,!0);this.addManagedListener(n,Qs.EVENT_TAP,s),this.addDestroyFunc(()=>n.destroy()),this.addManagedListener(t,"click",s)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const s=this.params.columnGroup.isExpanded();Wt(this.eOpenIcon,s),Wt(this.eCloseIcon,!s)}else Wt(this.eOpenIcon,!1),Wt(this.eCloseIcon,!1)}addInIcon(t,s){const n=Es(t,this.gridOptionsService,null);n&&this.getRefElement(s).appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Wt(this.eOpenIcon,!1),Wt(this.eCloseIcon,!1);return}}setupLabel(){var t;const{displayName:s,columnGroup:n}=this.params;if(Ge(s)){const i=Hs(s,!0);this.getRefElement("agLabel").textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!((t=n.getColGroupDef())!=null&&t.suppressStickyLabel))}};bh.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;S([H("columnModel")],bh.prototype,"columnModel",2);S([Ze("agOpened")],bh.prototype,"eOpenIcon",2);S([Ze("agClosed")],bh.prototype,"eCloseIcon",2);var Ile=bh,ma=class extends Mt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Jb=class CF extends ma{constructor(){super(CF.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),Ge(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const s=t.key;(s===fe.LEFT||s===fe.UP||s===fe.RIGHT||s===fe.DOWN||t.shiftKey&&s===fe.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return!Ge(t)&&!Ge(this.params.value)?this.params.value:this.params.parseValue(t)}};Jb.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;S([Ze("eTextArea")],Jb.prototype,"eTextArea",2);var Fle=Jb,eS=class extends ma{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueFormatterService:s,gridOptionsService:n}=this,{values:i,value:o,eventKey:r}=e;if(Rt(i)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=r!=null?r===fe.ENTER:!1;let l=!1;i.forEach(d=>{const p={value:d},g=s.formatValue(e.column,null,d),m=g!=null;p.text=m?g:d,t.addOption(p),l=l||o===d}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:a,valueListMaxWidth:c,valueListMaxHeight:h}=e;a!=null&&t.setPickerGap(a),h!=null&&t.setPickerMaxHeight(h),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,jg.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};S([H("valueFormatterService")],eS.prototype,"valueFormatterService",2);S([Ze("eSelect")],eS.prototype,"eSelect",2);var Sh=class extends ma{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let s;if(e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===fe.BACKSPACE||e.eventKey===fe.DELETE?s="":n&&n.length===1?s=n:(s=this.cellEditorInput.getStartValue(),n!==fe.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue();s!=null&&t.setStartValue(s),this.addManagedListener(t.getGui(),"keydown",n=>{const{key:i}=n;(i===fe.PAGE_UP||i===fe.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var e,t;const s=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(s("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;yo()||n.getFocusableElement().focus();const i=n.getInputElement();this.highlightAllOnFocus?i.select():(t=(e=this.cellEditorInput).setCaret)==null||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),s=e.getInputElement();t.focus(),s.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};S([Ze("eInput")],Sh.prototype,"eInput",2);var Lle=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Ge(e)&&!Ge(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Ge(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},ZR=class extends Sh{constructor(){super(new Lle)}},Nle="",xle="",yF=class extends Mt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const s=document.createElement("span");s.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(s),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const s=Math.abs(t),n=e.formatValue(s),i=Ge(n)?n:s,o=t>=0;o?this.eDelta.textContent=Nle+i:this.eDelta.textContent=xle+i,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Fs(this.eDelta)}refresh(e,t=!1){const s=e.value;if(s===this.lastValue||(Ge(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Ge(e.value)?this.eValue.textContent=s:Fs(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof s=="number"&&typeof this.lastValue=="number"){const n=s-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=s,!0}};S([H("filterManager")],yF.prototype,"filterManager",2);var wF=class extends Mt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let s=e.value;return Rt(s)&&(s=""),s===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=s,Ge(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Ge(e.value)?this.eCurrent.textContent=s:Fs(this.eCurrent),!0)}};S([H("filterManager")],wF.prototype,"filterManager",2);var Cs=class cs{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=cs.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,s){const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(t,n,s);this.dispatchLocalEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,s,n){return{type:cs.EVENT_DATA_CHANGED,node:this,oldData:s,newData:t,update:n}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new cs(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,s){const n=Ge(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(s),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,s){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_SELECTABLE_CHANGED)),s)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const s=this.beans.gridOptionsService.getCallback("getRowId");if(s)if(this.data){const n=this.getGroupKeys(!0);this.id=s({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(cs.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${cs.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const s=[];let n=this;for(t&&(n=n.parent);n&&n.level>=0;)s.push(n.key),n=n.parent;return s.reverse(),s}isPixelInRange(t){return!Ge(this.rowTop)||!Ge(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_GROUP_CHANGED)))}setRowHeight(t,s=!1){this.rowHeight=t,this.rowHeightEstimated=s,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,s){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[s.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=yn(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,s=!0,n=0;const i=this.__autoHeights;if(i==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(l=>{let a=i[l.getId()];if(a==null)if(this.beans.columnModel.isColSpanActive()){let c=[];switch(l.getPinned()){case"left":c=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":c=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:c=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(c.includes(l)){t=!0;return}a=-1}else{t=!0;return}else s=!1;a>n&&(n=a)}),t)||((s||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,s){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_EXPANDED_CHANGED));const n=Object.assign({},this.createGlobalRowEvent(M.EVENT_ROW_GROUP_OPENED),{expanded:t,event:s||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,s,n){const o=(()=>{var a;return typeof t!="string"?t:(a=this.beans.columnModel.getGridColumn(t))!=null?a:this.beans.columnModel.getPrimaryColumn(t)})(),r=this.getValueFromValueService(o);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,r,s,n),!1;const l=this.beans.valueService.setValue(this,o,s,n);return this.dispatchCellChangedEvent(o,s,r),this.checkRowSelectable(),l}getValueFromValueService(t){const s=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!s,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),r=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),l=n&&o&&!r;return this.beans.valueService.getValue(t,this,!1,l)}dispatchEventForSaveValueReadOnly(t,s,n,i){const o=this.beans.gridOptionsService.addGridCommonParams({type:M.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:s,newValue:n,value:n,source:i});this.beans.eventService.dispatchEvent(o)}setGroupValue(t,s){const n=this.beans.columnModel.getGridColumn(t);Rt(this.groupData)&&(this.groupData={});const i=n.getColId(),o=this.groupData[i];o!==s&&(this.groupData[i]=s,this.dispatchCellChangedEvent(n,s,o))}setAggData(t){const s=this.aggData;if(this.aggData=t,this.eventService){const n=i=>{const o=this.aggData?this.aggData[i]:void 0,r=s?s[i]:void 0;if(o===r)return;const l=this.beans.columnModel.lookupGridColumn(i);l&&this.dispatchCellChangedEvent(l,o,r)};for(const i in this.aggData)n(i);for(const i in t)i in this.aggData||n(i)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const n=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(cs.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Xn(this.childrenAfterGroup)}dispatchCellChangedEvent(t,s,n){const i={type:cs.EVENT_CELL_CHANGED,node:this,column:t,newValue:s,oldValue:n};this.dispatchLocalEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(s=>s.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let s=!1,n=!1,i=!1;if(!((t=this.childrenAfterGroup)!=null&&t.length))return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const r=this.childrenAfterGroup[o];let l=r.isSelected();if(!r.selectable){const a=r.calculateSelectedFromChildren();if(a===null)continue;l=a}switch(l){case!0:s=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||s&&n))return s?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,s,n="api"){const i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(cs.EVENT_ROW_SELECTED));const l=this.sibling;l&&l.footer&&l.dispatchLocalEvent(l.createLocalRowEvent(cs.EVENT_ROW_SELECTED))}const r=vs(mt({},this.createGlobalRowEvent(M.EVENT_ROW_SELECTED)),{event:s||null,source:n});return this.beans.eventService.dispatchEvent(r),!0}setSelected(t,s=!1,n="api"){if(typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:s,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(vs(mt({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(t){let s=this.parent;for(;s;){if(s===t)return!0;s=s.parent}return!1}addEventListener(t,s){var n,i;this.eventService||(this.eventService=new Ui),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Cb(this.beans.frameworkOverrides));const o=(i=(n=this.frameworkEventListenerService)==null?void 0:n.wrap(s))!=null?i:s;this.eventService.addEventListener(t,o)}removeEventListener(t,s){var n,i;if(!this.eventService)return;const o=(i=(n=this.frameworkEventListenerService)==null?void 0:n.unwrap(s))!=null?i:s;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(cs.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(cs.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let s=this,n=!0,i=!1,o=null;for(;n&&!i;){const r=s.parent;Ge(r)&&s.firstChild?r.rowGroupColumn===t&&(i=!0,o=r):n=!1,s=r}return i?o:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.key==null)return;const t=[];let s=this;for(;s.key!=null;)t.push(s.key),s=s.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),s=new cs(this.beans);Object.keys(this).forEach(n=>{t.has(n)||(s[n]=this[n])}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,s.id="rowGroupFooter_"+this.id,s.sibling=this,this.sibling=s}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Cs.ID_PREFIX_ROW_GROUP="row-group-";Cs.ID_PREFIX_TOP_PINNED="t-";Cs.ID_PREFIX_BOTTOM_PINNED="b-";Cs.OBJECT_ID_SEQUENCE=0;Cs.EVENT_ROW_SELECTED="rowSelected";Cs.EVENT_DATA_CHANGED="dataChanged";Cs.EVENT_CELL_CHANGED="cellChanged";Cs.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";Cs.EVENT_MASTER_CHANGED="masterChanged";Cs.EVENT_GROUP_CHANGED="groupChanged";Cs.EVENT_MOUSE_ENTER="mouseEnter";Cs.EVENT_MOUSE_LEAVE="mouseLeave";Cs.EVENT_HEIGHT_CHANGED="heightChanged";Cs.EVENT_TOP_CHANGED="topChanged";Cs.EVENT_DISPLAYED_CHANGED="displayedChanged";Cs.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";Cs.EVENT_LAST_CHILD_CHANGED="lastChildChanged";Cs.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";Cs.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";Cs.EVENT_EXPANDED_CHANGED="expandedChanged";Cs.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";Cs.EVENT_SELECTABLE_CHANGED="selectableChanged";Cs.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";Cs.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";Cs.EVENT_DRAGGING_CHANGED="draggingChanged";var Nt=Cs,Xg=class extends Mt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),s=Hg(e,t),[n,i]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(n,i);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${s})`)}onClicked(e,t,s){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:s.shiftKey,groupSelectsFiltered:t,event:s,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Ki(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{Ki(n);const i=this.gridOptionsService.get("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,i)?this.onClicked(!0,i,n||{})===0&&this.onClicked(!1,i,n):o?this.onClicked(!1,i,n):this.onClicked(!0,i,n||{})}),this.addManagedListener(this.rowNode,Nt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,Nt.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,s;let n=this.rowNode.selectable;const i=this.getIsVisible();if(n)if(typeof i=="function"){const r=(e=this.overrides)==null?void 0:e.callbackParams;if(!this.column)n=i(vs(mt({},r),{node:this.rowNode,data:this.rowNode.data}));else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);n=i(mt(mt({},r),l))}}else n=i??!1;if((t=this.column)==null?void 0:t.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if((s=this.overrides)!=null&&s.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)==null?void 0:e.getColDef())==null?void 0:t.checkboxSelection}};S([Ze("eCheckbox")],Xg.prototype,"eCheckbox",2);S([We],Xg.prototype,"postConstruct",1);var bF=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(bF||{}),It=class extends He{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=ui("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ui("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ui("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ui("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ui("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ui("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ui("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ui("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ui("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const s={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:s,dragSource:e}),this.dragService.addDragSource(s)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(s=>s.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Ln(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var s,n,i,o;const r=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const a=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),c=this.findCurrentDropTarget(e,a);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,r,l,t),this.lastDropTarget!==null&&c===null&&((n=(s=this.dragSource).onGridExit)==null||n.call(s,this.dragItem)),this.lastDropTarget===null&&c!==null&&((o=(i=this.dragSource).onGridEnter)==null||o.call(i,this.dragItem)),this.enterDragTargetIfExists(c,e,r,l,t),this.lastDropTarget=c;else if(c&&c.onDragging){const h=this.createDropTargetEvent(c,e,r,l,t);c.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,s=[[e.getContainer()]];return t?s.concat(t):s}allContainersIntersect(e,t){for(const s of t){const n=s.getBoundingClientRect();if(n.width===0||n.height===0)return!1;const i=e.clientX>=n.left&&e.clientX<n.right,o=e.clientY>=n.top&&e.clientY<n.bottom;if(!i||!o)return!1}return!0}isMouseOnDropTarget(e,t){const s=this.getAllContainersFromDropTarget(t);let n=!1;for(const i of s)if(this.allContainersIntersect(e,i)){n=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const s=t.length;if(s===0)return null;if(s===1)return t[0];const i=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const r of t)if(qM(this.getAllContainersFromDropTarget(r)).indexOf(o)!==-1)return r;return null}enterDragTargetIfExists(e,t,s,n,i){if(e){if(e.onDragEnter){const o=this.createDropTargetEvent(e,t,s,n,i);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,s,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,s,n);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(s=>s.external).find(s=>s.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,s=e.clientX;return t===s?null:t>s?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,s=e.clientY;return t===s?null:t>s?0:1}createDropTargetEvent(e,t,s,n,i){const o=e.getContainer(),r=o.getBoundingClientRect(),{gridApi:l,columnApi:a,dragItem:c,dragSource:h}=this,d=t.clientX-r.left,p=t.clientY-r.top;return{event:t,x:d,y:p,vDirection:n,hDirection:s,dragSource:h,fromNudge:i,dragItem:c,api:l,columnApi:a,dropZoneTarget:o}}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,i=EI()-2,o=RI()-2,r=kb(t.offsetParent),{clientY:l,clientX:a}=e;let c=l-r.top-n/2,h=a-r.left-10;const d=this.gridOptionsService.getDocument(),p=d.defaultView||window,g=p.pageYOffset||d.documentElement.scrollTop,m=p.pageXOffset||d.documentElement.scrollLeft;i>0&&h+t.clientWidth>i+m&&(h=i+m-t.clientWidth),h<0&&(h=0),o>0&&c+t.clientHeight>o+g&&(c=o+g-t.clientHeight),c<0&&(c=0),t.style.left=`${h}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=kn(It.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let s=this.dragSource.dragItemName;Lg(s)&&(s=s()),t.innerHTML=Hs(s)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let i=null,o=null;try{i=n.fullscreenElement}catch{}finally{i||(i=this.gridOptionsService.getRootNode());const r=i.querySelector("body");r?o=r:i instanceof ShadowRoot?o=i:i instanceof Document?o=i==null?void 0:i.documentElement:o=i}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){Fs(this.eGhostIcon);let s=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():It.ICON_NOT_ALLOWED),e){case It.ICON_PINNED:s=this.ePinnedIcon;break;case It.ICON_MOVE:s=this.eMoveIcon;break;case It.ICON_LEFT:s=this.eLeftIcon;break;case It.ICON_RIGHT:s=this.eRightIcon;break;case It.ICON_GROUP:s=this.eGroupIcon;break;case It.ICON_AGGREGATE:s=this.eAggregateIcon;break;case It.ICON_PIVOT:s=this.ePivotIcon;break;case It.ICON_NOT_ALLOWED:s=this.eDropNotAllowedIcon;break;case It.ICON_HIDE:s=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(s===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&s&&this.eGhostIcon.appendChild(s)}};It.ICON_PINNED="pinned";It.ICON_MOVE="move";It.ICON_LEFT="left";It.ICON_RIGHT="right";It.ICON_GROUP="group";It.ICON_AGGREGATE="aggregate";It.ICON_PIVOT="pivot";It.ICON_NOT_ALLOWED="notAllowed";It.ICON_HIDE="hide";It.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;S([H("dragService")],It.prototype,"dragService",2);S([H("mouseEventService")],It.prototype,"mouseEventService",2);S([H("columnApi")],It.prototype,"columnApi",2);S([H("gridApi")],It.prototype,"gridApi",2);S([We],It.prototype,"init",1);S([An],It.prototype,"clearDragSourceParamsList",1);It=S([ot("dragAndDropService")],It);var ql=class extends Mt{constructor(e,t,s,n,i,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=s,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Es("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.get("rowDragManaged")?new RF(this,this.beans,this.rowNode,this.column):new EF(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&St("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var s;const n=this.getDragItem(),i=((s=n.rowNodes)==null?void 0:s.length)||1,o=this.getRowDragText(this.column);return o?o(n,i):i===1?this.cellValueFn():`${i} ${t("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};S([H("beans")],ql.prototype,"beans",2);S([We],ql.prototype,"postConstruct",1);S([An],ql.prototype,"removeDragSource",1);var SF=class extends He{constructor(e,t,s){super(),this.parent=e,this.rowNode=t,this.column=s}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let s=!0,n=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Lg(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(s,t)):(this.parent.setDisplayed(s,t),this.parent.setVisible(!0,t))}}},EF=class extends SF{constructor(e,t,s,n){super(e,s,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};S([We],EF.prototype,"postConstruct",1);var RF=class extends SF{constructor(e,t,s,n){super(e,s,n),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,M.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),s=t&&t.shouldPreventRowMove(),n=this.gridOptionsService.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),o=s&&!i||n;this.setDisplayedOrVisible(o)}};S([We],RF.prototype,"postConstruct",1);var Zu=class extends He{init(e,t,s,n,i,o,r){var l,a,c,h;this.params=r,this.eGui=t,this.eCheckbox=s,this.eExpanded=n,this.eContracted=i,this.comp=e,this.compClass=o;const{node:d,value:p,colDef:g}=r,m=this.isTopLevelFooter();if(!m){if(this.isEmbeddedRowMismatch())return;if(d.footer&&this.gridOptionsService.get("groupHideOpenParents")){const C=g&&g.showRowGroup,v=d.rowGroupColumn&&d.rowGroupColumn.getColId();if(C!==v)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!m){const f=r.node.footer&&r.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(E=>{var P;return E.getColId()===((P=r.colDef)==null?void 0:P.showRowGroup)}),v=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!r.node.footer&&(!r.node.group||r.node.rowGroupIndex!=null&&r.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(E=>{var P;return E.getColId()===((P=r.colDef)==null?void 0:P.showRowGroup)})),y=!d.group&&(((l=this.params.colDef)==null?void 0:l.field)||((a=this.params.colDef)==null?void 0:a.valueGetter)),w=this.isExpandable(),b=this.columnModel.isPivotMode()&&d.leafGroup&&((c=d.rowGroupColumn)==null?void 0:c.getColId())===((h=r.column)==null?void 0:h.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!w&&!y&&!v&&!f&&!b)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;const s=(e=this.params.colDef)==null?void 0:e.cellAriaRole,n=(t=this.params.column)==null?void 0:t.getColDef().cellAriaRole;return s||n||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){fI(t);return}const s=()=>{Ko(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,Nt.EVENT_EXPANDED_CHANGED,s)||null,s()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const s=this.columnModel.getRowGroupColumns();return!s||s.length===0?!0:s[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",s=!e&&!t;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!s:this.columnModel.isPinningLeft()?!e:!s}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let s=t.parent;for(;s!=null;){if(s.rowGroupColumn&&e.isRowGroupDisplayed(s.rowGroupColumn.getId())){this.displayedGroupNode=s;break}s=s.parent}}Rt(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const i=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(i)){this.showingValueForOpenedParent=!1;return}}const n=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const t=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(t),{valueFormatted:n,value:i}=t;let o=n;if(o==null){const r=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)==null?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&r?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=i??null}this.comp.setInnerRenderer(s,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const n=this.params,{value:i,node:o}=this.params,r=this.valueFormatterService.formatValue(e,o,i);return vs(mt({},n),{valueFormatted:r})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const n=mb(this.params);n.value=this.params.value,typeof e=="function"?t=e(n):typeof e=="string"?t=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),s=r=>r&&r.componentClass==this.compClass;if(t&&!s(t))return t;const n=this.displayedGroupNode.rowGroupColumn,i=n?n.getColDef():void 0;if(!i)return;const o=this.userComponentFactory.getCellRendererDetails(i,e);if(o&&!s(o))return o;if(s(o)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(i.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Nt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,s=Es("groupExpanded",this.gridOptionsService,null),n=Es("groupContracted",this.gridOptionsService,null);s&&this.eExpanded.appendChild(s),n&&this.eContracted.appendChild(n);const i=t.eGridCell;!(((e=this.params.column)==null?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(i,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Nt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const r=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Nt.EVENT_ALL_CHILDREN_COUNT_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Nt.EVENT_MASTER_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Nt.EVENT_GROUP_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Nt.EVENT_HAS_CHILDREN_CHANGED,r)}onExpandClicked(e){Wi(e)||(Ki(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,s=!t.expanded;!s&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(s,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const n=this.params.column;return n!=null&&typeof n.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:s}=this,{node:n}=e,i=this.isExpandable();if(i){const c=this.showingValueForOpenedParent?!0:n.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const o=s.isPivotMode(),r=o&&t.leafGroup,l=i&&!r,a=n.footer&&n.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",r):a||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Nt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const e=this.params,t=e.node,s=!!e.colDef,n=this.gridOptionsService.get("treeData"),o=!s||n||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new ql(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const s=new Xg;this.getContext().createBean(s),s.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(s.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(s))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===fe.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Wi(e))return;Mf(this.eExpanded,e)||Mf(this.eContracted,e)||this.onExpandOrContract(e)}};S([H("expressionService")],Zu.prototype,"expressionService",2);S([H("valueFormatterService")],Zu.prototype,"valueFormatterService",2);S([H("columnModel")],Zu.prototype,"columnModel",2);S([H("userComponentFactory")],Zu.prototype,"userComponentFactory",2);S([H("ctrlsService")],Zu.prototype,"ctrlsService",2);var va=class TF extends Mt{constructor(){super(TF.TEMPLATE)}init(t){const s={setInnerRenderer:(r,l)=>this.setRenderDetails(r,l),setChildCount:r=>this.eChildCount.textContent=r,addOrRemoveCssClass:(r,l)=>this.addOrRemoveCssClass(r,l),setContractedDisplayed:r=>Wt(this.eContracted,r),setExpandedDisplayed:r=>Wt(this.eExpanded,r),setCheckboxVisible:r=>this.eCheckbox.classList.toggle("ag-invisible",!r)},n=this.createManagedBean(new Zu),i=!t.colDef,o=this.getGui();n.init(s,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),i&&Ts(o,n.getCellAriaRole())}setRenderDetails(t,s){if(t){const n=t.newAgStackInstance();if(!n)return;n.then(i=>{if(!i)return;const o=()=>this.context.destroyBean(i);this.isAlive()?(this.eValue.appendChild(i.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=s}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};va.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;S([Ze("eExpanded")],va.prototype,"eExpanded",2);S([Ze("eContracted")],va.prototype,"eContracted",2);S([Ze("eCheckbox")],va.prototype,"eCheckbox",2);S([Ze("eValue")],va.prototype,"eValue",2);S([Ze("eChildCount")],va.prototype,"eChildCount",2);var JR=va,Qg=class DF extends Mt{constructor(){super(DF.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=Es("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);const s=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}};Qg.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;S([Ze("eLoadingIcon")],Qg.prototype,"eLoadingIcon",2);S([Ze("eLoadingText")],Qg.prototype,"eLoadingText",2);var kle=Qg,AF=class PF extends Mt{constructor(){super()}destroy(){super.destroy()}init(t){const s=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(s??PF.DEFAULT_LOADING_OVERLAY_TEMPLATE),!s){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}};AF.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var Gle=AF,OF=class _F extends Mt{constructor(){super()}destroy(){super.destroy()}init(t){const s=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(s??_F.DEFAULT_NO_ROWS_TEMPLATE),!s){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};OF.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var Vle=OF,Hle=class extends ma{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Hs(t,!0)}},Ble=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const s=e.getInputElement();t.preventStepping?e.addManagedListener(s,"keydown",this.preventStepping):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===fe.UP||e.key===fe.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Ge(e)&&!Ge(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},$le=class extends Sh{constructor(){super(new Ble)}},Wle=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Ge(e)&&!Ge(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return yi(e,!1)}},zle=class extends Sh{constructor(){super(new Wle)}},Ule=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Ge(e)&&!Ge(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return yi((t=this.parseDate((e=this.params.value)!=null?e:void 0))!=null?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},MF=class extends Sh{constructor(){super(new Ule(()=>this.dataTypeService))}};S([H("dataTypeService")],MF.prototype,"dataTypeService",2);var tS=class IF extends Mt{constructor(){super(IF.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t);const s=this.eCheckbox.getInputElement();s.setAttribute("tabindex","-1"),Sb(s,"polite"),this.addManagedListener(s,"click",i=>{if(Ki(i),this.eCheckbox.isDisabled())return;const o=this.eCheckbox.getValue();this.onCheckboxChanged(o)}),this.addManagedListener(s,"dblclick",i=>{Ki(i)});const n=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",i=>{if(i.key===fe.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===n.activeElement&&this.eCheckbox.toggle();const o=this.eCheckbox.getValue();this.onCheckboxChanged(o),i.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var s,n,i;let o,r=!0;if(t.node.group&&t.column){const d=t.column.getColId();d.startsWith(Pu)?o=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[d]!==void 0?o=(s=t.value)!=null?s:void 0:r=!1}else o=(n=t.value)!=null?n:void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const l=t.disabled!=null?t.disabled:!((i=t.column)!=null&&i.isCellEditable(t.node));this.eCheckbox.setDisabled(l);const a=this.localeService.getLocaleTextFunc(),c=Hg(a,o),h=l?c:`${a("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;this.eCheckbox.setInputAriaLabel(h)}onCheckboxChanged(t){const{column:s,node:n,rowIndex:i,value:o}=this.params,r={type:M.EVENT_CELL_EDITING_STARTED,column:s,colDef:s==null?void 0:s.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o};this.eventService.dispatchEvent(r);const l=this.params.node.setDataValue(this.params.column,t,"edit"),a={type:M.EVENT_CELL_EDITING_STOPPED,column:s,colDef:s==null?void 0:s.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:t,valueChanged:l};this.eventService.dispatchEvent(a)}};tS.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;S([Ze("eCheckbox")],tS.prototype,"eCheckbox",2);var Kle=tS,FF=class extends ma{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const s=(t=e.value)!=null?t:void 0;this.eCheckbox.setValue(s),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(s),this.addManagedListener(this.eCheckbox,M.EVENT_FIELD_VALUE_CHANGED,i=>this.setAriaLabel(i.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),s=Hg(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${s})`)}};S([Ze("eCheckbox")],FF.prototype,"eCheckbox",2);var jle=class extends Mt{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=(t=this.params.cssClassPrefix)!=null?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=kn(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(Es("check",this.gridOptionsService)):this.params.icon&&(gh(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=kn(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=kn(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=kn(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const s=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Ko(t,!1),e.appendChild(Es(s,this.gridOptionsService))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},Od=class extends He{constructor(){super(...arguments),this.agGridDefaults={agDateInput:aF,agColumnHeader:XC,agColumnGroupHeader:Ile,agSortIndicator:Zb,agTextColumnFloatingFilter:Mle,agNumberColumnFloatingFilter:_le,agDateColumnFloatingFilter:qg,agReadOnlyFloatingFilter:Kb,agAnimateShowChangeCellRenderer:yF,agAnimateSlideCellRenderer:wF,agGroupCellRenderer:JR,agGroupRowRenderer:JR,agLoadingCellRenderer:kle,agCheckboxCellRenderer:Kle,agCellEditor:ZR,agTextCellEditor:ZR,agNumberCellEditor:$le,agDateCellEditor:zle,agDateStringCellEditor:MF,agSelectCellEditor:eS,agLargeTextCellEditor:Fle,agCheckboxCellEditor:FF,agTextColumnFilter:Qb,agNumberColumnFilter:hF,agDateColumnFilter:rF,agLoadingOverlay:Gle,agNoRowsOverlay:Vle,agTooltipComponent:Hle,agMenuItem:jle},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){this.gridOptions.components!=null&&ln(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const s=(l,a)=>({componentFromFramework:a,component:l}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(n!=null)return s(n,!0);const i=this.jsComps[t];if(i){const l=this.getFrameworkOverrides().isFrameworkComponent(i);return s(i,l)}const o=this.agGridDefaults[t];if(o)return s(o,!1);const r=this.enterpriseAgDefaultCompsModule[t];return r?es.__assertRegistered(r,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Il(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const s=[...Object.keys(this.agGridDefaults).filter(i=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(i)),...Object.keys(this.jsComps)],n=mh(t,s,!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};S([H("gridOptions")],Od.prototype,"gridOptions",2);S([We],Od.prototype,"init",1);Od=S([ot("userComponentRegistry")],Od);var Yle={propertyName:"dateComponent",cellRenderer:!1},qle={propertyName:"headerComponent",cellRenderer:!1},Xle={propertyName:"headerGroupComponent",cellRenderer:!1},eT={propertyName:"cellRenderer",cellRenderer:!0},Qle={propertyName:"cellEditor",cellRenderer:!1},tT={propertyName:"innerRenderer",cellRenderer:!0},Zle={propertyName:"loadingOverlayComponent",cellRenderer:!1},Jle={propertyName:"noRowsOverlayComponent",cellRenderer:!1},eae={propertyName:"tooltipComponent",cellRenderer:!1},QC={propertyName:"filter",cellRenderer:!1},tae={propertyName:"floatingFilterComponent",cellRenderer:!1},sae={propertyName:"toolPanel",cellRenderer:!1},nae={propertyName:"statusPanel",cellRenderer:!1},iae={propertyName:"fullWidthCellRenderer",cellRenderer:!0},oae={propertyName:"loadingCellRenderer",cellRenderer:!0},rae={propertyName:"groupRowRenderer",cellRenderer:!0},lae={propertyName:"detailCellRenderer",cellRenderer:!0},aae={propertyName:"menuItem",cellRenderer:!1},LF=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};LF.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Br=class extends He{getHeaderCompDetails(e,t){return this.getCompDetails(e,qle,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Xle,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,iae,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,oae,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,rae,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,lae,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,tT,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,tT,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,eT,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,Qle,"agCellEditor",t,!0)}getFilterDetails(e,t,s){return this.getCompDetails(e,QC,s,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,Yle,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Zle,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Jle,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,eae,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,eT,null,t)}getFloatingFilterCompDetails(e,t,s){return this.getCompDetails(e,tae,s,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,sae,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,nae,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,aae,"agMenuItem",t,!0)}getCompDetails(e,t,s,n,i=!1){const{propertyName:o,cellRenderer:r}=t;let{compName:l,jsComp:a,fwComp:c,paramsFromSelector:h,popupFromSelector:d,popupPositionFromSelector:p}=this.getCompKeys(e,t,n);const g=v=>{const y=this.userComponentRegistry.retrieve(o,v);y&&(a=y.componentFromFramework?void 0:y.component,c=y.componentFromFramework?y.component:void 0)};if(l!=null&&g(l),a==null&&c==null&&s!=null&&g(s),a&&r&&!this.agComponentUtils.doesImplementIComponent(a)&&(a=this.agComponentUtils.adaptFunction(o,a)),!a&&!c){i&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`);return}const m=this.mergeParamsWithApplicationProvidedParams(e,t,n,h),f=a==null,C=a||c;return{componentFromFramework:f,componentClass:C,params:m,type:t,popupFromSelector:d,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(C,f,m,t)}}getCompKeys(e,t,s){const{propertyName:n}=t;let i,o,r,l,a,c;if(e){const h=e,d=h[n+"Selector"],p=d?d(s):null,g=m=>{typeof m=="string"?i=m:m!=null&&m!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(m)?r=m:o=m)};p?(g(p.component),l=p.params,a=p.popup,c=p.popupPosition):g(h[n])}return{compName:i,jsComp:o,fwComp:r,paramsFromSelector:l,popupFromSelector:a,popupPositionFromSelector:c}}newAgStackInstance(e,t,s,n){const i=n.propertyName,o=!t;let r;if(o)r=new e;else{const a=this.componentMetadataProvider.retrieve(i);r=this.frameworkComponentWrapper.wrap(e,a.mandatoryMethodList,a.optionalMethodList,n)}const l=this.initComponent(r,s);return l==null?Qn.resolve(r):l.then(()=>r)}mergeParamsWithApplicationProvidedParams(e,t,s,n=null){const i=this.gridOptionsService.getGridCommonParams();Jn(i,s);const o=e,r=o&&o[t.propertyName+"Params"];if(typeof r=="function"){const l=r(s);Jn(i,l)}else typeof r=="object"&&Jn(i,r);return Jn(i,n),i}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let s=null,{compName:n,jsComp:i,fwComp:o}=this.getCompKeys(e,QC);return n?s=LF.getFloatingFilterType(n):i==null&&o==null&&e.filter===!0&&(s=t()),s}};S([H("gridOptions")],Br.prototype,"gridOptions",2);S([H("agComponentUtils")],Br.prototype,"agComponentUtils",2);S([H("componentMetadataProvider")],Br.prototype,"componentMetadataProvider",2);S([H("userComponentRegistry")],Br.prototype,"userComponentRegistry",2);S([qt("frameworkComponentWrapper")],Br.prototype,"frameworkComponentWrapper",2);Br=S([ot("userComponentFactory")],Br);var xf=class{};xf.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0};xf.ALL_PROPERTIES=Object.keys(xf.ColDefPropertyMap);var uae=xf,NF=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const s=t||this.shouldSkipVerticalScroll();if(s&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!s,this.tickDown=e.clientY>n.bottom-i&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},ri=class extends He{constructor(e){super(),this.isMultiRowDrag=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const e=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new NF({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:t=>e.getScrollFeature().setVerticalScrollPosition(t),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?It.ICON_NOT_ALLOWED:It.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.get("rowDragMultiRow"),s=[...this.selectionService.getSelectedNodes()].sort((i,o)=>i.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(o)),n=e.dragItem.rowNode;return t&&s.indexOf(n)!==-1?(this.isMultiRowDrag=!0,s):(this.isMultiRowDrag=!1,[n])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(M.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const s=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!s.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const s=this.isFromThisGrid(e),n=this.gridOptionsService.get("rowDragManaged"),i=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!s?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))}getRowIndexNumber(e){return parseInt(Xt(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),s=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes;let o=s?1:0;if(this.isFromThisGrid(e))i.forEach(r=>{r.rowTop<n&&(o-=1)}),this.moveRows(i,n,o);else{const r=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&l--,this.clientSideRowModel.updateRowData({add:i.map(a=>a.data).filter(a=>!this.clientSideRowModel.getRowNode(r?r({data:a,level:0}):a.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,s=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,s)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){St("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,s))}),e.onDragLeave&&(t.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,s))}),e.onDragging&&(t.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,s))}),e.onDragStop&&(t.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,s))})),this.dragAndDropService.addDropTarget(mt({isInterestedIn:s=>s===2,getIconName:()=>It.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),s=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?r=>{s(r),e.onDragEnter(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,r))}:s,onDragLeave:e.onDragLeave?r=>{n(r),e.onDragLeave(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,r))}:n,onDragging:e.onDragging?r=>{i(r),e.onDragging(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,r))}:i,onDragStop:e.onDragStop?r=>{o(r),e.onDragStop(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,r))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:s,onDragLeave:n,onDragging:i,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,t){const s=this.mouseEventService.getNormalisedPosition(t).y,n=s>this.paginationProxy.getCurrentPageHeight();let i=-1,o;n||(i=this.rowModel.getRowIndexAtPixel(s),o=this.rowModel.getRow(i));let r;switch(t.vDirection){case 1:r="down";break;case 0:r="up";break;default:r=null;break}return this.gridOptionsService.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:i,overNode:o,y:s,vDirection:r})}dispatchGridEvent(e,t){const s=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(s)}onDragLeave(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};S([H("dragAndDropService")],ri.prototype,"dragAndDropService",2);S([H("rowModel")],ri.prototype,"rowModel",2);S([H("paginationProxy")],ri.prototype,"paginationProxy",2);S([H("columnModel")],ri.prototype,"columnModel",2);S([H("focusService")],ri.prototype,"focusService",2);S([H("sortController")],ri.prototype,"sortController",2);S([H("filterManager")],ri.prototype,"filterManager",2);S([H("selectionService")],ri.prototype,"selectionService",2);S([H("mouseEventService")],ri.prototype,"mouseEventService",2);S([H("ctrlsService")],ri.prototype,"ctrlsService",2);S([qt("rangeService")],ri.prototype,"rangeService",2);S([We],ri.prototype,"postConstruct",1);var _d=class extends He{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,s=e.mouseDownListener;if(t.removeEventListener("mousedown",s),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(s=>s.dragSource===e);t&&(this.removeListener(t),Ln(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:s,includeTouch:n,stopPropagationForTouch:i}=e;s.addEventListener("mousedown",t);let o=null;const r=this.gridOptionsService.get("suppressTouch");n&&!r&&(o=l=>{Nb(l.target)||(l.cancelable&&(l.preventDefault(),i&&l.stopPropagation()),this.onTouchStart(e,l))},s.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const s=t.touches[0];this.touchLastTime=s,this.touchStart=s;const n=a=>this.onTouchMove(a,e.eElement),i=a=>this.onTouchUp(a,e.eElement),o=a=>{a.cancelable&&a.preventDefault()},r=t.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:o,options:{passive:!1}},{target:r,type:"touchmove",listener:n,options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(s,this.touchStart,e.eElement)}onMouseDown(e,t){const s=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=a=>this.onMouseMove(a,e.eElement),i=a=>this.onMouseUp(a,e.eElement),o=a=>a.preventDefault(),r=this.gridOptionsService.getRootNode(),l=[{target:r,type:"mousemove",listener:n},{target:r,type:"mouseup",listener:i},{target:r,type:"contextmenu",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:s,type:n,listener:i,options:o}=t;s.addEventListener(n,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:s,type:n,listener:i,options:o}=t;s.removeEventListener(n,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:s}=this.currentDragParams,n=Ge(s)?s:4;return zb(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,s){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const n={type:M.EVENT_DRAG_STARTED,target:s};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const s=this.getFirstActiveTouch(e.touches);s&&this.onCommonMove(s,this.touchStart,t)}onMouseMove(e,t){var s;yo()&&((s=this.gridOptionsService.getDocument().getSelection())==null||s.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gridOptionsService.get("enableCellTextSelection"),s=e.type==="mousemove";return t&&s&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,s=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(s!=null&&s.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let s=this.getFirstActiveTouch(e.changedTouches);s||(s=this.touchLastTime),this.onUpCommon(s,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const s={type:M.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(s)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(s=>s()),this.dragEndFunctions.length=0}};S([H("mouseEventService")],_d.prototype,"mouseEventService",2);S([An],_d.prototype,"removeAllListeners",1);_d=S([ot("dragService")],_d);var lv="ag-list-item-hovered",xF=class extends He{constructor(e,t,s){super(),this.comp=e,this.virtualList=t,this.params=s,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>this.moveBlocked?It.ICON_PINNED:It.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new NF({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),s=this.virtualList.getComponentAt(t.rowIndex);if(!s)return;const n=s.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,jC(n,lv),jC(n,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),s=parseFloat(window.getComputedStyle(t).paddingTop),n=this.virtualList.getRowHeight(),i=this.virtualList.getScrollTop(),o=Math.max(0,(e.y-s+i)/n),r=this.params.getNumRows(this.comp)-1,l=Math.min(r,o)|0;return{rowIndex:l,position:Math.round(o)>o||o>r?"bottom":"top",component:this.virtualList.getComponentAt(l)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${lv}`).forEach(t=>{[lv,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(s=>{t.classList.remove(s)})}),this.lastHoveredListItem=null}};S([H("dragAndDropService")],xF.prototype,"dragAndDropService",2);S([We],xF.prototype,"postConstruct",1);function bl(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Vt=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;ln(this.detailGridInfoMap,(s,n)=>{Ge(n)&&(e(n,t),t++)})}getDataAsCsv(e){if(es.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){es.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return es.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(es.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(es.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){es.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const s=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${e}`;t===null?s.removeAttribute(n):s.setAttribute(n,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}logDeprecation(e,t,s,n){St(`Since ${e} api.${t} is deprecated. Please use ${s} instead. ${n}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const t=s=>St(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);Ge(e.fadeDelay)&&t("fade"),Ge(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(t))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return St("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,s){this.expansionService.setRowNodeExpanded(e,t,s)}onGroupExpandedOrCollapsed(){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,s){this.rowRenderer.addRenderedRowListener(e,t,s)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return es.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){es.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(r=>r.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):r.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:s,source:n,newValue:i}=e,o=s;this.selectionService.setNodesSelected({nodes:o,source:n??"api",newValue:i})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return Rt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){if(Rt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t),"ensureVisible")}ensureNodeVisible(e,t=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t),"ensureVisible")}forEachLeafNode(e){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(Rt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return St("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!es.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return bl(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,s){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:s,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return es.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return bl(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(Ge(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let s=this.columnModel.getPrimaryColumn(e);return Rt(s)&&(s=this.columnModel.getGridColumn(e)),Rt(s)?null:this.valueService.getValue(s,t)}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){const e=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const t={type:M.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;const s=this.ctrlsService.getGridCtrl();s&&s.destroyGridUi(),this.context.destroy(),LM(this,["isDestroyed"],e)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(es.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}es.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),es.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(es.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>t())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,t){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,t))}assertClipboard(e,t){es.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,t){St("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const s=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:s,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){St("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let s=this.columnModel.getGridColumn(e);if(s||(s=this.columnModel.getPrimaryColumn(e)),!s){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:s,mouseEvent:t,positionBy:"mouse"})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:t,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(bl)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(bl)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const s={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const i=this.navigationService.getCellByPosition(s);i&&(this.focusService.isCellFocused(s)||this.focusService.setFocusedCell(s),i.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}applyServerSideRowData(e){var t,s;const n=(t=e.startRow)!=null?t:0,i=(s=e.route)!=null?s:[];if(n<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,n,i):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e))}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,t))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t,s=!0,n="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,s,n)}setColumnWidths(e,t=!0,s="api"){this.columnModel.setColumnWidths(e,!1,t,s)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){St(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){St("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,t="api"){St("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e,t="api"){St("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e,t="api"){St("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e,t="api"){St("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){St("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};S([qt("csvCreator")],Vt.prototype,"csvCreator",2);S([qt("excelCreator")],Vt.prototype,"excelCreator",2);S([H("rowRenderer")],Vt.prototype,"rowRenderer",2);S([H("navigationService")],Vt.prototype,"navigationService",2);S([H("filterManager")],Vt.prototype,"filterManager",2);S([H("columnModel")],Vt.prototype,"columnModel",2);S([H("selectionService")],Vt.prototype,"selectionService",2);S([H("gridOptionsService")],Vt.prototype,"gos",2);S([H("valueService")],Vt.prototype,"valueService",2);S([H("alignedGridsService")],Vt.prototype,"alignedGridsService",2);S([H("eventService")],Vt.prototype,"eventService",2);S([H("pinnedRowModel")],Vt.prototype,"pinnedRowModel",2);S([H("context")],Vt.prototype,"context",2);S([H("rowModel")],Vt.prototype,"rowModel",2);S([H("sortController")],Vt.prototype,"sortController",2);S([H("paginationProxy")],Vt.prototype,"paginationProxy",2);S([H("focusService")],Vt.prototype,"focusService",2);S([H("dragAndDropService")],Vt.prototype,"dragAndDropService",2);S([qt("rangeService")],Vt.prototype,"rangeService",2);S([qt("clipboardService")],Vt.prototype,"clipboardService",2);S([qt("aggFuncService")],Vt.prototype,"aggFuncService",2);S([H("menuService")],Vt.prototype,"menuService",2);S([H("valueCache")],Vt.prototype,"valueCache",2);S([H("animationFrameService")],Vt.prototype,"animationFrameService",2);S([qt("statusBarService")],Vt.prototype,"statusBarService",2);S([qt("chartService")],Vt.prototype,"chartService",2);S([qt("undoRedoService")],Vt.prototype,"undoRedoService",2);S([qt("rowNodeBlockLoader")],Vt.prototype,"rowNodeBlockLoader",2);S([qt("ssrmTransactionManager")],Vt.prototype,"serverSideTransactionManager",2);S([H("ctrlsService")],Vt.prototype,"ctrlsService",2);S([H("overlayService")],Vt.prototype,"overlayService",2);S([qt("sideBarService")],Vt.prototype,"sideBarService",2);S([H("stateService")],Vt.prototype,"stateService",2);S([H("expansionService")],Vt.prototype,"expansionService",2);S([H("apiEventService")],Vt.prototype,"apiEventService",2);S([H("frameworkOverrides")],Vt.prototype,"frameworkOverrides",2);S([We],Vt.prototype,"init",1);Vt=S([ot("gridApi")],Vt);var Gn=class extends He{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(s=>t?this.doesRowPassQuickFilterCache(e,s):this.doesRowPassQuickFilterNoCache(e,s))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return Ge(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:Gn.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),t=this.gridOptionsService.get("quickFilterMatcher"),s=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,s&&(this.setQuickFilterParts(),this.dispatchEvent({type:Gn.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Gn.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const i=this.getQuickFilterTextForColumn(n,e);return Ge(i)&&i.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let s;e?(this.checkGenerateQuickFilterAggregateText(t),s=t.quickFilterAggregateText):s=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,s)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let s=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const i=this.gridOptionsService.addGridCommonParams({value:s,node:t,data:t.data,column:e,colDef:n});s=n.getQuickFilterText(i)}return Ge(s)?s.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const i=this.getQuickFilterTextForColumn(n,e);Ge(i)&&t.push(i)}),t.join(Gn.QUICK_FILTER_SEPARATOR)}};Gn.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Gn.QUICK_FILTER_SEPARATOR=`
`;S([H("valueService")],Gn.prototype,"valueService",2);S([H("columnModel")],Gn.prototype,"columnModel",2);S([H("rowModel")],Gn.prototype,"rowModel",2);S([We],Gn.prototype,"postConstruct",1);Gn=S([ot("quickFilterService")],Gn);var Pi=class extends He{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,s;this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:n})=>this.onAdvancedFilterEnabledChanged(n)),this.addManagedListener(this.eventService,M.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Gn.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=mt({},(s=(t=(e=this.gridOptionsService.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)!=null?s:{})}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const s=[],n=this.getFilterModel();if(e){const i=Ub(Object.keys(e));this.allColumnFilters.forEach((o,r)=>{const l=e[r];s.push(this.setModelOnFilterWrapper(o.filterPromise,l)),i.delete(r)}),i.forEach(o=>{const r=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!r){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!r.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(r,"NO_UI");if(!l){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}s.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{s.push(this.setModelOnFilterWrapper(i.filterPromise,null))});Qn.all(s).then(()=>{const i=this.getFilterModel(),o=[];this.allColumnFilters.forEach((r,l)=>{const a=n?n[l]:null,c=i?i[l]:null;xt.jsonEquals(a,c)||o.push(r.column)}),o.length>0&&this.onFilterChanged({columns:o,source:t})})}setModelOnFilterWrapper(e,t){return new Qn(s=>{e.then(n=>{typeof n.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),s()),(n.setModel(t)||Qn.resolve()).then(()=>s())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,s)=>{const n=this.getModelFromFilterWrapper(t);Ge(n)&&(e[s]=n)}),e}getModelFromFilterWrapper(e){var t;const n=e.filterPromise.resolveNow(null,i=>i);return n==null?(t=this.initialFilterModel[e.column.getColId()])!=null?t:null:typeof n.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):n.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(s=>this.disposeFilterWrapper(s,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(t=this.advancedFilterService)!=null&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=n=>n?n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gridOptionsService.getGroupAggFiltering(),s=n=>{if(!n.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!n.isValueActive()||!o?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,e)){const i=n.filterPromise.resolveNow(null,o=>o);s(n.column)?this.activeAggregateFilters.push(i):this.activeColumnFilters.push(i)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(s=>{const n=s.filterPromise.resolveNow(!1,i=>i.isFilterActive());s.column.setFilterActive(n,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,s){const{data:n,aggData:i}=e,o=s?this.activeAggregateFilters:this.activeColumnFilters,r=s?i:n;for(let l=0;l<o.length;l++){const a=o[l];if(!(a==null||a===t)){if(typeof a.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!a.doesFilterPass({node:e,data:r}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:s,additionalEventAttributes:n,columns:i}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(r=>{r.filterPromise&&r.filterPromise.then(l=>{l&&l!==s&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const o={source:t,type:M.EVENT_FILTER_CHANGED,columns:i||[]};n&&Jn(o,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!((e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!=null?e:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(s=>{s.onNewRowsLoaded&&s.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,s)=>{const n=s?this.columnModel.getGridColumn(s):e;return n?this.valueService.getValue(n,t,!0):void 0}}getFilterComponent(e,t,s=!0){var n;if(s)return((n=this.getOrCreateFilterWrapper(e,t))==null?void 0:n.filterPromise)||null;const i=this.cachedFilter(e);return i?i.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,s=>s.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let s=this.cachedFilter(e);return s?t!=="NO_UI"&&this.putIntoGui(s,t):(s=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,s)),s}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(es.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{const s=this.dataTypeService.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(es.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{const s=this.dataTypeService.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),s=e.getColDef();let n;const i=vs(mt({},this.createFilterParams(e,s)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:r=>this.filterChangedCallbackFactory(n,e)(r),doesRowPassOtherFilter:r=>this.doesRowPassOtherFilters(n,r)}),o=this.userComponentFactory.getFilterDetails(s,i,t);return o?{filterPromise:()=>{const r=o.newAgStackInstance();return r&&r.then(l=>n=l),r},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gridOptionsService.addGridCommonParams({column:e,colDef:mb(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var s;const n={column:e,filterPromise:null,compiledElement:null,guiPromise:Qn.resolve(null),compDetails:null},{filterPromise:i,compDetails:o}=this.createFilterInstance(e);return n.filterPromise=(s=i==null?void 0:i())!=null?s:null,n.compDetails=o,i&&this.putIntoGui(n,t),n}putIntoGui(e,t){const s=document.createElement("div");s.className="ag-filter",e.guiPromise=new Qn(n=>{e.filterPromise.then(i=>{let o=i.getGui();Ge(o)||console.warn(`AG Grid: getGui method from filter returned ${o}, it should be a DOM element or an HTML template string.`),typeof o=="string"&&(o=kn(o)),s.appendChild(o),n(s);const r={type:M.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:s};this.eventService.dispatchEvent(r)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,s)=>{let n;t.column.isPrimary()?n=this.columnModel.getPrimaryColumn(s):n=this.columnModel.getGridColumn(s),!n&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(s))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,s;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const i=this.allColumnFilters.get(e.getColId());return(s=(t=i==null?void 0:i.filterPromise)==null?void 0:t.resolveNow(!0,o=>typeof(o==null?void 0:o.isFilterAllowed)=="function"?o==null?void 0:o.isFilterAllowed():!0))!=null?s:!0}getFloatingFilterCompDetails(e,t){const s=a=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(h=>{a(bl(h))})},n=e.getColDef(),i=vs(mt({},this.createFilterParams(e,n)),{filterChangedCallback:()=>s(a=>this.filterChangedCallbackFactory(a,e)())}),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,QC,i);let r=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));r==null&&(r="agReadOnlyFloatingFilter");const l={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,l,r)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,s=>s&&s.getModel()):null}destroyFilter(e,t="api"){const s=e.getColId(),n=this.allColumnFilters.get(s);this.disposeColumnListener(s),delete this.initialFilterModel[s],n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(s=>{this.getContext().destroyBean(s),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:M.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(n)})}filterModifiedCallbackFactory(e,t){return()=>{const s={type:M.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};this.eventService.dispatchEvent(s)}}filterChangedCallbackFactory(e,t){return s=>{var n;const i=(n=s==null?void 0:s.source)!=null?n:"api",o={filter:e,additionalEventAttributes:s,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(o)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const s=t.column,{compDetails:n}=s.isFilterAllowed()?this.createFilterInstance(s):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(s,"paramsUpdated");return}const i=s.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(s,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh(mt(vs(mt({},this.createFilterParams(s,s.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(o,s),filterChangedCallback:this.filterChangedCallbackFactory(o,s),doesRowPassOtherFilter:l=>this.doesRowPassOtherFilters(o,l)}),i)):!0)===!1&&this.destroyFilter(s,"paramsUpdated")})}setColumnFilterWrapper(e,t){const s=e.getColId();this.allColumnFilters.set(s,t),this.allColumnListeners.set(s,this.addManagedListener(e,rs.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(s)))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:s}=e,{componentClass:n}=t;return!(s===n||(s==null?void 0:s.render)&&(n==null?void 0:n.render)&&s.render===n.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const s=this.getFilterInstanceImpl(e,i=>{if(!t)return;const o=bl(i);t(o)});return bl(s)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstance(e,s=>{t(s)})})}getFilterInstanceImpl(e,t){const s=this.columnModel.getPrimaryColumn(e);if(!s)return;const n=this.getFilterComponent(s,"NO_UI"),i=n&&n.resolveNow(null,o=>o);return i?setTimeout(t,0,i):n&&n.then(o=>{t(o)}),i}warnAdvancedFilters(){St("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:s})=>{this.setColumnFilterModel(e,t).then(()=>s())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let o=()=>{};const r=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),r}const s=this.columnModel.getPrimaryColumn(e),n=s?this.getOrCreateFilterWrapper(s,"NO_UI"):null;return n?(o=>new Promise(r=>{o.then(l=>r(l))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){var t;const s=this.columnModel.getPrimaryColumn(e);return s&&(t=this.cachedFilter(s))!=null?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};S([H("valueService")],Pi.prototype,"valueService",2);S([H("columnModel")],Pi.prototype,"columnModel",2);S([H("rowModel")],Pi.prototype,"rowModel",2);S([H("userComponentFactory")],Pi.prototype,"userComponentFactory",2);S([H("rowRenderer")],Pi.prototype,"rowRenderer",2);S([H("dataTypeService")],Pi.prototype,"dataTypeService",2);S([H("quickFilterService")],Pi.prototype,"quickFilterService",2);S([qt("advancedFilterService")],Pi.prototype,"advancedFilterService",2);S([We],Pi.prototype,"init",1);Pi=S([ot("filterManager")],Pi);var sS=class extends Mt{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Ca=class kF extends sS{constructor(t){super(kF.TEMPLATE,t)}postConstruct(){const t=this.getGui(),s={addOrRemoveCssClass:(n,i)=>this.addOrRemoveCssClass(n,i),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>Wt(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>t.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(s,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(s=>this.afterCompCreated(s))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}};Ca.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;S([Ze("eFloatingFilterBody")],Ca.prototype,"eFloatingFilterBody",2);S([Ze("eButtonWrapper")],Ca.prototype,"eButtonWrapper",2);S([Ze("eButtonShowMainFilter")],Ca.prototype,"eButtonShowMainFilter",2);S([We],Ca.prototype,"postConstruct",1);S([An],Ca.prototype,"destroyFloatingFilterComp",1);var cae=Ca,Zg=class extends He{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},s=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(s,t)}getDomLayout(){var e;const t=(e=this.gridOptionsService.get("domLayout"))!=null?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(St(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}};S([We],Zg.prototype,"postConstruct",1);var ar=class extends He{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=yn(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=yn(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const s=this.gridOptionsService.get("debounceVerticalScrollbar"),n=s?yn(this.onVScroll.bind(this),100):this.onVScroll.bind(this),i=s?yn(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),t.onScrollCallback(i)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const s=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),i=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),r=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-s),o.setContainerTranslateX(s),n.setContainerTranslateX(s),i.setContainerTranslateX(s);const a=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[1]===0;e=Math.abs(e),c?r.setScrollPosition(e):Ad(a,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:s}=t;if(this.shouldBlockScrollUpdate(1,s,!0))return;let n;e===0?n=Dd(t,this.enableRtl):n=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;e===0?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===0?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:M.EVENT_BODY_SCROLL,direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const s=vs(mt({},t),{type:M.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(s)},100)}shouldBlockScrollUpdate(e,t,s=!1){return s&&!or()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=fh(this.eBodyViewport),{scrollHeight:s}=this.eBodyViewport;return e<0||e+t>s}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:s}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&Td()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>s}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Td()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Ad(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const s=this.rowModel.getRowCount();let n=-1;for(let i=0;i<s;i++){const o=this.rowModel.getRow(i);if(typeof e=="function"){if(o&&e(o)){n=i;break}}else if(e===o||e===o.data){n=i;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const s=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=s){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}const i=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{i||this.paginationProxy.goToPageWithIndex(e);const r=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let a;do{const c=l.rowTop,h=l.rowHeight,d=this.paginationProxy.getPixelOffset(),p=l.rowTop-d,g=p+l.rowHeight,m=this.getVScrollPosition(),f=this.heightScaler.getDivStretchOffset(),C=m.top+f,v=m.bottom+f,y=v-C,w=this.heightScaler.getScrollPositionForPixel(p),b=this.heightScaler.getScrollPositionForPixel(g-y),T=Math.min((w+b)/2,p),E=C+r>p,P=v<g;let A=null;t==="top"?A=w:t==="bottom"?A=b:t==="middle"?A=T:E?A=w-r:P&&(A=b),A!==null&&(this.setVerticalScrollPosition(A),this.rowRenderer.redraw({afterScroll:!0})),a=c!==l.rowTop||h!==l.rowHeight}while(a);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const s=this.columnModel.getGridColumn(e);if(!s||s.isPinned()||!this.columnModel.isColumnDisplayed(s))return;const n=this.getPositionedHorizontalScroll(s,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:s,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowContainerCtrl.getCenterWidth(),r=this.enableRtl;let l=(r?s:n)||i,a=r?n:s;t!=="auto"&&(l=t==="start",a=t==="end");const c=t==="middle";if(l||a||c){const{colLeft:h,colMiddle:d,colRight:p}=this.getColumnBounds(e);return c?d-o/2:l?r?p:h:r?h-o:p-o}return null}isColumnOutsideViewport(e){const{start:t,end:s}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>i:s<i,l=o?s<n:t>n;return{columnBeforeStart:r,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,s=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,r=t?s-i:i,l=r+n*o,a=r+n/2*o;return{colLeft:r,colMiddle:a,colRight:l}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),s=t,n=e+t;return{start:s,end:n,width:e}}};S([H("ctrlsService")],ar.prototype,"ctrlsService",2);S([H("animationFrameService")],ar.prototype,"animationFrameService",2);S([H("paginationProxy")],ar.prototype,"paginationProxy",2);S([H("rowModel")],ar.prototype,"rowModel",2);S([H("rowContainerHeightService")],ar.prototype,"heightScaler",2);S([H("rowRenderer")],ar.prototype,"rowRenderer",2);S([H("columnModel")],ar.prototype,"columnModel",2);S([We],ar.prototype,"postConstruct",1);var GF="ag-force-vertical-scroll",dae="ag-selectable",hae="ag-column-moving",On=class extends He{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,s,n,i,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=s,this.eTop=n,this.eBottom=i,this.eStickyTop=o,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",r=>this.setCellTextSelection(r.currentValue)),this.createManagedBean(new Zg(this.comp)),this.bodyScrollFeature=this.createManagedBean(new ar(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,s,i,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(n),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",s=>{const{target:n}=s,i=Fl(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)}),this.addManagedListener(t,"focusout",s=>{const{target:n,relatedTarget:i}=s,o=t.contains(i),r=Fl(i,"ag-root",t);Fl(n,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(hae,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(dae,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const t=e&&this.gridOptionsService.getScrollbarWidth()||0,s=Ib()?16:0,n=`calc(100% + ${t+s}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const e=s=>{const n=s.relatedTarget;if(Ff(n)===null){this.rowRenderer.stopEditing();return}let i=t.some(o=>o.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!i){const o=this.popupService;i=o.getActivePopups().some(r=>r.contains(n))||o.isElementWithinCustomPopup(n)}i||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(s=>this.addManagedListener(s,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,s=t===-1?-1:e+t;this.comp.setRowCount(s)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gridOptionsService.get("alwaysShowVerticalScroll"),t=e?GF:null,s=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||s&&NI(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),s=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,t)};e(),this.addManagedListener(this.eventService,M.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",s=>this.onFullWidthContainerWheel(s,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,s){if(!e&&!s)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||s).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:s,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!or())return;const t=new Qs(this.eBodyViewport),s=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(t,Qs.EVENT_LONG_TAP,s),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new ri(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight(),s=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(s),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(s?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),s=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t+1),s>0&&(n+=s+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=pa(this.eGridBody)-n;if(o>0){this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};S([H("animationFrameService")],On.prototype,"animationFrameService",2);S([H("rowContainerHeightService")],On.prototype,"rowContainerHeightService",2);S([H("ctrlsService")],On.prototype,"ctrlsService",2);S([H("columnModel")],On.prototype,"columnModel",2);S([H("scrollVisibleService")],On.prototype,"scrollVisibleService",2);S([H("menuService")],On.prototype,"menuService",2);S([H("headerNavigationService")],On.prototype,"headerNavigationService",2);S([H("dragAndDropService")],On.prototype,"dragAndDropService",2);S([H("pinnedRowModel")],On.prototype,"pinnedRowModel",2);S([H("rowRenderer")],On.prototype,"rowRenderer",2);S([H("popupService")],On.prototype,"popupService",2);S([H("mouseEventService")],On.prototype,"mouseEventService",2);S([H("rowModel")],On.prototype,"rowModel",2);S([H("filterManager")],On.prototype,"filterManager",2);var wc="ag-cell-range-selected",pae="ag-cell-range-chart",fae="ag-cell-range-single-cell",gae="ag-cell-range-chart-category",mae="ag-cell-range-handle",vae="ag-cell-range-top",Cae="ag-cell-range-right",yae="ag-cell-range-bottom",wae="ag-cell-range-left",bae=class{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(wc,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${wc}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${wc}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${wc}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${wc}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(pae,this.hasChartRange),Ou(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(fae,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),s=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass(vae,s),this.cellComp.addOrRemoveCssClass(Cae,n),this.cellComp.addOrRemoveCssClass(yae,i),this.cellComp.addOrRemoveCssClass(wae,o)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(s=>ni([1,0],s.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.get("enableRtl");let t=!1,s=!1,n=!1,i=!1;const o=this.cellCtrl.getCellPosition().column,{rangeService:r,columnModel:l}=this.beans;let a,c;e?(a=l.getDisplayedColAfter(o),c=l.getDisplayedColBefore(o)):(a=l.getDisplayedColBefore(o),c=l.getDisplayedColAfter(o));const h=r.getCellRanges().filter(d=>r.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(i=!0),c||(s=!0);for(let d=0;d<h.length&&!(t&&s&&n&&i);d++){const p=h[d],g=r.getRangeStartRow(p),m=r.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!i&&a&&p.columns.indexOf(a)<0&&(i=!0),!s&&c&&p.columns.indexOf(c)<0&&(s=!0)}return{top:t,right:s,bottom:n,left:i}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(mae,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,s=t.getCellRanges(),n=s.length;if(this.rangeCount<1||n<1)return!1;const i=Xt(s),o=this.cellCtrl.getCellPosition(),r=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.get("enableRangeHandle");let a=n===1&&!this.cellCtrl.isEditing()&&(r||l);if(this.hasChartRange){const h=s[0].type===1&&t.isCellInSpecificRange(o,s[0]);this.cellComp.addOrRemoveCssClass(gae,h),a=i.type===0}return a&&i.endRow!=null&&t.isContiguousRange(i)&&t.isBottomRightCell(i,o)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,s=Xt(t.getCellRanges()).type,i=e.get("enableFillHandle")&&Rt(s)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Sae=class extends He{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();ao(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let s=this.column;const n=this.column.getPinned();for(let i=0;s&&i<e&&(t.push(s),s=this.beans.columnModel.getDisplayedColAfter(s),!(!s||Rt(s)||n!==s.getPinned()));i++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=Xt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const s=this.beans.columnModel.getBodyContainerWidth();return t+s+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const s=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${s}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Eae=class extends He{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,s=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,s,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const s=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(s)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(s=>this.cellComp.addOrRemoveCssClass(s,!0))}destroy(){super.destroy()}},Pt=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};S([H("resizeObserverService")],Pt.prototype,"resizeObserverService",2);S([H("paginationProxy")],Pt.prototype,"paginationProxy",2);S([H("context")],Pt.prototype,"context",2);S([H("columnApi")],Pt.prototype,"columnApi",2);S([H("gridApi")],Pt.prototype,"gridApi",2);S([H("gridOptionsService")],Pt.prototype,"gridOptionsService",2);S([H("expressionService")],Pt.prototype,"expressionService",2);S([H("environment")],Pt.prototype,"environment",2);S([H("rowRenderer")],Pt.prototype,"rowRenderer",2);S([H("templateService")],Pt.prototype,"templateService",2);S([H("valueService")],Pt.prototype,"valueService",2);S([H("eventService")],Pt.prototype,"eventService",2);S([H("columnModel")],Pt.prototype,"columnModel",2);S([H("headerNavigationService")],Pt.prototype,"headerNavigationService",2);S([H("navigationService")],Pt.prototype,"navigationService",2);S([H("columnAnimationService")],Pt.prototype,"columnAnimationService",2);S([qt("rangeService")],Pt.prototype,"rangeService",2);S([H("focusService")],Pt.prototype,"focusService",2);S([H("popupService")],Pt.prototype,"popupService",2);S([H("valueFormatterService")],Pt.prototype,"valueFormatterService",2);S([H("stylingService")],Pt.prototype,"stylingService",2);S([H("columnHoverService")],Pt.prototype,"columnHoverService",2);S([H("userComponentFactory")],Pt.prototype,"userComponentFactory",2);S([H("userComponentRegistry")],Pt.prototype,"userComponentRegistry",2);S([H("animationFrameService")],Pt.prototype,"animationFrameService",2);S([H("dragService")],Pt.prototype,"dragService",2);S([H("dragAndDropService")],Pt.prototype,"dragAndDropService",2);S([H("sortController")],Pt.prototype,"sortController",2);S([H("filterManager")],Pt.prototype,"filterManager",2);S([H("rowContainerHeightService")],Pt.prototype,"rowContainerHeightService",2);S([H("frameworkOverrides")],Pt.prototype,"frameworkOverrides",2);S([H("cellPositionUtils")],Pt.prototype,"cellPositionUtils",2);S([H("rowPositionUtils")],Pt.prototype,"rowPositionUtils",2);S([H("selectionService")],Pt.prototype,"selectionService",2);S([qt("selectionHandleFactory")],Pt.prototype,"selectionHandleFactory",2);S([H("rowCssClassCalculator")],Pt.prototype,"rowCssClassCalculator",2);S([H("rowModel")],Pt.prototype,"rowModel",2);S([H("ctrlsService")],Pt.prototype,"ctrlsService",2);S([H("ctrlsFactory")],Pt.prototype,"ctrlsFactory",2);S([H("agStackComponentsRegistry")],Pt.prototype,"agStackComponentsRegistry",2);S([H("valueCache")],Pt.prototype,"valueCache",2);S([H("rowNodeEventThrottle")],Pt.prototype,"rowNodeEventThrottle",2);S([H("localeService")],Pt.prototype,"localeService",2);S([H("valueParserService")],Pt.prototype,"valueParserService",2);S([H("syncService")],Pt.prototype,"syncService",2);S([H("ariaAnnouncementService")],Pt.prototype,"ariaAnnouncementService",2);S([We],Pt.prototype,"postConstruct",1);Pt=S([ot("beans")],Pt);var Rae=class extends Pt{constructor(e,t,s){super(),this.cellCtrl=e,this.beans=t,this.column=s}onMouseEvent(e,t){if(!Wi(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:s,gridOptionsService:n}=this.beans,i=e.ctrlKey||e.metaKey;s&&i&&s.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&s.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,M.EVENT_CELL_CLICKED);t.dispatchEvent(o);const r=this.column.getColDef();r.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellClicked(o)})},0),(n.get("singleClickEdit")||r.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(s==null?void 0:s.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!or()||wb("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),s=this.cellCtrl.createEvent(e,M.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(s),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellDoubleClicked(s)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:s,shiftKey:n}=e,i=e.target,{cellCtrl:o,beans:r}=this,{eventService:l,rangeService:a,focusService:c}=r;if(this.isRightClickInExistingRange(e))return;const h=a&&a.getCellRanges().length!=0;if(!n||!h){const d=yo()&&!o.isEditing()&&!Nb(i);o.focusCell(d)}if(n&&h&&!c.isCellFocused(o.getCellPosition())){e.preventDefault();const d=c.getFocusedCell();if(d){const{column:p,rowIndex:g,rowPinned:m}=d,f=r.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:m}),C=f==null?void 0:f.getCellCtrl(p);C!=null&&C.isEditing()&&C.stopEditing(),c.setFocusedCell({column:p,rowIndex:g,rowPinned:m,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(i)){if(a){const d=this.cellCtrl.getCellPosition();if(n)a.extendLatestRangeToCell(d);else{const p=t||s;a.setRangeToCell(d,p)}}l.dispatchEvent(this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const s=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(s&&n)return!0}return!1}containsWidget(e){return Fl(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),s=t.contains(e.target),n=t.contains(e.relatedTarget);return s&&n}destroy(){}},Tae=class extends He{constructor(e,t,s,n,i){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=i}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case fe.ENTER:this.onEnterKeyDown(e);break;case fe.F2:this.onF2KeyDown(e);break;case fe.ESCAPE:this.onEscapeKeyDown(e);break;case fe.TAB:this.onTabKeyDown(e);break;case fe.BACKSPACE:case fe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case fe.DOWN:case fe.UP:case fe.RIGHT:case fe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:s,beans:n,rowNode:i}=this,{gridOptionsService:o,rangeService:r,eventService:l}=n;s.isEditing()||(l.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),UI(e,o.get("enableCellEditingOnBackspace"))?r&&o.get("enableRangeSelection")?r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):s.isCellEditable()&&i.setDataValue(s.getColumn(),null,"cellClear"):s.startRowOrCellEdit(e,t),l.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){const t=e.shiftKey?fe.UP:fe.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(fe.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(fe.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const s=this.rowNode.isSelected(),n=!s;if(n||!t.get("suppressRowDeselection")){const i=this.beans.gridOptionsService.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});s===void 0&&o===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},VF=class extends Mt{constructor(e,t,s){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=s}postConstruct(){this.getGui().appendChild(Es("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const s=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else s()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};S([We],VF.prototype,"postConstruct",1);var Dae="ag-column-first",Aae="ag-column-last",Jg=class{static getHeaderClassesFromColDef(e,t,s,n){return Rt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,s,n)}static getToolPanelClassesFromColDef(e,t,s,n){return Rt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,s,n)}static refreshFirstAndLastStyles(e,t,s){e.addOrRemoveCssClass(Dae,s.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(Aae,s.isColumnAtEdge(t,"last"))}static getClassParams(e,t,s,n){return t.addGridCommonParams({colDef:e,column:s,columnGroup:n})}static getColumnClassesFromCollDef(e,t,s,n,i){if(Rt(e))return[];let o;if(typeof e=="function"){const r=this.getClassParams(t,s,n,i);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}},Pae="ag-cell",Oae="ag-cell-auto-height",_ae="ag-cell-normal-height",Mae="ag-cell-focus",Iae="ag-cell-first-right-pinned",Fae="ag-cell-last-left-pinned",Lae="ag-cell-not-inline-editing",Nae="ag-column-hover",xae="ag-cell-wrap-text",kae=0,HF=class ZC extends He{constructor(t,s,n,i){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=s,this.beans=n,this.rowCtrl=i,this.instanceId=t.getId()+"-"+kae++,this.colIdSanitised=Hs(this.column.getId()),n.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new Sae(this,this.beans),this.addDestroyFunc(()=>{var s;(s=this.cellPositionFeature)==null||s.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new Eae(this,this.beans),this.addDestroyFunc(()=>{var s;(s=this.cellCustomStyleFeature)==null||s.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Rae(this,this.beans,this.column),this.addDestroyFunc(()=>{var s;(s=this.cellMouseListenerFeature)==null||s.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Tae(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var s;(s=this.cellKeyboardListenerFeature)==null||s.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new bae(this.beans,this),this.addDestroyFunc(()=>{var s;(s=this.cellRangeFeature)==null||s.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,s){const n=()=>{const r=this.column.getColDef(),l=this.rowNode.data;if(r.tooltipField&&Ge(l))return nu(l,r.tooltipField,this.column.isTooltipFieldContainsDots());const a=r.tooltipValueGetter;return a?a(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},i=this.beans.gridOptionsService.get("tooltipShowMode")==="whenTruncated";!s&&i&&!this.isCellRenderer()&&(s=()=>{const r=this.getGui(),l=r.children.length===0?r:r.querySelector(".ag-cell-value");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:s};this.tooltipFeature=new rr(o,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,s,n,i,o){var r,l,a,c;this.cellComp=t,this.eGui=s,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(r=this.cellPositionFeature)==null||r.setComp(s),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(a=this.tooltipFeature)==null||a.refreshToolTip(),(c=this.cellKeyboardListenerFeature)==null||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,s),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(h=>h()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const s=t.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,i=l=>{if(this.editing||!this.isAlive())return;const{paddingTop:a,paddingBottom:c,borderBottomWidth:h,borderTopWidth:d}=Xr(s),p=a+c+h+d,m=t.offsetHeight+p;if(l<5){const C=this.beans.gridOptionsService.getDocument(),v=!C||!C.contains(t),y=m==0;if(v||y){window.setTimeout(()=>i(l+1),0);return}}const f=Math.max(m,n);this.rowNode.setRowAutoHeight(f,this.column)},o=()=>i(0);o();const r=this.beans.resizeObserverService.observeResize(t,o);this.addDestroyFunc(()=>{r(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var t;return(t=this.column.getColDef().cellAriaRole)!=null?t:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(t=!1){const s=this.getValueToDisplay();let n;if(this.isCellRenderer()){const i=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i)}this.cellComp.setRenderDetails(n,s,t),this.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}refreshShouldDestroy(){const t=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource);return s||n||i}startEditing(t=null,s=!1,n=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,s,n)});return}const i=this.createCellEditorParams(t,s),o=this.column.getColDef(),r=this.beans.userComponentFactory.getCellEditorDetails(o,i);this.editCompDetails=r;const l=(r==null?void 0:r.popupFromSelector)!=null?r.popupFromSelector:!!o.cellEditorPopup,a=(r==null?void 0:r.popupPositionFromSelector)!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(r,l,a,this.beans.gridOptionsService.get("reactiveCustomComponents"));const c=this.createEvent(n,M.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(c)}setEditing(t){this.editing!==t&&(this.editing=t,this.refreshHandle())}stopRowOrCellEdit(t=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const s={newValueExists:!1};if(t)return s;const n=this.cellComp.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?s:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(t,s){if(s===t)return!1;this.suppressRefreshCell=!0;const n=this.rowNode.setDataValue(this.column,s,"edit");return this.suppressRefreshCell=!1,n}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:s,newValueExists:n}=this.takeValueFromCellEditor(t),i=this.rowNode.getValueFromValueService(this.column);let o=!1;return n&&(o=this.saveNewValue(i,s)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(i,s,!t&&!!o),o}dispatchEditingStoppedEvent(t,s,n){const i=vs(mt({},this.createEvent(null,M.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:s,valueChanged:n});this.beans.eventService.dispatchEvent(i)}createCellEditorParams(t,s){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:s,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:s=>this.beans.valueService.setValue(this.rowNode,this.column,s),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(s,n,i,o)=>this.registerRowDragger(s,n,o),setTooltip:(s,n)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(s,n),this.refreshToolTip()}})}parseValue(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var s;this.refreshShouldDestroy()?(s=this.rowCtrl)==null||s.refreshCell(this):this.refreshCell(t)}refreshCell(t){var s,n,i;if(this.suppressRefreshCell||this.editing)return;const o=this.column.getColDef(),r=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!o.suppressCellFlash,a=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,c=t&&t.forceRefresh||a||r,h=!!this.cellComp,d=this.updateAndFormatValue(h),p=c||d;if(h){if(p){this.showValue(r);const g=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!g&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(s=this.cellCustomStyleFeature)==null||s.applyUserStyles(),(n=this.cellCustomStyleFeature)==null||n.applyClassesFromColDef()}this.refreshToolTip(),(i=this.cellCustomStyleFeature)==null||i.applyCellClassRules()}}stopEditingAndFocus(t=!1,s=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(s)}navigateAfterEdit(t){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){const n=t?fe.UP:fe.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.getCellPosition(),!1)}}flashCell(t){var s,n;const i=(s=t==null?void 0:t.flashDuration)!=null?s:t==null?void 0:t.flashDelay,o=(n=t==null?void 0:t.fadeDuration)!=null?n:t==null?void 0:t.fadeDelay;this.animateCell("data-changed",i,o)}animateCell(t,s,n){if(!this.cellComp)return;const i=`ag-cell-${t}`,o=`ag-cell-${t}-animation`,{gridOptionsService:r}=this.beans;s||(s=r.get("cellFlashDuration")),Ge(n)||(n=r.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(i,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},s)})}onFlashCells(t){if(!this.cellComp)return;const s=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[s]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){var s;return(s=this.callValueFormatter(t))!=null?s:t}callValueFormatter(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const s=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(s,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,s){const n=this.column.getColDef();return n.equals?n.equals(t,s):t===s}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const t=this.getGui();this.beans.gridOptionsService.setDomData(t,ZC.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(t,ZC.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,s){return this.beans.gridOptionsService.addGridCommonParams({type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var s;(s=this.cellKeyboardListenerFeature)==null||s.processCharacter(t)}onKeyDown(t){var s;(s=this.cellKeyboardListenerFeature)==null||s.onKeyDown(t)}onMouseEvent(t,s){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,s)}getGui(){return this.eGui}refreshToolTip(){var t;(t=this.tooltipFeature)==null||t.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:s,beans:n}=this;Jg.refreshFirstAndLastStyles(t,s,n.columnModel)}refreshAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);Db(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(t){this.eGui.appendChild(t)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,s=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,s)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,s)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Iae,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Fae,t)}onCellFocused(t){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const s=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){s&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Mae,s),s&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const n=this.beans.gridOptionsService.get("editType")==="fullRow";!s&&!n&&this.editing&&this.stopRowOrCellEdit(),s&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:co(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(Pae,!0),this.cellComp.addOrRemoveCssClass(Lae,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Oae,t),this.cellComp.addOrRemoveCssClass(_ae,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Nae,t)}onColDefChanged(){var t;if(!this.cellComp)return;if(this.column.isAutoHeight()!==this.isAutoHeight&&((t=this.rowCtrl)==null||t.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const i=this.getCellEditor();if(i!=null&&i.refresh){const{eventKey:o,cellStartedEdit:r}=this.editCompDetails.params,l=this.createCellEditorParams(o,r),a=this.column.getColDef(),c=this.beans.userComponentFactory.getCellEditorDetails(a,l);i.refresh(c.params)}}}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(xae,t)}dispatchCellContextMenuEvent(t){const s=this.column.getColDef(),n=this.createEvent(t,M.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),s.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Xg;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new VF(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,s,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,s);return}const i=this.createRowDragComp(t,s,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(t,s,n){const i=this.beans.gridOptionsService.get("pagination"),o=this.beans.gridOptionsService.get("rowDragManaged"),r=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!r){St("managed row dragging is only allowed in the Client Side Row Model");return}if(i){St("managed row dragging is not possible when doing pagination");return}}const l=new ql(()=>this.value,this.rowNode,this.column,t,s,n);return this.beans.context.createBean(l),l}};HF.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Nl=HF,Gae=0,BF=class JC extends He{constructor(t,s,n,i,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=s,this.gridOptionsService=s.gridOptionsService,this.rowNode=t,this.paginationPage=s.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=i,this.printLayout=o,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=t.id+"-"+Gae++,this.rowId=Hs(t.id),this.initRowBusinessKey(),this.rowFocused=s.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=s.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Hs(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(t,s,n){const i={rowComp:t,element:s,containerType:n};this.allRowGuis.push(i),n==="left"?this.leftGui=i:n==="right"?this.rightGui=i:n==="fullWidth"?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){switch(this.allRowGuis=this.allRowGuis.filter(s=>s.containerType!==t),t){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gridOptionsService.get("keepDetailRows")}setCached(t){const s=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=s)}initialiseRowComp(t){const s=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(o=>n.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Ko(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),s.setDomData(t.element,JC.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>s.setDomData(t.element,JC.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),s.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Hs(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:s}=t;this.slideInAnimation[s]&&(kC(()=>{this.onTopChanged()}),this.slideInAnimation[s]=!1),this.fadeInAnimation[s]&&(kC(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[s]=!1)}addRowDraggerToRow(t){if(this.gridOptionsService.get("enableRangeSelection")){St("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const s=this.beans.localeService.getLocaleTextFunc(),n=new ql(()=>`1 ${s("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),i=this.createBean(n,this.beans.context);this.rowDragComps.push(i)}setupFullWidth(t){const s=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!es.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const n=this.createFullWidthCompDetails(t.element,s);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,s;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(s=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:s.getFullWidthCellRenderer()]}getCellElement(t){const s=this.getCellCtrl(t);return s?s.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gridOptionsService.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const s={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(s)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),s=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&s&&n}setRowType(){const t=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),n=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(i);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":s?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,s=!1){if(this.isFullWidth())return;if(t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(s);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,s,n=null){const i={list:[],map:{}},o=(r,l)=>{i.list.push(l),i.map[r]=l};return s.forEach(r=>{const l=r.getInstanceId();let a=t.map[l];a||(a=new Nl(r,this.rowNode,this.beans,this)),o(l,a)}),t.list.forEach(r=>{if(i.map[r.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(r,n)){o(r.getColumn().getInstanceId(),r);return}r.destroy()}),i}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(s=>{const n=this.getCellCtrlsForContainer(s.containerType);s.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const s=t;throw new Error(`Unhandled case: ${s}`)}}createAllCellCtrls(){const t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const n=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(t,s){if(t.getColumn().getPinned()!=s)return!0;const r=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition());if(r||l){const c=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(c)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(t){const s=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",s),this.addManagedPropertyListener("ensureDomOrder",s)}setAnimateFlags(t){if(this.isSticky()||!t)return;const s=Ge(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();if(s){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}getRowType(){return this.rowType}refreshFullWidth(){const t=(l,a)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,a).params):!0,s=t(this.fullWidthGui,null),n=t(this.centerGui,null),i=t(this.leftGui,"left"),o=t(this.rightGui,"right");return s&&n&&i&&o}addListeners(){this.addManagedListener(this.rowNode,Nt.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Nt.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Nt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Nt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Nt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,M.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,M.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,M.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,M.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,M.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(t,M.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gridOptionsService.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Nt.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Nt.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(s=>s.onCellChanged(t))})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(s=>{const n=t===0,i=t===1;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),s=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&s),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!s),Ko(n.element,t&&s)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:co(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const s=this.allRowGuis.find(a=>a.element.contains(t.target));if(!((s?s.element:null)===t.target))return;const o=this.rowNode,r=this.beans.focusService.getFocusedCell(),l={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:r&&r.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Wi(t))return;const s=this.allRowGuis.find(r=>r.element.contains(t.target)),n=s?s.element:null,i=n===t.target;let o=null;i||(o=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigationService.onTabKeyDown(this,t)}onFullWidthRowFocused(t){var s;const n=this.rowNode,i=t?this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned:!1,o=this.fullWidthGui?this.fullWidthGui.element:(s=this.centerGui)==null?void 0:s.element;o&&(o.classList.toggle("ag-full-width-focus",i),i&&o.focus({preventScroll:!0}))}refreshCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()}removeCellCtrl(t,s){const n={list:[],map:{}};return t.list.forEach(i=>{i!==s&&(n.list.push(i),n.map[i.getInstanceId()]=i)}),n}onMouseEvent(t,s){switch(t){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s);break}}createRowEvent(t,s){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:s})}createRowEventWithSource(t,s){const n=this.createRowEvent(t,s);return n.source=this,n}onRowDblClick(t){if(Wi(t))return;const s=this.createRowEventWithSource(M.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(s)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Fl(t.target,"ag-row-drag",3),!this.isFullWidth())return;const s=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:s.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:s.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(Wi(t)||this.lastMouseDownOnDragger)return;const n=this.createRowEventWithSource(M.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(n);const i=t.ctrlKey||t.metaKey,o=t.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const l=this.gridOptionsService.get("rowMultiSelectWithClick"),a=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):i?a&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:c});else{const h=l?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:h,rangeSelect:o,event:t,source:c})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gridOptionsService.get("detailRowAutoHeight"))return;const s=()=>{const i=t.clientHeight;if(i!=null&&i>0){const o=()=>{this.rowNode.setRowHeight(i),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(o,0)}},n=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(n),s()}createFullWidthCompDetails(t,s){const n=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(i,o,r,l)=>this.addFullWidthRowDragging(i,o,r,l),setTooltip:(i,o)=>this.refreshRowTooltip(i,o)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(t,s){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:s};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new rr(n,this.beans))}addFullWidthRowDragging(t,s,n="",i){if(!this.isFullWidth())return;const o=new ql(()=>n,this.rowNode,void 0,t,s,i);this.createBean(o,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(o,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const s="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(s,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",s)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const s=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;let i=!1;for(const o of s){const r=o.stopEditing(t);n&&!t&&!i&&r&&(i=!0)}if(i){const o=this.createRowEvent(M.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const s=t?this.createRowEvent(M.EVENT_ROW_EDITING_STARTED):this.createRowEvent(M.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)}startRowEditing(t=null,s=null,n=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((o,r)=>{const l=r===s;return l?r.startEditing(t,l,n):r.startEditing(null,l,n),o?!0:r.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(s=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(s,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,s){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(s,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"?"left":t==="right"?"right":null}getInitialRowClasses(t){const s=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const s=this.gridOptionsService.getCallback("getRowStyle");let n;if(s){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=s(i)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const s=this.beans.gridOptionsService.getDocument(),n=!!this.rowNode.isSelected();this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",n),Ou(i.element,n),i.element.contains(s.activeElement)&&(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Nt.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Nt.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const s=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(s.top,!0)-100,i=this.applyPaginationOffset(s.bottom,!0)+100;return Math.min(Math.max(n,t),i)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,s){t?s(t):this.allRowGuis.forEach(s)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const s=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,r=o?`${Math.min(n,o)-2}px`:void 0;this.forEachGui(t,l=>{l.element.style.height=`${s}px`,r&&l.element.style.setProperty("--ag-line-height",r)})}addEventListener(t,s){super.addEventListener(t,s)}removeEventListener(t,s){super.removeEventListener(t,s)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const s=this.createRowEvent(M.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(s),this.beans.eventService.dispatchEvent(s),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=s=>(s.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,s=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.paginationProxy.getPixelOffset();return t+n*(s?1:-1)}setRowTop(t){if(!this.printLayout&&Ge(t)){const s=this.applyPaginationOffset(t),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}px`;this.setRowTopStyle(o)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let s;if(this.isSticky())s=this.rowNode.stickyRowTop;else{const n=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(n);s=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return s+"px"}setRowTopStyle(t){this.allRowGuis.forEach(s=>this.suppressRowTransform?s.rowComp.setTop(t):s.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let s=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(s=n)}),s!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(s=n)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const s=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,o=n+this.rowNode.rowIndex+1;this.forEachGui(t,r=>{r.rowComp.setRowIndex(s),r.rowComp.addOrRemoveCssClass("ag-row-even",i),r.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Tb(r.element,o)})}};BF.DOM_DATA_KEY_ROW_CTRL="renderedRow";var xl=BF,zn=class extends He{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",wb("touchstart")?"touchstart":"mousedown"].forEach(s=>{const n=this.processMouseEvent.bind(this,s);this.addManagedListener(this.element,s,n)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Wi(t))return;const s=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,s,n):(n&&n.onMouseEvent(e,t),s&&s.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!or())return;const e=new Qs(this.element),t=s=>{const n=this.getRowForEvent(s.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(s.touchEvent);this.handleContextMenuMouseEvent(void 0,s.touchEvent,n,i)};this.addManagedListener(e,Qs.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const s=this.gridOptionsService.getDomData(t,xl.DOM_DATA_KEY_ROW_CTRL);if(s)return s;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,s,n){const i=s?s.getRowNode():null,o=n?n.getColumn():null;let r=null;if(o){const c=e||t;n.dispatchCellContextMenuEvent(c??null),r=this.valueService.getValue(o,i)}const l=this.ctrlsService.getGridBodyCtrl(),a=n?n.getGui():l.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:i,column:o,value:r,anchorToElement:a})}getControlsForEventTarget(e){return{cellCtrl:_f(this.gridOptionsService,e,Nl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:_f(this.gridOptionsService,e,xl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(s?this.processCellKeyboardEvent(s,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,s){const n=e.getRowNode(),i=e.getColumn(),o=e.isEditing();if(!Lf(this.gridOptionsService,s,n,i,o)&&t==="keydown"&&(!o&&this.navigationService.handlePageScrollingKey(s)||e.onKeyDown(s),this.doGridOperations(s,e.isEditing()),Wg(s)&&e.processCharacter(s)),t==="keydown"){const l=e.createEvent(s,M.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,t,s){const n=e.getRowNode(),i=this.focusService.getFocusedCell(),o=i&&i.column;if(!Lf(this.gridOptionsService,s,n,o,!1)){const l=s.key;if(t==="keydown")switch(l){case fe.PAGE_HOME:case fe.PAGE_END:case fe.PAGE_UP:case fe.PAGE_DOWN:this.navigationService.handlePageScrollingKey(s,!0);break;case fe.UP:case fe.DOWN:e.onKeyboardNavigate(s);break;case fe.TAB:e.onTabKeyDown(s);break}}if(t==="keydown"){const l=e.createRowEvent(M.EVENT_CELL_KEY_DOWN,s);this.eventService.dispatchEvent(l)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const s=zI(e);if(s===fe.A)return this.onCtrlAndA(e);if(s===fe.C)return this.onCtrlAndC(e);if(s===fe.D)return this.onCtrlAndD(e);if(s===fe.V)return this.onCtrlAndV(e);if(s===fe.X)return this.onCtrlAndX(e);if(s===fe.Y)return this.onCtrlAndY();if(s===fe.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:s,rangeService:n}=this;if(n&&s.isRowsToRender()){const[i,o]=[t.isEmpty("top"),t.isEmpty("bottom")],r=i?null:"top";let l,a;o?(l=null,a=this.paginationProxy.getRowCount()-1):(l="bottom",a=t.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(Xn(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:l,columnStart:c[0],columnEnd:Xt(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:s}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||s!=null&&s.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:s}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||s!=null&&s.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:s}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||s!=null&&s.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};S([H("mouseEventService")],zn.prototype,"mouseEventService",2);S([H("valueService")],zn.prototype,"valueService",2);S([H("menuService")],zn.prototype,"menuService",2);S([H("ctrlsService")],zn.prototype,"ctrlsService",2);S([H("navigationService")],zn.prototype,"navigationService",2);S([H("focusService")],zn.prototype,"focusService",2);S([H("undoRedoService")],zn.prototype,"undoRedoService",2);S([H("columnModel")],zn.prototype,"columnModel",2);S([H("paginationProxy")],zn.prototype,"paginationProxy",2);S([H("pinnedRowModel")],zn.prototype,"pinnedRowModel",2);S([qt("rangeService")],zn.prototype,"rangeService",2);S([qt("clipboardService")],zn.prototype,"clipboardService",2);S([We],zn.prototype,"postConstruct",1);var Ju=class extends He{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=pa(e);if(t<=50)return;let s=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gridOptionsService.getCallback("processUnpinnedColumns");s.length&&(n&&(s=n({columns:s,viewportWidth:t})),this.columnModel.setColumnsPinned(s,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),s=this.pinnedWidthService.getPinnedLeftWidth(),n=t+s;if(n<e)return[];const i=[...this.columnModel.getDisplayedLeftColumns()],o=[...this.columnModel.getDisplayedRightColumns()];let r=0,l=0,a=0;const c=[];let h=n-a-e;for(;(l<i.length||r<o.length)&&h>0;){if(r<o.length){const d=o[r++];h-=d.getActualWidth(),c.push(d)}if(l<i.length&&h>0){const d=i[l++];h-=d.getActualWidth(),c.push(d)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=fh(e);if(this.bodyHeight!==t){this.bodyHeight=t;const s={type:M.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(s)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};S([H("ctrlsService")],Ju.prototype,"ctrlsService",2);S([H("pinnedWidthService")],Ju.prototype,"pinnedWidthService",2);S([H("columnModel")],Ju.prototype,"columnModel",2);S([H("scrollVisibleService")],Ju.prototype,"scrollVisibleService",2);S([We],Ju.prototype,"postConstruct",1);var nS=class extends He{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Wt(this.element,t),wi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};S([H("pinnedWidthService")],nS.prototype,"pinnedWidthService",2);S([We],nS.prototype,"postConstruct",1);var iS=class extends He{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Wt(this.element,t),wi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};S([H("pinnedWidthService")],iS.prototype,"pinnedWidthService",2);S([We],iS.prototype,"postConstruct",1);var em=class extends He{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};S([H("rowContainerHeightService")],em.prototype,"maxDivHeightScaler",2);S([We],em.prototype,"postConstruct",1);var tm=class extends He{constructor(e){super(),this.eContainer=e}postConstruct(){if(Rt(this.rangeService))return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{if(t.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};S([qt("rangeService")],tm.prototype,"rangeService",2);S([H("dragService")],tm.prototype,"dragService",2);S([We],tm.prototype,"postConstruct",1);var ec=class extends He{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),s=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),i=e.getDisplayedColumnsRightWidth();let o;t?o=s+n+i:(o=s,this.addSpacer&&(this.gridOptionsService.get("enableRtl")?n:i)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gridOptionsService.getScrollbarWidth())),this.callback(o)}};S([H("columnModel")],ec.prototype,"columnModel",2);S([H("scrollVisibleService")],ec.prototype,"scrollVisibleService",2);S([We],ec.prototype,"postConstruct",1);function Vae(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var Hae=Rr([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),Bae=Rr([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),ya=class $F extends He{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(t){const s=Hae.get(t),n=Bae.get(t);return{container:s,viewport:n}}static getPinned(t){switch(t){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new Ju(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(t,s){t.indexOf(this.name)>=0&&s()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,s,n){this.comp=t,this.eContainer=s,this.eViewport=n,this.createManagedBean(new zn(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const i=["topCenter","topLeft","topRight"],o=["stickyTopCenter","stickyTopLeft","stickyTopRight"],r=["bottomCenter","bottomLeft","bottomRight"],l=["center","left","right"],a=[...i,...r,...l,...o],c=["center","left","right","fullWidth"],h=["center","topCenter","stickyTopCenter","bottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft"],p=["right","bottomRight","topRight","stickyTopRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new nS(this.eContainer)),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new iS(this.eContainer)),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(c,()=>this.createManagedBean(new em(this.eContainer,this.name==="center"?n:void 0))),this.forContainers(a,()=>this.createManagedBean(new tm(this.eContainer))),this.forContainers(h,()=>this.createManagedBean(new ec(g=>this.comp.setContainerWidth(`${g}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_ROWS_CHANGED,t=>this.onDisplayedRowsChanged(t.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const n=()=>{const i=this.gridOptionsService.get("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(i||o)};this.addManagedPropertyListener("domLayout",n),n()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{const t=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",t)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=s=>{this.dragService.isDragging()&&s.cancelable&&s.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const s=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(s,n,t)}getCenterWidth(){return pa(this.eViewport)}getCenterViewportScrollLeft(){return Dd(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const s=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>s())}isViewportInTheDOMTree(){return Gb(this.eViewport)}getViewportScrollLeft(){return Dd(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||LI(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(t){this.eContainer.style.transform=`translateX(${t}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Ad(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!$F.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){if(!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const s=this.gridOptionsService.isDomLayout("print"),i=this.gridOptionsService.get("embedFullWidthRows")||s,o=this.getRowCtrls().filter(r=>{const l=r.isFullWidth();return this.isFullWithContainer?!i&&l:i||!l});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:t})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};S([H("dragService")],ya.prototype,"dragService",2);S([H("ctrlsService")],ya.prototype,"ctrlsService",2);S([H("columnModel")],ya.prototype,"columnModel",2);S([H("resizeObserverService")],ya.prototype,"resizeObserverService",2);S([H("rowRenderer")],ya.prototype,"rowRenderer",2);S([We],ya.prototype,"postConstruct",1);var WF=ya,$ae=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Ao=class extends Mt{constructor(){super($ae)}init(){const e=(s,n)=>{const i=`${s}px`;n.style.minHeight=i,n.style.height=i},t={setRowAnimationCssOnBodyViewport:(s,n)=>this.setRowAnimationCssOnBodyViewport(s,n),setColumnCount:s=>vI(this.getGui(),s),setRowCount:s=>mI(this.getGui(),s),setTopHeight:s=>e(s,this.eTop),setBottomHeight:s=>e(s,this.eBottom),setTopDisplay:s=>this.eTop.style.display=s,setBottomDisplay:s=>this.eBottom.style.display=s,setStickyTopHeight:s=>this.eStickyTop.style.height=s,setStickyTopTop:s=>this.eStickyTop.style.top=s,setStickyTopWidth:s=>this.eStickyTop.style.width=s,setColumnMovingCss:(s,n)=>this.addOrRemoveCssClass(s,n),updateLayoutClasses:(s,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",n.autoHeight),o.toggle("ag-layout-normal",n.normal),o.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(s,n)=>this.eBodyViewport.classList.toggle(GF,n),registerBodyViewportResizeListener:s=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,s);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:s=>this.eTop.style.overflowY=this.eBottom.style.overflowY=s,setCellSelectableCss:(s,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(i=>i.classList.toggle(s,n))},setBodyViewportWidth:s=>this.eBodyViewport.style.width=s};this.ctrl=this.createManagedBean(new On),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&gI(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const s=this.eBodyViewport.classList;s.toggle("ag-row-animation",t),s.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};S([H("resizeObserverService")],Ao.prototype,"resizeObserverService",2);S([qt("rangeService")],Ao.prototype,"rangeService",2);S([Ze("eBodyViewport")],Ao.prototype,"eBodyViewport",2);S([Ze("eStickyTop")],Ao.prototype,"eStickyTop",2);S([Ze("eTop")],Ao.prototype,"eTop",2);S([Ze("eBottom")],Ao.prototype,"eBottom",2);S([Ze("gridHeader")],Ao.prototype,"headerRootComp",2);S([Ze("eBody")],Ao.prototype,"eBody",2);S([We],Ao.prototype,"init",1);var Iu=class extends He{postConstruct(){this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const s={type:M.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(s)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};S([H("ctrlsService")],Iu.prototype,"ctrlsService",2);S([H("columnAnimationService")],Iu.prototype,"columnAnimationService",2);S([We],Iu.prototype,"postConstruct",1);Iu=S([ot("scrollVisibleService")],Iu);var Ho=class extends He{constructor(){super(...arguments),this.gridInstanceId=Ho.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Ho.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return _f(this.gridOptionsService,e.target,Nl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const s=t[Ho.GRID_DOM_KEY];if(Ge(s))return s===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal"),s=e;let n,i;if(s.clientX!=null||s.clientY!=null?(n=s.clientX,i=s.clientY):(n=s.x,i=s.y),t){const o=this.ctrlsService.getGridBodyCtrl(),r=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();n+=l.left,i+=r.top}return{x:n,y:i}}};Ho.gridInstanceSequence=new Mu;Ho.GRID_DOM_KEY="__ag_grid_instance";S([H("ctrlsService")],Ho.prototype,"ctrlsService",2);Ho=S([ot("mouseEventService")],Ho);var pn=class extends He{constructor(){super(),this.onPageDown=GC(this.onPageDown,100),this.onPageUp=GC(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const s=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,r=this.mouseEventService.getCellPositionForEvent(e);let l=!1;switch(s){case fe.PAGE_HOME:case fe.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(s),l=!0);break;case fe.LEFT:case fe.RIGHT:case fe.UP:case fe.DOWN:if(!r)return!1;i&&!n&&!o&&(this.onCtrlUpDownLeftRight(s,r),l=!0);break;case fe.PAGE_DOWN:case fe.PAGE_UP:!i&&!n&&(l=this.handlePageUpDown(s,r,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,s){return s&&(t=this.focusService.getFocusedCell()),t?(e===fe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:s,scrollColumn:n,focusIndex:i,focusColumn:o}=e;if(Ge(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),Ge(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,s),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const r={rowIndex:i,rowPinned:null,column:o};this.rangeService.setRangeToCell(r)}}onPageDown(e){const s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.paginationProxy.getPixelOffset(),o=s.top+n,r=this.paginationProxy.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r):this.navigateToNextPage(e,r)}onPageUp(e){const s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),i=s.top,o=this.paginationProxy.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t,s=!1){const n=this.getViewportHeight(),i=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow(),r=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),a=s?(l==null?void 0:l.rowHeight)-n-r:n-r,c=(l==null?void 0:l.rowTop)+a;let h=this.paginationProxy.getRowIndexAtPixel(c+r);if(h===e.rowIndex){const p=s?-1:1;t=h=e.rowIndex+p}let d;s?(d="bottom",h<i&&(h=i),t<i&&(t=i)):(d="top",h>o&&(h=o),t>o&&(t=o)),this.isRowTallerThanView(h)&&(t=h,d="top"),this.navigateTo({scrollIndex:t,scrollType:d,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,s=!1){this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,s);this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var s;const n=t?-1:1,i=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let r=0,l=e.rowIndex;for(;l>=0&&l<=o;){const a=this.paginationProxy.getRow(l);if(a){const c=(s=a.rowHeight)!=null?s:0;if(r+c>i)break;r+=c}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.gridOptionsService.getScrollbarWidth();let n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=s),n}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const s=t.rowHeight;return typeof s!="number"?!1:s>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const s=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n,column:i}=s;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===fe.PAGE_HOME,s=this.columnModel.getAllDisplayedColumns(),n=t?s[0]:Xt(s),i=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onTabKeyDown(e,t){const s=t.shiftKey;if(this.tabToNextCellCommon(e,s,t)){t.preventDefault();return}if(s){const{rowIndex:i,rowPinned:o}=e.getRowPosition();(o?i===0:i===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Nl&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(s)&&t.preventDefault()}tabToNextCell(e,t){const s=this.focusService.getFocusedCell();if(!s)return!1;let n=this.getCellByPosition(s);return!n&&(n=this.rowRenderer.getRowByPosition(s),!n||!n.isFullWidth())?!1:this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,s){let n=e.isEditing();if(!n&&e instanceof Nl){const r=e.getRowCtrl();r&&(n=r.isEditing())}let i;return n?this.gridOptionsService.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,s):i=this.moveToNextEditingCell(e,t,s):i=this.moveToNextCellNotEditing(e,t),i||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,s=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return i==null?!1:(i.startEditing(null,!0,s),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,s=null){const n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!0);if(i==null)return!1;const o=i.getCellPosition(),r=this.isCellEditable(n),l=this.isCellEditable(o),a=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned;return r&&e.setFocusOutOnEditor(),a||(e.getRowCtrl().stopEditing(),i.getRowCtrl().startRowEditing(void 0,void 0,s)),l?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const s=this.columnModel.getAllDisplayedColumns();let n;e instanceof xl?n=vs(mt({},e.getRowPosition()),{column:t?s[0]:Xt(s)}):n=e.getCellPosition();const i=this.findNextCellToFocusOn(n,t,!1);if(i instanceof Nl)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return Ge(i)}findNextCellToFocusOn(e,t,s){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const i=this.gridOptionsService.getCallback("tabToNextCell");if(Ge(i)){const a=i({backwards:t,editing:s,previousCellPosition:e,nextCellPosition:n||null});Ge(a)?(a.floating&&(St("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),a.rowPinned=a.floating),n={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gridOptionsService.get("editType")==="fullRow";if(s&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const r=this.getCellByPosition(n);if(!r){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||s)continue;return l}if(!r.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),r}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,s,n){let i=s,o=!1;for(;i&&(i===s||!this.isValidNavigateCell(i));)this.gridOptionsService.get("enableRtl")?t===fe.LEFT&&(i=this.getLastCellOfColSpan(i)):t===fe.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),o=Rt(i);if(o&&e&&e.key===fe.UP&&(i={rowIndex:-1,rowPinned:null,column:s.column}),n){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(Ge(l)){const c=l({key:t,previousCellPosition:s,nextCellPosition:i||null,event:e});Ge(c)?(c.floating&&(St("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),i={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):i=null}}if(!i)return;if(i.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+i.rowIndex,column:s.column},event:e||void 0,fromCell:!0});return}const r=this.getNormalisedPosition(i);r?this.focusPosition(r):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const s=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const i=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Xt(s):s[0])};this.focusPosition(o);const r=i!=null?this.rowPositionUtils.before(o,i):!1,l={type:M.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:r};return this.eventService.dispatchEvent(l),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const s=t.getColSpanningList();return s.length===1?e:{rowIndex:e.rowIndex,column:Xt(s),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),s=this.rowModel.getRow(e.rowIndex);!(t&&(s==null?void 0:s.sticky))&&Rt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};S([H("mouseEventService")],pn.prototype,"mouseEventService",2);S([H("paginationProxy")],pn.prototype,"paginationProxy",2);S([H("focusService")],pn.prototype,"focusService",2);S([qt("rangeService")],pn.prototype,"rangeService",2);S([H("columnModel")],pn.prototype,"columnModel",2);S([H("rowModel")],pn.prototype,"rowModel",2);S([H("ctrlsService")],pn.prototype,"ctrlsService",2);S([H("rowRenderer")],pn.prototype,"rowRenderer",2);S([H("headerNavigationService")],pn.prototype,"headerNavigationService",2);S([H("rowPositionUtils")],pn.prototype,"rowPositionUtils",2);S([H("cellNavigationService")],pn.prototype,"cellNavigationService",2);S([H("pinnedRowModel")],pn.prototype,"pinnedRowModel",2);S([We],pn.prototype,"postConstruct",1);pn=S([ot("navigationService")],pn);var oS=class zF extends ma{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),zF.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),s=this.params,n=i=>{Lf(this.gridOptionsService,i,s.node,s.column,!0)||s.onKeyDown(i)};this.addManagedListener(t,"keydown",n)}};oS.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";S([We],oS.prototype,"postConstruct",1);var Wae=oS,zae=class extends Mt{constructor(e,t,s,n,i){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const r=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const l=(h,d)=>{d!=null&&d!=""?r.setAttribute(h,d):r.removeAttribute(h)};Ts(r,t.getCellAriaRole()),l("col-id",t.getColumnIdSanitised());const a=t.getTabIndex();a!==void 0&&l("tabindex",a.toString());const c={addOrRemoveCssClass:(h,d)=>this.addOrRemoveCssClass(h,d),setUserStyles:h=>Bb(r,h),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:h=>this.includeSelection=h,setIncludeRowDrag:h=>this.includeRowDrag=h,setIncludeDndSource:h=>this.includeDndSource=h,setRenderDetails:(h,d,p)=>this.setRenderDetails(h,d,p),setEditDetails:(h,d,p)=>this.setEditDetails(h,d,p),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(c,this.getGui(),this.eCellWrapper,s,i)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,s){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const i=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(s||i)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,s){e?this.createCellEditorInstance(e,t,s):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,s=t||this.forceWrapper,n=s&&this.eCellWrapper==null;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const i=!s&&this.eCellWrapper!=null;i&&(Hi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!s);const o=!e&&s,r=o&&this.eCellValue==null;if(r){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(Hi(this.eCellValue),this.eCellValue=void 0);const a=n||i||r||l;return a&&this.removeControls(),e||t&&this.addControls(),a}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,s){const n=this.editorVersion,i=e.newAgStackInstance();if(!i)return;const{params:o}=e;i.then(l=>this.afterCellEditorCreated(n,l,o,t,s)),Rt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Fs(t);const s=e!=null?Hs(e,!0):null;s!=null&&(t.textContent=s)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Hi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Hi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const s=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:i}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=e.newAgStackInstance(),a=this.afterCellRendererCreated.bind(this,n,i);l&&l.then(a)};s&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,s){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(s);return}if(this.cellRenderer=s,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const i=this.getParentOfValue();Fs(i),i.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,s,n,i){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const l=n||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(s,i):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var s;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(s=this.rowCtrl)==null||s.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const s=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Wae(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const i=this.beans.popupService,o=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),r=t??(s.getPopupPosition?s.getPopupPosition():"over"),l=this.beans.gridOptionsService.get("enableRtl"),a={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:r,alignSide:l?"right":"left",keepWithinBounds:!0},c=i.positionPopupByComponent.bind(i,a),h=this.beans.localeService.getLocaleTextFunc(),d=i.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&Mb()&&e.focus({preventScroll:!0}),Fs(this.getParentOfValue())}},Uae=class extends Mt{constructor(e,t,s){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(s)),this.setTemplateFromElement(n);const i=this.getGui(),o=i.style;this.domOrder=this.rowCtrl.getDomOrder(),Ts(i,"row");const r=this.rowCtrl.getTabIndex();r!=null&&i.setAttribute("tabindex",r.toString());const l={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,c)=>this.addOrRemoveCssClass(a,c),setUserStyles:a=>Bb(i,a),setTop:a=>o.top=a,setTransform:a=>o.transform=a,setRowIndex:a=>i.setAttribute("row-index",a),setRowId:a=>i.setAttribute("row-id",a),setRowBusinessKey:a=>i.setAttribute("row-business-key",a),refreshFullWidth:a=>this.refreshFullWidth(a)};e.setComp(l,this.getGui(),s),this.addDestroyFunc(()=>{e.unsetComp(s)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const t=n=>{if(this.isAlive()){const i=n.getGui();this.getGui().appendChild(i),this.rowCtrl.setupDetailRowAutoHeight(i),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},s=e.newAgStackInstance();s&&s.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(n=>{const i=n.getInstanceId();this.cellComps[i]==null?this.newCellComp(n):t[i]=null});const s=Hr(t).filter(n=>n!=null);this.destroyCells(s),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(s=>{const n=this.cellComps[s.getInstanceId()];n&&t.push(n.getGui())}),Hb(this.getGui(),t)}newCellComp(e){const t=new zae(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Hr(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const s=t.getCtrl().getInstanceId();this.cellComps[s]===t&&(t.detach(),t.destroy(),this.cellComps[s]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;const s=e();return t.refresh(s)}};function Kae(){const e=Mt.elementGettingCreated.getAttribute("name"),t=WF.getRowContainerCssClasses(e);let s;return e==="center"||e==="topCenter"||e==="stickyTopCenter"||e==="bottomCenter"?s=`<div class="${t.viewport}" ref="eViewport" role="presentation">
                <div class="${t.container}" ref="eContainer"></div>
            </div>`:s=`<div class="${t.container}" ref="eContainer"></div>`,s}var tc=class extends Mt{constructor(){super(Kae()),this.rowComps={},this.name=Mt.elementGettingCreated.getAttribute("name"),this.type=Vae(this.name)}postConstruct(){const e={setViewportHeight:s=>this.eViewport.style.height=s,setRowCtrls:({rowCtrls:s})=>this.setRowCtrls(s),setDomOrder:s=>{this.domOrder=s},setContainerWidth:s=>this.eContainer.style.width=s};this.createManagedBean(new WF(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=mt({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const s=n=>{const i=n.getInstanceId(),o=t[i];if(o)this.rowComps[i]=o,delete t[i],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const r=new Uae(n,this.beans,this.type);this.rowComps[i]=r,this.appendRow(r.getGui())}};e.forEach(s),Hr(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Ts(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?FI(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(Vb(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};S([H("beans")],tc.prototype,"beans",2);S([Ze("eViewport")],tc.prototype,"eViewport",2);S([Ze("eContainer")],tc.prototype,"eContainer",2);S([We],tc.prototype,"postConstruct",1);S([An],tc.prototype,"preDestroy",1);var rS=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(s=>{s.isPrimary()&&(s.isAnyFunctionActive()||(s.isAllowValue()?this.columnsToAggregate.push(s):s.isAllowRowGroup()?this.columnsToGroup.push(s):s.isAllowPivot()&&this.columnsToPivot.push(s)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?It.ICON_PINNED:It.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};S([H("columnModel")],rS.prototype,"columnModel",2);S([H("gridOptionsService")],rS.prototype,"gridOptionsService",2);var kl=class{static attemptMoveColumns(e){const{isFromHeader:t,hDirection:s,xPosition:n,fromEnter:i,fakeEvent:o,pinned:r,gridOptionsService:l,columnModel:a}=e,c=s===0,h=s===1;let{allMovingColumns:d}=e;if(t){let b=[];d.forEach(T=>{var E;let P=null,A=T.getParent();for(;A!=null&&A.getDisplayedLeafColumns().length===1;)P=A,A=A.getParent();P!=null?(!!((E=P.getColGroupDef())!=null&&E.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(F=>{b.includes(F)||b.push(F)}):b.includes(T)||b.push(T)}),d=b}const p=d.slice();a.sortColumnsLikeGridColumns(p);const g=this.calculateValidMoves({movingCols:p,draggingRight:h,xPosition:n,pinned:r,gridOptionsService:l,columnModel:a}),m=this.calculateOldIndex(p,a);if(g.length===0)return;const f=g[0];let C=m!==null&&!i;if(t&&(C=m!==null),C&&!o&&(c&&f>=m||h&&f<=m))return;const v=a.getAllDisplayedColumns();let y=[],w=null;for(let b=0;b<g.length;b++){const T=g[b],E=a.getProposedColumnOrder(p,T);if(!a.doesOrderPassRules(E))continue;const P=E.filter(N=>v.includes(N));if(w===null)w=P;else if(!ao(P,w))break;const A=this.groupFragCount(E);y.push({move:T,fragCount:A})}if(y.length!==0)return y.sort((b,T)=>b.fragCount-T.fragCount),this.moveColumns(d,y[0].move,"uiColumnMoved",!1,a)}static moveColumns(e,t,s,n,i){return i.moveColumns(e,t,s,n),n?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){const s=t.getAllGridColumns(),n=KM(e.map(a=>s.indexOf(a))),i=n[0];return Xt(n)-i!==n.length-1?null:i}static groupFragCount(e){function t(n){let i=[],o=n.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let s=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),o=t(e[n+1]);[i,o]=i.length>o.length?[i,o]:[o,i],i.forEach(r=>{o.indexOf(r)===-1&&s++})}return s}static calculateValidMoves(e){const{movingCols:t,draggingRight:s,xPosition:n,pinned:i,gridOptionsService:o,columnModel:r}=e;if(o.get("suppressMovableColumns")||t.some(y=>y.getColDef().suppressMovable))return[];const a=r.getDisplayedColumns(i),c=r.getAllGridColumns(),h=a.filter(y=>ni(t,y)),d=a.filter(y=>!ni(t,y)),p=c.filter(y=>!ni(t,y));let g=0,m=n;if(s){let y=0;h.forEach(w=>y+=w.getActualWidth()),m-=y}if(m>0){for(let y=0;y<d.length;y++){const w=d[y];if(m-=w.getActualWidth(),m<0)break;g++}s&&g++}let f;if(g>0){const y=d[g-1];f=p.indexOf(y)+1}else f=p.indexOf(d[0]),f===-1&&(f=0);const C=[f],v=(y,w)=>y-w;if(s){let y=f+1;const w=c.length-1;for(;y<=w;)C.push(y),y++;C.sort(v)}else{let y=f;const w=c.length-1;let b=c[y];for(;y<=w&&a.indexOf(b)<0;)y++,C.push(y),b=c[y];y=f-1;const T=0;for(;y>=T;)C.push(y),y--;C.sort(v).reverse()}return C}static normaliseX(e,t,s,n,i){const o=i.getHeaderRowContainerCtrl(t).getViewport();return s&&(e-=o.getBoundingClientRect().left),n.get("enableRtl")&&(e=o.clientWidth-e),t==null&&(e+=i.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}},sc=class{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!Ge(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?It.ICON_PINNED:It.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,i=(t||[]).filter(o=>n[o.getId()]);this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,s){if(e){const n=e.filter(i=>!i.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,t,s)}}setColumnsPinned(e,t,s){if(e){const n=e.filter(i=>!i.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,t,s)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>s-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,s=!1,n=!1){var i;if(n){if(this.lastMovedInfo){const{columns:h,toIndex:d}=this.lastMovedInfo;kl.moveColumns(h,d,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,Rt(e.hDirection))return;const o=kl.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(o);const r=this.normaliseDirection(e.hDirection),l=e.dragSource.type,a=((i=e.dragSource.getDragItem().columns)==null?void 0:i.filter(h=>h.getColDef().lockPinned?h.getPinned()==this.pinned:!0))||[],c=kl.attemptMoveColumns({allMovingColumns:a,isFromHeader:l===1,hDirection:r,xPosition:o,pinned:this.pinned,fromEnter:t,fakeEvent:s,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});c&&(this.lastMovedInfo=c)}normaliseDirection(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(It.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(It.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(It.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=s.scrollHorizontally(-e):this.needToMoveRight&&(t=s.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const i=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);if(i.length>0&&(this.dragAndDropService.setGhostIcon(It.ICON_PINNED),this.failedMoveAttempts>7)){const o=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};S([H("columnModel")],sc.prototype,"columnModel",2);S([H("dragAndDropService")],sc.prototype,"dragAndDropService",2);S([H("gridOptionsService")],sc.prototype,"gridOptionsService",2);S([H("ctrlsService")],sc.prototype,"ctrlsService",2);S([We],sc.prototype,"init",1);var nc=class extends He{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===1||e===0&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new sc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new rS(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};S([H("dragAndDropService")],nc.prototype,"dragAndDropService",2);S([H("columnModel")],nc.prototype,"columnModel",2);S([H("ctrlsService")],nc.prototype,"ctrlsService",2);S([We],nc.prototype,"postConstruct",1);S([We],nc.prototype,"init",1);var ic=class UF extends sS{constructor(t){super(UF.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui();((o,r)=>{r!=null&&r!=""?t.setAttribute(o,r):t.removeAttribute(o)})("col-id",this.column.getColId());const n={setWidth:o=>t.style.width=o,addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setAriaSort:o=>o?yI(t,o):wI(t),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper);const i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const s=this.headerCompVersion;t.newAgStackInstance().then(n=>this.afterCompCreated(s,n))}afterCompCreated(t,s){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(s);return}this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};ic.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;S([Ze("eResize")],ic.prototype,"eResize",2);S([Ze("eHeaderCompWrapper")],ic.prototype,"eHeaderCompWrapper",2);S([We],ic.prototype,"postConstruct",1);S([An],ic.prototype,"destroyHeaderComp",1);var jae=ic,sm=class KF extends sS{constructor(t){super(KF.TEMPLATE,t)}postConstruct(){const t=this.getGui(),s=(i,o)=>o!=null?t.setAttribute(i,o):t.removeAttribute(i);t.setAttribute("col-id",this.ctrl.getColId());const n={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setResizableDisplayed:i=>Wt(this.eResize,i),setWidth:i=>t.style.width=i,setAriaExpanded:i=>s("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(s=>this.afterHeaderCompCreated(s))}afterHeaderCompCreated(t){const s=()=>this.destroyBean(t);if(!this.isAlive()){s();return}const n=this.getGui(),i=t.getGui();n.appendChild(i),this.addDestroyFunc(s),this.headerGroupComp=t,this.ctrl.setDragSource(n)}};sm.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;S([Ze("eResize")],sm.prototype,"eResize",2);S([We],sm.prototype,"postConstruct",1);var Yae=sm,lS=class extends Mt{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){Tb(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,s)=>this.setHeaderCtrls(t,s),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const s=this.headerComps;if(this.headerComps={},e.forEach(n=>{const i=n.getInstanceId();let o=s[i];delete s[i],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[i]=o}),ln(s,(n,i)=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i)}),t){const n=Hr(this.headerComps);n.sort((o,r)=>{const l=o.getCtrl().getColumnGroupChild().getLeft(),a=r.getCtrl().getColumnGroupChild().getLeft();return l-a});const i=n.map(o=>o.getGui());Hb(this.getGui(),i)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Yae(e);break;case"filter":t=new cae(e);break;default:t=new jae(e);break}return this.createBean(t),t.setParentComponent(this),t}};S([We],lS.prototype,"init",1);S([An],lS.prototype,"destroyHeaderCtrls",1);var qae=0,ur=class jF extends He{constructor(t,s,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=s,this.instanceId=t.getUniqueId()+"-"+qae++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(t){const{headerRowIndex:s,column:n}=this.focusService.getFocusedHeader();return WI(this.gridOptionsService,t,s,n)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:t,column:s,beans:n}=this;Jg.refreshFirstAndLastStyles(t,s,n.columnModel)}refreshAriaColIndex(){const{beans:t,column:s}=this,n=t.columnModel.getAriaColumnIndex(s);Db(this.eGui,n)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(t){var s;const i=this.gridOptionsService.getDocument().activeElement,o=t.key===fe.LEFT||t.key===fe.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||o)&&(t.preventDefault(),t.stopImmediatePropagation()),!o))return;const r=t.key===fe.LEFT!==this.gridOptionsService.get("enableRtl"),l=bF[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(s=this.resizeFeature)==null||s.toggleColumnResizing(!0)}else this.moveHeader(l)}getViewportAdjustedResizeDiff(t){let s=this.getResizeDiff(t);if(this.column.getPinned()){const i=this.pinnedWidthService.getPinnedLeftWidth(),o=this.pinnedWidthService.getPinnedRightWidth(),r=pa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(i+o+s>r)if(r>i+o)s=r-i-o;else return 0}return s}getResizeDiff(t){let s=t.key===fe.LEFT!==this.gridOptionsService.get("enableRtl");const n=this.column.getPinned(),i=this.gridOptionsService.get("enableRtl");return n&&i!==(n==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const s=this.getWrapperHasFocus();switch(t.key){case fe.PAGE_DOWN:case fe.PAGE_UP:case fe.PAGE_HOME:case fe.PAGE_END:s&&t.preventDefault()}}addDomData(){const t=jF.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,s,n){const i=t??s;this.gridOptionsService.get("preventDefaultOnContextMenu")&&i.preventDefault();const o=n instanceof rs?n:void 0;this.menuService.isHeaderContextMenuEnabled(o)&&this.menuService.showHeaderContextMenu(o,t,s),this.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CONTEXT_MENU,n)}dispatchColumnMouseEvent(t,s){const n={type:t,column:s};this.eventService.dispatchEvent(n)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};ur.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";S([H("pinnedWidthService")],ur.prototype,"pinnedWidthService",2);S([H("focusService")],ur.prototype,"focusService",2);S([H("userComponentFactory")],ur.prototype,"userComponentFactory",2);S([H("ctrlsService")],ur.prototype,"ctrlsService",2);S([H("dragAndDropService")],ur.prototype,"dragAndDropService",2);S([H("menuService")],ur.prototype,"menuService",2);S([We],ur.prototype,"postConstruct",1);var nm=ur,im=class extends He{constructor(e,t,s,n){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=s}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Xt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,rs.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),t=Ge(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),s=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,s),i=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return t;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const i=this.beans.columnModel.getBodyContainerWidth();return n+i+t}return n+t}setLeft(e){if(Ge(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof rs)this.columnOrGroup;else{const s=this.columnOrGroup.getLeafColumns();if(!s.length)return;s.length>1&&CI(this.ariaEl,s.length),s[0]}}};S([We],im.prototype,"postConstruct",1);var Eh=class extends He{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};S([H("columnHoverService")],Eh.prototype,"columnHoverService",2);S([We],Eh.prototype,"postConstruct",1);var Xae=class extends nm{constructor(e,t,s){super(e,t,s),this.iconCreated=!1,this.column=e}setComp(e,t,s,n){this.comp=e,this.eButtonShowMainFilter=s,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,rs.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,s=!!e.floatingFilter;this.active=t&&s}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Es("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Qr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();ji(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const i=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(i){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let s=this.column;do if(s=e?t.getDisplayedColBefore(s):t.getDisplayedColAfter(s),!s)break;while(!s.getColDef().filter||!s.getColDef().floatingFilter);return s}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case fe.UP:case fe.DOWN:t||e.preventDefault();case fe.LEFT:case fe.RIGHT:if(t)return;e.stopPropagation();case fe.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case fe.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const s=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Fl(e.relatedTarget,"ag-floating-filter");if(s&&n&&e.target===this.eGui){const o=this.lastFocusEvent,r=!!(o&&o.key===fe.TAB);if(o&&r){const l=o.shiftKey;this.focusService.focusInto(this.eGui,l)}}const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}setupHover(){this.createManagedBean(new Eh([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new im(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=s=>{const n=this.comp.getFloatingFilterComp();n&&n.then(i=>{if(i){const o=e.getCurrentFloatingFilterParentModel(this.column);i.onParentModelChanged(o,s)}})};this.destroySyncListener=this.addManagedListener(this.column,rs.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,rs.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,rs.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;const s=this.active;this.setupActive();const n=!s&&this.active;s&&!this.active&&((e=this.destroySyncListener)==null||e.call(this),(t=this.destroyFilterChangedListener)==null||t.call(this));const i=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!i?this.updateCompDetails(i,n):o.then(r=>{var l;!r||this.beans.filterManager.areFilterCompsDifferent((l=this.userCompDetails)!=null?l:null,i)?this.updateCompDetails(i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const s=e.params;(t=this.comp.getFloatingFilterComp())==null||t.then(n=>{let i=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(s)!==null&&(i=!0),!i&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(s)!==null&&St("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},oc=class extends He{constructor(e,t,s,n,i){super(),this.pinned=e,this.column=t,this.eResize=s,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,s;const n=()=>{if(Wt(this.eResize,t),!t)return;const r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(r),s){const l=this.gridOptionsService.get("skipHeaderOnAutoSize"),a=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",l)};this.eResize.addEventListener("dblclick",a);const c=new Qs(this.eResize);c.addEventListener(Qs.EVENT_DOUBLE_TAP,a),e.push(()=>{this.eResize.removeEventListener("dblclick",a),c.removeEventListener(Qs.EVENT_DOUBLE_TAP,a),c.destroy()})}},i=()=>{e.forEach(r=>r()),e.length=0},o=()=>{const r=this.column.isResizable(),l=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||l!==s)&&(t=r,s=l,i(),n())};o(),this.addDestroyFunc(i),this.ctrl.addRefreshFunction(o)}onResizing(e,t){const{column:s,lastResizeAmount:n,resizeStartWidth:i}=this,o=this.normaliseResizeAmount(t),r=i+o,l=[{key:s,newWidth:r}];if(this.column.getPinned()){const a=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),h=pa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(a+c+(o-n)>h)return}this.lastResizeAmount=o,this.columnModel.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const s=this.pinned!=="left",n=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?s&&(t*=-1):n&&(t*=-1),t}};S([H("horizontalResizeService")],oc.prototype,"horizontalResizeService",2);S([H("pinnedWidthService")],oc.prototype,"pinnedWidthService",2);S([H("ctrlsService")],oc.prototype,"ctrlsService",2);S([H("columnModel")],oc.prototype,"columnModel",2);S([We],oc.prototype,"postConstruct",1);var aS=class extends He{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const t=this.cbSelectAll,s=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(s.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Yg),this.cbSelectAll.addCssClass("ag-header-select-all"),Ts(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,M.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),ph(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),s=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${s})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${s})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),s=this.isCurrentPageOnly();let n="uiSelectAll";s?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const i={source:n,justFiltered:t,justCurrentPage:s};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,s=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=t(s)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};S([H("rowModel")],aS.prototype,"rowModel",2);S([H("selectionService")],aS.prototype,"selectionService",2);var Qae=class extends nm{constructor(e,t,s){super(e,t,s),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,s,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new oc(this.getPinned(),this.column,s,e,this)),this.createManagedBean(new Eh([this.column],t)),this.createManagedBean(new im(this.column,t,this.beans)),this.createManagedBean(new Qr(t,{shouldStopEventPropagation:i=>this.shouldStopEventPropagation(i),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,rs.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var s,n;if(!this.column.isResizable())return;const i=this.column.getActualWidth(),o=(s=this.column.getMinWidth())!=null?s:0,r=(n=this.column.getMaxWidth())!=null?n:Number.MAX_SAFE_INTEGER,l=Math.min(Math.max(i+e,o),r);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:l}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:s,gridOptionsService:n,ctrlsService:i}=this,o=this.getPinned(),r=t.getBoundingClientRect().left,l=s.getActualWidth(),a=n.get("enableRtl"),c=e===0!==a,h=kl.normaliseX(c?r-20:r+l+20,o,!0,n,i);kl.attemptMoveColumns({allMovingColumns:[s],isFromHeader:!0,hDirection:e,xPosition:h,pinned:o,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:this.beans.columnModel}),i.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,s)=>{this.beans.sortController.setSortForColumn(this.column,t,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,s)=>{this.setupTooltip(t,s)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new aS(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===fe.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===fe.ENTER&&this.onEnterKeyDown(e),e.key===fe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const s=this.comp.getUserCompInstance();!s||!(s instanceof XC)||s.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",n=this.eGui,i=this.column.getColDef();!t&&s&&!i.headerComponent&&(t=()=>{const l=n.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},r=this.createManagedBean(new rr(o));this.refreshFunctions.push(()=>r.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),s=Jg.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(s),s.forEach(i=>{n.has(i)?n.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:s,displayName:n,dragAndDropService:i,gridOptionsService:o}=this,{columnModel:r}=s;let l=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const a=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?It.ICON_HIDE:It.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{var h;if(l){const d=((h=c==null?void 0:c.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];r.setColumnsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{var h;if(l){const d=((h=c==null?void 0:c.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];r.setColumnsVisible(d,!1,"uiColumnMoved")}}};i.addDragSource(a,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,rs.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,rs.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,rs.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,rs.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListener(this.column,rs.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:s,beans:n}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),s.addOrRemoveCssClass("ag-header-span-height",!1),s.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:i,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();s.addOrRemoveCssClass("ag-header-span-height",i>0);const{columnModel:r}=n,l=r.getColumnHeaderRowHeight();if(i===0){s.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}s.addOrRemoveCssClass("ag-header-span-total",o);const c=r.isPivotMode()?r.getPivotGroupHeaderHeight():r.getGroupHeaderHeight(),h=i*c;e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${l+h}px`)}setupAutoHeight(e){const{columnModel:t,resizeObserverService:s}=this.beans,n=c=>{if(!this.isAlive())return;const{paddingTop:h,paddingBottom:d,borderBottomWidth:p,borderTopWidth:g}=Xr(this.getGui()),m=h+d+p+g,C=e.offsetHeight+m;if(c<5){const v=this.beans.gridOptionsService.getDocument(),y=!v||!v.contains(e),w=C==0;if(y||w){window.setTimeout(()=>n(c+1),0);return}}t.setColumnHeaderHeight(this.column,C)};let i=!1,o;const r=()=>{const c=this.column.isAutoHeaderHeight();c&&!i&&l(),!c&&i&&a()},l=()=>{i=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=s.observeResize(e,()=>n(0))},a=()=>{i=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};r(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,rs.EVENT_WIDTH_CHANGED,()=>i&&n(0)),this.addManagedListener(this.eventService,rs.EVENT_SORT_CHANGED,()=>{i&&window.setTimeout(()=>n(0))}),this.addRefreshFunction(r)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(aI(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){const e=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(e.activeElement))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((s,n)=>s==="filter"?-1:n.charCodeAt(0)-s.charCodeAt(0)).map(s=>this.ariaDescriptionProperties.get(s)).join(". ");this.beans.ariaAnnouncementService.announceValue(t)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CLICKED,this.column),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",s)}handleMouseOverChange(e){this.setActiveHeader(e);const s={type:e?M.EVENT_COLUMN_HEADER_MOUSE_OVER:M.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(s)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof XC?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Rh=class extends He{constructor(e,t,s,n){super(),this.eResize=t,this.comp=e,this.pinned=s,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.get("suppressAutoSize")){const t=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const s=[];this.columnGroup.getDisplayedLeafColumns().forEach(i=>{i.getColDef().suppressAutoSize||s.push(i.getColId())}),s.length>0&&this.columnModel.autoSizeColumns({columns:s,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,s="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,s,e)}getInitialValues(e){const t=this.getColumnsToResize(),s=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,s),i={columnsToResize:t,resizeStartWidth:s,resizeRatios:n};let o=null;if(e&&(o=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),o){const r=o.getDisplayedLeafColumns(),l=i.groupAfterColumns=r.filter(c=>c.isResizable()),a=i.groupAfterStartWidth=this.getInitialSizeOfColumns(l);i.groupAfterRatios=this.getSizeRatiosOfColumns(l,a)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:s,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:r}=e;this.resizeCols=t,this.resizeStartWidth=s,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),s=this.getInitialValues();t>s.resizeStartWidth&&this.resizeColumns(s,t,e,!0)}resizeColumnsFromLocalValues(e,t,s=!0){var n,i,o;if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(n=this.resizeTakeFromCols)!=null?n:void 0,groupAfterStartWidth:(i=this.resizeTakeFromStartWidth)!=null?i:void 0,groupAfterRatios:(o=this.resizeTakeFromRatios)!=null?o:void 0};this.resizeColumns(r,e,t,s)}resizeColumns(e,t,s,n=!0){const{columnsToResize:i,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:l,groupAfterStartWidth:a,groupAfterRatios:c}=e,h=[];if(h.push({columns:i,ratios:r,width:t}),l){const d=t-o;h.push({columns:l,ratios:c,width:a-d})}this.columnModel.resizeColumnSets({resizeSets:h,finished:n,source:s}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(s=>s.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};S([H("horizontalResizeService")],Rh.prototype,"horizontalResizeService",2);S([H("autoWidthCalculator")],Rh.prototype,"autoWidthCalculator",2);S([H("columnModel")],Rh.prototype,"columnModel",2);S([We],Rh.prototype,"postConstruct",1);var YF=class extends He{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Vs.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};S([We],YF.prototype,"postConstruct",1);var Zae=class extends nm{constructor(e,t,s){super(e,t,s),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,s){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),i=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Eh(i,t)),this.createManagedBean(new im(this.column,t,this.beans)),this.createManagedBean(new YF(e,this.column)),this.resizeFeature=this.createManagedBean(new Rh(e,s,n,this.column)),this.createManagedBean(new Qr(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(M.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const s=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(s,s.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:s,column:n,gridOptionsService:i,ctrlsService:o}=this,r=i.get("enableRtl"),l=e===0,a=this.getPinned(),c=s.getBoundingClientRect(),h=c.left,d=c.width,p=kl.normaliseX(l!==r?h-20:h+d+20,a,!0,i,o),g=n.getGroupId(),m=this.focusService.getFocusedHeader();kl.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:p,pinned:a,fromEnter:!1,fakeEvent:!1,gridOptionsService:i,columnModel:t.columnModel});const f=n.getDisplayedLeafColumns(),C=l?f[0]:Xt(f);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&m&&this.restoreFocus(g,n,m)}restoreFocus(e,t,s){const n=t.getLeafColumns();if(!n.length)return;const i=n[0].getParent();if(!i)return;const o=this.findGroupWidthId(i,e);o&&this.focusService.focusHeaderPosition({headerPosition:vs(mt({},s),{column:o})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,n)=>{this.setupTooltip(s,n)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",s)}handleMouseOverChange(e){const s={type:e?M.EVENT_COLUMN_HEADER_MOUSE_OVER:M.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(s)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),n=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",i=this.eGui;!t&&n&&!(s!=null&&s.headerGroupComponent)&&(t=()=>{const r=i.querySelector(".ag-header-group-text");return r?r.scrollWidth>r.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(s&&s.headerTooltip),shouldDisplayTooltip:t};s&&(o.getColDef=()=>s),this.createBean(new rr(o))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,_s.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,_s.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=Jg.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(s=>this.comp.addOrRemoveCssClass(s,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(n=>{this.addManagedListener(n,rs.EVENT_MOVING_CHANGED,s)}),s()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===fe.ENTER){const s=this.column,n=!s.isExpanded();this.beans.columnModel.setColumnGroupOpened(s.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:s,displayName:n,gridOptionsService:i,dragAndDropService:o}=this,{columnModel:r}=t,l=s.getProvidedColumnGroup().getLeafColumns();let a=!i.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?It.ICON_HIDE:It.ICON_NOT_ALLOWED,dragItemName:n,getDragItem:()=>this.getDragItemForGroup(s),onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),l.forEach(h=>h.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>l.forEach(h=>h.setMoving(!1,"uiColumnDragged")),onGridEnter:h=>{var d;if(a){const p=((d=h==null?void 0:h.columns)==null?void 0:d.filter(g=>!g.getColDef().lockVisible))||[];r.setColumnsVisible(p,!0,"uiColumnMoved")}},onGridExit:h=>{var d;if(a){const p=((d=h==null?void 0:h.columns)==null?void 0:d.filter(g=>!g.getColDef().lockVisible))||[];r.setColumnsVisible(p,!1,"uiColumnMoved")}}};o.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),s={};t.forEach(i=>s[i.getId()]=i.isVisible());const n=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(i=>{t.indexOf(i)>=0&&(n.push(i),Ln(t,i))}),t.forEach(i=>n.push(i)),{columns:n,visibleState:s}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(s=>{(s.getColDef().suppressMovable||s.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")}},Jae=0,Uc=class extends He{constructor(e,t,s){super(),this.instanceId=Jae++,this.rowIndex=e,this.pinned=t,this.type=s;const n=s=="group"?"ag-header-row-column-group":s=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Ml(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let s=e.getHeaderRowCount();const n=[];let i=0;t.hasFloatingFilters()&&(s++,i=1);const o=e.getColumnGroupHeaderRowHeight(),r=e.getColumnHeaderRowHeight(),l=1+i,a=s-l;for(let d=0;d<a;d++)n.push(o);n.push(r);for(let d=0;d<i;d++)n.push(e.getFloatingFiltersHeight());let c=0;for(let d=0;d<this.rowIndex;d++)c+=n[d];const h=n[this.rowIndex];return{topOffset:c,rowHeight:h}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),s=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,s,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,e);const s=i=>{const{focusService:o,columnModel:r}=this.beans;return o.isHeaderWrapperFocused(i)?r.isDisplayed(i.getColumnGroupChild()):!1};if(e)for(const[i,o]of e)s(o)?this.headerCellCtrls.set(i,o):this.destroyBean(o);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const s=e.getUniqueId();let n;if(t&&(n=t.get(s),t.delete(s)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":n=this.createBean(new Xae(e,this.beans,this));break;case"group":n=this.createBean(new Zae(e,this.beans,this));break;default:n=this.createBean(new Qae(e,this.beans,this));break}this.headerCellCtrls.set(s,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnModel:s}=this.beans;return["left",null,"right"].forEach(n=>{const i=s.getVirtualHeaderGroupRow(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;const n=Array.from(this.headerCellCtrls.values()).find(i=>i.getColumnGroupChild()==e);return n?n.focus(t):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};S([H("beans")],Uc.prototype,"beans",2);S([We],Uc.prototype,"postConstruct",1);var wa=class extends He{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new nc(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new Mu,s=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let a=0;a<l;a++){const c=this.createBean(new Uc(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},i=()=>{const l=t.next(),a=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==l);(a||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),a&&(this.columnsRowCtrl=this.createBean(new Uc(l,this.pinned,"column")))},o=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){l();return}const a=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==a;(!e||c)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Uc(a,this.pinned,"filter")))};n(),i(),o();const r=this.getAllCtrls();this.comp.setCtrls(r),this.restoreFocusOnHeader(s)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new ec(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const s=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const i=n==0,o=this.hidden!==i,r=this.gridOptionsService.get("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)?n+l:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!i),o&&(this.hidden=i,this.refresh())};this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,s),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,s),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,s),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,s)}getHeaderCtrlForColumn(e){if(e instanceof rs)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const s=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const s=this.getAllCtrls()[e];return s?s.getType():void 0}focusHeader(e,t,s){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,s):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};S([H("ctrlsService")],wa.prototype,"ctrlsService",2);S([H("scrollVisibleService")],wa.prototype,"scrollVisibleService",2);S([H("pinnedWidthService")],wa.prototype,"pinnedWidthService",2);S([H("columnModel")],wa.prototype,"columnModel",2);S([H("focusService")],wa.prototype,"focusService",2);S([H("filterManager")],wa.prototype,"filterManager",2);var ba=class zp extends Mt{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new wa(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left",s=this.pinned=="right",n=t?zp.PINNED_LEFT_TEMPLATE:s?zp.PINNED_RIGHT_TEMPLATE:zp.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const s=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n;const i=o=>{const r=o.getGui();r.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(r),n&&Vb(this.eRowContainer,r,n),n=r};t.forEach(o=>{const r=o.getInstanceId(),l=s[r];delete s[r];const a=l||this.createBean(new lS(o));this.headerRowComps[r]=a,this.rowCompsList.push(a),i(a)}),Hr(s).forEach(o=>this.destroyRowComp(o))}};ba.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';ba.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';ba.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;S([Ze("eCenterContainer")],ba.prototype,"eCenterContainer",2);S([We],ba.prototype,"init",1);S([An],ba.prototype,"destroyRowComps",1);var av=ba,Xl=class extends He{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gridOptionsService.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,s){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n,column:i}=t,o=this.getHeaderRowCount(),r=e===0;let{headerRowIndex:l,column:a,headerRowIndexWithoutSpan:c}=r?this.headerPositionUtils.getColumnVisibleParent(i,n):this.headerPositionUtils.getColumnVisibleChild(i,n),h=!1;return l<0&&(l=0,a=i,h=!0),l>=o?(l=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!h&&!a?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:a},allowUserOverride:!0,event:s})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,s){const n=this.focusService.getFocusedHeader(),i=e===2,o=this.gridOptionsService.get("enableRtl");let r,l;return this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,i!==o?(l="Before",r=this.headerPositionUtils.findHeader(n,l)):(l="After",r=this.headerPositionUtils.findHeader(n,l)),r||!t?this.focusService.focusHeaderPosition({headerPosition:r,direction:l,fromTab:t,allowUserOverride:!0,event:s}):this.focusNextHeaderRow(n,l,s)}focusNextHeaderRow(e,t,s){const n=e.headerRowIndex;let i=null,o;if(t==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!i)return!1;const{column:r,headerRowIndex:l}=this.headerPositionUtils.getHeaderIndexToFocus(i.column,i==null?void 0:i.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:s})}scrollToColumn(e,t="After"){if(e.getPinned())return;let s;if(e instanceof Vs){const n=e.getDisplayedLeafColumns();s=t==="Before"?Xt(n):n[0]}else s=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(s)}};S([H("focusService")],Xl.prototype,"focusService",2);S([H("headerPositionUtils")],Xl.prototype,"headerPositionUtils",2);S([H("ctrlsService")],Xl.prototype,"ctrlsService",2);S([We],Xl.prototype,"postConstruct",1);Xl=S([ot("headerNavigationService")],Xl);var Sa=class extends He{setComp(e,t,s){this.comp=e,this.eGui=t,this.createManagedBean(new Qr(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",n),this.mockContextMenuForIPad(n),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,s=e.getHeaderRowCount(),n;this.filterManager.hasFloatingFilters()&&(s++,t=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),l=1+t,a=s-l;if(n=t*e.getFloatingFiltersHeight(),n+=a*o,n+=r,this.headerHeight===n)return;this.headerHeight=n;const c=`${n+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:M.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(s=>s.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.get("enableRtl"),s=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case fe.LEFT:t=2;case fe.RIGHT:Ge(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case fe.UP:t=0;case fe.DOWN:Ge(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:s}=e;!s&&this.eGui.contains(t.activeElement)||this.eGui.contains(s)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,s){if(!e&&!s||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,s)}mockContextMenuForIPad(e){if(!or())return;const t=new Qs(this.eGui),s=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(t,Qs.EVENT_LONG_TAP,s),this.addDestroyFunc(()=>t.destroy())}};S([H("headerNavigationService")],Sa.prototype,"headerNavigationService",2);S([H("focusService")],Sa.prototype,"focusService",2);S([H("columnModel")],Sa.prototype,"columnModel",2);S([H("ctrlsService")],Sa.prototype,"ctrlsService",2);S([H("filterManager")],Sa.prototype,"filterManager",2);S([H("menuService")],Sa.prototype,"menuService",2);var uS=class qF extends Mt{constructor(){super(qF.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new Sa).setComp(t,this.getGui(),this.getFocusableElement());const n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new av("left")),n(new av(null)),n(new av("right"))}};uS.TEMPLATE='<div class="ag-header" role="presentation"/>';S([We],uS.prototype,"postConstruct",1);var eue=uS,Md=class extends He{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const s=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(s)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};S([H("dragService")],Md.prototype,"dragService",2);S([H("ctrlsService")],Md.prototype,"ctrlsService",2);Md=S([ot("horizontalResizeService")],Md);var $r=class extends He{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,s){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:s,mouseEvent:t,ePopup:n})},s,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,s){let n=-1,i="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gridOptionsService.get("enableRtl")&&(n=1,i="right");let r=o?void 0:4*n,l=o?void 0:4;this.showPopup(e,a=>{this.popupService.positionPopupByComponent({type:s,eventSource:t,ePopup:a,nudgeX:r,nudgeY:l,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},s,t,o)}showPopup(e,t,s,n,i){const o=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!o||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const r=document.createElement("div");Ts(r,"presentation"),r.classList.add("ag-menu"),i||r.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(r,"keydown",m=>this.trapFocusWithin(m,r)),o.guiPromise.then(m=>r.appendChild(m));let l;const a=()=>{var m;return(m=o.filterPromise)==null?void 0:m.then(f=>{var C;return(C=f==null?void 0:f.afterGuiDetached)==null?void 0:C.call(f)})},c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=m=>{e.setMenuVisible(!1,"contextMenu");const f=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),f&&n&&ii(n)){const C=this.focusService.findTabbableParent(n);C&&C.focus()}a(),this.dispatchVisibleChangedEvent(!1,s,e)},d=this.localeService.getLocaleTextFunc(),p=i&&s!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(r),anchorToElement:c,ariaLabel:p});g&&(this.hidePopup=l=g.hideFunc),o.filterPromise.then(m=>{t(r),m.afterGuiAttached&&m.afterGuiAttached({container:s,hidePopup:l})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,s,e)}trapFocusWithin(e,t){e.key!==fe.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,s){const n={type:M.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:s??null};this.eventService.dispatchEvent(n)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&((t=e.getColDef().menuTabs)!=null?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};S([H("filterManager")],$r.prototype,"filterManager",2);S([H("popupService")],$r.prototype,"popupService",2);S([H("focusService")],$r.prototype,"focusService",2);S([H("ctrlsService")],$r.prototype,"ctrlsService",2);S([H("menuService")],$r.prototype,"menuService",2);$r=S([ot("filterMenuFactory")],$r);var cS=class extends He{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:s,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:r,onFocusIn:l,onFocusOut:a,shouldStopEventPropagation:c,onTabKeyDown:h,handleKeyDown:d,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=s,this.eBottomGuard=n,this.providedFocusInnerElement=r,this.eFocusableElement=p,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.providedFocusIn=l,this.providedFocusOut=a,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new Qr(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gridOptionsService.getDocument(),s=this.focusService.findFocusableElements(t.body,null,!0),n=s.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,o;e?(i=0,o=n):(i=n+1,o=s.length);const r=s.slice(i,o),l=this.gridOptionsService.get("tabIndex");r.sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),d=parseInt(c.getAttribute("tabindex")||"0");return d===l?1:h===l?-1:h===0?1:d===0?-1:h-d}),r[e?r.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const s=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),s&&(s.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};S([H("focusService")],cS.prototype,"focusService",2);S([We],cS.prototype,"postConstruct",1);var Th=class extends Mt{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],s={setTabIndex:n=>{t.forEach(i=>n!=null?i.setAttribute("tabindex",n):i.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new cS({comp:s,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const t=document.createElement("div"),s=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",s),Ts(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Fs(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){gh(e)||(e=e.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}},om=class XF extends Th{constructor(t){super(XF.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(t=>this.addItem(t)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var t,s,n;return(n=(s=(t=this.activeItem)==null?void 0:t.tabbedItem)==null?void 0:s.afterDetachedCallback)==null?void 0:n.call(s)})}static getTemplate(t){return`<div class="ag-tabs ${t}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${t?`${t}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:t,cssClass:s}=this.params,n=(i,o)=>{i.classList.add(`ag-tabs-${o}`),s&&i.classList.add(`${s}-${o}`)};t?(this.setupCloseButton(n),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),n(this.eHeader,"header-wrapper"),Ts(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,Ts(this.eTabHeader,"tablist"),n(this.eTabHeader,"header")}setupCloseButton(t){const s=this.gridOptionsService.getDocument(),n=s.createElement("button");t(n,"close-button");const i=Es("close",this.gridOptionsService,void 0,!0);ji(n,this.params.closeButtonAriaLabel),n.appendChild(i),this.addManagedListener(n,"click",()=>{var r,l;return(l=(r=this.params).onCloseClicked)==null?void 0:l.call(r)});const o=s.createElement("div");t(o,"close-button-wrapper"),Ts(o,"presentation"),o.appendChild(n),this.eHeader.appendChild(o),this.eCloseButton=n}handleKeyDown(t){const s=this.gridOptionsService.getDocument();switch(t.key){case fe.RIGHT:case fe.LEFT:if(!this.eTabHeader.contains(s.activeElement))return;const n=t.key===fe.RIGHT,i=this.gridOptionsService.get("enableRtl"),o=this.items.indexOf(this.activeItem),r=n!==i?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===r)return;t.preventDefault();const l=this.items[r];this.showItemWrapper(l),l.eHeaderButton.focus();break;case fe.UP:case fe.DOWN:t.stopPropagation();break}}onTabKeyDown(t){var s,n,i,o;if(t.defaultPrevented)return;const{focusService:r,eHeader:l,eBody:a,activeItem:c,params:h}=this,{suppressTrapFocus:d,enableCloseButton:p}=h,m=this.gridOptionsService.getDocument().activeElement,f=t.target,C=t.shiftKey;if(l.contains(m)){t.preventDefault(),p&&C&&!((s=this.eCloseButton)!=null&&s.contains(m))?(n=this.eCloseButton)==null||n.focus():d&&C?(i=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,f))==null||i.focus():this.focusBody(t.shiftKey);return}let v=null;if(r.isTargetUnderManagedComponent(a,f)&&(C&&(v=this.focusService.findFocusableElementBeforeTabGuard(a,f)),!v&&!d&&(v=c.eHeaderButton)),!v&&a.contains(m)&&(v=r.findNextFocusableElement(a,!1,C),!v)){t.preventDefault(),d&&!C?this.forceFocusOutOfContainer(C):p&&!C?(o=this.eCloseButton)==null||o.focus():this.focusHeader();return}v&&(t.preventDefault(),v.focus())}focusInnerElement(t){t?this.focusHeader():this.focusBody(!0)}focusHeader(t){this.activeItem.eHeaderButton.focus({preventScroll:t})}focusBody(t){this.focusService.focusInto(this.eBody,t)}setAfterAttachedParams(t){this.afterAttachedParams=t}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(t){const s=document.createElement("span");Ts(s,"tab"),s.setAttribute("tabindex","-1"),s.appendChild(t.title),s.classList.add("ag-tab"),this.eTabHeader.appendChild(s),ji(s,t.titleLabel);const n={tabbedItem:t,eHeaderButton:s};this.items.push(n),s.addEventListener("click",this.showItemWrapper.bind(this,n))}showItem(t){const s=this.items.find(n=>n.tabbedItem===t);s&&this.showItemWrapper(s)}showItemWrapper(t){var s,n,i,o,r,l;const{tabbedItem:a,eHeaderButton:c}=t;if((n=(s=this.params).onItemClicked)==null||n.call(s,{item:a}),this.activeItem===t){(o=(i=this.params).onActiveItemClicked)==null||o.call(i);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Fs(this.eBody),a.bodyPromise.then(h=>{this.eBody.appendChild(h);const d=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,d),a.afterAttachedCallback&&a.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const p=a.getScrollableContainer&&a.getScrollableContainer()||h;this.lastScrollListener=this.addManagedListener(p,"scroll",()=>{this.tabbedItemScrollMap.set(a.name,p.scrollTop)});const g=this.tabbedItemScrollMap.get(a.name);g!==void 0&&setTimeout(()=>{p.scrollTop=g},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(l=(r=this.activeItem.tabbedItem).afterDetachedCallback)==null||l.call(r)),c.classList.add("ag-tab-selected"),this.activeItem=t}};S([H("focusService")],om.prototype,"focusService",2);S([Ze("eHeader")],om.prototype,"eHeader",2);S([Ze("eBody")],om.prototype,"eBody",2);S([We],om.prototype,"postConstruct",1);var tue=50,ey=class extends He{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const s=this.gridOptionsService.getWindow(),n=()=>{const l=new s.ResizeObserver(t);return l.observe(e),()=>l.disconnect()},i=()=>{var l,a;let c=(l=e==null?void 0:e.clientWidth)!=null?l:0,h=(a=e==null?void 0:e.clientHeight)!=null?a:0,d=!0;const p=()=>{var g,m;if(d){const f=(g=e==null?void 0:e.clientWidth)!=null?g:0,C=(m=e==null?void 0:e.clientHeight)!=null?m:0;(f!==c||C!==h)&&(c=f,h=C,t()),this.doNextPolyfillTurn(p)}};return p(),()=>d=!1},o=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!s.ResizeObserver&&!o?n():this.getFrameworkOverrides().wrapIncoming(()=>i(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(s=>s())};this.polyfillScheduled=!0,window.setTimeout(e,tue)}};ey=S([ot("resizeObserverService")],ey);var Fu=class extends He{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const s=this.paginationProxy.getCurrentPage();s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,s){this.verifyAnimationFrameOn(s);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[s],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((s,n)=>s.index!==n.index?t*(n.index-s.index):n.createOrder-s.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,s=t.list,n=this.createTasksP2,i=n.list,o=this.destroyTasks,r=new Date().getTime();let l=new Date().getTime()-r;const a=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;a||l<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let d;if(s.length)this.sortTaskList(t),d=s.pop().task;else if(i.length)this.sortTaskList(n),d=i.pop().task;else if(o.length)d=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}l=new Date().getTime()-r}s.length||i.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};S([H("ctrlsService")],Fu.prototype,"ctrlsService",2);S([H("paginationProxy")],Fu.prototype,"paginationProxy",2);S([We],Fu.prototype,"init",1);Fu=S([ot("animationFrameService")],Fu);var Id=class extends He{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(s=>{s.id&&t.has(s.id)&&(s.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:s})=>{t&&s&&e.push(s)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,s){e&&(s&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,s),e.setExpanded(t))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};S([H("rowModel")],Id.prototype,"rowModel",2);S([We],Id.prototype,"postConstruct",1);Id=S([ot("expansionService")],Id);var Yi=class extends He{postConstruct(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!=null?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,s){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,s)}showContextMenu(e){var t,s,n;const{column:i,anchorToElement:o,rowNode:r,value:l}=e;(n=this.contextMenuFactory)==null||n.onContextMenu((t=e.mouseEvent)!=null?t:null,(s=e.touchEvent)!=null?s:null,r??null,i??null,l,o)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:s}=e.getColDef();return!(s??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(or()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var t;const s=e.getColDef(),n=(t=s.floatingFilterComponentParams)==null?void 0:t.suppressFilterButton;return n!=null&&St("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),s.suppressFloatingFilterButton==null?!n:!s.suppressFloatingFilterButton}getColumnMenuType(){var e;return(e=this.gridOptionsService.get("columnMenu"))!=null?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0}showColumnMenuCommon(e,t,s,n){const{column:i,positionBy:o}=t;if(o==="button"){const{buttonElement:r}=t;e.showMenuAfterButtonClick(i,r,s,n)}else if(o==="mouse"){const{mouseEvent:r}=t;e.showMenuAfterMouseEvent(i,r,s,n)}else i&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const r=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getHeaderCtrlForColumn(i);e.showMenuAfterButtonClick(i,r.getAnchorElementForMenu(n),s,!0)}))}};S([qt("enterpriseMenuFactory")],Yi.prototype,"enterpriseMenuFactory",2);S([H("filterMenuFactory")],Yi.prototype,"filterMenuFactory",2);S([qt("contextMenuFactory")],Yi.prototype,"contextMenuFactory",2);S([H("ctrlsService")],Yi.prototype,"ctrlsService",2);S([H("animationFrameService")],Yi.prototype,"animationFrameService",2);S([qt("columnChooserFactory")],Yi.prototype,"columnChooserFactory",2);S([H("filterManager")],Yi.prototype,"filterManager",2);S([We],Yi.prototype,"postConstruct",1);Yi=S([ot("menuService")],Yi);var Ql=class extends He{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const s=this.getHeaderCellForColumn(e);if(!s)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(s),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const s=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,t)),s.appendChild(t);const n=t.offsetWidth;s.removeChild(t);const i=this.getAutoSizePadding();return n+i}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(s=>{const n=s.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const s=e.cloneNode(!0);s.style.width="",s.style.position="static",s.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>s.classList.contains(l))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(a=>r.classList.contains(a))){for(let a=0;a<r.classList.length;a++){const c=r.classList[a];c!="ag-row-position-absolute"&&i.add(c)}break}r=r.parentElement}n.appendChild(s),t.appendChild(n)}};S([H("rowRenderer")],Ql.prototype,"rowRenderer",2);S([H("ctrlsService")],Ql.prototype,"ctrlsService",2);S([H("rowCssClassCalculator")],Ql.prototype,"rowCssClassCalculator",2);S([We],Ql.prototype,"postConstruct",1);Ql=S([ot("autoWidthCalculator")],Ql);var Dh=class extends He{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const t=[],s=this.rowRenderer.getFirstVisibleVerticalPixel(),n=o=>{var r,l,a;t.push(o);let c;if(this.isClientSide){let d=o;for(;d.isExpandable()&&d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(d.childrenAfterSort.length===0)break;d=Xt(d.childrenAfterSort)}c=d.rowTop+d.rowHeight}else if(o.master)c=o.detailNode.rowTop+o.detailNode.rowHeight;else{const d=(r=o.childStore)==null?void 0:r.getStoreBounds();c=((l=d==null?void 0:d.heightPx)!=null?l:0)+((a=d==null?void 0:d.topPx)!=null?a:0)}const h=s+e+o.rowHeight;c<h?o.stickyRowTop=e+(c-h):o.stickyRowTop=e,e=0,t.forEach(d=>{const p=d.stickyRowTop+d.rowHeight;e<p&&(e=p)})};let i=0;for(;;){const o=s+e,r=this.rowModel.getRowIndexAtPixel(o),l=this.rowModel.getRow(r);if(l==null||l.level<0||i++===100)break;const a=[];let c=l.parent;for(;c.level>=0;)a.push(c),c=c.parent;const h=a.reverse().find(d=>t.indexOf(d)<0&&d.displayed);if(h){n(h);continue}if(l.isExpandable()&&l.expanded&&l.rowTop<o){n(l);continue}break}return this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let s=0;s<this.stickyRowCtrls.length;s++){const n=this.stickyRowCtrls[s].getRowNode();n!==e&&t.push(n)}this.refreshNodesAndContainerHeight(t,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){let s=!1;const n=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),i=e.filter(l=>this.stickyRowCtrls.findIndex(a=>a.getRowNode()===l)===-1);(n.length||i.length)&&(s=!0);const o={};n.forEach(l=>{o[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(a=>a!==l)});for(const l of Object.values(o))l.getRowNode().sticky=!1;this.destroyRowCtrls(o,!1);const r=i.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));return this.stickyRowCtrls.push(...r),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,a)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t),s=!0),s}};S([H("rowModel")],Dh.prototype,"rowModel",2);S([H("rowRenderer")],Dh.prototype,"rowRenderer",2);S([H("ctrlsService")],Dh.prototype,"ctrlsService",2);S([We],Dh.prototype,"postConstruct",1);var oi=class extends He{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},s=()=>{this.eventService.addEventListener(M.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(M.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener(M.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener(M.EVENT_COLUMN_VISIBLE,t)},n=()=>{this.eventService.removeEventListener(M.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(M.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener(M.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener(M.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",o=>{o.currentValue?s():n()}),this.gridOptionsService.get("enableRangeSelection")&&s()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Dh(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new sue(t)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Hr(this.rowCtrlsByRowIndex),t=Hr(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||s.length>0?this.allRowCtrls=[...e,...t,...s]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,M.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(t=>{const s=a=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&a(c)})},n=()=>{s(a=>a.onLeftChanged())},i=()=>{s(a=>a.onWidthChanged())},o=()=>{s(a=>a.onFirstRightPinnedChanged())},r=()=>{s(a=>a.onLastLeftPinnedChanged())},l=()=>{s(a=>a.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",r),t.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",r),t.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.get("embedFullWidthRows"),s=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,s&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(s=>{const n=s.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(s=>{s.destroyFirstPass(),s.destroySecondPass()}),e.length=0,t&&t.forEach(s=>{const n=new xl(s,this.beans,!1,!1,this.printLayout);e.push(n)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var s;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((s=this.cachedRowCtrls)!=null&&s.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const o=i[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=this.gridOptionsService.getDocument().activeElement,i=this.gridOptionsService.getDomData(n,Nl.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(n,xl.DOM_DATA_KEY_ROW_CTRL);return i||o?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const s=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),i=s?this.getRowsToRecycle():null;s||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,s=this.gridOptionsService.get("suppressScrollOnNewData");t&&!s&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),s=t.length;for(let n=0;n<s;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let r=0;r<o;r++)e.push(i[r])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const s of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[s]);return t}addRenderedRowListener(e,t,s){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,s)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(s=>s.refreshOrDestroyCell(t)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(s=>{if(!s.isFullWidth())return;s.refreshFullWidth()||this.redrawRow(s.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const s=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if((t=e.columns)!=null&&t.length)return s;const n=[],i=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(i&&!this.isRowInMap(o.getRowNode(),i)||!o.isFullWidth())return;const r=o.getFullWidthCellRenderers();for(let l=0;l<r.length;l++){const a=r[l];a!=null&&n.push(a)}}),[...n,...s]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(s=>{const n=s.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const s=t.getCellPosition();e.push(s)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(s=>{const n=s.id;s.rowPinned==="top"?t.top[n]=s:s.rowPinned==="bottom"?t.bottom[n]=s:t.normal[n]=s}),t}isRowInMap(e,t){const s=e.id,n=e.rowPinned;return n==="bottom"?t.bottom[s]!=null:n==="top"?t.top[s]!=null:t.normal[s]!=null}getRowCtrls(e){const t=this.mapRowNodes(e),s=this.getAllRowCtrls();return!e||!t?s:s.filter(n=>{const i=n.getRowNode();return this.isRowInMap(i,t)})}getCellCtrls(e,t){let s;Ge(t)&&(s={},t.forEach(i=>{const o=this.columnModel.getGridColumn(i);Ge(o)&&(s[o.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(o=>{const r=o.getColumn().getId();s&&!s[r]||n.push(o)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];ln(this.rowCtrlsByRowIndex,(s,n)=>{n.getRowNode().id==null&&e.push(s)}),this.removeRowCtrls(e);const t={};return ln(this.rowCtrlsByRowIndex,(s,n)=>{const i=n.getRowNode();t[i.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(s=>{const n=this.rowCtrlsByRowIndex[s];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[s]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let s;this.stickyRowFeature&&Mb()&&(s=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;this.stickyRowFeature&&(o=this.stickyRowFeature.checkStickyRows());const r=this.firstRenderedRow!==n||this.lastRenderedRow!==i;if(!(t&&!o&&!r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),s!=null)){const l=this.getCellToRestoreFocusToAfterRefresh();s!=null&&l==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(s))}}removeRowCompsNotToDraw(e,t){const s={};e.forEach(o=>s[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!s[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){let t=OI(this.firstRenderedRow,this.lastRenderedRow);const s=(i,o)=>{const r=o.getRowNode().rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(r)};ln(this.rowCtrlsByRowIndex,s),ln(e,s),t.sort((i,o)=>i-o);const n=[];for(let i=0;i<t.length;i++){const o=t[i],r=this.paginationProxy.getRow(o);r&&!r.sticky&&n.push(o)}return n}recycleRows(e,t=!1,s=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||s)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,s)}),e&&(s&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:M.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const s=t.getRowNode().rowIndex;e.push(s.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(s=>{if(!s.isFullWidth())return!1;const n=s.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,s,n){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.paginationProxy.getRow(e),Ge(i)&&Ge(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.paginationProxy.getRow(e)),Ge(i))o=this.createRowCon(i,s,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const s=[];ln(e,(n,i)=>{if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);return}i.destroyFirstPass(!t),t?(this.zombieRowCtrls[i.getInstanceId()]=i,s.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[i.getInstanceId()]})):i.destroySecondPass()}}),t&&(s.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),xM(s))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),a=this.ctrlsService.getGridBodyCtrl(),c=this.gridOptionsService.get("suppressRowVirtualisation");let h=!1,d,p;do{const v=this.paginationProxy.getPixelOffset(),{pageFirstPixel:y,pageLastPixel:w}=this.paginationProxy.getCurrentPagePixelRange(),b=this.rowContainerHeightService.getDivStretchOffset(),T=a.getScrollFeature().getVScrollPosition(),E=T.top,P=T.bottom;c?(d=y+b,p=w+b):(d=Math.max(E+v-l,y)+b,p=Math.min(P+v+l,w)+b),this.firstVisibleVPixel=Math.max(E+v,y)+b,h=this.ensureAllRowsInRangeHaveHeightsCalculated(d,p)}while(h);let g=this.paginationProxy.getRowIndexAtPixel(d),m=this.paginationProxy.getRowIndexAtPixel(p);const f=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();g<f&&(g=f),m>C&&(m=C),e=g,t=m}const s=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),i=Math.max(this.getRowBuffer(),500);s&&!n&&t-e>i&&(t=e+i);const o=e!==this.firstRenderedRow,r=t!==this.lastRenderedRow;if(o||r){this.firstRenderedRow=e,this.lastRenderedRow=t;const l={type:M.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(l)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:M.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const s=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return s&&this.updateContainerHeights(),s}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),i=this.focusService.isRowNodeFocused(n),o=e.isEditing(),r=n.detail;return i||o||r?!!this.paginationProxy.isRowPresent(n):!1}createRowCon(e,t,s){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const i=this.gridOptionsService.get("suppressAnimationFrame"),o=s&&!i&&!this.printLayout;return new xl(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:s}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[s];break;case"bottom":t=this.bottomRowCtrls[s];break;default:t=this.rowCtrlsByRowIndex[s],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===s)||null);break}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}};S([H("animationFrameService")],oi.prototype,"animationFrameService",2);S([H("paginationProxy")],oi.prototype,"paginationProxy",2);S([H("columnModel")],oi.prototype,"columnModel",2);S([H("pinnedRowModel")],oi.prototype,"pinnedRowModel",2);S([H("rowModel")],oi.prototype,"rowModel",2);S([H("focusService")],oi.prototype,"focusService",2);S([H("beans")],oi.prototype,"beans",2);S([H("rowContainerHeightService")],oi.prototype,"rowContainerHeightService",2);S([H("ctrlsService")],oi.prototype,"ctrlsService",2);S([We],oi.prototype,"postConstruct",1);oi=S([ot("rowRenderer")],oi);var sue=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,s=this.entriesMap[t];delete this.entriesMap[t],Ln(this.entriesList,s)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Ln(this.entriesList,e)}getEntries(){return this.entriesList}},kf=class extends He{formatValue(e,t,s,n,i=!0){let o=null,r;const l=e.getColDef();if(n?r=n:i&&(r=l.valueFormatter),r){const a=this.gridOptionsService.addGridCommonParams({value:s,node:t,data:t?t.data:null,colDef:l,column:e});typeof r=="function"?o=r(a):o=this.expressionService.evaluate(r,a)}else if(l.refData)return l.refData[s]||"";return o==null&&Array.isArray(s)&&(o=s.join(", ")),o}};S([H("expressionService")],kf.prototype,"expressionService",2);kf=S([ot("valueFormatterService")],kf);var Fd=class extends He{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Xn(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const s=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Xn(s))return 0;for(let n=0;n<s.length;n++){const i=s[n];if(i.rowTop+i.rowHeight-1>=e)return n}return s.length-1}setPinnedTopRowData(){const e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:M.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){const e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:M.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const s=[];if(e){let n=0;e.forEach((i,o)=>{const r=new Nt(this.beans);r.data=i;const l=t?Nt.ID_PREFIX_TOP_PINNED:Nt.ID_PREFIX_BOTTOM_PINNED;r.id=l+o,r.rowPinned=t?"top":"bottom",r.setRowTop(n),r.setRowHeight(this.gridOptionsService.getRowHeightForNode(r).height),r.setRowIndex(o),n+=r.rowHeight,s.push(r)})}return s}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Xn(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Xn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=Xt(e);return t.rowTop+t.rowHeight}};S([H("beans")],Fd.prototype,"beans",2);S([We],Fd.prototype,"init",1);Fd=S([ot("pinnedRowModel")],Fd);var rm=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let s=0;s<e.children.length;s++)this.depthFirstSearchChangedPath(e.children[s],t);t(e.rowNode)}depthFirstSearchEverything(e,t,s){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,s):s&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,s=!1){this.active&&!s?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,s=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,s++,t=t.parent}return s}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let s=e;for(;s;)this.nodeIdsToColumns[s.id]||(this.nodeIdsToColumns[s.id]={}),t.forEach(n=>this.nodeIdsToColumns[s.id][n.getId()]=!0),s=s.parent}linkPathItems(e,t){let s=e;for(let n=0;n<t;n++){const i=this.mapToItems[s.id],o=this.mapToItems[s.parent.id];o.children||(o.children=[]),o.children.push(i),s=s.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const s=this.createPathItems(e);this.linkPathItems(e,s),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const s=this.nodeIdsToColumns[e.id];return t.filter(i=>s[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const s=this.nodeIdsToColumns[e.id];return t.filter(i=>!s[i.getId()])}},rc=class ul extends He{constructor(t){super(),this.state=ul.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=ul.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=ul.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=ul.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,s){this.successCommon(t,s)}pageLoaded(t,s,n){this.successCommon(t,{rowData:s,rowCount:n})}isRequestMostRecentAndLive(t){const s=t===this.version,n=this.isAlive();return s&&n}successCommon(t,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=ul.STATE_LOADED,this.processServerResult(s))}dispatchLoadCompleted(t=!0){const s={type:ul.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(s)}};rc.EVENT_LOAD_COMPLETE="loadComplete";rc.STATE_WAITING_TO_LOAD="needsLoading";rc.STATE_LOADING="loading";rc.STATE_LOADED="loaded";rc.STATE_FAILED="failed";var ty=rc,wo=class extends He{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=xt.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(ty.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){xt.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:wo.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:wo.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(s=>s.getState()===ty.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(s=>s.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:s,state:n}=t.getBlockStateJson();e[s]=n}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};wo.BLOCK_LOADED_EVENT="blockLoaded";wo.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";S([H("rowModel")],wo.prototype,"rowModel",2);S([We],wo.prototype,"postConstruct",1);S([Vi(0,gi("loggerFactory"))],wo.prototype,"setBeans",1);wo=S([ot("rowNodeBlockLoader")],wo);var Ld=class extends He{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,s,n){const i=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i}isPaginateChildRows(){return this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:M.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();const e={type:M.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const t={type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return Rt(this.topRowBounds)||Rt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),s=this.getPageLastRow();for(let n=t;n<=s;n++){const i=this.getRow(n);i&&e(i)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ge(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Ge(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ge(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ge(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(e,t){const s=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(s!==this.pageSize){const n={type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(n)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Ge(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let s=this.pageSize*(this.currentPage+1)-1;if(s>e&&(s=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),s===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};S([H("rowModel")],Ld.prototype,"rowModel",2);S([We],Ld.prototype,"postConstruct",1);Ld=S([ot("paginationProxy")],Ld);var Gf=class extends He{processAllCellClasses(e,t,s,n){this.processClassRules(void 0,e.cellClassRules,t,s,n),this.processStaticCellClasses(e,t,s)}processClassRules(e,t,s,n,i){if(t==null&&e==null)return;const o={},r={},l=(a,c)=>{a.split(" ").forEach(h=>{h.trim()!=""&&c(h)})};if(t){const a=Object.keys(t);for(let c=0;c<a.length;c++){const h=a[c],d=t[h];let p;typeof d=="string"?p=this.expressionService.evaluate(d,s):typeof d=="function"&&(p=d(s)),l(h,g=>{p?o[g]=!0:r[g]=!0})}}e&&i&&Object.keys(e).forEach(a=>l(a,c=>{o[c]||(r[c]=!0)})),i&&Object.keys(r).forEach(i),Object.keys(o).forEach(n)}getStaticCellClasses(e,t){const{cellClass:s}=e;if(!s)return[];let n;return typeof s=="function"?n=s(t):n=s,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,s){this.getStaticCellClasses(e,t).forEach(i=>{s(i)})}};S([H("expressionService")],Gf.prototype,"expressionService",2);Gf=S([ot("stylingService")],Gf);var QF=class extends Yg{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},nue=class extends Bi{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const s=super.setValue(e,t);return this.eInput.value=e,s}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},iue=class extends ga{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=yo();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(e){var t;const s=e instanceof Date?(t=yi(e??null,!1))!=null?t:void 0:e;return this.min===s?this:(this.min=s,ho(this.eInput,"min",s),this)}setMax(e){var t;const s=e instanceof Date?(t=yi(e??null,!1))!=null?t:void 0:e;return this.max===s?this:(this.max=s,ho(this.eInput,"max",s),this)}setStep(e){return this.step===e?this:(this.step=e,ho(this.eInput,"step",e),this)}getDate(){var e;if(this.eInput.validity.valid)return(e=xn(this.getValue()))!=null?e:void 0}setDate(e,t){this.setValue(yi(e??null,!1),t)}},oue=class extends Bi{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:s}=this.config;e!=null&&this.setMinValue(e),t!=null&&this.setMaxValue(t),this.setStep(s||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{const t=e.target.value;this.setValue(t)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());const s=super.setValue(e,t);return this.eInput.value=e,s}},dS=class extends Mt{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(this.params.cellRenderer||!Ge(t))return;let s=Ge(e);if(s){const n=t==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const i=n+e.length,o=Hs(t.slice(0,n),!0),r=Hs(t.slice(n,i),!0),l=Hs(t.slice(i));this.renderValueWithoutRenderer(`${o}<span class="ag-rich-select-row-text-highlight">${r}</span>${l}`)}else s=!1}s||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const s=this.getGui(),n=`ag-rich-select-row-${this.getCompId()}`;if((t=s.parentElement)==null||t.setAttribute("id",n),e){const i=this.getParentComponent().getAriaElement();Rb(i,n),this.wrapperEl.setAttribute("data-active-option",n)}Ou(s.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const s=this.gridOptionsService.getDocument(),n=this.getGui(),i=s.createElement("span");i.style.overflow="hidden",i.style.textOverflow="ellipsis";const o=Hs(Ge(t)?t:e,!0);this.parsedValue=Ge(o)?o:null,n.appendChild(i),this.renderValueWithoutRenderer(o),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=Ge(e)?e:"&nbsp;")}populateWithRenderer(e,t){let s,n;return this.params.cellRenderer&&(n=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(i,o)=>{this.setTooltip({newTooltipText:i,shouldDisplayTooltip:o})}})),n&&(s=n.newAgStackInstance()),s&&Wb(s,this.getGui()),s?(s.then(i=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(i)})}),!0):!1}onClick(){const e=this.getParentComponent(),t={type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(t)}};S([H("userComponentFactory")],dS.prototype,"userComponentFactory",2);S([We],dS.prototype,"postConstruct",1);var Ah=class ZF extends Th{constructor(t){super(ZF.getTemplate((t==null?void 0:t.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:s="default",ariaRole:n="listbox",listName:i}=t||{};this.cssIdentifier=s,this.ariaRole=n,this.listName=i}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t),focusInnerElement:t=>this.focusInnerElement(t),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)}),this.setAriaProperties(),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const s=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;Ts(n,this.ariaRole),ji(n,s)}addResizeObserver(){const t=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),s=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(s)}focusInnerElement(t){this.focusRow(t?this.model.getRowCount()-1:0)}onFocusIn(t){const s=t.target;s.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=uI(s)-1)}onFocusOut(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(t){switch(t.key){case fe.UP:case fe.DOWN:this.navigate(t.key===fe.UP)&&t.preventDefault();break}}onTabKeyDown(t){this.navigate(t.shiftKey)?t.preventDefault():(Ki(t),this.forceFocusOutOfContainer(t.shiftKey))}navigate(t){if(this.lastFocusedRowIndex==null)return!1;const s=this.lastFocusedRowIndex+(t?-1:1);return s<0||s>=this.model.getRowCount()?!1:(this.focusRow(s),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(t){this.ensureIndexVisible(t),window.setTimeout(()=>{if(!this.isAlive())return;const s=this.renderedRows.get(t);s&&s.eDiv.focus()},10)}getComponentAt(t){const s=this.renderedRows.get(t);return s&&s.rowComponent}forEachRenderedRow(t){this.renderedRows.forEach((s,n)=>t(s.rowComponent,n))}static getTemplate(t){return`<div class="ag-virtual-list-viewport ag-${t}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${t}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(t,s=!0){const n=this.model.getRowCount();if(typeof t!="number"||t<0||t>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;const i=t*this.rowHeight,o=i+this.rowHeight,r=this.getGui(),l=r.scrollTop,a=r.offsetHeight,c=l+a,h=s?0:this.rowHeight,d=l>i+h,p=c<o-h;if(d)return r.scrollTop=i,!0;if(p){const g=o-a;return r.scrollTop=g,!0}return!1}setComponentCreator(t){this.componentCreator=t}setComponentUpdater(t){this.componentUpdater=t}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(t){this.isHeightFromTheme=!1,this.rowHeight=t,this.refresh()}refresh(t){if(this.model==null||!this.isAlive())return;const s=this.model.getRowCount();this.eContainer.style.height=`${s*this.rowHeight}px`,vb(()=>this.eContainer.clientHeight>=s*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(t)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((t,s)=>this.removeRow(s))}drawVirtualRows(t){if(!this.isAlive()||!this.model)return;const s=this.getGui(),n=s.scrollTop,i=n+s.offsetHeight,o=Math.floor(n/this.rowHeight),r=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,r,t)}ensureRowsRendered(t,s,n){this.renderedRows.forEach((i,o)=>{(o<t||o>s)&&o!==this.lastFocusedRowIndex&&this.removeRow(o)}),n&&this.refreshRows();for(let i=t;i<=s;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(t){const s=this.model.getRow(t),n=document.createElement("div");n.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),Ts(n,this.ariaRole==="tree"?"treeitem":"option"),Gg(n,this.model.getRowCount()),Vg(n,t+1),n.setAttribute("tabindex","-1"),n.style.height=`${this.rowHeight}px`,n.style.top=`${this.rowHeight*t}px`;const i=this.componentCreator(s,n);i.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=t),n.appendChild(i.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(t,{rowComponent:i,eDiv:n,value:s})}removeRow(t){const s=this.renderedRows.get(t);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(t)}refreshRows(){const t=this.model.getRowCount();this.renderedRows.forEach((s,n)=>{var i,o;if(n>=t)this.removeRow(n);else{const r=this.model.getRow(n);(o=(i=this.model).areRowsEqual)!=null&&o.call(i,s.value,r)?this.componentUpdater(r,s.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(t){this.model=t}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};S([H("resizeObserverService")],Ah.prototype,"resizeObserverService",2);S([H("animationFrameService")],Ah.prototype,"animationFrameService",2);S([Ze("eContainer")],Ah.prototype,"eContainer",2);S([We],Ah.prototype,"postConstruct",1);var JF=Ah,rue=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,hS=class extends fa{constructor(e){var t,s;super(vs(mt({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(t=e==null?void 0:e.template)!=null?t:rue,modalPicker:!1},e),{maxPickerHeight:(s=e==null?void 0:e.maxPickerHeight)!=null?s:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:n,value:i,valueList:o,searchStringCreator:r}=e||{};n!=null&&(this.cellRowHeight=n),i!==void 0&&(this.value=i),o!=null&&(this.values=o),r&&(this.searchStringCreator=r)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:s=300}=this.config;this.clearSearchString=yn(this.clearSearchString,s),this.renderSelectedValue(),e&&(this.eInput.onValueChange(n=>this.searchTextFromString(n)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),t=this.localeService.getLocaleTextFunc(),s=e.createElement("div");s.classList.add("ag-loading-text"),s.innerText=t("loadingOoo","Loading..."),this.eLoading=s}createListComponent(){this.listComponent=this.createBean(new JF({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const e=(l,a)=>{};this.listComponent.setComponentUpdater(e),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,M.EVENT_FIELD_PICKER_VALUE_SELECTED,l=>{this.onListValueSelected(l.value,l.fromEnterKey)});const{cellRowHeight:t}=this;t&&this.listComponent.setRowHeight(t);const s=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(s,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(s,"mousedown",l=>l.preventDefault()),s.classList.add("ag-rich-select-list");const i=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",i);const r=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);ji(n,r),Ab(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:t,config:s}=this,{allowTyping:n,initialInputValue:i}=this.config,o=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n){this.eInput.setValue(i??o);return}let r;s.cellRenderer&&(r=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:o}));let l;if(r&&(l=r.newAgStackInstance()),l)Fs(t),Wb(l,t),l.then(a=>{this.addDestroyFunc(()=>this.getContext().destroyBean(a))});else{if(Ge(this.value))t.innerText=o,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:a}=s;Ge(a)?(t.innerHTML=`${Hs(a)}`,t.classList.add("ag-display-as-placeholder")):Fs(t)}this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(t==null||!e)return-1;for(let s=0;s<e.length;s++)if(e[s]===t)return s;return-1}highlightFilterMatch(){var e;(e=this.listComponent)==null||e.forEachRenderedRow((t,s)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(t=this.listComponent)==null||t.forEachRenderedRow((s,n)=>{const i=e===-1?!1:this.highlightedItem===n;s.updateHighlighted(i)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:s}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:n=>t[n],areRowsEqual:(n,i)=>n===i}),s&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(e=this.eLoading)!=null&&e.offsetParent&&((t=this.eLoading.parentElement)==null||t.removeChild(this.eLoading));const s=this.getCurrentValueIndex();s!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(s),this.listComponent.refresh(!0),this.highlightSelectedValue(s)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===fe.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!Wg(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=n=>n}=this.config;let s;return typeof e[0]=="number"||typeof e[0]=="string"?s=e.map(n=>t(n)):typeof e[0]=="object"&&this.searchStringCreator&&(s=this.searchStringCreator(e)),s}getSuggestionsAndFilteredValues(e,t){let s=[],n=[];if(!e.length)return{suggestions:s,filteredValues:n};const{searchType:i="fuzzy",filterList:o}=this.config;if(i==="fuzzy"){const r=mh(this.searchString,t,!0);s=r.values;const l=r.indices;if(o&&l.length)for(let a=0;a<l.length;a++)n.push(this.values[l[a]])}else s=t.filter((r,l)=>{const a=r.toLocaleLowerCase(),c=this.searchString.toLocaleLowerCase(),h=i==="match"?a.startsWith(c):a.indexOf(c)!==-1;return o&&h&&n.push(this.values[l]),h});return{suggestions:s,filteredValues:n}}filterListModel(e){const{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;const{values:s}=this,n=this.buildSearchStrings(s);if(!n){this.highlightSelectedValue(-1);return}const{suggestions:i,filteredValues:o}=this.getSuggestionsAndFilteredValues(this.searchString,n),{filterList:r,highlightMatch:l,searchType:a="fuzzy"}=this.config,c=o.length,h=!!(r&&this.searchString!=="");if(this.filterListModel(h?o:s),i.length){const d=h?0:n.indexOf(i[0]);this.selectListItem(d)}else if(this.highlightSelectedValue(-1),!h||c)(e=this.listComponent)==null||e.ensureIndexVisible(0);else if(h){this.getAriaElement().removeAttribute("data-active-option");const d=(t=this.listComponent)==null?void 0:t.getAriaElement();d&&Rb(d,null)}l&&a!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const t=(e=this.listComponent)==null?void 0:e.getGui(),s=this.currentList?this.currentList.length===0:!1;t==null||t.classList.toggle("ag-hidden",s)}clearSearchString(){this.searchString=""}selectListItem(e,t){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,s){const n=this.currentList?this.currentList.indexOf(e):-1;return n===-1?this:(this.value=e,s||this.selectListItem(n),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new dS(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:s,searchType:n="fuzzy"}=this.config;return s&&n!=="fuzzy"&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const n=(t==null?void 0:t.getGui()).getBoundingClientRect(),i=t.getScrollTop(),o=e.clientY-n.top+i;return Math.floor(o/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);t!==-1&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();const s=t===fe.DOWN;if(!this.isPickerDisplayed&&s){this.showPicker();return}const n=this.highlightedItem,o=n===-1?0:n+(s?1:-1);this.selectListItem(o)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const s={type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(s)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:s}=this.config;switch(t){case fe.LEFT:case fe.RIGHT:case fe.PAGE_HOME:case fe.PAGE_END:s||e.preventDefault();break;case fe.PAGE_UP:case fe.PAGE_DOWN:e.preventDefault();break;case fe.DOWN:case fe.UP:this.onNavigationKeyDown(e,t);break;case fe.ESCAPE:this.isPickerDisplayed&&(ii(this.listComponent.getGui())&&(e.preventDefault(),Ki(e)),this.hidePicker());break;case fe.ENTER:this.onEnterKeyDown(e);break;case fe.TAB:this.onTabKeyDown();break;default:s||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};S([H("userComponentFactory")],hS.prototype,"userComponentFactory",2);S([Ze("eInput")],hS.prototype,"eInput",2);var lc=class eL extends jb{constructor(t){super(t,eL.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:t,maxValue:s,textFieldWidth:n,step:i,value:o,onValueChange:r}=this.config;t!=null&&this.setMinValue(t),s!=null&&this.setMaxValue(s),n!=null&&this.setTextFieldWidth(n),i!=null&&this.setStep(i),o!=null&&this.setValue(o),r!=null&&this.onValueChange(r)}onValueChange(t){const s=M.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,s,()=>{const n=parseFloat(this.eText.getValue());this.eSlider.setValue(n.toString(),!0),t(n||0)}),this.addManagedListener(this.eSlider,s,()=>{const n=this.eSlider.getValue();this.eText.setValue(n,!0),t(parseFloat(n))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t,s){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),s||this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}};lc.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;S([Ze("eLabel")],lc.prototype,"eLabel",2);S([Ze("eSlider")],lc.prototype,"eSlider",2);S([Ze("eText")],lc.prototype,"eText",2);S([We],lc.prototype,"init",1);var lue=lc,Zr=class Ha extends Mt{constructor(t={}){super(Ha.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:s,items:n,suppressEnabledCheckbox:i,expanded:o,suppressToggleExpandOnEnableChange:r,useToggle:l}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=s??!0,this.items=n||[],this.useToggle=l??!1,this.alignItems=t.alignItems||"center",this.expanded=o??!0,i!=null&&(this.suppressEnabledCheckbox=i),r!=null&&(this.suppressToggleExpandOnEnableChange=r)}static getTemplate(t){const s=t.cssIdentifier||"default",n=t.direction||"vertical";return`
            <div class="ag-group ag-${s}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${s}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${n} ag-${s}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const i=this.items;this.items=[],this.addItems(i)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:s,suppressOpenCloseIcons:n}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(n??!1),this.refreshChildDisplay(),Wt(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(i=>{this.setEnabled(i,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(i)}),s!=null&&this.onEnableChange(s)}refreshChildDisplay(){var t;Wt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(t=this.eTitleBar)==null||t.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t;const s=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(s),this}toggleGroupExpand(t){var s;let n=!1;if((s=this.eTitleBar)!=null&&s.isSuppressCollapse()&&!this.useToggle)t=!0,n=!0;else if(t=t??!this.expanded,this.expanded===t)return this;return this.expanded=t,this.refreshChildDisplay(),Wt(this.eContainer,t),n||this.dispatchEvent({type:t?Ha.EVENT_EXPANDED:Ha.EVENT_COLLAPSED}),this}addItems(t){t.forEach(s=>this.addItem(s))}prependItem(t){this.insertItem(t,!0)}addItem(t){this.insertItem(t,!1)}insertItem(t,s){const n=this.eContainer,i=t instanceof Mt?t.getGui():t;i.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),s?(n.insertAdjacentElement("afterbegin",i),this.items.unshift(i)):(n.appendChild(i),this.items.push(i))}hideItem(t,s){const n=this.items[s];Wt(n,!t)}getItemIndex(t){const s=t instanceof Mt?t.getGui():t;return this.items.indexOf(s)}setTitle(t){var s;return(s=this.eTitleBar)==null||s.setTitle(t),this}addCssClassToTitleBar(t){var s;(s=this.eTitleBar)==null||s.addCssClass(t)}dispatchEnableChangeEvent(t){const s={type:Ha.EVENT_ENABLE_CHANGE,enabled:t};this.dispatchEvent(s)}setEnabled(t,s,n){var i;return this.enabled=t,this.refreshDisabledStyles(),n||this.toggleGroupExpand(t),s||(this.cbGroupEnabled.setValue(t),(i=this.eToggle)==null||i.setValue(t)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,Ha.EVENT_ENABLE_CHANGE,s=>t(s.enabled)),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){var s;return(s=this.eTitleBar)==null||s.hideOpenCloseIcons(t),this}refreshDisabledStyles(){var t;const s=!this.enabled;this.eContainer.classList.toggle("ag-disabled",s),(t=this.eTitleBar)==null||t.refreshDisabledStyles(this.suppressEnabledCheckbox&&s),this.eContainer.classList.toggle("ag-disabled-group-container",s)}setupTitleBar(){const t=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",t.getGui())}createDefaultTitleBar(){const t=this.createManagedBean(new sT(this.params));return this.eTitleBar=t,t.refreshOnExpand(this.expanded),this.addManagedListener(t,sT.EVENT_EXPAND_CHANGED,s=>this.toggleGroupExpand(s.expanded)),t}createToggleTitleBar(){var t;const s=this.createManagedBean(new QF({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:n=>{this.setEnabled(n,!0),this.dispatchEnableChangeEvent(n)}}));return s.addCssClass("ag-group-title-bar"),s.addCssClass(`ag-${(t=this.params.cssIdentifier)!=null?t:"default"}-group-title-bar ag-unselectable`),this.eToggle=s,this.toggleGroupExpand(this.enabled),s}};Zr.EVENT_EXPANDED="expanded";Zr.EVENT_COLLAPSED="collapsed";Zr.EVENT_ENABLE_CHANGE="enableChange";S([Ze("eToolbar")],Zr.prototype,"eToolbar",2);S([Ze("cbGroupEnabled")],Zr.prototype,"cbGroupEnabled",2);S([Ze("eContainer")],Zr.prototype,"eContainer",2);S([We],Zr.prototype,"postConstruct",1);var aue=Zr,ac=class sy extends Mt{constructor(t={}){super(sy.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:s,suppressOpenCloseIcons:n}=t;this.title=s,n!=null&&(this.suppressOpenCloseIcons=n)}static getTemplate(t){var s;const n=(s=t.cssIdentifier)!=null?s:"default";return`
            <div class="ag-group-title-bar ag-${n}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${n}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${n}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${n}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(ui("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ui("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",t=>{switch(t.key){case fe.ENTER:case fe.SPACE:t.preventDefault(),this.dispatchExpandChanged();break;case fe.RIGHT:case fe.LEFT:t.preventDefault(),this.dispatchExpandChanged(t.key===fe.RIGHT);break}})}refreshOnExpand(t){this.refreshAriaStatus(t),this.refreshOpenCloseIcons(t)}refreshAriaStatus(t){this.suppressOpenCloseIcons||Ko(this.getGui(),t)}refreshOpenCloseIcons(t){const s=!this.suppressOpenCloseIcons;Wt(this.eGroupOpenedIcon,s&&t),Wt(this.eGroupClosedIcon,s&&!t)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){const s={type:sy.EVENT_EXPAND_CHANGED,expanded:t};this.dispatchEvent(s)}setTitle(t){return this.eTitle.innerText=t||"",Wt(this.getGui(),t!=null),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(t){const s=this.getGui();t?(s.classList.add("ag-disabled-group-title-bar"),s.removeAttribute("tabindex")):(s.classList.remove("ag-disabled-group-title-bar"),typeof this.title=="string"?s.setAttribute("tabindex","0"):s.removeAttribute("tabindex"))}};ac.EVENT_EXPAND_CHANGED="expandedChanged";S([Ze("eGroupOpenedIcon")],ac.prototype,"eGroupOpenedIcon",2);S([Ze("eGroupClosedIcon")],ac.prototype,"eGroupClosedIcon",2);S([Ze("eTitle")],ac.prototype,"eTitle",2);S([We],ac.prototype,"postConstruct",1);var sT=ac,pS=class extends Th{constructor(e=0,t){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),s=t&&t.getGui();s&&s.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case fe.UP:case fe.RIGHT:case fe.DOWN:case fe.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case fe.ESCAPE:this.closeIfIsChild()&&Ki(e);break}}handleFocusIn(e){var t,s;const n=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(n)&&(this.getGui().contains(n)||(s=(t=this.activeMenuItem)==null?void 0:t.getSubMenuGui())!=null&&s.contains(n))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const s=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(s)||(t=this.activeMenuItem.getSubMenuGui())!=null&&t.contains(s)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&Qn.all(e.map(t=>t==="separator"?Qn.resolve({eGui:this.createSeparator()}):typeof t=="string"?(console.warn(`AG Grid: unrecognised menu item ${t}`),Qn.resolve({eGui:null})):this.addItem(t))).then(t=>{t.forEach(s=>{s!=null&&s.eGui&&(this.appendChild(s.eGui),s.comp&&this.menuItems.push(s.comp))})})}addItem(e){const t=this.createManagedBean(new ap);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(s=>s.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListener(t,ap.EVENT_CLOSE_MENU,s=>{this.dispatchEvent(s)}),this.addManagedListener(t,ap.EVENT_MENU_ITEM_ACTIVATED,s=>{this.activeMenuItem&&this.activeMenuItem!==s.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=s.menuItem}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){return kn(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case fe.UP:case fe.DOWN:const s=this.findNextItem(e===fe.UP);s&&s!==this.activeMenuItem&&s.activate();return}const t=this.gridOptionsService.get("enableRtl")?fe.RIGHT:fe.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return t&&t instanceof ap?(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(i=>!i.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?Xt(t):t[0];e&&t.reverse();let s,n=!1;for(let i=0;i<t.length;i++){const o=t[i];if(!n){o===this.activeMenuItem&&(n=!0);continue}s=o;break}return n&&!s?t[0]:s||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};S([H("focusService")],pS.prototype,"focusService",2);S([We],pS.prototype,"postConstruct",1);var tL=class extends Th{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===fe.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};S([We],tL.prototype,"postConstruct",1);var Ea=class Ba extends He{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(t){var s,n;const{menuItemDef:i,isAnotherSubMenuOpen:o,level:r,childComponent:l,contextParams:a}=t;return this.params=t.menuItemDef,this.level=r,this.isAnotherSubMenuOpen=o,this.childComponent=l,this.contextParams=a,this.cssClassPrefix=(n=(s=this.params.menuItemParams)==null?void 0:s.cssClassPrefix)!=null?n:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,vs(mt({},i),{level:r,isAnotherSubMenuOpen:o,openSubMenu:h=>this.openSubMenu(h),closeSubMenu:()=>this.closeSubMenu(),closeMenu:h=>this.closeMenu(h),updateTooltip:(h,d)=>this.refreshTooltip(h,d),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(h=>{var d;this.menuItemComp=h;const p=(d=h.configureDefaults)==null?void 0:d.call(h);p&&this.configureDefaults(p===!0?void 0:p)})}addListeners(t,s){s!=null&&s.suppressClick||this.addManagedListener(t,"click",n=>this.onItemSelected(n)),s!=null&&s.suppressKeyboardSelect||this.addManagedListener(t,"keydown",n=>{(n.key===fe.ENTER||n.key===fe.SPACE)&&(n.preventDefault(),this.onItemSelected(n))}),s!=null&&s.suppressMouseDown||this.addManagedListener(t,"mousedown",n=>{n.stopPropagation(),n.preventDefault()}),s!=null&&s.suppressMouseOver||(this.addManagedListener(t,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){var s,n;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const i=kn('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=i;let o,r=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const h=this.createBean(new tL(this.childComponent));h.setParentComponent(this);const d=h.getGui(),p="mouseenter",g=()=>this.cancelDeactivate();d.addEventListener(p,g),o=()=>d.removeEventListener(p,g),i.appendChild(d),this.childComponent.afterGuiAttached&&(r=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const h=this.createBean(new pS(this.level+1,this.contextParams));h.setParentComponent(this),h.addMenuItems(this.params.subMenu),i.appendChild(h.getGui()),this.addManagedListener(h,Ba.EVENT_CLOSE_MENU,d=>this.dispatchEvent(d)),h.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),o=()=>this.destroyBean(h),t&&(r=()=>{h.activateFirstItem(),this.subMenuIsOpening=!1})}const l=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:i}),a=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:l,anchorToElement:this.eGui,ariaLabel:a("ariaLabelSubMenu","SubMenu"),afterGuiAttached:r});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var h,d;c&&c.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),o(),(d=(h=this.menuItemComp).setExpanded)==null||d.call(h,!1),this.eSubMenuGui=void 0},(n=(s=this.menuItemComp).setExpanded)==null||n.call(s,!0)}setAriaExpanded(t){this.suppressAria||Ko(this.eGui,t)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(t){var s,n;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(n=(s=this.menuItemComp).setActive)==null||n.call(s,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var t,s;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(s=(t=this.menuItemComp).setActive)==null||s.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(t){this.parentComponent=t}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(t){var s,n;(n=(s=this.menuItemComp).select)==null||n.call(s),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(mt({},this.contextParams)))):this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)}closeMenu(t){const s={type:Ba.EVENT_CLOSE_MENU,event:t};this.dispatchEvent(s)}onItemActivated(){const t={type:Ba.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),Ba.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),Ba.ACTIVATION_DELAY):this.deactivate()}configureDefaults(t){var s,n,i;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(()=>this.configureDefaults(t));return}let o=this.menuItemComp.getGui();const r=(n=(s=this.menuItemComp).getRootElement)==null?void 0:n.call(s);r&&(t!=null&&t.suppressRootStyles||o.classList.add("ag-menu-option-custom"),o=r),this.eGui=o,this.suppressRootStyles=!!(t!=null&&t.suppressRootStyles),this.suppressRootStyles||(o.classList.add(this.cssClassPrefix),(i=this.params.cssClasses)==null||i.forEach(l=>o.classList.add(l)),this.params.disabled&&o.classList.add(`${this.cssClassPrefix}-disabled`)),t!=null&&t.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!(t!=null&&t.suppressAria),this.suppressAria||(Ts(o,"treeitem"),pI(o,this.level+1),this.params.disabled&&Eb(o,!0)),t!=null&&t.suppressTabIndex||o.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(o,t),this.suppressFocus=!!(t!=null&&t.suppressFocus)}refreshTooltip(t,s){this.tooltip=t,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!t||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new rr({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:s})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Ea.EVENT_CLOSE_MENU="closeMenu";Ea.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Ea.ACTIVATION_DELAY=80;S([H("popupService")],Ea.prototype,"popupService",2);S([H("userComponentFactory")],Ea.prototype,"userComponentFactory",2);S([H("beans")],Ea.prototype,"beans",2);var ap=Ea,Ra=class ny extends Mt{constructor(t){super(ny.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(t){const s=t.cssIdentifier||"default";return`<div class="ag-panel ag-${s}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${s}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${s}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${s}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${s}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:t,closable:s,hideTitleBar:n,title:i,minWidth:o=250,width:r,minHeight:l=250,height:a,centered:c,popup:h,x:d,y:p}=this.config;this.positionableFeature=new Qu(this.getGui(),{minWidth:o,width:r,minHeight:l,height:a,centered:c,x:d,y:p,popup:h,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const g=this.getGui();t&&this.setBodyComponent(t),n?Wt(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(s??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",m=>{const f=this.gridOptionsService.getDocument();if(g.contains(m.relatedTarget)||g.contains(f.activeElement)||this.eTitleBarButtons.contains(m.target)){m.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(h&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const s=this.closeButtonComp=new Mt(ny.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s);const n=s.getGui(),i=Es("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(i),this.addTitleBarButton(s),s.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const s=this.closeButtonComp.getGui();s.parentElement.removeChild(s),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,s){const n=this.eTitleBarButtons,i=n.children,o=i.length;s==null&&(s=o),s=Math.max(0,Math.min(s,o)),t.addCssClass("ag-panel-title-bar-button");const r=t.getGui();s===0?n.insertAdjacentElement("afterbegin",r):s===o?n.insertAdjacentElement("beforeend",r):i[s-1].insertAdjacentElement("afterend",r),t.setParentComponent(this)}getBodyHeight(){return fh(this.eContentWrapper)}getBodyWidth(){return pa(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&ii(t)&&this.close(),super.destroy()}};Ra.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';S([Ze("eContentWrapper")],Ra.prototype,"eContentWrapper",2);S([Ze("eTitleBar")],Ra.prototype,"eTitleBar",2);S([Ze("eTitleBarButtons")],Ra.prototype,"eTitleBarButtons",2);S([Ze("eTitle")],Ra.prototype,"eTitle",2);S([We],Ra.prototype,"postConstruct",1);var uue=Ra,cue=class extends uue{constructor(e){super(vs(mt({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:s,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",i=>{this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),n&&this.setMaximizable(n),s&&this.setResizable(s)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:s,title:n,afterGuiAttached:i}=this.config,o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({modal:s,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:n||o("ariaLabelDialog","Dialog"),afterGuiAttached:i});r&&(this.close=r.hideFunc)}onClosed(e){var t,s;this.destroy(),(s=(t=this.config).closedCallback)==null||s.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:s,width:n,height:i}=this.lastPosition;this.setWidth(n),this.setHeight(i),this.positionableFeature.offsetElement(t,s)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Wt(this.maximizeIcon,!this.isMaximized),Wt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const s=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),s.addManagedListener(s.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(s,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new Mt('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=Es("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Es("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};S([H("popupService")],cue.prototype,"popupService",2);var due=0,jo=class extends He{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:s}=e,n=this.getPopupIndex(s);if(n!==-1){const g=this.popupList[n];g.alignedToElement=t}const i=t.getBoundingClientRect(),o=this.getParentRect(),r=this.keepXYWithinBounds(s,i.top-o.top,0),l=s.clientWidth>0?s.clientWidth:200;s.style.minWidth=`${l}px`;const c=o.right-o.left-l;let h;this.gridOptionsService.get("enableRtl")?(h=p(),h<0&&(h=d(),this.setAlignedStyles(s,"left")),h>c&&(h=0,this.setAlignedStyles(s,"right"))):(h=d(),h>c&&(h=p(),this.setAlignedStyles(s,"right")),h<0&&(h=0,this.setAlignedStyles(s,"left"))),s.style.left=`${h}px`,s.style.top=`${r}px`;function d(){return i.right-o.left-2}function p(){return i.left-o.left-l}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:s,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:i,eventSource:o,alignSide:r="left",position:l="over",column:a,rowNode:c,type:h}=e,d=o.getBoundingClientRect(),p=this.getParentRect(),g=this.getPopupIndex(t);if(g!==-1){const f=this.popupList[g];f.alignedToElement=o}const m=()=>{let f=d.left-p.left;r==="right"&&(f-=t.offsetWidth-d.width);let C;return l==="over"?(C=d.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,p,e.nudgeY||0)==="under"?C=d.top-p.top+d.height:C=d.top-t.offsetHeight-(n||0)*2-p.top),{x:f,y:C}};this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:i,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(h,t,o,null,a,c)})}shouldRenderUnderOrAbove(e,t,s,n){const i=s.bottom-t.bottom,o=t.top-s.top,r=e.offsetHeight+n;return i>r?"under":o>r||o>i?"above":"under"}setAlignedStyles(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const n=this.popupList[s],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(r=>{i.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,s,n,i,o){const r=this.gridOptionsService.getCallback("postProcessPopup");r&&r({column:i,rowNode:o,ePopup:t,type:e,eventSource:s,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:s,nudgeX:n,nudgeY:i,skipObserver:o,updatePosition:r}=e,l={width:0,height:0},a=(c=!1)=>{let{x:h,y:d}=r();c&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,n&&(h+=n),i&&(d+=i),s&&(h=this.keepXYWithinBounds(t,h,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${h}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(a(),!o){const c=this.resizeObserverService.observeResize(t,()=>a(!0));setTimeout(()=>c(),jo.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),kb(t)}keepXYWithinBounds(e,t,s){const n=s===0,i=n?"clientHeight":"clientWidth",o=n?"top":"left",r=n?"offsetHeight":"offsetWidth",l=n?"scrollTop":"scrollLeft",a=this.gridOptionsService.getDocument(),c=a.documentElement,h=this.getPopupParent(),d=h.getBoundingClientRect(),p=a.documentElement.getBoundingClientRect(),g=h===a.body,m=e[r];let C=g?(n?xb:Rd)(c)+c[l]:h[i];g&&(C-=Math.abs(p[o]-d[o]));const v=C-m;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:s,ariaLabel:n,alwaysOnTop:i,positionCallback:o,anchorToElement:r}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.getPopupIndex(s);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(s);const a=this.createPopupWrapper(s,n,!!i),c=this.addEventListenersToPopup(vs(mt({},e),{wrapperEl:a}));return o&&o(),this.addPopupToPopupList(s,a,c,r),{hideFunc:c}}initialisePopupPosition(e){const s=this.getPopupParent().getBoundingClientRect();Ge(e.style.top)||(e.style.top=`${s.top*-1}px`),Ge(e.style.left)||(e.style.left=`${s.left*-1}px`)}createPopupWrapper(e,t,s){const n=this.getPopupParent(),i=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&i.classList.add(...o),i.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ts(e,"dialog"),ji(e,t),i.appendChild(e),n.appendChild(i),s?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const t of this.popupList){for(const s of Array.from(t.wrapper.classList))s.startsWith("ag-theme-")&&t.wrapper.classList.remove(s);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),s=this.getPopupParent(),{wrapperEl:n,eChild:i,click:o,closedCallback:r,afterGuiAttached:l,closeOnEsc:a,modal:c}=e;let h=!1;const d=f=>{if(!n.contains(t.activeElement))return;f.key===fe.ESCAPE&&!Wi(f)&&m({keyboardEvent:f})},p=f=>m({mouseEvent:f}),g=f=>m({touchEvent:f}),m=(f={})=>{const{mouseEvent:C,touchEvent:v,keyboardEvent:y}=f;this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:v},i)||h||(h=!0,s.removeChild(n),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(M.EVENT_DRAG_STARTED,p),r&&r(C||v||y),this.removePopupFromPopupList(i))};return l&&l({hidePopup:m}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),c&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(M.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),m}addPopupToPopupList(e,t,s,n){this.popupList.push({element:e,wrapper:t,hideFunc:s,instanceId:due++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const n=this.popupList[s];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),s=t.getBoundingClientRect(),{element:n,ePopup:i}=e,o=n.getBoundingClientRect(),r=s.top-o.top,l=s.left-o.left;let a=r,c=l;const h=i.style.top,d=parseInt(h.substring(0,h.length-1),10),p=i.style.left,g=parseInt(p.substring(0,p.length-1),10);return new Qn(m=>{this.getFrameworkOverrides().setInterval(()=>{const f=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=f.top-C.top;if(y!=a){const b=this.keepXYWithinBounds(i,d+r-y,0);i.style.top=`${b}px`}a=y;const w=f.left-C.left;if(w!=c){const b=this.keepXYWithinBounds(i,g+l-w,1);i.style.left=`${b}px`}c=w},200).then(f=>{m(()=>{f!=null&&window.clearInterval(f)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:s,touchEvent:n}=e,i=s||n;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){const l=this.popupList[r];if(Mf(l.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const s=this.getWrapper(e);s&&(s.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(s))}bringPopupToFront(e){const t=this.getPopupParent(),s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=s.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=i.length,r=this.getWrapper(e);if(!r||n<=1||!t.contains(e))return;const l=s.indexOf(r),a=r.querySelectorAll("div"),c=[];for(a.forEach(h=>{h.scrollTop!==0&&c.push([h,h.scrollTop])}),o?r.classList.contains("ag-always-on-top")?l!==n-1&&Xt(i).insertAdjacentElement("afterend",r):l!==n-o-1&&i[0].insertAdjacentElement("beforebegin",r):l!==n-1&&Xt(s).insertAdjacentElement("afterend",r);c.length;){const h=c.pop();h[0].scrollTop=h[1]}}};jo.WAIT_FOR_POPUP_CONTENT_RESIZE=200;S([H("focusService")],jo.prototype,"focusService",2);S([H("ctrlsService")],jo.prototype,"ctrlsService",2);S([H("resizeObserverService")],jo.prototype,"resizeObserverService",2);S([We],jo.prototype,"postConstruct",1);jo=S([ot("popupService")],jo);var hue=class extends Mt{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let s=!1;if(Ge(e)){const n=(t=this.value)==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){s=!0,this.hasHighlighting=!0;const i=n+e.length,o=Hs(this.value.slice(0,n)),r=Hs(this.value.slice(n,i)),l=Hs(this.value.slice(i));this.getGui().lastElementChild.innerHTML=`${o}<b>${r}</b>${l}`}}!s&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=Hs(this.value))!=null?e:"&nbsp;"}},lm=class sL extends ma{constructor(t){super(sL.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new JF({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:s=>this.autocompleteEntries[s]});const t=this.virtualList.getGui();this.addManagedListener(t,"click",()=>this.params.onConfirmed()),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",s=>s.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(t,s){t.preventDefault();const n=this.autocompleteEntries.indexOf(this.selectedValue),i=s===fe.UP?n-1:n+1;this.checkSetSelectedValue(i)}setSearch(t){this.searchString=t,Ge(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(t,s){let n,i=!1;const o=t.toLocaleLowerCase(),r=s.filter(l=>{const c=l.toLocaleLowerCase().indexOf(o),h=c===0,d=c>=0;return d&&(!n||!i&&h||i===h&&l.length<n.length)&&(n=l,i=h),d});return!n&&r.length&&(n=r[0]),{topMatch:n,allMatches:r}}runSearch(){var t,s;const{autocompleteEntries:n}=this.params,i=n.map(c=>{var h;return(h=c.displayValue)!=null?h:c.key});let o,r;if(this.params.useFuzzySearch)o=mh(this.searchString,i,!0).values,r=o.length?o[0]:void 0;else{const c=this.runContainsSearch(this.searchString,i);o=c.allMatches,r=c.topMatch}let l=n.filter(({key:c,displayValue:h})=>o.includes(h??c));if(!l.length&&this.selectedValue&&((s=(t=this.params)==null?void 0:t.forceLastSelection)!=null&&s.call(t,this.selectedValue,this.searchString))&&(l=[this.selectedValue]),this.autocompleteEntries=l,this.virtualList.refresh(),!r)return;const a=o.indexOf(r);this.checkSetSelectedValue(a)}updateSearchInList(){this.virtualList.forEachRenderedRow(t=>t.setSearchString(this.searchString))}checkSetSelectedValue(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)}setSelectedValue(t){const s=this.autocompleteEntries[t];this.selectedValue!==s&&(this.selectedValue=s,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow((n,i)=>{n.updateSelected(t===i)}))}createRowComponent(t){var s;const n=new hue;return this.getContext().createBean(n),n.setState((s=t.displayValue)!=null?s:t.key,t===this.selectedValue),n}onMouseMove(t){const s=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),i=t.clientY-s.top+n,o=Math.floor(i/this.virtualList.getRowHeight());this.checkSetSelectedValue(o)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!=null?t:null}};lm.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;S([Ze("eList")],lm.prototype,"eList",2);S([We],lm.prototype,"init",1);var pue=lm,Jr=class Pc extends Mt{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(t=>this.onValueChanged(t)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(t){const s=co(t);this.updateValue(s),this.updateAutocompleteList(s)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:Pc.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(t){var s,n,i,o;const r=(n=(s=this.listGenerator)==null?void 0:s.call(this,t,this.lastPosition))!=null?n:{enabled:!1};if((!r.type||r.type!==((i=this.autocompleteListParams)==null?void 0:i.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=r,(o=this.autocompleteListParams)!=null&&o.enabled){this.isListOpen||this.openList();const{searchString:l}=this.autocompleteListParams;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()}onKeyDown(t){const s=t.key;switch(this.updateLastPosition(),s){case fe.ENTER:this.onEnterKeyDown(t);break;case fe.TAB:this.onTabKeyDown(t);break;case fe.DOWN:case fe.UP:this.onUpDownKeyDown(t,s);break;case fe.LEFT:case fe.RIGHT:case fe.PAGE_HOME:case fe.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case fe.ESCAPE:this.onEscapeKeyDown(t);break;case fe.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}}confirmSelection(){var t;const s=(t=this.autocompleteList)==null?void 0:t.getSelectedValue();s&&(this.closeList(),this.dispatchEvent({type:Pc.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:s,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())}onEnterKeyDown(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(t,s){var n;t.preventDefault(),this.isListOpen?(n=this.autocompleteList)==null||n.onNavigationKeyDown(t,s):this.forceOpenList()}onEscapeKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!=null?t:null)}setCaret(t,s){const n=this.gridOptionsService.getDocument();s&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus();const i=this.eAutocompleteInput.getInputElement();i.setSelectionRange(t,t),t===i.value.length&&(i.scrollLeft=i.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!=null?t:0}validate(t){var s;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((s=this.validationMessage)!=null?s:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Pc.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new pue({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const t=this.autocompleteList.getGui(),s={ePopup:t,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},n=this.popupService.addPopup({eChild:t,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(s),ariaLabel:this.listAriaLabel});this.hidePopup=n.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Pc.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return co(this.eAutocompleteInput.getValue())}setInputPlaceholder(t){return this.eAutocompleteInput.setInputPlaceholder(t),this}setInputAriaLabel(t){return this.eAutocompleteInput.setInputAriaLabel(t),this}setListAriaLabel(t){return this.listAriaLabel=t,this}setListGenerator(t){return this.listGenerator=t,this}setValidator(t){return this.validator=t,this}isValid(){return this.valid}setValue(t){const{value:s,position:n,silent:i,updateListOnlyIfOpen:o,restoreFocus:r}=t;this.eAutocompleteInput.setValue(s,!0),this.setCaret(n??this.lastPosition,r),i||this.updateValue(s),(!o||this.isListOpen)&&this.updateAutocompleteList(s)}setForceLastSelection(t){return this.forceLastSelection=t,this}setInputDisabled(t){return this.eAutocompleteInput.setDisabled(t),this}};Jr.EVENT_VALUE_CHANGED="eventValueChanged";Jr.EVENT_VALUE_CONFIRMED="eventValueConfirmed";Jr.EVENT_OPTION_SELECTED="eventOptionSelected";Jr.EVENT_VALID_CHANGED="eventValidChanged";S([H("popupService")],Jr.prototype,"popupService",2);S([Ze("eAutocompleteInput")],Jr.prototype,"eAutocompleteInput",2);S([We],Jr.prototype,"postConstruct",1);var fue=Jr,el=class Up extends Mt{constructor(t,s,n,i){super(),this.dragSourceDropTarget=t,this.ghost=s,this.horizontal=n,this.template=i}init(){var t;this.setTemplate((t=this.template)!=null?t:Up.TEMPLATE);const s=this.getGui();this.addElementClasses(s),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(Es("columnDrag",this.gridOptionsService)),this.eButton.appendChild(Es("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const t=this.localeService.getLocaleTextFunc(),s=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(s,t),ji(this.getGui(),s.join(". "))}addAdditionalAriaInstructions(t,s){if(this.isRemovable()){const n=s("ariaDropZoneColumnComponentDescription","Press DELETE to remove");t.push(n)}}setupTooltip(){const t=()=>{const s=this.getTooltip();this.setTooltip({newTooltipText:s})};t(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,t)}getDragSourceId(){}getDefaultIconName(){return It.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:t,eDragHandle:s}=this,n=this.createGetDragItem(),i=this.getDefaultIconName(),o={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:s,getDefaultIconName:()=>i,getDragItem:n,dragItemName:this.getDisplayName()};t.addDragSource(o,!0),this.addDestroyFunc(()=>t.removeDragSource(o))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Wt(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const t={type:Up.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",n=>this.onKeyDown(n)),this.addManagedListener(this.eButton,"click",n=>{this.dispatchEvent(t),n.stopPropagation()});const s=new Qs(this.eButton);this.addManagedListener(s,Qs.EVENT_TAP,()=>{this.dispatchEvent(t)}),this.addDestroyFunc(s.destroy.bind(s))}onKeyDown(t){t.key===fe.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:Up.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const t=this.getDisplayValue(),s=Hs(t);this.eText.innerHTML=s}addElementClasses(t,s){s=s?`-${s}`:"";const n=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop-cell${s}`,`ag-column-drop-${n}-cell${s}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};el.EVENT_COLUMN_REMOVE="columnRemove";el.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;S([H("dragAndDropService")],el.prototype,"dragAndDropService",2);S([Ze("eText")],el.prototype,"eText",2);S([Ze("eDragHandle")],el.prototype,"eDragHandle",2);S([Ze("eButton")],el.prototype,"eButton",2);S([We],el.prototype,"init",1);var gue=el,Ph=class so extends Mt{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=so.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),Ts(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(t){this.positionableFeature.setResizable(t?{bottom:!0}:!1),this.resizeEnabled=t}isSourceEventFromTarget(t){const{dropZoneTarget:s,dragSource:n}=t;return s.contains(n.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(t=>t()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Fs(this.getGui()),Fs(this.ePillDropList)}init(t){this.params=t??{},this.createManagedBean(new Qr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Qu(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ji(this.ePillDropList,this.getAriaLabel())}handleKeyDown(t){const s=!this.horizontal;let n=t.key===fe.DOWN,i=t.key===fe.UP;if(!s){const r=this.gridOptionsService.get("enableRtl");n=!r&&t.key===fe.RIGHT||r&&t.key===fe.LEFT,i=!r&&t.key===fe.LEFT||r&&t.key===fe.RIGHT}if(!n&&!i)return;const o=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,i);o&&(t.preventDefault(),o.focus())}addElementClasses(t,s){s=s?`-${s}`:"";const n=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop${s}`,`ag-column-drop-${n}${s}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(t){const s=this.getNewInsertIndex(t);if(s<0)return!1;const n=this.minimumAllowedNewInsertIndex(),i=Math.max(n,s),o=i!==this.insertIndex;return o&&(this.insertIndex=i),o}getNewInsertIndex(t){const s=t.event,n=this.horizontal?s.clientX:s.clientY,i=this.childPillComponents.map(r=>r.getGui().getBoundingClientRect()),o=i.findIndex(r=>this.horizontal?r.right>n&&r.left<n:r.top<n&&r.bottom>n);if(o===-1){const r=this.gridOptionsService.get("enableRtl");return i.every(c=>n>(this.horizontal?c.right:c.bottom))?r&&this.horizontal?0:this.childPillComponents.length:i.every(c=>n<(this.horizontal?c.left:c.top))?r&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=o?o+1:o}checkDragStartedBySelf(t){this.state===so.STATE_NOT_DRAGGING&&(this.state=so.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()}handleDragEnterEnd(t){}onDragEnter(t){const s=this.getItems(t.dragSource.getDragItem());this.state=so.STATE_NEW_ITEMS_IN;const n=s.filter(o=>this.isItemDroppable(o,t)),i=n.every(o=>this.childPillComponents.map(r=>r.getItem()).indexOf(o)!==-1);if(n.length!==0){if(this.potentialDndItems=n,i){this.state=so.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()}}isPotentialDndItems(){return UM(this.potentialDndItems)}handleDragLeaveEnd(t){}onDragLeave(t){if(this.state===so.STATE_REARRANGE_ITEMS){const s=this.getItems(t.dragSource.getDragItem());this.removeItems(s)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=so.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===so.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!t)&&this.refreshGui()}this.state=so.STATE_NOT_DRAGGING}removeItems(t){const s=this.getExistingItems().filter(n=>!ni(t,n));this.updateItems(s)}addItems(t){if(!t)return;const s=this.getExistingItems().slice(),n=t.filter(i=>s.indexOf(i)<0);VC(s,n,this.insertIndex),this.updateItems(s)}addItem(t){this.insertIndex=this.getExistingItems().length,this.addItems([t]),this.refreshGui()}rearrangeItems(t){const s=this.getNonGhostItems().slice();return VC(s,t,this.insertIndex),ao(s,this.getExistingItems())?!1:(this.updateItems(s),!0)}refreshGui(){const t=this.ePillDropList.scrollTop,s=this.resizeEnabled,n=this.getFocusedItem();let i=this.focusService.findNextFocusableElement();i||(i=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=t),s&&this.toggleResizable(s),this.focusService.isKeyboardMode()&&this.restoreFocus(n,i)}getFocusedItem(){const t=this.getGui(),s=this.gridOptionsService.getDocument().activeElement;return t.contains(s)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(s):-1}restoreFocus(t,s){const n=this.getGui(),i=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(t===-1)return;i.length===0&&s.focus();const o=Math.min(i.length-1,t),r=i[o];r&&r.focus()}focusList(t){const s=t?this.childPillComponents.length-1:0;this.restoreFocus(s,this.getFocusableElement())}getNonGhostItems(){const t=this.getExistingItems();return this.isPotentialDndItems()?t.filter(s=>!ni(this.potentialDndItems,s)):t}addItemsToGui(){const s=this.getNonGhostItems().map(n=>this.createItemComponent(n,!1));if(this.isPotentialDndItems()){const n=this.potentialDndItems.map(i=>this.createItemComponent(i,!0));this.insertIndex>=s.length?s.push(...n):s.splice(this.insertIndex,0,...n)}this.appendChild(this.ePillDropList),s.forEach((n,i)=>{i>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(n.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((t,s)=>{const n=t.getGui();Vg(n,s+1),Gg(n,this.childPillComponents.length)})}createItemComponent(t,s){const n=this.createPillComponent(t,this.dropTarget,s,this.horizontal);return n.addEventListener(gue.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[t])),this.context.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),s||this.childPillComponents.push(n),n}addIconAndTitleToGui(){const{title:t,icon:s}=this.params;if(!t||!s)return;const n=document.createElement("div");if(ph(n,!0),this.addElementClasses(n,"title-bar"),this.addElementClasses(s,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),n.appendChild(s),!this.horizontal){const i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=t,n.appendChild(i)}this.appendChild(n)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:t}=this.params;if(!t||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const s=document.createElement("span");s.innerHTML=t,this.addElementClasses(s,"empty-message"),this.ePillDropList.appendChild(s)}addArrow(t){if(this.horizontal){const s=this.gridOptionsService.get("enableRtl"),n=Es(s?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}}};Ph.STATE_NOT_DRAGGING="notDragging";Ph.STATE_NEW_ITEMS_IN="newItemsIn";Ph.STATE_REARRANGE_ITEMS="rearrangeItems";S([H("focusService")],Ph.prototype,"focusService",2);S([H("dragAndDropService")],Ph.prototype,"dragAndDropService",2);var mue=["touchstart","touchend","touchmove","touchcancel"],nL=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Qn(s=>{s(window.setInterval(e,t))})}addEventListener(e,t,s,n){const i=ni(mue,t);e.addEventListener(t,s,{capture:!!n,passive:i})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},Wr=class extends He{getNextCellToFocus(e,t,s=!1){return s?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const s=e===fe.UP,n=e===fe.DOWN,i=e===fe.LEFT;let o,r;if(s||n)r=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=t.column;else{const l=this.columnModel.getAllDisplayedColumns(),a=this.gridOptionsService.get("enableRtl");r=t.rowIndex,o=i!==a?l[0]:Xt(l)}return{rowIndex:r,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let s=t,n=!1;for(;!n;){switch(e){case fe.UP:s=this.getCellAbove(s);break;case fe.DOWN:s=this.getCellBelow(s);break;case fe.RIGHT:this.gridOptionsService.get("enableRtl")?s=this.getCellToLeft(s):s=this.getCellToRight(s);break;case fe.LEFT:this.gridOptionsService.get("enableRtl")?s=this.getCellToRight(s):s=this.getCellToLeft(s);break;default:s=null,console.warn("AG Grid: unknown key for navigation "+e);break}s?n=this.isCellGoodToFocusOn(s):n=!0}return s}isCellGoodToFocusOn(e){const t=e.column;let s;switch(e.rowPinned){case"top":s=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":s=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:s=this.rowModel.getRow(e.rowIndex);break}return s?!t.isSuppressNavigable(s):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,s=e.rowPinned;if(this.isLastRowInContainer(e))switch(s){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),i=this.getNextStickyPosition(n);return i||{rowIndex:t+1,rowPinned:s}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((r,l)=>r.getRowNode().rowIndex-l.getRowNode().rowIndex),n=t?-1:1,i=s.findIndex(r=>r.getRowNode().rowIndex===e.rowIndex),o=s[i+n];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,s=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=s:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=s:this.paginationProxy.getPageLastRow()<=s}getRowAbove(e){const t=e.rowIndex,s=e.rowPinned;if(s?t===0:t===this.paginationProxy.getPageFirstRow())return s==="top"?null:s?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const i=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(i,!0);return o||{rowIndex:t-1,rowPinned:s}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let s=e.rowIndex,n=e.rowPinned,i=this.columnModel.getDisplayedColAfter(e.column);if(!i){i=t[0];const o=this.getRowBelow(e);if(Rt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;s=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:s,column:i,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let s=e.rowIndex,n=e.rowPinned,i=this.columnModel.getDisplayedColBefore(e.column);if(!i){i=Xt(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Rt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;s=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:s,column:i,rowPinned:n}}};S([H("columnModel")],Wr.prototype,"columnModel",2);S([H("rowModel")],Wr.prototype,"rowModel",2);S([H("rowRenderer")],Wr.prototype,"rowRenderer",2);S([H("pinnedRowModel")],Wr.prototype,"pinnedRowModel",2);S([H("paginationProxy")],Wr.prototype,"paginationProxy",2);Wr=S([ot("cellNavigationService")],Wr);var Zl=class extends He{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=(e=this.gridOptionsService.get("alignedGrids"))!=null?e:[];const s=typeof t=="function";typeof t=="function"&&(t=t());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(o=>{var r;if(!o){lo("alignedGrids contains an undefined option."),s||lo(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),lo(n());return}if(o instanceof Vt)return o;const l=o;return"current"in l?(r=l.current)==null?void 0:r.api:(l.api||lo(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),l.api)}).filter(o=>!!o&&!o.isDestroyed())}init(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{const s=t.__getAlignedGridService();e(s)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(s=>{t.push(s)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(s=>{t.push(s.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case M.EVENT_COLUMN_MOVED:case M.EVENT_COLUMN_VISIBLE:case M.EVENT_COLUMN_PINNED:case M.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case M.EVENT_COLUMN_GROUP_OPENED:const s=e;this.processGroupOpenedEvent(s);break;case M.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let s=null;if(t){const n=t.getGroupId();s=this.columnModel.getProvidedColumnGroup(n)}t&&!s||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(s,t.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var t;const s=e.column;let n=null;if(s&&(n=this.columnModel.getPrimaryColumn(s.getColId())),s&&!n)return;const i=this.getMasterColumns(e);switch(e.type){case M.EVENT_COLUMN_MOVED:{const c=e,d=e.api.getColumnState().map(p=>({colId:p.colId}));this.columnModel.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${c.toIndex}`)}break;case M.EVENT_COLUMN_VISIBLE:{const c=e,d=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${c.visible}`)}break;case M.EVENT_COLUMN_PINNED:{const c=e,d=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${c.pinned}`)}break;case M.EVENT_COLUMN_RESIZED:const l=e,a={};i.forEach(c=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${c.getActualWidth()}`),a[c.getId()]={key:c.getColId(),newWidth:c.getActualWidth()}}),(t=l.flexColumns)==null||t.forEach(c=>{a[c.getId()]&&delete a[c.getId()]}),this.columnModel.setColumnWidths(Object.values(a),!1,l.finished,"alignedGridChanged");break}const r=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(l=>{l.setGridOption("alwaysShowVerticalScroll",r)})}};S([H("columnModel")],Zl.prototype,"columnModel",2);S([H("ctrlsService")],Zl.prototype,"ctrlsService",2);S([Vi(0,gi("loggerFactory"))],Zl.prototype,"setBeans",1);S([We],Zl.prototype,"init",1);Zl=S([ot("alignedGridsService")],Zl);var Jl=class extends He{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,M.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;const{newValue:s,clearSelection:n,suppressFinishActions:i,rangeSelect:o,nodes:r,event:l,source:a="api"}=e;if(r.length===0)return 0;if(r.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,h=r.map(p=>p.footer?p.sibling:p);if(o){if(r.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let p=null;if(a==="checkboxSelected"&&s===!1&&this.lastRowNode&&(this.lastRowNode.id?p=this.lastRowNode:this.lastRowNode=null),p==null&&(p=this.getLastSelectedNode()),p){const g=h[0];if(g!==p&&this.isMultiselect())return this.selectRange(g,p,s,a)}}this.lastRowNode=s?null:h[0];let d=0;for(let p=0;p<h.length;p++){const g=h[p];c&&g.group||g.selectThisNode(s,l,a)&&d++,this.groupSelectsChildren&&((t=g.childrenAfterGroup)!=null&&t.length)&&(d+=this.selectChildren(g,s,c,a))}if(!i&&(s&&(n||!this.isMultiselect())&&(d+=this.clearOtherNodes(h[0],a)),d>0)){this.updateGroupsFromChildrenSelections(a);const g={type:M.EVENT_SELECTION_CHANGED,source:a};this.eventService.dispatchEvent(g)}return d}selectRange(e,t,s=!0,n){const i=this.rowModel.getNodesInRangeForSelection(e,t);let o=0;i.forEach(l=>{if(l.group&&this.groupSelectsChildren)return;l.selectThisNode(s,void 0,n)&&o++}),this.updateGroupsFromChildrenSelections(n);const r={type:M.EVENT_SELECTION_CHANGED,source:n};return this.eventService.dispatchEvent(r),o}selectChildren(e,t,s,n){const i=s?e.childrenAfterAggFilter:e.childrenAfterGroup;return Rt(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:s,source:n,nodes:i})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;const t=this.selectedNodes.get(Xt(e));return t||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((s,n)=>{s&&e(s)&&t.set(n,s)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const n=this.rowModel.getRootNode();t||(t=new rm(!0,n),t.setInactive());let i=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==n){const r=o.calculateSelectedFromChildren();i=o.selectThisNode(r===null?!1:r,void 0,e)||i}}),i}clearOtherNodes(e,t){const s=new Map;let n=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const o=this.selectedNodes.get(i.id);n+=o.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&i.parent&&s.set(i.parent.id,i.parent)}}),s.forEach(i=>{const o=i.calculateSelectedFromChildren();i.selectThisNode(o===null?!1:o,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Ge(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();if(this.resetNodes(),t){const s={type:M.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(s)}}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const s=[];function n(i){for(let o=0,r=i.length;o<r;o++){const l=i[o];if(l.isSelected())s.push(l);else{const a=l;a.group&&a.children&&n(a.children)}}}return n(t),s}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=l=>l.selectThisNode(!1,void 0,n),s=this.rowModel.getType()==="clientSide",{source:n,justFiltered:i,justCurrentPage:o}=e;if(o||i){if(!s){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(i,o).forEach(t)}else this.selectedNodes.forEach(l=>{l&&t(l)}),this.reset(n);s&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);const r={type:M.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(r)}getSelectedCounts(e,t){let s=0,n=0;const i=o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?s++:o.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(i),{selectedCount:s,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:s,notSelectedCount:n}=this.getSelectedCounts(e,t);return s===0&&n===0?!1:s>0&&n>0?null:s>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(s=>s.selectable).length>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const s=[];if(t)return this.paginationProxy.forEachNodeOnPage(i=>{if(!i.group){s.push(i);return}if(!i.expanded){const o=r=>{var l;s.push(r),(l=r.childrenAfterFilter)!=null&&l.length&&r.childrenAfterFilter.forEach(o)};o(i);return}this.groupSelectsChildren||s.push(i)}),s;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(i=>{s.push(i)}),s):(n.forEachNode(i=>{s.push(i)}),s)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:s,justCurrentPage:n}=e,i=r=>r.selectThisNode(!0,void 0,t);this.getNodesToSelect(s,n).forEach(i),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const o={type:M.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const s=new Set(e),n=[];this.rowModel.forEachNode(i=>{s.has(i.id)&&n.push(i)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}};S([H("rowModel")],Jl.prototype,"rowModel",2);S([H("paginationProxy")],Jl.prototype,"paginationProxy",2);S([We],Jl.prototype,"init",1);Jl=S([ot("selectionService")],Jl);var Nd=class{constructor(e){this.viaApi=(t,...s)=>(St(`Since v31, 'columnApi.${t}' is deprecated and moved to 'api.${t}'.`),this.api[t](...s)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t,s=!0,n){this.viaApi("setColumnWidth",e,t,s,n)}setColumnWidths(e,t=!0,s){this.viaApi("setColumnWidths",e,t,s)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};S([H("gridApi")],Nd.prototype,"api",2);Nd=S([ot("columnApi")],Nd);var zr=class extends He{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const e=s=>this.callColumnCellValueChangedHandler(s),t=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(M.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener(M.EVENT_CELL_VALUE_CHANGED,e,t)),this.addManagedPropertyListener("treeData",s=>this.isTreeData=s.currentValue)}getValue(e,t,s=!1,n=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),o=i.field,r=e.getColId(),l=t.data;let a;const c=t.groupData&&t.groupData[r]!==void 0,h=!n&&t.aggData&&t.aggData[r]!==void 0,d=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(s&&i.filterValueGetter?a=this.executeFilterValueGetter(i.filterValueGetter,l,e,t):this.isTreeData&&h?a=t.aggData[r]:this.isTreeData&&i.valueGetter?a=this.executeValueGetter(i.valueGetter,l,e,t):this.isTreeData&&o&&l?a=nu(l,o,e.isFieldContainsDots()):c?a=t.groupData[r]:h?a=t.aggData[r]:i.valueGetter?a=this.executeValueGetter(i.valueGetter,l,e,t):p?a=nu(l,t.field,e.isFieldContainsDots()):o&&l&&!d&&(a=nu(l,o,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const g=a.substring(1);a=this.executeValueGetter(g,l,e,t)}if(a==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return a}getOpenedGroup(e,t){if(!this.gridOptionsService.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(n===!0||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,s,n){const i=this.columnModel.getPrimaryColumn(t);if(!e||!i)return!1;Rt(e.data)&&(e.data={});const{field:o,valueSetter:r}=i.getColDef();if(Rt(o)&&Rt(r))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(i,s))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:s,colDef:i.getColDef(),column:i});l.newValue=s;let a;if(Ge(r)?typeof r=="function"?a=r(l):a=this.expressionService.evaluate(r,l):a=this.setValueUsingField(e.data,o,s,i.isFieldContainsDots()),a===void 0&&(a=!0),!a)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(i,e);const c={type:M.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:n};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,t,s,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===s,i||(e[t]=s);else{const o=t.split(".");let r=e;for(;o.length>0&&r;){const l=o.shift();o.length===0?(i=r[l]===s,i||(r[l]=s)):r=r[l]}}return!i}executeFilterValueGetter(e,t,s,n){const i=this.gridOptionsService.addGridCommonParams({data:t,node:n,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(i):this.expressionService.evaluate(e,i)}executeValueGetter(e,t,s,n){const i=s.getColId(),o=this.valueCache.getValue(n,i);if(o!==void 0)return o;const r=this.gridOptionsService.addGridCommonParams({data:t,node:n,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,n)});let l;return typeof e=="function"?l=e(r):l=this.expressionService.evaluate(e,r),this.valueCache.setValue(n,i,l),l}getValueCallback(e,t){const s=this.columnModel.getPrimaryColumn(t);return s?this.getValue(s,e):null}getKeyForNode(e,t){const s=this.getValue(e,t),n=e.getColDef().keyCreator;let i=s;if(n){const o=this.gridOptionsService.addGridCommonParams({value:s,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&St("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),i}};S([H("expressionService")],zr.prototype,"expressionService",2);S([H("columnModel")],zr.prototype,"columnModel",2);S([H("valueCache")],zr.prototype,"valueCache",2);S([H("dataTypeService")],zr.prototype,"dataTypeService",2);S([We],zr.prototype,"init",1);zr=S([ot("valueService")],zr);var Vf=class extends He{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+s),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),s=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=s,s}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};S([Vi(0,gi("loggerFactory"))],Vf.prototype,"setBeans",1);Vf=S([ot("expressionService")],Vf);var iy=class extends He{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const s=this.templateCache[e];if(s)return s;let n=this.waitingCallbacks[e];const i=this;if(!n){n=[],this.waitingCallbacks[e]=n;const o=new XMLHttpRequest;o.onload=function(){i.handleHttpResult(this,e)},o.open("GET",e),o.send()}return t&&n.push(t),null}handleHttpResult(e,t){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);return}this.templateCache[t]=e.response||e.responseText;const s=this.waitingCallbacks[t];for(let n=0;n<s.length;n++){const i=s[n];i()}}};iy=S([ot("templateService")],iy);var Hf=class extends He{setBeans(e){this.logging=e.get("debug")}create(e){return new fS(e,this.isLogging.bind(this))}isLogging(){return this.logging}};S([Vi(0,gi("gridOptionsService"))],Hf.prototype,"setBeans",1);Hf=S([ot("loggerFactory")],Hf);var fS=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},Ta=class extends He{setComp(e,t,s){this.view=e,this.eGridHostDiv=t,this.eGui=s,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:i=>i===1||i===0,getIconName:()=>It.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Zg(this.view)),this.addRtlSupport();const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}showDropZones(){return es.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return es.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return es.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return es.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:M.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),s=this.view.getFocusableContainers(),i=s.findIndex(o=>o.contains(t.activeElement))+(e?-1:1);return i<=0||i>=s.length?!1:this.focusService.focusInto(s[i])}focusInnerElement(e){const t=this.view.getFocusableContainers(),s=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Xt(t),!0);const n=Xt(s);if(this.focusService.focusGridView(n,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(s[0]))return!0;for(let n=1;n<t.length;n++)if(this.focusService.focusInto(t[n]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};S([H("focusService")],Ta.prototype,"focusService",2);S([H("resizeObserverService")],Ta.prototype,"resizeObserverService",2);S([H("columnModel")],Ta.prototype,"columnModel",2);S([H("ctrlsService")],Ta.prototype,"ctrlsService",2);S([H("mouseEventService")],Ta.prototype,"mouseEventService",2);S([H("dragAndDropService")],Ta.prototype,"dragAndDropService",2);var uc=class extends Th{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}};this.ctrl=this.createManagedBean(new Ta);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.ctrl.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const s=this.eRootWrapperBody.classList;s.toggle("ag-layout-auto-height",t.autoHeight),s.toggle("ag-layout-normal",t.normal),s.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",s=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${s}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>ii(t))}};S([H("loggerFactory")],uc.prototype,"loggerFactory",2);S([Ze("gridBody")],uc.prototype,"gridBodyComp",2);S([Ze("sideBar")],uc.prototype,"sideBarComp",2);S([Ze("rootWrapperBody")],uc.prototype,"eRootWrapperBody",2);S([We],uc.prototype,"postConstruct",1);var ea=class extends He{progressSort(e,t,s){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,s)}setSortForColumn(e,t,s,n){t!=="asc"&&t!=="desc"&&(t=null);const i=this.gridOptionsService.isColumnsSortingCoupledToGroup();let o=[e];if(i&&e.getColDef().showRowGroup){const a=this.columnModel.getSourceColumnsForGroupColumn(e),c=a==null?void 0:a.filter(h=>h.isSortable());c&&(o=[e,...c])}o.forEach(a=>a.setSort(t,n));const r=(s||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),l=[];if(!r){const a=this.clearSortBarTheseColumns(o,n);l.push(...a)}this.updateSortIndex(e),l.push(...o),this.dispatchSortChangedEvents(n,l)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),s=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=t&&s||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const o=i.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...o,n]:o).forEach((l,a)=>{l.setSortIndex(a)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const s={type:M.EVENT_SORT_CHANGED,source:e};t&&(s.columns=t),this.eventService.dispatchEvent(s)}clearSortBarTheseColumns(e,t){const s=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||(n.getSort()&&s.push(n),n.setSort(void 0,t))}),s}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?t=this.gridOptionsService.get("sortingOrder"):t=ea.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const s=t.indexOf(e.getSort()),n=s<0,i=s==t.length-1;let o;return n||i?o=t[0]:o=t[s+1],ea.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(r=>{const l=!!r.getAggFunc(),a=!r.isPrimary(),c=o?this.columnModel.getGroupDisplayColumnForGroup(r.getId()):r.getColDef().showRowGroup;return l||a||c})}const t=this.columnModel.getRowGroupColumns().filter(o=>!!o.getSort()),s={};e.forEach((o,r)=>s[o.getId()]=r),e.sort((o,r)=>{const l=o.getSortIndex(),a=r.getSortIndex();if(l!=null&&a!=null)return l-a;if(l==null&&a==null){const c=s[o.getId()],h=s[r.getId()];return c>h?1:-1}else return a==null?-1:1});const n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(o=>{var r;return(r=this.columnModel.getGroupDisplayColumnForGroup(o.getId()))!=null?r:o}))]);const i=new Map;return e.forEach((o,r)=>i.set(o,r)),n&&t.forEach(o=>{const r=this.columnModel.getGroupDisplayColumnForGroup(o.getId());i.set(o,i.get(r))}),i}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[s,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),s=!!e.getColDef().showRowGroup;return t&&s}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(r=>r.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};ea.DEFAULT_SORTING_ORDER=["asc","desc",null];S([H("columnModel")],ea.prototype,"columnModel",2);ea=S([ot("sortController")],ea);var os=class extends He{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",os.toggleKeyboardMode),e.addEventListener("mousedown",os.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",os.toggleKeyboardMode),e.addEventListener("mousedown",os.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=os.keyboardModeActive,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||t!==s&&(os.keyboardModeActive=s)}static unregisterGridCompController(e){os.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gridOptionsService.getDocument();os.addKeyboardModeEvents(e),os.instanceCount++,this.addDestroyFunc(()=>{os.instanceCount--,os.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return os.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,xl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,nm.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let s=e;for(;s;){if(this.gridOptionsService.getDomData(s,t))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:s}=this.focusedCellPosition,n={rowIndex:e,rowPinned:t,column:s,isFullWidthCell:!1},i=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return i&&(n.isFullWidthCell=i.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=mt({type:M.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:s,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=e,r=this.columnModel.getGridColumn(t);if(!r){this.focusedCellPosition=null;return}this.focusedCellPosition=r?{rowIndex:s,rowPinned:co(n),column:r}:null;const l=vs(mt({type:M.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:i,preventScrollOnBrowserFocus:o,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),s=e.getRowIndex(),n=e.getPinned(),{column:i,headerRowIndex:o}=this.focusedHeaderPosition;return t===i&&s===o&&n==i.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:t,fromTab:s,allowUserOverride:n,event:i,fromCell:o,rowWithoutSpanValue:r}=e;let{headerPosition:l}=e;if(o&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){const h=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(s){const p=this.gridOptionsService.getCallback("tabToNextHeader");p&&(l=p({backwards:t==="Before",previousHeaderPosition:h,nextHeaderPosition:l,headerRowCount:d}))}else{const p=this.gridOptionsService.getCallback("navigateToNextHeader");if(p&&i){const g={key:i.key,previousHeaderPosition:h,nextHeaderPosition:l,headerRowCount:d,event:i};l=p(g)}}}if(!l)return!1;if(l.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(l):this.focusGridView(l.column);this.headerNavigationService.scrollToColumn(l.column,t);const c=this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()).focusHeader(l.headerRowIndex,l.column,i);return c&&(r!=null||o)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),c}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,s=Xt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===co(t)}findFocusableElements(e,t,s=!1){const n=MI;let i=Lb;t&&(i+=", "+t),s&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(a=>ii(a)),r=Array.prototype.slice.apply(e.querySelectorAll(i));return r.length?((a,c)=>a.filter(h=>c.indexOf(h)===-1))(o,r):o}focusInto(e,t=!1,s=!1){const n=this.findFocusableElements(e,null,s),i=t?Xt(n):n[0];return i?(i.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const s=this.findFocusableElements(e),n=s.indexOf(t);if(n===-1)return null;let i=-1;for(let o=n-1;o>=0;o--)if(s[o].classList.contains("ag-tab-guard-top")){i=o;break}return i<=0?null:s[i-1]}findNextFocusableElement(e=this.eGridDiv,t,s){const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement;let r;t?r=n.findIndex(a=>a.contains(o)):r=n.indexOf(o);const l=r+(s?-1:1);return l<0||l>=n.length?null:n[l]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const s=e.querySelectorAll(`.${Qr.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let n=0;n<s.length;n++)if(s[n].contains(t))return!0;return!1}findTabbableParent(e,t=5){let s=0;for(;e&&Ff(e)===null&&++s<=t;)e=e.parentElement;return Ff(e)===null?null:e}focusGridView(e,t){if(this.gridOptionsService.get("suppressCellFocus"))return t?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const s=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!s)return!1;const{rowIndex:n,rowPinned:i}=s,o=this.getFocusedHeader();if(!e&&o&&(e=o.column),n==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:i}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:co(i),forceBrowserFocus:!0}),this.rangeService){const r={rowIndex:n,rowPinned:i,column:e};this.rangeService.setRangeToCell(r)}return!0}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e==null?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,t){var s,n;const i=(n=t?void 0:this.advancedFilterFocusColumn)!=null?n:(s=this.columnModel.getAllDisplayedColumns())==null?void 0:s[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(i)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};os.keyboardModeActive=!1;os.instanceCount=0;S([H("eGridDiv")],os.prototype,"eGridDiv",2);S([H("columnModel")],os.prototype,"columnModel",2);S([H("headerNavigationService")],os.prototype,"headerNavigationService",2);S([H("headerPositionUtils")],os.prototype,"headerPositionUtils",2);S([H("rowRenderer")],os.prototype,"rowRenderer",2);S([H("rowPositionUtils")],os.prototype,"rowPositionUtils",2);S([H("cellPositionUtils")],os.prototype,"cellPositionUtils",2);S([qt("rangeService")],os.prototype,"rangeService",2);S([H("navigationService")],os.prototype,"navigationService",2);S([H("ctrlsService")],os.prototype,"ctrlsService",2);S([H("filterManager")],os.prototype,"filterManager",2);S([qt("advancedFilterService")],os.prototype,"advancedFilterService",2);S([We],os.prototype,"init",1);os=S([ot("focusService")],os);var oy=class extends He{setMouseOver(e){this.selectedColumns=e;const t={type:M.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:M.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};oy=S([ot("columnHoverService")],oy);var xd=class extends He{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}const t=s=>{for(;s.length;){const n=s.pop();n&&n()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{t(this.executeLaterFuncs),e()},200)})}};S([H("ctrlsService")],xd.prototype,"ctrlsService",2);S([We],xd.prototype,"postConstruct",1);xd=S([ot("columnAnimationService")],xd);var Lu=class extends He{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const s=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(e/s);this.paginationProxy.setPageSize(n,"autoCalculated")};this.isBodyRendered?yn(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};S([H("ctrlsService")],Lu.prototype,"ctrlsService",2);S([H("paginationProxy")],Lu.prototype,"paginationProxy",2);S([We],Lu.prototype,"postConstruct",1);Lu=S([ot("paginationAutoPageSizeService")],Lu);var Bf=class extends He{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,s){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=s)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};S([We],Bf.prototype,"init",1);Bf=S([ot("valueCache")],Bf);var vue="paste",Nu=class extends He{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==vue&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.get("suppressChangeDetection"))return;const s=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gridOptionsService.get("aggregateOnlyChangedColumns"),i=new rm(n,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst(o=>{s.push(o)})}this.rowRenderer.refreshCells({rowNodes:s})}};S([H("rowModel")],Nu.prototype,"rowModel",2);S([H("rowRenderer")],Nu.prototype,"rowRenderer",2);S([We],Nu.prototype,"init",1);Nu=S([ot("changeDetectionService")],Nu);var $f=class extends He{adaptFunction(e,t){const s=this.componentMetadataProvider.retrieve(e);return s&&s.functionAdapter?s.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(n){return!1}getGui(){return this.eGui}init(n){const i=e(n),o=typeof i;if(o==="string"||o==="number"||o==="boolean"){this.eGui=kn("<span>"+i+"</span>");return}if(i==null){this.eGui=kn("<span></span>");return}this.eGui=i}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};S([H("componentMetadataProvider")],$f.prototype,"componentMetadataProvider",2);$f=S([ot("agComponentUtils")],$f);var kd=class extends He{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};S([H("agComponentUtils")],kd.prototype,"agComponentUtils",2);S([We],kd.prototype,"postConstruct",1);kd=S([ot("componentMetadataProvider")],kd);var Cue=25,nT=10,uv=8,yue=4,cv=4,dv=6,wue=16,iT=14,hv=8,bue={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:yue*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:uv*7,headerCellMinWidth:48,listItemHeight:uv*4,rowHeight:uv*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:cv*8,headerCellMinWidth:24,listItemHeight:cv*6,rowHeight:cv*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:dv*8,headerCellMinWidth:36,listItemHeight:dv*4,rowHeight:dv*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:iT+hv*4.25,headerCellMinWidth:36,listItemHeight:wue+hv,rowHeight:iT+hv*3.5,chartMenuPanelWidth:260}},oT={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Gd=class extends He{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=(e=this.getTheme().el)!=null?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:M.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:s}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const n=this.calculatedSizes[t][e];return n??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,s),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,s){const n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),i=bue[n][e],o=this.gridOptionsService.getDocument();if(s||(s=this.eGridDiv),!oT[e])return i;const r=oT[e],l=o.createElement("div"),a=Array.from(s.classList);l.classList.add(t,...a),l.style.position="absolute";const c=r.reduce((d,p)=>{const g=o.createElement("div");return g.style.position="static",g.classList.add(p),d.appendChild(g),g},l);let h=0;if(o.body){o.body.appendChild(l);const d=e.toLowerCase().indexOf("height")!==-1?"height":"width";h=parseInt(window.getComputedStyle(c)[d],10),o.body.removeChild(l)}return h||i}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,s=null,n=[];for(;t;)if(s=e.exec(t.className),!s)t=t.parentElement||void 0;else{const o=t.className.match(e);o&&(n=o);break}if(!s)return{allThemes:n};const i=s[0];return{theme:i,el:t,themeFamily:i.replace(/-dark$/,""),allThemes:n}}getFromTheme(e,t){var s;return(s=this.getSassVariable(t))!=null?s:e}getDefaultRowHeight(){return this.getFromTheme(Cue,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gridOptionsService.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const s=`${t}px`;return e!=s?(this.eGridDiv.style.setProperty("--ag-line-height",s),t):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return Ge(e)?Math.max(e,nT):nT}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};S([H("eGridDiv")],Gd.prototype,"eGridDiv",2);S([We],Gd.prototype,"postConstruct",1);Gd=S([ot("environment")],Gd);var xu=class extends He{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=SI(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,s=this.getUiBodyHeight();(t!==this.scrollY||s!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=s,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:M.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),s=e/t;return this.maxScrollY*s}};S([H("ctrlsService")],xu.prototype,"ctrlsService",2);S([Vi(0,gi("loggerFactory"))],xu.prototype,"agWire",1);S([We],xu.prototype,"postConstruct",1);xu=S([ot("rowContainerHeightService")],xu);var ku=class extends He{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gridOptionsService.get("rowSelection"),s=this.gridOptionsService.get("isRowSelectable");if(!t||!s)return;const n=this.gridOptionsService.get("groupSelectsChildren"),i=this.rowModel.getType()==="clientSide"&&n,o=[],r=l=>{if(e&&!l.group)return;if(i&&l.group){const c=l.childrenAfterGroup.some(h=>h.selectable===!0);l.setRowSelectable(c,!0);return}const a=s?s(l):!0;l.setRowSelectable(a,!0),!a&&l.isSelected()&&o.push(l)};if(i){const l=this.rowModel;new rm(!1,l.getRootNode()).forEachChangedNodeDepthFirst(r,!0,!0)}else this.rowModel.forEachNode(r);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),i&&this.selectionService instanceof Jl&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};S([H("rowModel")],ku.prototype,"rowModel",2);S([H("selectionService")],ku.prototype,"selectionService",2);S([We],ku.prototype,"init",1);ku=S([ot("selectableService")],ku);var Un=class extends Mt{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:s,btNext:n,btLast:i,pageSizeComp:o}=this;this.activateTabIndex([t,s,n,i]),t.insertAdjacentElement("afterbegin",Es(e?"last":"first",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Es(e?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",Es(e?"previous":"next",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",Es(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:s}=e;this.addManagedListener(t,"click",s),this.addManagedListener(t,"keydown",n=>{(n.key===fe.ENTER||n.key===fe.SPACE)&&(n.preventDefault(),s())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),s=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(s)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const s=this.localeService.getLocaleTextFunc(),n=s("thousandSeparator",","),i=s("decimalSeparator",".");return Fb(e,n,i)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),s=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),o=e("previousPage","Previous Page"),r=e("nextPage","Next Page"),l=e("lastPage","Last Page"),a=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${a}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${a}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${a}-to">${s}</span>
                    <span id="ag-${a}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${a}-of">${n}</span>
                    <span id="ag-${a}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${a}-start-page">${t}</span>
                        <span id="ag-${a}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${a}-of-page">${n}</span>
                        <span id="ag-${a}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===s-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===s-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Eb(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),s=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let i,o;if(this.isZeroPagesToDisplay()?i=o=0:(i=t*e+1,o=i+t-1,s&&o>n&&(o=n)),this.lbFirstRowOnPage.textContent=this.formatNumber(i),this.rowNodeBlockLoader.isLoading()){const r=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=r("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(o)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),s=e?this.paginationProxy.getMasterRowCount():null;if(s===1){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!(n.groupData||n.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(s);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};S([H("paginationProxy")],Un.prototype,"paginationProxy",2);S([H("rowNodeBlockLoader")],Un.prototype,"rowNodeBlockLoader",2);S([Ze("btFirst")],Un.prototype,"btFirst",2);S([Ze("btPrevious")],Un.prototype,"btPrevious",2);S([Ze("btNext")],Un.prototype,"btNext",2);S([Ze("btLast")],Un.prototype,"btLast",2);S([Ze("lbRecordCount")],Un.prototype,"lbRecordCount",2);S([Ze("lbFirstRowOnPage")],Un.prototype,"lbFirstRowOnPage",2);S([Ze("lbLastRowOnPage")],Un.prototype,"lbLastRowOnPage",2);S([Ze("lbCurrent")],Un.prototype,"lbCurrent",2);S([Ze("lbTotal")],Un.prototype,"lbTotal",2);S([Ze("pageSizeComp")],Un.prototype,"pageSizeComp",2);S([We],Un.prototype,"postConstruct",1);var Oh=class iL extends Mt{constructor(){super(iL.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(t,s){const n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",s.autoHeight),n.toggle("ag-layout-normal",s.normal),n.toggle("ag-layout-print",s.print)}postConstruct(){this.createManagedBean(new Zg(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const s=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&s.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,s.toggle(t,!0)}showOverlay(t,s,n){this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(i=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,this.updateListenerDestroyFunc=n,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)==null||t.call(this),Fs(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};Oh.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;S([H("overlayService")],Oh.prototype,"overlayService",2);S([Ze("eOverlayWrapper")],Oh.prototype,"eOverlayWrapper",2);S([We],Oh.prototype,"postConstruct",1);var Sue=Oh,Gu=class extends He{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const s=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return s?(t="bottom",e=s-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ge(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(s=>{(t===void 0||this.before(t,s))&&(t=s)}),t}rowMin(e){let t;return e.forEach(s=>{(t===void 0||this.before(s,t))&&(t=s)}),t}};S([H("rowModel")],Gu.prototype,"rowModel",2);S([H("pinnedRowModel")],Gu.prototype,"pinnedRowModel",2);S([H("paginationProxy")],Gu.prototype,"paginationProxy",2);Gu=S([ot("rowPositionUtils")],Gu);var ry=class extends He{createId(e){const{rowIndex:t,rowPinned:s,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:s})}createIdFromValues(e){const{rowIndex:t,rowPinned:s,column:n}=e;return`${t}.${s??"null"}.${n.getId()}`}equals(e,t){const s=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return s&&n&&i}};ry=S([ot("cellPositionUtils")],ry);var Oc=class{constructor(e){this.cellValueChanges=e}},pv=class extends Oc{constructor(e,t,s,n){super(e),this.initialRange=t,this.finalRange=s,this.ranges=n}},oL=class rL{constructor(t){this.actionStack=[],this.maxStackSize=t||rL.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};oL.DEFAULT_STACK_SIZE=10;var rT=oL,Oi=class extends He{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(s||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:l,oldValue:a,value:c}=e,h={rowPinned:o,rowIndex:r,columnId:l.getColId(),newValue:c,oldValue:a};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const e=this.gridOptionsService.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new rT(e),this.redoStack=new rT(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:M.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const s=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),n={type:M.EVENT_UNDO_ENDED,source:e,operationPerformed:s};this.eventService.dispatchEvent(n)}redo(e){const t={type:M.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const s=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),n={type:M.EVENT_REDO_ENDED,source:e,operationPerformed:s};this.eventService.dispatchEvent(n)}undoRedo(e,t,s,n,i){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,r=>r[n],i),o instanceof pv?this.processRange(o.ranges||[o[s]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,s){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:o,columnId:r}=n,l={rowIndex:i,rowPinned:o},a=this.getRowNode(l);a.displayed&&a.setDataValue(r,t(n),s)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((s,n)=>{if(!s)return;const i=s.startRow,o=s.endRow;n===e.length-1&&(t={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(t));const r={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};this.rangeService.addCellRange(r)})}processCell(e){const t=e[0],{rowIndex:s,rowPinned:n}=t,i={rowIndex:s,rowPinned:n},o=this.getRowNode(i),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r,!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:s,columnId:n,rowPinned:i}=e,o=this.gridBodyCtrl.getScrollFeature(),r=this.columnModel.getGridColumn(n);if(!r)return;o.ensureIndexVisible(s),o.ensureColumnVisible(r);const l={rowIndex:s,column:r,rowPinned:i};this.focusService.setFocusedCell(vs(mt({},l),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STOPPED,()=>{const e=new Oc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const s=new Oc(this.cellValueChanges);this.pushActionsToUndoStack(s)}})}addPasteListeners(){this.addManagedListener(this.eventService,M.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,M.EVENT_PASTE_END,()=>{const e=new Oc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,M.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_FILL_END,e=>{const t=new pv(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?e=new pv(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Oc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};S([H("focusService")],Oi.prototype,"focusService",2);S([H("ctrlsService")],Oi.prototype,"ctrlsService",2);S([H("rowModel")],Oi.prototype,"rowModel",2);S([H("pinnedRowModel")],Oi.prototype,"pinnedRowModel",2);S([H("cellPositionUtils")],Oi.prototype,"cellPositionUtils",2);S([H("rowPositionUtils")],Oi.prototype,"rowPositionUtils",2);S([H("columnModel")],Oi.prototype,"columnModel",2);S([qt("rangeService")],Oi.prototype,"rangeService",2);S([We],Oi.prototype,"init",1);Oi=S([ot("undoRedoService")],Oi);var Vd=class extends He{findHeader(e,t){let s,n,i;if(e.column instanceof Vs?(n=`getDisplayedGroup${t}`,s=this.columnModel[n](e.column)):(i=`getDisplayedCol${t}`,s=this.columnModel[i](e.column)),!s)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const a=[s];for(;s.getParent();)s=s.getParent(),a.push(s);s=a[a.length-1-o]}const{column:r,headerRowIndex:l}=this.getHeaderIndexToFocus(s,o);return{column:r,headerRowIndex:l}}getHeaderIndexToFocus(e,t){let s;if(e instanceof Vs&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;s=n.getLeafColumns()[0];let i=s;for(;i!==n;)t++,i=i.getParent()}return{column:s||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const s=this.getHeaderRowType(t),n=s==="filter",i=s==="column";let o=n?e:e.getParent(),r=t-1,l=r;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;l=r,r<0&&(o=e,r=t,l=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:l}}getColumnVisibleChild(e,t,s="After"){const n=this.getHeaderRowType(t);let i=e,o=t+1,r=o;if(n==="group"){const l=e.getDisplayedLeafColumns(),a=s==="After"?l[0]:Xt(l),c=[];let h=a;for(;h.getParent()!==e;)h=h.getParent(),c.push(h);if(i=a,a.isSpanHeaderHeight())for(let d=c.length-1;d>=0;d--){const p=c[d];if(!p.isPadding()){i=p;break}o++}else i=Xt(c),i||(i=a)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:r}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const s=this.columnModel.getAllDisplayedColumns(),n=s[t==="start"?0:s.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if(o=="group"){const r=this.columnModel.getColumnGroupAtLevel(n,e);return{headerRowIndex:e,column:r}}return{headerRowIndex:o==null?-1:e,column:n}}};S([H("columnModel")],Vd.prototype,"columnModel",2);S([H("ctrlsService")],Vd.prototype,"ctrlsService",2);Vd=S([ot("headerPositionUtils")],Vd);var ly=class{buildColumnDefs(e,t,s){const n=[],i={};return e.forEach(o=>{const r=this.createDefFromColumn(o,t,s);let l=!0,a=r,c=o.getOriginalParent(),h=null;for(;c;){let d=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(a),l=!1;break}if(d=this.createDefFromGroup(c),d&&(d.children=[a],i[d.groupId]=d,a=d,c=c.getOriginalParent()),c!=null&&h===c){l=!1;break}h=c}l&&n.push(a)}),n}createDefFromGroup(e){const t=Pf(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,s){const n=Pf(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?s.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}};ly=S([ot("columnDefFactory")],ly);var Hd=class{getInitialRowClasses(e){const t=[];return Ge(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),BC(t,this.processClassesFromGridOptions(e.rowNode)),BC(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],s=o=>{typeof o=="string"?t.push(o):Array.isArray(o)&&o.forEach(r=>t.push(r))},n=this.gridOptionsService.get("rowClass");if(n){if(typeof n=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];s(n)}const i=this.gridOptionsService.getCallback("getRowClass");if(i){const o={data:e.data,node:e,rowIndex:e.rowIndex},r=i(o);s(r)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,s=>{t.push(s)},s=>{}),t}processRowClassRules(e,t,s){const n=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),n,t,s)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};S([H("stylingService")],Hd.prototype,"stylingService",2);S([H("gridOptionsService")],Hd.prototype,"gridOptionsService",2);Hd=S([ot("rowCssClassCalculator")],Hd);var Vu=class extends He{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const s=(i,o)=>({currentPos:o,rowNode:i}),n=e.map(s);return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,s){const n=t.rowNode,i=s.rowNode;for(let o=0,r=e.length;o<r;o++){const l=e[o],a=l.sort==="desc",c=this.getValue(n,l.column),h=this.getValue(i,l.column);let d;const p=this.getComparator(l,n);if(p?d=p(c,h,n,i,a):d=xt.defaultComparator(c,h,this.isAccentedSort),!isNaN(d)&&d!==0)return l.sort==="asc"?d:d*-1}return t.currentPos-s.currentPos}getComparator(e,t){const s=e.column,n=s.getColDef().comparator;if(n!=null)return n;if(!s.getColDef().showRowGroup)return;const i=!t.group&&s.getColDef().field;if(!i)return;const o=this.columnModel.getPrimaryColumn(i);if(o)return o.getColDef().comparator}getValue(e,t){var s,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const l=(s=e.allLeafChildren)==null?void 0:s[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const r=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return r?(n=e.groupData)==null?void 0:n[r.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};S([H("valueService")],Vu.prototype,"valueService",2);S([H("columnModel")],Vu.prototype,"columnModel",2);S([We],Vu.prototype,"init",1);Vu=S([ot("rowNodeSorter")],Vu);var Kc=class extends He{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};Kc.NAME="ctrlsService";Kc=S([ot(Kc.NAME)],Kc);var ay=class extends He{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};ay=S([ot("ctrlsFactory")],ay);var Da=class extends Mt{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",_b()||or())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Ib(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],s=this.getGui();e.forEach(n=>this.addManagedListener(s,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(n=>this.addManagedListener(s,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();vb(()=>ii(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};S([Ze("eViewport")],Da.prototype,"eViewport",2);S([Ze("eContainer")],Da.prototype,"eContainer",2);S([H("scrollVisibleService")],Da.prototype,"scrollVisibleService",2);S([H("ctrlsService")],Da.prototype,"ctrlsService",2);S([H("animationFrameService")],Da.prototype,"animationFrameService",2);var Aa=class lL extends Da{constructor(){super(lL.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new ec(s=>this.eContainer.style.width=`${s}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let s=this.columnModel.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&t,i=this.gridOptionsService.getScrollbarWidth();n&&(s+=i),wi(this.eRightSpacer,s),this.eRightSpacer.classList.toggle("ag-scroller-corner",s<=i);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(o+=i),wi(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,n=this.gridOptionsService.get("suppressHorizontalScroll"),i=t&&this.gridOptionsService.getScrollbarWidth()||0,r=n?0:i===0&&s?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),Ll(this.getGui(),r),Ll(this.eViewport,r),Ll(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return Dd(this.getViewport(),this.enableRtl)}setScrollPosition(t){ii(this.getViewport())||this.attemptSettingScrollPosition(t),Ad(this.getViewport(),t,this.enableRtl)}};Aa.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;S([Ze("eLeftSpacer")],Aa.prototype,"eLeftSpacer",2);S([Ze("eRightSpacer")],Aa.prototype,"eRightSpacer",2);S([H("columnModel")],Aa.prototype,"columnModel",2);S([H("pinnedRowModel")],Aa.prototype,"pinnedRowModel",2);S([We],Aa.prototype,"postConstruct",1);var Eue=Aa,Bd=class extends He{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),s=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:M.EVENT_LEFT_PINNED_WIDTH_CHANGED})),s!=this.rightWidth&&(this.rightWidth=s,this.eventService.dispatchEvent({type:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};S([H("columnModel")],Bd.prototype,"columnModel",2);S([We],Bd.prototype,"postConstruct",1);Bd=S([ot("pinnedWidthService")],Bd);var Hu=class extends He{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const t=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(t)),this.dispatchExpandedDebounced()}};S([H("animationFrameService")],Hu.prototype,"animationFrameService",2);S([H("rowModel")],Hu.prototype,"rowModel",2);S([We],Hu.prototype,"postConstruct",1);Hu=S([ot("rowNodeEventThrottle")],Hu);var Rue={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},pr=(e,t)=>{var s;return((s=t.rowModelType)!=null?s:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},Tue={enableRowGroup:pr,rowGroup:pr,rowGroupIndex:pr,enablePivot:pr,enableValue:pr,pivot:pr,pivotIndex:pr,aggFunc:pr,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const s=["columnsMenuTab","generalMenuTab"];return(t=e.menuTabs)!=null&&t.some(n=>s.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Ka},Ka={objectName:"colDef",allProperties:uae.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:Rue,validations:Tue},Due={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},Aue={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},Pue={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const s=(t=e.rowModelType)!=null?t:"clientSide";switch(s){case"clientSide":const n=`treeData requires 'getDataPath' in the ${s} row model.`;return e.getDataPath?null:n;case"serverSide":const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${s} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch((t=e.rowModelType)!=null?t:"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Ka,defaultColDef:()=>Ka,defaultColGroupDef:()=>Ka,autoGroupColumnDef:()=>Ka},Oue={objectName:"gridOptions",allProperties:[...Co.ALL_PROPERTIES,...di.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:Due,validations:Pue},Zt=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ui,this.globalEventHandlerFactory=e=>(t,s)=>{if(this.destroyed)return;const n=Hp.has(t);if(n&&!e||!n&&e)return;const i=di.getCallbackForEvent(t),o=this.gridOptions[i];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new Nd(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return(t=this.gridOptions[e])!=null?t:Aue[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ge(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>{const n=s;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,e(n)})}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}static toConstrainedNum(e,t){return s=>{const n=Zt.toNumber(s);if(!(n==null||n<e||n>t))return n}}static getCoercedValue(e,t){const s=Zt.PROPERTY_COERCIONS.get(e);return s?s(t):t}static getCoercedGridOptions(e){const t={};return Object.entries(e).forEach(([s,n])=>{const i=Zt.getCoercedValue(s,n);t[s]=i}),t}updateGridOptions({options:e,source:t="api"}){const s={id:Zt.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([i,o])=>{t==="api"&&nle[i]&&St(`${i} is an initial property and cannot be updated.`);const r=Zt.getCoercedValue(i,o),l=typeof r=="object"&&t==="api",a=this.gridOptions[i];if(l||a!==r){this.gridOptions[i]=r;const c={type:i,currentValue:r,previousValue:a,changeSet:s,source:t};n.push(c)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=n.map(i=>i.type),n.forEach(i=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${i.type} from `,i.previousValue," to  ",i.currentValue),this.propertyEventService.dispatchEvent(i)})}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:TI();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:M.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&Rt(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!=null?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,s){if(s==null&&(s=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:s,estimated:!0};const i={node:e,data:e.data},o=this.getCallback("getRowHeight")(i);if(this.isNumeric(o))return o===0&&St("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:s,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Rt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const s=e[this.getDomDataKey()];return s?s[t]:void 0}setDomData(e,t,s){const n=this.getDomDataKey();let i=e[n];Rt(i)&&(i={},e[n]=i),i[t]=s}getDocument(){let e=null;return this.gridOptions.getDocument&&Ge(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Ge(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return Ge(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return()=>!0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const t=e;return t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,t}};Zt.PROPERTY_COERCIONS=new Map([...Co.BOOLEAN_PROPERTIES.map(e=>[e,Zt.toBoolean]),...Co.NUMBER_PROPERTIES.map(e=>[e,Zt.toNumber]),["groupAggFiltering",e=>typeof e=="function"?e:Zt.toBoolean(e)],["pageSize",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Zt.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Zt.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Zt.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Zt.toConstrainedNum(0,Number.MAX_VALUE)]]);Zt.changeSetId=0;S([H("gridOptions")],Zt.prototype,"gridOptions",2);S([H("eventService")],Zt.prototype,"eventService",2);S([H("environment")],Zt.prototype,"environment",2);S([H("frameworkOverrides")],Zt.prototype,"frameworkOverrides",2);S([H("eGridDiv")],Zt.prototype,"eGridDiv",2);S([H("validationService")],Zt.prototype,"validationService",2);S([H("gridApi")],Zt.prototype,"api",2);S([We],Zt.prototype,"init",1);S([An],Zt.prototype,"destroy",1);Zt=S([ot("gridOptionsService")],Zt);var uy=class extends He{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(s,n,i)=>e({key:s,defaultValue:n,variableValues:i});const t=this.gridOptionsService.get("localeText");return(s,n,i)=>{let o=t&&t[s];if(o&&i&&i.length){let r=0;for(;!(r>=i.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",i[r++])}return o??n}}};uy=S([ot("localeService")],uy);var gS=class aL extends Da{constructor(){super(aL.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new em(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),s=this.invisibleScrollbar,n=t&&this.gridOptionsService.getScrollbarWidth()||0,i=n===0&&s?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),wi(this.getGui(),i),wi(this.eViewport,i),wi(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,n=t.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),o=n.scrollTop;i!=o&&this.setScrollPosition(o,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(t,s){!s&&!ii(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t}};gS.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;S([We],gS.prototype,"postConstruct",1);var _ue=gS,lT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},aT=["january","february","march","april","may","june","july","august","september","october","november","december"],Yo=class extends He{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Ua(e.source))})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([n,i])=>{this.dataTypeDefinitions[n]=vs(mt({},i),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)})});const s=(e=this.gridOptionsService.get("dataTypeDefinitions"))!=null?e:{};this.dataTypeMatchers={},Object.entries(s).forEach(([n,i])=>{const o=this.processDataTypeDefinition(i,s,[n],t);o&&(this.dataTypeDefinitions[n]=o,i.dataTypeMatcher&&(this.dataTypeMatchers[n]=i.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(n=>{const i=this.dataTypeMatchers[n];i&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=i??t[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const s=mt(mt({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(s.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),s}processDataTypeDefinition(e,t,s,n){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=n[o];const l=t[o];if(r&&l&&(r=l),!this.validateDataTypeDefinition(e,r,o))return;i=this.mergeDataTypeDefinitions(r,e)}else{if(s.includes(o)){St('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const r=t[o];if(!this.validateDataTypeDefinition(e,r,o))return;const l=this.processDataTypeDefinition(r,t,[...s,o],n);if(!l)return;i=this.mergeDataTypeDefinitions(l,e)}return vs(mt({},i),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)})}validateDataTypeDefinition(e,t,s){return t?t.baseDataType!==e.baseDataType?(St('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(St(`The data type definition ${s} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var s,n;if((s=t.node)!=null&&s.group){const i=t.column.getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(vs(mt({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(vs(mt({},t),{value:t.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if(typeof t.value!="string"||(n=e.dataTypeMatcher)!=null&&n.call(e,t.value))return e.valueFormatter(t);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,s){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,s):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){St(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,s),o.columnTypes}updateColDefAndGetColumnType(e,t,s){var n,i;const o=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,s),r=(i=(n=t.type)!=null?n:o)!=null?i:e.type;return e.type=r,r?this.convertColumnTypes(r):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const s=n=>{t.add(n.key)};e.addEventListener(rs.EVENT_STATE_UPDATED,s),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(rs.EVENT_STATE_UPDATED,s))}canInferCellDataType(e,t){var s;if(this.rowModel.getType()!=="clientSide")return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const i=t.type===null?e.type:t.type;if(i){const o=(s=this.gridOptionsService.get("columnTypes"))!=null?s:{};if(this.convertColumnTypes(i).some(l=>{const a=o[l.trim()];return a&&this.doColDefPropsPreventInference(a,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([s,n])=>this.doesColDefPropPreventInference(e,t,s,n))}doesColDefPropPreventInference(e,t,s,n){if(!t[s])return!1;const i=e[s];return i===null?(t[s]=!1,!1):n===void 0?!!i:i===n}inferCellDataType(e,t){var s;if(!e)return;let n;const i=this.getInitialData();if(i){const r=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");n=nu(i,e,r)}else this.initWaitForRowData(t);if(n==null)return;const[o]=(s=Object.entries(this.dataTypeMatchers).find(([r,l])=>l(n)))!=null?s:["object"];return o}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const s=this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:i}=n;if(!i)return;s==null||s(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const o={type:M.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(o)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const s=[];this.columnStateUpdateListenerDestroyFuncs.forEach(o=>o()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,r])=>{const l=this.columnModel.getGridColumn(o);if(!l)return;const a=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l,"cellDataTypeInferred"))return;const c=l.getColDef();if(t&&c.type&&c.type!==a.type){const h=this.getUpdatedColumnState(l,r);h.rowGroup&&h.rowGroupIndex==null&&(n[o]=h),h.pivot&&h.pivotIndex==null&&(i[o]=h),s.push(h)}}),t&&s.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,i)),s.length&&this.columnModel.applyColumnState({state:s},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const s=this.columnModel.getColumnStateFromColDef(e);return t.forEach(n=>{delete s[n],n==="rowGroup"?delete s.rowGroupIndex:n==="pivot"&&delete s.pivotIndex}),s}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,s=e.object;this.hasObjectValueParser=t.valueParser!==s.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==s.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(e){var t;return e?(t=this.getDataTypeDefinition(e))!=null?t:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const n=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return n?n(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&St('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&St('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,s){const n=(l,a,c)=>{let h=l.getColDef().valueFormatter;return h===t.groupSafeValueFormatter&&(h=t.valueFormatter),this.valueFormatterService.formatValue(l,a,c,h)},i=es.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),r=l=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?mt(mt({},a),l):l};switch(t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",i&&r({comparator:(l,a)=>{const c=l==null?0:parseInt(l),h=a==null?0:parseInt(a);return c===h?0:c>h?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===fe.SPACE,r(i?{valueFormatter:l=>Ge(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,a)=>a===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=l=>n(l.column,l.node,l.value),i&&r({valueFormatter:l=>{const a=n(l.column,l.node,l.value);return Ge(a)?a:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,a)=>{if(a===1&&l!=null){const c=aT[Number(l)-1];return o(c,lT[c])}return l??o("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=a=>n(a.column,a.node,a.value);const l=t.dateParser;r(i?{valueFormatter:a=>{const c=n(a.column,a.node,a.value);return Ge(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const c=l(a??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(a,c)=>{if(c===1&&a!=null){const h=aT[Number(a)-1];return o(h,lT[h])}return a??o("blanks","(Blanks)")}}:{comparator:(a,c)=>{const h=l(c);return c==null||h<a?-1:h>a?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,a)=>{const c=this.columnModel.getPrimaryColumn(s),h=c==null?void 0:c.getColDef();if(!c||!h)return 0;const d=l==null?"":n(c,null,l),p=a==null?"":n(c,null,a);return d===p?0:d>p?1:-1},e.keyCreator=l=>n(l.column,l.node,l.value),i?r({valueFormatter:l=>{const a=n(l.column,l.node,l.value);return Ge(a)?a:o("blanks","(Blanks)")}}):e.filterValueGetter=l=>n(l.column,l.node,this.valueService.getValue(l.column,l.node));break}}}getDefaultDataTypes(){const e=s=>!!s.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:s=>{var n,i;return((i=(n=s.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:Number(s.newValue)},valueFormatter:s=>s.value==null?"":typeof s.value!="number"||isNaN(s.value)?t("invalidNumber","Invalid Number"):String(s.value),dataTypeMatcher:s=>typeof s=="number"},text:{baseDataType:"text",valueParser:s=>s.newValue===""?null:bd(s.newValue),dataTypeMatcher:s=>typeof s=="string"},boolean:{baseDataType:"boolean",valueParser:s=>{var n,i;return s.newValue==null?s.newValue:((i=(n=s.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:String(s.newValue).toLowerCase()==="true"},valueFormatter:s=>s.value==null?"":String(s.value),dataTypeMatcher:s=>typeof s=="boolean"},date:{baseDataType:"date",valueParser:s=>xn(s.newValue==null?null:String(s.newValue)),valueFormatter:s=>{var n;return s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):(n=yi(s.value,!1))!=null?n:""},dataTypeMatcher:s=>s instanceof Date},dateString:{baseDataType:"dateString",dateParser:s=>{var n;return(n=xn(s))!=null?n:void 0},dateFormatter:s=>{var n;return(n=yi(s??null,!1))!=null?n:void 0},valueParser:s=>e(String(s.newValue))?s.newValue:null,valueFormatter:s=>e(String(s.value))?s.value:"",dataTypeMatcher:s=>typeof s=="string"&&e(s)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:s=>{var n;return(n=bd(s.value))!=null?n:""}}}}};S([H("rowModel")],Yo.prototype,"rowModel",2);S([H("columnModel")],Yo.prototype,"columnModel",2);S([H("columnUtils")],Yo.prototype,"columnUtils",2);S([H("valueService")],Yo.prototype,"valueService",2);S([H("valueFormatterService")],Yo.prototype,"valueFormatterService",2);S([We],Yo.prototype,"init",1);Yo=S([ot("dataTypeService")],Yo);var Wf=class extends He{parseValue(e,t,s,n){const i=e.getColDef(),o=this.gridOptionsService.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:s,colDef:i,column:e}),r=i.valueParser;return Ge(r)?typeof r=="function"?r(o):this.expressionService.evaluate(r,o):s}};S([H("expressionService")],Wf.prototype,"expressionService",2);Wf=S([ot("valueParserService")],Wf);var ta=class extends He{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gridOptionsService.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=es.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new fS("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){const e={type:M.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const t=this.gridOptionsService.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Ua(e.source))}}};S([H("ctrlsService")],ta.prototype,"ctrlsService",2);S([H("columnModel")],ta.prototype,"columnModel",2);S([H("rowModel")],ta.prototype,"rowModel",2);S([We],ta.prototype,"postConstruct",1);ta=S([ot("syncService")],ta);var sa=class extends He{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const e={},t=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const e={},t=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,s){const n=e.newAgStackInstance(),i=this.addManagedPropertyListener(s,({currentValue:o})=>{n.then(r=>{r.refresh&&r.refresh(this.gridOptionsService.addGridCommonParams(mt({},o??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,t,i)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};S([H("userComponentFactory")],sa.prototype,"userComponentFactory",2);S([H("paginationProxy")],sa.prototype,"paginationProxy",2);S([H("columnModel")],sa.prototype,"columnModel",2);S([We],sa.prototype,"postConstruct",1);sa=S([ot("overlayService")],sa);var Tn=class extends He{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=yn(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=yn(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=yn(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(e=this.gridOptionsService.get("initialState"))!=null?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const t=this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,({source:i})=>{i==="gridInitializing"&&(t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),s=this.addManagedListener(this.eventService,M.EVENT_ROW_COUNT_READY,()=>{s==null||s(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),n=this.addManagedListener(this.eventService,M.EVENT_FIRST_DATA_RENDERED,()=>{n==null||n(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,M.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,M.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const t=(e=this.gridOptionsService.get("initialState"))!=null?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:s,rowSelection:n,pagination:i}=(e=this.gridOptionsService.get("initialState"))!=null?e:{},o=this.gridOptionsService.get("advancedFilterModel");(t||o)&&this.setFilterState(t,o),s&&this.setRowGroupExpansionState(s),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,M.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,M.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,r=>{(r.newPage||r.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:s,focusedCell:n,columnOrder:i}=(e=this.gridOptionsService.get("initialState"))!=null?e:{};n&&this.setFocusedCellState(n),s&&this.setRangeSelectionState(s),t&&this.setScrollState(t),this.setColumnPivotState(!!(i!=null&&i.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,o=>{o.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],s=[],n=[],i=[],o=[],r=[],l=[],a=[],c=[],h=this.columnModel.getColumnState();for(let d=0;d<h.length;d++){const{colId:p,sort:g,sortIndex:m,rowGroup:f,rowGroupIndex:C,aggFunc:v,pivot:y,pivotIndex:w,pinned:b,hide:T,width:E,flex:P}=h[d];c.push(p),g&&(t[m??0]={colId:p,sort:g}),f&&(s[C??0]=p),typeof v=="string"&&n.push({colId:p,aggFunc:v}),y&&(i[w??0]=p),b&&(b==="right"?r:o).push(p),T&&l.push(p),(P||E)&&a.push({colId:p,flex:P??void 0,width:E})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:s.length?{groupColIds:s}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:i.length||e?{pivotMode:e,pivotColIds:i}:void 0,columnPinning:o.length||r.length?{leftColIds:o,rightColIds:r}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:a.length?{columnSizingModel:a}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:s,aggregation:n,pivot:i,columnPinning:o,columnVisibility:r,columnSizing:l,columnOrder:a}=e,c={},h=m=>{let f=c[m];return f||(f={colId:m},c[m]=f,f)};t&&t.sortModel.forEach(({colId:m,sort:f},C)=>{const v=h(m);v.sort=f,v.sortIndex=C}),s&&s.groupColIds.forEach((m,f)=>{const C=h(m);C.rowGroup=!0,C.rowGroupIndex=f}),n&&n.aggregationModel.forEach(({colId:m,aggFunc:f})=>{h(m).aggFunc=f}),i&&(i.pivotColIds.forEach((m,f)=>{const C=h(m);C.pivot=!0,C.pivotIndex=f}),this.gridOptionsService.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach(m=>{h(m).pinned="left"}),o.rightColIds.forEach(m=>{h(m).pinned="right"})),r&&r.hiddenColIds.forEach(m=>{h(m).hide=!0}),l&&l.columnSizingModel.forEach(({colId:m,flex:f,width:C})=>{const v=h(m);v.flex=f??null,v.width=C});const d=a==null?void 0:a.orderedColIds,p=!!(d!=null&&d.length),g=p?d.map(m=>h(m)):Object.values(c);if(g.length){this.columnStates=g;const m={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:g,applyOrder:p,defaultState:m},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const s=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(t){let n=[];for(const i of t)this.columnModel.getSecondaryColumn(i.colId)&&n.push(i);this.columnModel.applyColumnState({state:n,applyOrder:e},"gridInitializing")}s&&this.columnModel.setColumnGroupState(s,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),t=[];return e.forEach(({groupId:s,open:n})=>{n&&t.push(s)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;const s=new Set((t=e.columnGroup)==null?void 0:t.openColumnGroupIds),i=this.columnModel.getColumnGroupState().map(({groupId:o})=>{const r=s.has(o);return r&&s.delete(o),{groupId:o,open:r}});s.forEach(o=>{i.push({groupId:o,open:!0})}),i.length&&(this.columnGroupStates=i),this.columnModel.setColumnGroupState(i,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const s=(e=this.filterManager.getAdvancedFilterModel())!=null?e:void 0;return t||s?{filterModel:t,advancedFilterModel:s}:void 0}setFilterState(e,t){const{filterModel:s,advancedFilterModel:n}=e??{advancedFilterModel:t};s&&this.filterManager.setFilterModel(s,"columnFilter"),n&&this.filterManager.setAdvancedFilterModel(n)}getRangeSelectionState(){var e;const t=(e=this.rangeService)==null?void 0:e.getCellRanges().map(s=>{const{id:n,type:i,startRow:o,endRow:r,columns:l,startColumn:a}=s;return{id:n,type:i,startRow:o,endRow:r,colIds:l.map(c=>c.getColId()),startColId:a.getColId()}});return t!=null&&t.length?{cellRanges:t}:void 0}setRangeSelectionState(e){var t;if(!this.gridOptionsService.get("enableRangeSelection"))return;const s=e.cellRanges.map(n=>vs(mt({},n),{columns:n.colIds.map(i=>this.columnModel.getGridColumn(i)),startColumn:this.columnModel.getGridColumn(n.startColId)}));(t=this.rangeService)==null||t.setCellRanges(s)}getScrollState(){var e,t,s;if(!this.isClientSideRowModel)return;const n=(e=this.ctrlsService.getGridBodyCtrl())==null?void 0:e.getScrollFeature(),{left:i}=(t=n==null?void 0:n.getHScrollPosition())!=null?t:{left:0},{top:o}=(s=n==null?void 0:n.getVScrollPosition())!=null?s:{top:0};return o||i?{top:o,left:i}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:s,left:n}=e;(t=this.ctrlsService.getGridBodyCtrl())==null||t.getScrollFeature().setScrollPosition(s,n)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:s,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:s,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:s,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:s,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),t=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((e=t==null?void 0:t.toggledNodes)!=null&&e.length)?void 0:t}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let s=!1;Object.entries(t).forEach(([n,i])=>{xC(i,this.cachedState[n])||(s=!0)}),this.cachedState=mt(mt({},this.cachedState),t),s&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const s=this.cachedState[e];this.setCachedStateValue(e,t),xC(t,s)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=vs(mt({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const t={type:M.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};S([H("filterManager")],Tn.prototype,"filterManager",2);S([qt("rangeService")],Tn.prototype,"rangeService",2);S([H("ctrlsService")],Tn.prototype,"ctrlsService",2);S([qt("sideBarService")],Tn.prototype,"sideBarService",2);S([H("focusService")],Tn.prototype,"focusService",2);S([H("columnModel")],Tn.prototype,"columnModel",2);S([H("paginationProxy")],Tn.prototype,"paginationProxy",2);S([H("rowModel")],Tn.prototype,"rowModel",2);S([H("selectionService")],Tn.prototype,"selectionService",2);S([H("expansionService")],Tn.prototype,"expansionService",2);S([H("columnAnimationService")],Tn.prototype,"columnAnimationService",2);S([We],Tn.prototype,"postConstruct",1);Tn=S([ot("stateService")],Tn);var $d=class extends He{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Oue)}processColumnDefs(e){this.processOptions(e,Ka)}processOptions(e,t){const{validations:s,deprecations:n,allProperties:i,propertyExceptions:o,objectName:r,docsUrl:l}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],i,r,l);const a=new Set;Object.keys(e).forEach(h=>{var d;const p=n[h];if(p)if("renamed"in p){const{renamed:w,version:b}=p;a.add(`As of v${b}, ${String(h)} is deprecated. Please use ${String(w)} instead.`),e[w]=e[h]}else{const{message:w,version:b}=p;a.add(`As of v${b}, ${String(h)} is deprecated. ${w??""}`)}const g=e[h];if(g==null||g===!1)return;const m=s[h];let f;if(m)if(typeof m=="function"){const w=m(e,this.gridOptions);if(!w)return;if("objectName"in w){const b=e[h];if(Array.isArray(b)){b.forEach(T=>{this.processOptions(T,w)});return}this.processOptions(e[h],w);return}f=w}else f=m;else return;const{module:C,dependencies:v,supportedRowModels:y}=f;if(y){const w=(d=this.gridOptions.rowModelType)!=null?d:"clientSide";if(!y.includes(w)){a.add(`${String(h)} is not supported with the '${w}' row model.`);return}}if(C){const w=Array.isArray(C)?C:[C];let b=!0;if(w.forEach(T=>{es.__assertRegistered(T,String(h),this.context.getGridId())||(b=!1,a.add(`${String(h)} is only available when ${T} is loaded.`))}),!b)return}if(v){const w=this.checkForWarning(h,v,e);if(w){a.add(w);return}}}),a.size>0&&a.forEach(h=>{St(h)})}checkForWarning(e,t,s){if(typeof t=="function")return t(s,this.gridOptions);const i=Object.entries(t).find(([l,a])=>{const c=s[l];return!a.includes(c)});if(!i)return null;const[o,r]=i;return r.length>1?`'${String(e)}' requires '${o}' to be one of [${r.join(", ")}].`:`'${String(e)}' requires '${o}' to be ${r[0]}.`}checkProperties(e,t,s,n,i){const o=["__ob__","__v_skip","__metadata__"],r=VI(Object.getOwnPropertyNames(e),[...o,...t,...s],s);if(ln(r,(l,a)=>{St(`invalid ${n} property '${l}' did you mean any of these: ${a.slice(0,8).join(", ")}`)}),Object.keys(r).length>0&&i){const l=this.getFrameworkOverrides().getDocLink(i);St(`to see all the valid ${n} properties please check: ${l}`)}}};S([H("gridOptions")],$d.prototype,"gridOptions",2);S([We],$d.prototype,"init",1);$d=S([ot("validationService")],$d);var zf=class extends He{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Cb(this.getFrameworkOverrides())}addEventListener(e,t){const s=this.frameworkEventWrappingService.wrap(t),n=this.gridOptionsService.useAsyncEvents()&&!Hp.has(e),i=n?this.asyncEventListeners:this.syncEventListeners;i.has(e)||i.set(e,new Set),i.get(e).add(s),this.eventService.addEventListener(e,s,n)}removeEventListener(e,t){var s;const n=this.frameworkEventWrappingService.unwrap(t),i=this.asyncEventListeners.get(e),o=!!(i!=null&&i.delete(n));o||(s=this.syncEventListeners.get(e))==null||s.delete(n),this.eventService.removeEventListener(e,n,o)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gridOptionsService.useAsyncEvents()){const n=(o,r)=>{Hp.has(o)&&t(o,r)},i=(o,r)=>{Hp.has(o)||t(o,r)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:i}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:i}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(i,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((s,n)=>{s.forEach(i=>this.eventService.removeEventListener(n,i,t)),s.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(s=>this.eventService.removeGlobalListener(s,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}};S([We],zf.prototype,"postConstruct",1);zf=S([ot("apiEventService")],zf);var _h=class extends Mt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Fs(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),s=!t||!e.includes(t);s&&(e.unshift(""),St(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const n=this.localeService.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),o=e.map(l=>({value:String(l),text:String(l)})),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new jg).addOptions(o).setValue(String(s?"":t)).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=s}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(t)||!this.validateValues(t)?e:[...t].sort((s,n)=>s-n)}validateValues(e){if(!e.length)return St(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){const s=e[t],n=typeof s=="number",i=s>0;if(!n)return St(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!i)return St(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};S([H("localeService")],_h.prototype,"localeService",2);S([H("gridOptionsService")],_h.prototype,"gridOptionsService",2);S([H("paginationProxy")],_h.prototype,"paginationProxy",2);S([We],_h.prototype,"init",1);var Wd=class extends He{constructor(){super(),this.descriptionContainer=null,this.announceValue=yn(this.announceValue.bind(this),200)}postConstruct(){const e=this.gridOptionsService.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),Sb(t,"polite"),hI(t,"additions text"),dI(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Fs(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};S([H("eGridDiv")],Wd.prototype,"eGridDiv",2);S([We],Wd.prototype,"postConstruct",1);Wd=S([ot("ariaAnnouncementService")],Wd);function Mue(e,t,s){if(!t)return lo("No gridOptions provided to createGrid"),{};const n=Zt.getCoercedGridOptions(t),i=new Fue().create(e,n,o=>{const r=new uc(e);o.createBean(r)},void 0,s);if(!Object.isFrozen(t)&&!(s!=null&&s.frameworkOverrides)){const o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{lo(`gridOptions.api is no longer supported. See ${o}.`)},configurable:!0}),Object.defineProperty(t,"columnApi",{get:()=>{lo(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${o}.`)},configurable:!0})}return i}var Iue=1,Fue=class{create(e,t,s,n,i){var o;const r=!!t.debug,l=(o=t.gridId)!=null?o:String(Iue++),a=this.getRegisteredModules(i,l),c=this.createBeansList(t.rowModelType,a,l),h=this.createProvidedBeans(e,t,i);if(!c){lo("Failed to create grid.");return}const d={providedBeanInstances:h,beanClasses:c,debug:r,gridId:l},p=new fS("Context",()=>d.debug),g=new $re(d,p),m=g.getBean("beans");return this.registerModuleUserComponents(m,a),this.registerStackComponents(m,a),this.registerControllers(m,a),s(g),m.syncService.start(),n&&n(g),m.gridApi}registerControllers(e,t){t.forEach(s=>{s.controllers&&s.controllers.forEach(n=>e.ctrlsFactory.register(n))})}registerStackComponents(e,t){const s=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(s)}getRegisteredModules(e,t){const s=e?e.modules:null,n=es.__getRegisteredModules(t),i=[],o={},r=(l,a,c)=>{(d=>{o[d.moduleName]||(o[d.moduleName]=!0,i.push(d),es.__register(d,l,c))})(a),a.dependantModules&&a.dependantModules.forEach(d=>r(l,d,c))};return s&&s.forEach(l=>r(!0,l,t)),n&&n.forEach(l=>r(!es.__isPackageBased(),l,void 0)),i}registerModuleUserComponents(e,t){this.extractModuleEntity(t,n=>n.userComponents?n.userComponents:[]).forEach(n=>{e.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})}createProvidedBeans(e,t,s){let n=s?s.frameworkOverrides:null;Rt(n)&&(n=new nL);const i={gridOptions:t,eGridDiv:e,globalEventListener:s?s.globalEventListener:null,globalSyncEventListener:s?s.globalSyncEventListener:null,frameworkOverrides:n};return s&&s.providedBeanInstances&&Object.assign(i,s.providedBeanInstances),i}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:Yg},{componentName:"AgRadioButton",componentClass:nF},{componentName:"AgToggleButton",componentClass:QF},{componentName:"AgInputTextField",componentClass:ga},{componentName:"AgInputTextArea",componentClass:nue},{componentName:"AgInputNumberField",componentClass:Xb},{componentName:"AgInputDateField",componentClass:iue},{componentName:"AgInputRange",componentClass:oue},{componentName:"AgRichSelect",componentClass:hS},{componentName:"AgSelect",componentClass:jg},{componentName:"AgSlider",componentClass:lue},{componentName:"AgGridBody",componentClass:Ao},{componentName:"AgHeaderRoot",componentClass:eue},{componentName:"AgSortIndicator",componentClass:Zb},{componentName:"AgPagination",componentClass:Un},{componentName:"AgPageSizeSelector",componentClass:_h},{componentName:"AgOverlayWrapper",componentClass:Sue},{componentName:"AgGroupComponent",componentClass:aue},{componentName:"AgRowContainer",componentClass:tc},{componentName:"AgFakeHorizontalScroll",componentClass:Eue},{componentName:"AgFakeVerticalScroll",componentClass:_ue},{componentName:"AgAutocomplete",componentClass:fue}];const s=this.extractModuleEntity(e,n=>n.agStackComponents?n.agStackComponents:[]);return t=t.concat(s),t}createBeansList(e="clientSide",t,s){const n=t.filter(a=>!a.rowModel||a.rowModel===e),i={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!i[e]){lo("Could not find row model for rowModelType = "+e);return}if(!es.__assertRegistered(i[e],`rowModelType = '${e}'`,s))return;const o=[Pt,Gu,ry,Vd,Lu,Vt,Od,$f,kd,ey,Br,xu,Md,uy,$d,Fd,_d,WC,Ui,Zt,jo,Jl,Pi,js,Xl,Ld,oi,Vf,Au,iy,Zl,pn,Bf,zr,Hf,$C,Ql,$r,It,Nd,os,Ho,Gd,Wr,kf,Gf,Iu,ea,oy,xd,ku,Ed,Nu,Fu,Oi,zC,ly,Hd,wo,Vu,Kc,Bd,Hu,ay,Yo,Wf,Gn,ta,sa,Tn,Id,zf,Wd,Yi],r=this.extractModuleEntity(n,a=>a.beans?a.beans:[]);o.push(...r);const l=[];return o.forEach(a=>{l.indexOf(a)<0&&l.push(a)}),l}extractModuleEntity(e,t){return[].concat(...e.map(t))}},Lue=class{wrap(e,t,s=[],n){const i=this.createWrapper(e,n);return t.forEach(o=>{this.createMethod(i,o,!0)}),s.forEach(o=>{this.createMethod(i,o,!1)}),i}unwrap(e){return e}createMethod(e,t,s){e.addMethod(t,this.createMethodProxy(e,t,s))}createMethodProxy(e,t,s){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},cc=typeof global>"u"?{}:global;cc.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;cc.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;cc.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;cc.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;cc.Node=typeof Node>"u"?{}:Node;cc.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var mS=class _c{constructor(t,s,n,i,o,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=s,this.eventService=n,this.columnModel=i,this.beans=r,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=_c.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return xt.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const s=this.rootNode,n=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterAggFilter=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?s.allLeafChildren=t.map(i=>this.createNode(i,this.rootNode,_c.TOP_LEVEL)):(s.allLeafChildren=[],s.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=s.childrenAfterFilter,n.childrenAfterGroup=s.childrenAfterGroup,n.childrenAfterAggFilter=s.childrenAfterAggFilter,n.childrenAfterSort=s.childrenAfterSort,n.childrenMapped=s.childrenMapped,n.allLeafChildren=s.allLeafChildren)}updateRowData(t,s){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i,"rowDataChanged"),s&&xt.sortRowNodesByOrder(this.rootNode.allLeafChildren,s),n}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){const s={type:M.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(s)}updateSelection(t,s){const n=t.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:s}),this.selectionService.updateGroupsFromChildrenSelections(s),n){const i={type:M.EVENT_SELECTION_CHANGED,source:s};this.eventService.dispatchEvent(i)}}executeAdd(t,s){var n;const{add:i,addIndex:o}=t;if(xt.missingOrEmpty(i))return;const r=i.map(l=>this.createNode(l,this.rootNode,_c.TOP_LEVEL));if(typeof o=="number"&&o>=0){const{allLeafChildren:l}=this.rootNode,a=l.length;let c=o;if(this.gridOptionsService.get("treeData")&&o>0&&a>0){for(let g=0;g<a;g++)if(((n=l[g])==null?void 0:n.rowIndex)==o-1){c=g+1;break}}const d=l.slice(0,c),p=l.slice(c,l.length);this.rootNode.allLeafChildren=[...d,...r,...p]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...r];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),s.add=r}executeRemove(t,s,n){const{remove:i}=t;if(xt.missingOrEmpty(i))return;const o={};i.forEach(r=>{const l=this.lookupRowNode(r);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),o[l.id]=!0,delete this.allNodesMap[l.id],s.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(r=>!o[r.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,s,n){const{update:i}=t;xt.missingOrEmpty(i)||i.forEach(o=>{const r=this.lookupRowNode(o);r&&(r.updateData(o),!r.selectable&&r.isSelected()&&n.push(r),this.setMasterForRow(r,o,_c.TOP_LEVEL,!1),s.update.push(r))})}lookupRowNode(t){const s=this.gridOptionsService.getCallback("getRowId");let n;if(s){const i=s({data:t,level:0});if(n=this.allNodesMap[i],!n)return console.error(`AG Grid: could not find row id=${i}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren.find(i=>i.data===t),!n)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(t,s,n){const i=new Nt(this.beans);i.group=!1,this.setMasterForRow(i,t,n,!0);const o=this.gridOptionsService.get("suppressParentsInRowNodes");return s&&!o&&(i.parent=s),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn(`AG Grid: duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(t,s,n,i){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),i&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const l=this.gridOptionsService.get("isRowMaster");l?t.setMaster(l(s)):t.setMaster(!0)}else t.setMaster(!1);if(i){const l=this.columnModel.getRowGroupColumns(),a=l?l.length:0,c=n+a;t.expanded=t.master?this.isExpanded(c):!1}}}isExpanded(t){const s=this.gridOptionsService.get("groupDefaultExpanded");return s===-1?!0:t<s}};mS.TOP_LEVEL=0;mS.ROOT_NODE_ID="ROOT_NODE_ID";var Nue=mS,fn=class extends He{constructor(){super(...arguments),this.onRowHeightChanged_debounced=xt.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gridOptionsService.get("suppressAnimationFrame"),s=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,s),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new Nt(this.beans),this.nodeManager=new Nue(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),s=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),o=new Set(["postSortRows","groupDisplayType","accentedSort"]),r=new Set([]),l=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),a=[...e,...t,...s,...n,...n,...i,...o,...r,...l];this.addManagedPropertyListeners(a,c=>{var h;const d=(h=c.changeSet)==null?void 0:h.properties;if(!d)return;const p=g=>d.some(m=>g.has(m));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(g=>g.data));return}if(p(t)){this.refreshModel({step:"group"});return}if(p(s)){this.refreshModel({step:"filter"});return}if(p(n)){this.refreshModel({step:"pivot"});return}if(p(i)){this.refreshModel({step:"aggregate"});return}if(p(o)){this.refreshModel({step:"sort"});return}if(p(r)){this.refreshModel({step:"filter_aggregates"});return}p(l)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,s,n){let i,o=!1;do{i=!1;const r=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),a=Math.max(r,s),c=Math.min(l,n);for(let h=a;h<=c;h++){const d=this.getRow(h);if(d.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(p.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const s=new Set,n=this.gridOptionsService.isDomLayout("normal");for(let i=0;i<this.rowsToDisplay.length;i++){const o=this.rowsToDisplay[i];if(o.id!=null&&s.add(o.id),o.rowHeight==null){const r=this.gridOptionsService.getRowHeightForNode(o,n,e);o.setRowHeight(r.height,r.estimated)}o.setRowTop(t),o.setRowIndex(i),t+=o.rowHeight}return s}clearRowTopAndRowIndex(e,t){const s=e.isActive(),n=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{if(n(o),n(o.detailNode),n(o.sibling),o.hasChildren()&&o.childrenAfterGroup){const r=o.level==-1;s&&!r&&!o.expanded||o.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,s=0){const n=this.getRowIndexAtPixel(t),i=this.getRow(n),o=!this.gridOptionsService.get("suppressAnimationFrame");return i===e[0]?!1:(e.forEach(r=>{xt.removeFromArray(this.rootNode.allLeafChildren,r)}),e.forEach((r,l)=>{xt.insertIntoArray(this.rootNode.allLeafChildren,r,Math.max(n+s,0)+l)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:o}),!0)}highlightRowAtPixel(e,t){const s=t!=null?this.getRowIndexAtPixel(t):null,n=s!=null?this.getRow(s):null;if(!n||!e||n===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const i=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return 1}const{rowTop:s,rowHeight:n}=t;return e-s<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let s=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(xt.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=xt.missingOrEmpty(e),s=new rm(!1,this.rootNode);return(t||this.gridOptionsService.get("treeData"))&&s.setInactive(),s}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const s={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(xt.exists(e)&&(t=s[e]),xt.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(s).join(", ")}`);return}const n=!this.gridOptionsService.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const s=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,s,!!t.afterColumnsChanged);case"filter":this.doFilter(s);case"pivot":this.doPivot(s);case"aggregate":this.doAggregate(s);case"filter_aggregates":this.doFilterAggregates(s);case"sort":this.doSort(t.rowNodeTransactions,s);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(s,n),this.isRefreshingModel=!1;const i={type:M.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(i)}isEmpty(){const e=xt.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return xt.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return xt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let s=!t,n=!1;const i=[],o=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(r=>{if(n)return;if(s&&(r===t||r===e)&&(n=!0,r.group&&o)){i.push(...r.allLeafChildren);return}if(!s){if(r!==t&&r!==e)return;s=!0}if(!r.group||!o){i.push(r);return}}),i}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,s=this.rowsToDisplay.length-1;if(e<=0)return 0;if(xt.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let i=-1,o=-1;for(;;){const r=Math.floor((t+s)/2),l=this.rowsToDisplay[r];if(this.isRowInPixel(l,e)||(l.rowTop<e?t=r+1:l.rowTop>e&&(s=r-1),i===t&&o===s))return r;i=t,o=s}}isRowInPixel(e,t){const s=e.rowTop,n=e.rowTop+e.rowHeight;return s<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,s)=>e(t,s))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:s,callback:n,recursionType:i,includeFooterNodes:o}=e;let{index:r}=e;for(let c=0;c<s.length;c++){const h=s[c];if(n(h,r++),h.hasChildren()&&!h.footer){let d=null;switch(i){case 0:d=h.childrenAfterGroup;break;case 1:d=h.childrenAfterAggFilter;break;case 2:d=h.childrenAfterSort;break;case 3:d=h.leafGroup?null:h.childrenAfterSort;break}d&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:n,recursionType:i,index:r,includeFooterNodes:o}))}}const l=(t=s[0])==null?void 0:t.parent;if(!o||!l)return r;if(l===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return r}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:l}))return r;return l.createFooter(),n(l.sibling,r++),r}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.get("treeData"),s=this.columnModel.isPivotActive(),n=r=>{r&&r.forEach(l=>{const a=()=>{l.expanded=e,n(l.childrenAfterGroup)};if(t){xt.exists(l.childrenAfterGroup)&&a();return}if(s){!l.leafGroup&&a();return}l.group&&a()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const i=e?"expandAll":"collapseAll",o={type:M.EVENT_EXPAND_COLLAPSE_ALL,source:i};this.eventService.dispatchEvent(o)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,s,n){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:s}):this.groupStage.execute({rowNode:this.rootNode,changedPath:s,afterColumnsChanged:n}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",s)){const o={type:M.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(o)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(Nt.ID_PREFIX_ROW_GROUP)==0){let s;return this.forEachNode(n=>{n.id===e&&(s=n)}),s}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const e={type:M.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const s=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let s=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const i=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(i),n.callback&&e.push(n.callback.bind(null,i)),typeof n.rowDataTransaction.addIndex=="number"&&(s=!0)}),this.commonUpdateRowData(t,void 0,s),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0){const n={type:M.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(n)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const s=this.nodeManager.updateRowData(e,t),n=typeof e.addIndex=="number";return this.commonUpdateRowData([s],t,n),s}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let s=0;s<this.rootNode.allLeafChildren.length;s++){const n=this.rootNode.allLeafChildren[s];t[n.id]=s}return t}commonUpdateRowData(e,t,s){if(!this.hasStarted)return;const n=!this.gridOptionsService.get("suppressAnimationFrame");s&&(t=this.createRowNodeOrder());const i={type:M.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const s=t.detailNode;s&&s.setRowHeight(s.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};S([H("columnModel")],fn.prototype,"columnModel",2);S([H("selectionService")],fn.prototype,"selectionService",2);S([H("filterManager")],fn.prototype,"filterManager",2);S([H("valueCache")],fn.prototype,"valueCache",2);S([H("beans")],fn.prototype,"beans",2);S([H("filterStage")],fn.prototype,"filterStage",2);S([H("sortStage")],fn.prototype,"sortStage",2);S([H("flattenStage")],fn.prototype,"flattenStage",2);S([qt("groupStage")],fn.prototype,"groupStage",2);S([qt("aggregationStage")],fn.prototype,"aggregationStage",2);S([qt("pivotStage")],fn.prototype,"pivotStage",2);S([qt("filterAggregatesStage")],fn.prototype,"filterAggregatesStage",2);S([We],fn.prototype,"init",1);fn=S([ot("rowModel")],fn);var Uf=class extends He{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};S([H("filterService")],Uf.prototype,"filterService",2);Uf=S([ot("filterStage")],Uf);var zd=class extends He{execute(e){const t=this.sortController.getSortOptions(),s=xt.exists(t)&&t.length>0,n=s&&xt.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),i=t.some(o=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?o.column.isPrimary()&&o.column.isRowGroupActive():!!o.column.getColDef().showRowGroup);this.sortService.sort(t,s,n,e.rowNodeTransactions,e.changedPath,i)}};S([H("sortService")],zd.prototype,"sortService",2);S([H("sortController")],zd.prototype,"sortController",2);zd=S([ot("sortStage")],zd);var Ud=class extends He{execute(e){const t=e.rowNode,s=[],n=this.columnModel.isPivotMode(),i=n&&t.leafGroup,o=i?[t]:t.childrenAfterSort,r=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(r,o,s,n,0);const l=s.length>0;return!i&&l&&r.groupIncludeTotalFooter&&(t.createFooter(),this.addRowNodeToRowsToDisplay(r,t.sibling,s,0)),s}getFlattenDetails(){const e=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(e,t,s,n,i){if(!xt.missingOrEmpty(t))for(let o=0;o<t.length;o++){const r=t[o],l=r.hasChildren(),a=n&&!l,c=e.groupRemoveSingleChildren&&l&&r.childrenAfterGroup.length===1,h=e.groupRemoveLowestSingleChildren&&l&&r.leafGroup&&r.childrenAfterGroup.length===1,d=n&&r.leafGroup,p=e.hideOpenParents&&r.expanded&&!r.master&&!d;if(!a&&!p&&!c&&!h&&this.addRowNodeToRowsToDisplay(e,r,s,i),!(n&&r.leafGroup)){if(l){const m=c||h;if(r.expanded||m){const f=m?i:i+1;this.recursivelyAddToRowsToDisplay(e,r.childrenAfterSort,s,n,f),e.getGroupIncludeFooter({node:r})?(r.createFooter(),this.addRowNodeToRowsToDisplay(e,r.sibling,s,f)):r.destroyFooter()}}else if(r.master&&r.expanded){const m=this.createDetailNode(r);this.addRowNodeToRowsToDisplay(e,m,s,i)}}}}addRowNodeToRowsToDisplay(e,t,s,n){s.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(xt.exists(e.detailNode))return e.detailNode;const t=new Nt(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,xt.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};S([H("columnModel")],Ud.prototype,"columnModel",2);S([H("beans")],Ud.prototype,"beans",2);Ud=S([ot("flattenStage")],Ud);var Kd=class extends He{sort(e,t,s,n,i,o){const r=this.gridOptionsService.get("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some(p=>p.isRowGroupActive());let a={};s&&n&&(a=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),h=this.gridOptionsService.getCallback("postSortRows"),d=p=>{var g;this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);const m=c&&p.leafGroup;if(r&&l&&!p.leafGroup&&!o){const C=(g=this.columnModel.getRowGroupColumns())==null?void 0:g[p.level+1],v=(C==null?void 0:C.getSort())===null,y=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort&&!v){const w={};p.childrenAfterSort.forEach((b,T)=>{w[b.id]=T}),y.sort((b,T)=>{var E,P;return((E=w[b.id])!=null?E:0)-((P=w[T.id])!=null?P:0)})}p.childrenAfterSort=y}else!t||m?p.childrenAfterSort=p.childrenAfterAggFilter.slice(0):s?p.childrenAfterSort=this.doDeltaSort(p,a,i,e):p.childrenAfterSort=this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,e);if(p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),h){const C={nodes:p.childrenAfterSort};h(C)}};i&&i.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(i)}calculateDirtyNodes(e){const t={},s=n=>{n&&n.forEach(i=>t[i.id]=!0)};return e&&e.forEach(n=>{s(n.add),s(n.update),s(n.remove)}),t}doDeltaSort(e,t,s,n){const i=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(i,n);const r={},l=[];i.forEach(d=>{t[d.id]||!s.canSkip(d)?l.push(d):r[d.id]=!0});const a=o.filter(d=>r[d.id]),c=(d,p)=>({currentPos:p,rowNode:d}),h=l.map(c).sort((d,p)=>this.rowNodeSorter.compareRowNodes(n,d,p));return this.mergeSortedArrays(n,h,a.map(c)).map(({rowNode:d})=>d)}mergeSortedArrays(e,t,s){const n=[];let i=0,o=0;for(;i<t.length&&o<s.length;)this.rowNodeSorter.compareRowNodes(e,t[i],s[o])<0?n.push(t[i++]):n.push(s[o++]);for(;i<t.length;)n.push(t[i++]);for(;o<s.length;)n.push(s[o++]);return n}updateChildIndexes(e){if(xt.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let s=0;s<t.length;s++){const n=t[s],i=s===0,o=s===e.childrenAfterSort.length-1;n.setFirstChild(i),n.setLastChild(o),n.setChildIndex(s)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return xt.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=s=>{this.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(s=>t(s))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.get("groupHideOpenParents")||xt.missing(e)||e.forEach(s=>{this.columnModel.getGroupDisplayColumns().forEach(i=>{const o=i.getColDef().showRowGroup;if(typeof o!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const r=o,l=this.columnModel.getPrimaryColumn(r);if(l!==s.rowGroupColumn)if(t)s.setGroupValue(i.getId(),void 0);else{const c=s.getFirstChildOfFirstChild(l);c&&s.setGroupValue(i.getId(),c.key)}})})}};S([H("columnModel")],Kd.prototype,"columnModel",2);S([H("rowNodeSorter")],Kd.prototype,"rowNodeSorter",2);Kd=S([ot("sortService")],Kd);var Kf=class extends He{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const s=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{const r=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,l=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return r||l}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(o,r)=>{if(o.childrenAfterGroup)for(let l=0;l<o.childrenAfterGroup.length;l++){const a=o.childrenAfterGroup[l],c=r||this.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?n(o.childrenAfterGroup[l],c):s(a,c)}s(o,r)},i=o=>n(o,!1);t.executeFromRootNode(i)}else{const n=i=>s(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};S([H("filterManager")],Kf.prototype,"filterManager",2);Kf=S([ot("filterService")],Kf);var na=class extends He{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[s,n]=t;this.clientSideRowModel.updateRowData(s,n)}createTransactionForRowData(e){if(xt.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gridOptionsService.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const s={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return xt.exists(e)&&e.forEach((r,l)=>{const a=t({data:r,level:0}),c=n[a];o&&(o[a]=l),c?(c.data!==r&&s.update.push(r),n[a]=void 0):s.add.push(r)}),xt.iterateObject(n,(r,l)=>{l&&s.remove.push(l.data)}),[s,o]}onRowDataUpdated(){const e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};S([H("rowModel")],na.prototype,"rowModel",2);S([H("rowRenderer")],na.prototype,"rowRenderer",2);S([H("selectionService")],na.prototype,"selectionService",2);S([We],na.prototype,"postConstruct",1);na=S([ot("immutableService")],na);var xue="31.2.0",kue={version:xue,moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[fn,Uf,zd,Ud,Kd,Kf,na]},Gue=Object.defineProperty,Vue=Object.getOwnPropertyDescriptor,_n=(e,t,s,n)=>{for(var i=n>1?void 0:n?Vue(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(i=(n?r(t,s,i):r(i))||i);return n&&i&&Gue(t,s,i),i},Hue=(e,t)=>(s,n)=>t(s,n,e),jd=class extends ty{constructor(e,t,s){super(e),this.parentCache=t,this.params=s,this.startRow=e*s.blockSize,this.endRow=this.startRow+s.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,s){xt.exists(t)?e.setDataAndId(t,s.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(xt.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(e,t,s){this.rowNodes.forEach((n,i)=>{this.startRow+i<s&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const s=e-this.startRow;return this.rowNodes[s]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,s=new Nt(this.beans);s.setRowHeight(this.params.rowHeight),s.uiLevel=0,s.setRowIndex(t),s.setRowTop(this.params.rowHeight*t),this.rowNodes.push(s)}}processServerResult(e){this.rowNodes.forEach((s,n)=>{const i=e.rowData?e.rowData[n]:void 0;!s.id&&s.alreadyRendered&&i&&(this.rowNodes[n]=new Nt(this.beans),this.rowNodes[n].setRowIndex(s.rowIndex),this.rowNodes[n].setRowTop(s.rowTop),this.rowNodes[n].setRowHeight(s.rowHeight),s.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],i,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}};_n([H("beans")],jd.prototype,"beans",2);_n([We],jd.prototype,"postConstruct",1);_n([An],jd.prototype,"destroyRowNodes",1);var dc=class uL extends He{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,s=!1){const n=Math.floor(t/this.params.blockSize);let i=this.blocks[n];if(!i){if(s)return;i=this.createBlock(n)}return i.getRow(t)}createBlock(t){const s=this.createBean(new jd(t,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(s=>s.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,s){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${s}`),this.checkRowCount(t,s),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const s=this.getBlocksInOrder().filter(l=>l!=t),n=(l,a)=>a.getLastAccessed()-l.getLastAccessed();s.sort(n);const i=this.params.maxBlocksInCache>0,o=i?this.params.maxBlocksInCache-1:null,r=uL.MAX_EMPTY_BLOCKS_TO_KEEP-1;s.forEach((l,a)=>{const c=l.getState()===jd.STATE_WAITING_TO_LOAD&&a>=r,h=i?a>=o:!1;if(c||h){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(t){const s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||s.rowPinned!=null)return!1;const n=t.getStartRow(),i=t.getEndRow();return s.rowIndex>=n&&s.rowIndex<i}isBlockCurrentlyDisplayed(t){const s=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,n)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,s){if(typeof s=="number"&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const i=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}}setRowCount(t,s){this.rowCount=t,xt.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const s=new Mu;this.getBlocksInOrder().forEach(n=>n.forEachNode(t,s,this.rowCount))}getBlocksInOrder(){const t=(n,i)=>n.getId()-i.getId();return xt.getAllValuesInObject(this.blocks).sort(t)}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const t={type:M.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(s=>{s.getId()*this.params.blockSize>=this.rowCount&&t.push(s)}),t.length>0&&t.forEach(s=>this.destroyBlock(s))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,s){const n=[];let i=-1,o=!1;const r=new Mu;xt.missing(t)&&(o=!0);let l=!1;return this.getBlocksInOrder().forEach(c=>{if(!l){if(o&&i+1!==c.getId()){l=!0;return}i=c.getId(),c.forEachNode(h=>{const d=h===t||h===s;(o||d)&&n.push(h),d&&(o=!o)},r,this.rowCount)}}),l||o?[]:n}};dc.MAX_EMPTY_BLOCKS_TO_KEEP=2;_n([H("rowRenderer")],dc.prototype,"rowRenderer",2);_n([H("focusService")],dc.prototype,"focusService",2);_n([Hue(0,gi("loggerFactory"))],dc.prototype,"setBeans",1);_n([An],dc.prototype,"destroyAllBlocks",1);var Bue=dc,bo=class extends He{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,s,n){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&xt.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,M.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!xt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;this.gridOptionsService.getCallback("getRowId")!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:M.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Mu},this.infiniteCache=this.createBean(new Bue(this.cacheParams)),this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(s=>{s.id===e&&(t=s)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),s=this.getRowCount()-1;return t>s?s:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};_n([H("filterManager")],bo.prototype,"filterManager",2);_n([H("sortController")],bo.prototype,"sortController",2);_n([H("selectionService")],bo.prototype,"selectionService",2);_n([H("rowRenderer")],bo.prototype,"rowRenderer",2);_n([H("rowNodeBlockLoader")],bo.prototype,"rowNodeBlockLoader",2);_n([We],bo.prototype,"init",1);_n([An],bo.prototype,"destroyDatasource",1);bo=_n([ot("rowModel")],bo);var $ue="31.2.0",Wue={version:$ue,moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[bo]},zue=Object.defineProperty,Uue=Object.getOwnPropertyDescriptor,mn=(e,t,s,n)=>{for(var i=n>1?void 0:n?Uue(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(i=(n?r(t,s,i):r(i))||i);return n&&i&&zue(t,s,i),i},Kue=class{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},jue=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:s,gridOptionsService:n,valueFormatterService:i,valueParserService:o,processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:a,processRowGroupCallback:c}=e;this.columnModel=t,this.valueService=s,this.gridOptionsService=n,this.valueFormatterService=i,this.valueParserService=o,this.processCellCallback=r,this.processHeaderCallback=l,this.processGroupHeaderCallback=a,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return t??""}extractRowCellValue(e,t,s,n,i){const r=(!this.gridOptionsService.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueService.getValue(e,i);return this.processCell({accumulatedRowIndex:s,rowNode:i,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,s){var n;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((n=e.groupData)==null?void 0:n[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const r=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return s===0&&r}getHeaderName(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));const s=this.gridOptionsService.get("treeData"),n=this.gridOptionsService.get("suppressGroupMaintainValueType"),i=a=>{var c,h;if(s||n)return a.key;const d=(c=a.groupData)==null?void 0:c[e.getId()];return!d||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:(h=this.valueFormatterService.formatValue(a.rowGroupColumn,a,d))!=null?h:d},o=t.footer,r=[i(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,r.push(i(t));const l=r.reverse().join(" -> ");return o?`Total ${l}`:l}processCell(e){var t;const{accumulatedRowIndex:s,rowNode:n,column:i,value:o,processCellCallback:r,type:l}=e;return r?{value:(t=r(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:s,column:i,node:n,value:o,type:l,parseValue:a=>this.valueParserService.parseValue(i,n,a,this.valueService.getValue(i,n)),formatValue:a=>{var c;return(c=this.valueFormatterService.formatValue(i,n,a))!=null?c:a}})))!=null?t:""}:i.getColDef().useValueFormatterForExport!==!1?{value:o??"",valueFormatted:this.valueFormatterService.formatValue(i,n,o)}:{value:o??""}}},Yue=class{static download(e,t){const s=document.defaultView||window;if(!s){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const n=document.createElement("a"),i=s.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(n),s.setTimeout(()=>{s.URL.revokeObjectURL(i)},0)}},uT=`\r
`,que=class extends jue{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:s}=e;this.suppressQuotes=t,this.columnSeparator=s}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,uT),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((s,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(s.data.value||""),s.mergeAcross&&this.appendEmptyCells(s.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,s,n){s!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,s){var n;t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",s);this.result+=this.putInQuotes((n=i.valueFormatted)!=null?n:i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=uT),this.isFirstLine=!1}},So=class extends Kue{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),s=this.getData(t),n=new Blob(["\uFEFF",s],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(this.gridOptionsService.getGridCommonParams()):t.fileName;Yue.download(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const s=t?Object.assign({},e):this.getMergedParams(e);return this.getData(s)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:s,gridOptionsService:n,valueFormatterService:i,valueParserService:o}=this,{processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:a,processRowGroupCallback:c,suppressQuotes:h,columnSeparator:d}=e;return new que({columnModel:t,valueService:s,gridOptionsService:n,valueFormatterService:i,valueParserService:o,processCellCallback:r||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:a||void 0,processRowGroupCallback:c||void 0,suppressQuotes:h||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};mn([H("columnModel")],So.prototype,"columnModel",2);mn([H("valueService")],So.prototype,"valueService",2);mn([H("gridSerializer")],So.prototype,"gridSerializer",2);mn([H("gridOptionsService")],So.prototype,"gridOptionsService",2);mn([H("valueFormatterService")],So.prototype,"valueFormatterService",2);mn([H("valueParserService")],So.prototype,"valueParserService",2);mn([We],So.prototype,"postConstruct",1);So=mn([ot("csvCreator")],So);var Eo=class extends He{serialize(e,t={}){const{allColumns:s,columnKeys:n,skipRowGroups:i}=t,o=this.getColumnsToExport(s,i,n);return xt.compose(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t))(e).parse()}processRow(e,t,s,n){const i=t.shouldRowBeSkipped||(()=>!1),o=this.gridOptionsService.get("groupRemoveSingleChildren"),r=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),a=t.rowPositions!=null||!!t.onlySelected,c=this.gridOptionsService.get("groupHideOpenParents")&&!a,h=this.columnModel.isPivotMode()?n.leafGroup:!n.group,d=!!n.footer;t.skipRowGroups;const p=r&&n.leafGroup,g=n.allChildrenCount===1&&(o||p);if(!h&&!d&&(t.skipRowGroups||g||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!h&&!d||i(this.gridOptionsService.addGridCommonParams({node:n})))return;const C=e.onNewBodyRow(n);if(s.forEach((v,y)=>{C.onColumn(v,y,n)}),t.getCustomContentBelowRow){const v=t.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:n}));v&&e.addCustomContent(v)}}appendContent(e){return t=>{const s=e.appendContent;return s&&t.addCustomContent(s),t}}prependContent(e){return t=>{const s=e.prependContent;return s&&t.addCustomContent(s),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return s=>{if(!e.skipColumnGroupHeaders){const n=new tI,i=this.displayedGroupCreator.createDisplayedGroups(t,n,null);this.recursivelyAddHeaderGroups(i,s,e.processGroupHeaderCallback)}return s}}exportHeaders(e,t){return s=>{if(!e.skipColumnHeaders){const n=s.onNewHeaderRow();t.forEach((i,o)=>{n.onColumn(i,o,void 0)})}return s}}processPinnedTopRows(e,t){return s=>{const n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel.getPinnedTopRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),s}}processRows(e,t){return s=>{const n=this.rowModel,i=n.getType(),o=i==="clientSide",r=i==="serverSide",l=!o&&e.onlySelected,a=this.processRow.bind(this,s,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(h=>h.rowPinned==null).sort((h,d)=>h.rowIndex-d.rowIndex).map(h=>n.getRow(h.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())o?n.forEachPivotNode(a,!0):r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||l){const h=this.selectionService.getSelectedNodes();this.replicateSortedOrder(h),h.forEach(a)}else c==="all"?n.forEachNode(a):o||r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return s}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),s=(n,i)=>{var o,r,l,a;return n.rowIndex!=null&&i.rowIndex!=null?n.rowIndex-i.rowIndex:n.level===i.level?((o=n.parent)==null?void 0:o.id)===((r=i.parent)==null?void 0:r.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:(l=n.rowIndex)!=null?l:-1},{rowNode:i,currentPos:(a=i.rowIndex)!=null?a:-1}):s(n.parent,i.parent):n.level>i.level?s(n.parent,i):s(n,i.parent)};e.sort(s)}processPinnedBottomRows(e,t){return s=>{const n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel.getPinnedBottomRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),s}}getColumnsToExport(e=!1,t=!1,s){const n=this.columnModel.isPivotMode();if(s&&s.length)return this.columnModel.getGridColumns(s);const i=this.gridOptionsService.get("treeData");let o=[];return e&&!n?o=this.columnModel.getAllGridColumns():o=this.columnModel.getAllDisplayedColumns(),t&&!i&&(o=o.filter(r=>r.getColId()!==Pu)),o}recursivelyAddHeaderGroups(e,t,s){const n=[];e.forEach(i=>{const o=i;o.getChildren&&o.getChildren().forEach(r=>n.push(r))}),e.length>0&&e[0]instanceof Vs&&this.doAddHeaderHeader(t,e,s),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,s)}doAddHeaderHeader(e,t,s){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(o=>{const r=o;let l;s?l=s(this.gridOptionsService.addGridCommonParams({columnGroup:r})):l=this.columnModel.getDisplayNameForColumnGroup(r,"header");const a=r.getLeafColumns().reduce((c,h,d,p)=>{let g=xt.last(c);return h.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[d],c.push(g)):g&&g[1]==null&&(g[1]=d-1),d===p.length-1&&g&&g[1]==null&&(g[1]=d),c},[]);n.onColumn(r,l||"",i++,r.getLeafColumns().length-1,a)})}};mn([H("displayedGroupCreator")],Eo.prototype,"displayedGroupCreator",2);mn([H("columnModel")],Eo.prototype,"columnModel",2);mn([H("rowModel")],Eo.prototype,"rowModel",2);mn([H("pinnedRowModel")],Eo.prototype,"pinnedRowModel",2);mn([H("selectionService")],Eo.prototype,"selectionService",2);mn([H("rowNodeSorter")],Eo.prototype,"rowNodeSorter",2);mn([H("sortController")],Eo.prototype,"sortController",2);Eo=mn([ot("gridSerializer")],Eo);var Xue="31.2.0",Que={version:Xue,moduleName:"@ag-grid-community/csv-export",beans:[So,Eo]};es.__registerModules([kue,Wue,Que],!1,void 0);var Zue=Object.defineProperty,cT=Object.getOwnPropertySymbols,Jue=Object.prototype.hasOwnProperty,ece=Object.prototype.propertyIsEnumerable,dT=(e,t,s)=>t in e?Zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Sl=(e,t)=>{for(var s in t||(t={}))Jue.call(t,s)&&dT(e,s,t[s]);if(cT)for(var s of cT(t))ece.call(t,s)&&dT(e,s,t[s]);return e},tce=e=>typeof e=="symbol",sce=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})};new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tce));function Kp(e){const t=e&&e.__v_raw;return t?Kp(t):e}function fv(e){return Object.isExtensible(e)&&sce(e,"__v_skip",!0),e}var nce=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ice=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,oce=()=>{const e={};di.PUBLIC_EVENTS.map(i=>ice(nce(i))).forEach(i=>e[i]=void 0);const s={props(){const i={};return di.ALL_PROPERTIES.forEach(o=>{var r;this[o]!==di.VUE_OMITTED_PROPERTY&&(o in this||o in this.gridOptions)&&(i[o]=(r=this[o])!=null?r:this.gridOptions[o])}),i}},n={modelValue:{handler(i,o){!this.gridCreated||!this.api||i!==o&&(i&&o&&i.length===o.length&&i.every((r,l)=>r===o[l])||di.processOnChange({rowData:i},this.api))},deep:!0},props:{handler(i,o){if(!this.gridCreated||!this.api)return;const r={};Object.entries(i).forEach(([l,a])=>{o[l]!==a&&(r[l]=a)}),di.processOnChange(r,this.api)},deep:!0}};return di.ALL_PROPERTIES.filter(i=>i!="gridOptions").forEach(i=>{e[i]={default:di.VUE_OMITTED_PROPERTY}}),[e,s,n]},cy=class cL{static getComponentDefinition(t,s){let n;return typeof t=="string"?n=this.searchForComponentInstance(s,t):n={extends:j(Sl({},t))},n||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),n.extends?(n.extends.setup&&(n.setup=n.extends.setup),n.extends.props=this.addParamsToProps(n.extends.props)):n.props=this.addParamsToProps(n.props),n}static addParamsToProps(t){return!t||Array.isArray(t)&&t.indexOf("params")===-1?t=["params",...t||[]]:typeof t=="object"&&!t.params&&(t.params={type:Object}),t}static createAndMountComponent(t,s,n,i){const o=cL.getComponentDefinition(t,n);if(!o)return;const{vNode:r,destroy:l,el:a}=this.mount(o,{params:Object.freeze(s)},n,i||{});return{componentInstance:r.component.proxy,element:a,destroy:l}}static mount(t,s,n,i){let o=q(t,s);o.appContext=n.$.appContext,o.appContext.provides=Sl(Sl(Sl({},i),o.appContext.provides?o.appContext.provides:{}),n.$parent.$options.provide?n.$parent.$options.provide:{});let r=document.createElement("div");return po(o,r),{vNode:o,destroy:()=>{r&&po(null,r),r=null,o=null},el:r}}static searchForComponentInstance(t,s,n=10,i=!1){let o=null,r=t.$parent,l=0;for(;!o&&r&&r.$options&&++l<n;){const a=r;a.$options&&a.$options.components&&a.$options.components[s]?o=a.$options.components[s]:a[s]&&(o=a[s]),r=r.$parent}if(!o){const a=t.$.appContext.components;a&&a[s]&&(o=a[s])}return!o&&!i?(console.error(`Could not find component with name of ${s}. Is it in Vue.components?`),null):o}},rce=class jp extends Lue{constructor(t,s){super(),this.parent=t,jp.provides||(jp.provides=s)}createWrapper(t){const s=this;class n extends lce{init(r){super.init(r)}hasMethod(r){const l=i.getFrameworkComponentInstance();return l[r]?!0:l.$.setupState[r]!=null}callMethod(r,l){var a;const c=this.getFrameworkComponentInstance(),h=i.getFrameworkComponentInstance();return h[r]?h[r].apply(c,l):(a=h.$.setupState[r])==null?void 0:a.apply(c,l)}addMethod(r,l){i[r]=l}overrideProcessing(r){return s.parent.autoParamsRefresh&&r==="refresh"}processMethod(r,l){return r==="refresh"&&(this.getFrameworkComponentInstance().params=l[0]),this.hasMethod(r)?this.callMethod(r,l):r==="refresh"}createComponent(r){return s.createComponent(t,r)}}const i=new n;return i}createComponent(t,s){return cy.createAndMountComponent(t,s,this.parent,jp.provides)}createMethodProxy(t,s,n){return function(){return t.overrideProcessing(s)?t.processMethod(s,arguments):t.hasMethod(s)?t.callMethod(s,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+s+"()"),null)}}destroy(){this.parent=null}},lce=class{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){var t;const{componentInstance:s,element:n,destroy:i}=this.createComponent(e);this.componentInstance=s,this.unmount=i,this.element=(t=n.firstElementChild)!=null?t:n}},ace=class extends nL{constructor(e){super("vue"),this.parent=e}frameworkComponent(e,t){let s=cy.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!s&&t&&t[e]){const n=t[e];s=cy.searchForComponentInstance(this.parent,n,10,!0)?n:null}return s}isFrameworkComponent(e){return typeof e=="object"}},uce=new Set(["rowDataUpdated","cellValueChanged","rowValueChanged"]),cce=new Set([M.EVENT_GRID_PRE_DESTROYED]),hT="onUpdate:modelValue",dce="update:modelValue",[hce,pce,fce]=oce(),gce=j({render(){return Qe("div")},props:Sl({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},hce),data(){return{api:void 0,gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},computed:pce,watch:fce,methods:{globalEventListenerFactory(e){return(t,s)=>{if(this.isDestroyed)return;t==="gridReady"&&(this.gridReadyFired=!0);const n=cce.has(t);n&&!e||!n&&e||this.updateModelIfUsed(t)}},processChanges(e,t,s){if(this.gridCreated){if(this.skipChange(e,t,s))return;const n={[e]:e==="rowData"?Object.isFrozen(t)?t:fv(Kp(t)):t};di.processOnChange(n,this.api)}},checkForBindingConflicts(){const e=this;(e.rowData||this.gridOptions.rowData)&&e.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){var e;const t=[];return(e=this.api)==null||e.forEachNode(s=>{t.push(s.data)}),t},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[hT]&&uce.has(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=ct(),t={};for(;e;)e&&e.provides&&(t=Sl(Sl({},t),e.provides)),e=e.parent;return t},skipChange(e,t,s){if(this.gridReadyFired&&e==="rowData"&&this.$attrs[hT]){if(t===s)return!0;if(t&&s){const n=t,i=s;if(n.length===i.length){for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}}}return!1},debounce(e,t){let s;return()=>{const n=function(){e()};window.clearTimeout(s),s=window.setTimeout(n,t)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(dce,Object.freeze(this.getRowData()))},20);const e=this.getProvides(),t=new rce(this,e),s=fv(di.combineAttributesAndGridOptions(Kp(this.gridOptions),this));this.checkForBindingConflicts();const n=this.getRowDataBasedOnBindings();n!==di.VUE_OMITTED_PROPERTY&&(s.rowData=n&&(Object.isFrozen(n)?n:fv(Kp(n))));const i={globalEventListener:this.globalEventListenerFactory().bind(this),globalSyncEventListener:this.globalEventListenerFactory(!0).bind(this),frameworkOverrides:new ace(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};this.api=Mue(this.$el,s,i),this.gridCreated=!0},unmounted(){var e;this.gridCreated&&((e=this.api)==null||e.destroy(),this.isDestroyed=!0)}});/*! Bundled license information:

@vue/shared/dist/shared.esm-bundler.js:
  (**
  * @vue/shared v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/reactivity/dist/reactivity.esm-bundler.js:
  (**
  * @vue/reactivity v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/const mce={__name:"ButtonRenderer",setup(e){function t(s){console.log(s)}return(s,n)=>{const i=pt("el-button");return D(),re(i,{type:"primary",onClick:n[0]||(n[0]=o=>t(s.params))},{default:Z(()=>[_t("")]),_:1})}}},vce=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},Cce={__name:"grid",setup(e){const t=L([{make:"123",bz:"Toyota",kcbm:"Celica",kc:35e3,pz:35e3,pf:35e3,ls:35e3,ck:35e3},{make:"123",bz:"Toyota",kcbm:"Celica",kc:35e3,pz:35e3,pf:35e3,ls:35e3,ck:35e3},{make:"123",bz:"Toyota",kcbm:"Celica",kc:35e3,pz:35e3,pf:35e3,ls:35e3,ck:35e3},{make:"123",bz:"Toyota",kcbm:"Celica",kc:35e3,pz:35e3,pf:35e3,ls:35e3,ck:35e3}]),s=L([{headerName:"",cellEditor:"agRichSelectCellEditor",field:"make",editable:!0,cellEditor:"agSelectCellEditor",cellEditorParams:{values:["","","",""]}},{headerName:"OE",field:"bz"},{headerName:"",field:"kcbm"},{headerName:"",field:"kc"},{headerName:"",field:"pz"},{headerName:"",field:"pf"},{headerName:"",field:"ls"},{headerName:"",field:"ck"},{headerName:"",cellRenderer:mce}]);return(n,i)=>(D(),re(u(gce),{rowData:t.value,columnDefs:s.value,class:"grid ag-theme-quartz"},null,8,["rowData","columnDefs"]))}},yce=vce(Cce,[["__scopeId","data-v-cba2cb31"]]),wce={__name:"App",setup(e){return(t,s)=>(D(),re(yce))}};OD(wce).use(Ire).mount("#app")});export default bce();
